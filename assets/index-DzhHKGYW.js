(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();function oO(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var aw={exports:{}},Tg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JI;function $W(){if(JI)return Tg;JI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,n,r){var o=null;if(r!==void 0&&(o=""+r),n.key!==void 0&&(o=""+n.key),"key"in n){r={};for(var a in n)a!=="key"&&(r[a]=n[a])}else r=n;return n=r.ref,{$$typeof:e,type:s,key:o,ref:n!==void 0?n:null,props:r}}return Tg.Fragment=t,Tg.jsx=i,Tg.jsxs=i,Tg}var eL;function XW(){return eL||(eL=1,aw.exports=$W()),aw.exports}var Ke=XW(),lw={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tL;function ZW(){if(tL)return xt;tL=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=f&&z[f]||z["@@iterator"],typeof z=="function"?z:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,C={};function x(z,ee,O){this.props=z,this.context=ee,this.refs=C,this.updater=O||m}x.prototype.isReactComponent={},x.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function b(){}b.prototype=x.prototype;function w(z,ee,O){this.props=z,this.context=ee,this.refs=C,this.updater=O||m}var M=w.prototype=new b;M.constructor=w,y(M,x.prototype),M.isPureReactComponent=!0;var A=Array.isArray,T={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function R(z,ee,O,j,H,K){return O=K.ref,{$$typeof:e,type:z,key:ee,ref:O!==void 0?O:null,props:K}}function F(z,ee){return R(z.type,ee,void 0,void 0,void 0,z.props)}function I(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function N(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(O){return ee[O]})}var G=/\/+/g;function V(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?N(""+z.key):ee.toString(36)}function Q(){}function pe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(Q,Q):(z.status="pending",z.then(function(ee){z.status==="pending"&&(z.status="fulfilled",z.value=ee)},function(ee){z.status==="pending"&&(z.status="rejected",z.reason=ee)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function ae(z,ee,O,j,H){var K=typeof z;(K==="undefined"||K==="boolean")&&(z=null);var ne=!1;if(z===null)ne=!0;else switch(K){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(z.$$typeof){case e:case t:ne=!0;break;case h:return ne=z._init,ae(ne(z._payload),ee,O,j,H)}}if(ne)return H=H(z),ne=j===""?"."+V(z,0):j,A(H)?(O="",ne!=null&&(O=ne.replace(G,"$&/")+"/"),ae(H,ee,O,"",function(ue){return ue})):H!=null&&(I(H)&&(H=F(H,O+(H.key==null||z&&z.key===H.key?"":(""+H.key).replace(G,"$&/")+"/")+ne)),ee.push(H)),1;ne=0;var ge=j===""?".":j+":";if(A(z))for(var ce=0;ce<z.length;ce++)j=z[ce],K=ge+V(j,ce),ne+=ae(j,ee,O,K,H);else if(ce=g(z),typeof ce=="function")for(z=ce.call(z),ce=0;!(j=z.next()).done;)j=j.value,K=ge+V(j,ce++),ne+=ae(j,ee,O,K,H);else if(K==="object"){if(typeof z.then=="function")return ae(pe(z),ee,O,j,H);throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ne}function se(z,ee,O){if(z==null)return z;var j=[],H=0;return ae(z,j,"","",function(K){return ee.call(O,K,H++)}),j}function le(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(O){(z._status===0||z._status===-1)&&(z._status=1,z._result=O)},function(O){(z._status===0||z._status===-1)&&(z._status=2,z._result=O)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var re=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function J(){}return xt.Children={map:se,forEach:function(z,ee,O){se(z,function(){ee.apply(this,arguments)},O)},count:function(z){var ee=0;return se(z,function(){ee++}),ee},toArray:function(z){return se(z,function(ee){return ee})||[]},only:function(z){if(!I(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},xt.Component=x,xt.Fragment=i,xt.Profiler=n,xt.PureComponent=w,xt.StrictMode=s,xt.Suspense=l,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,xt.act=function(){throw Error("act(...) is not supported in production builds of React.")},xt.cache=function(z){return function(){return z.apply(null,arguments)}},xt.cloneElement=function(z,ee,O){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var j=y({},z.props),H=z.key,K=void 0;if(ee!=null)for(ne in ee.ref!==void 0&&(K=void 0),ee.key!==void 0&&(H=""+ee.key),ee)!k.call(ee,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&ee.ref===void 0||(j[ne]=ee[ne]);var ne=arguments.length-2;if(ne===1)j.children=O;else if(1<ne){for(var ge=Array(ne),ce=0;ce<ne;ce++)ge[ce]=arguments[ce+2];j.children=ge}return R(z.type,H,void 0,void 0,K,j)},xt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:r,_context:z},z},xt.createElement=function(z,ee,O){var j,H={},K=null;if(ee!=null)for(j in ee.key!==void 0&&(K=""+ee.key),ee)k.call(ee,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(H[j]=ee[j]);var ne=arguments.length-2;if(ne===1)H.children=O;else if(1<ne){for(var ge=Array(ne),ce=0;ce<ne;ce++)ge[ce]=arguments[ce+2];H.children=ge}if(z&&z.defaultProps)for(j in ne=z.defaultProps,ne)H[j]===void 0&&(H[j]=ne[j]);return R(z,K,void 0,void 0,null,H)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(z){return{$$typeof:a,render:z}},xt.isValidElement=I,xt.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:le}},xt.memo=function(z,ee){return{$$typeof:u,type:z,compare:ee===void 0?null:ee}},xt.startTransition=function(z){var ee=T.T,O={};T.T=O;try{var j=z(),H=T.S;H!==null&&H(O,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(J,re)}catch(K){re(K)}finally{T.T=ee}},xt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},xt.use=function(z){return T.H.use(z)},xt.useActionState=function(z,ee,O){return T.H.useActionState(z,ee,O)},xt.useCallback=function(z,ee){return T.H.useCallback(z,ee)},xt.useContext=function(z){return T.H.useContext(z)},xt.useDebugValue=function(){},xt.useDeferredValue=function(z,ee){return T.H.useDeferredValue(z,ee)},xt.useEffect=function(z,ee){return T.H.useEffect(z,ee)},xt.useId=function(){return T.H.useId()},xt.useImperativeHandle=function(z,ee,O){return T.H.useImperativeHandle(z,ee,O)},xt.useInsertionEffect=function(z,ee){return T.H.useInsertionEffect(z,ee)},xt.useLayoutEffect=function(z,ee){return T.H.useLayoutEffect(z,ee)},xt.useMemo=function(z,ee){return T.H.useMemo(z,ee)},xt.useOptimistic=function(z,ee){return T.H.useOptimistic(z,ee)},xt.useReducer=function(z,ee,O){return T.H.useReducer(z,ee,O)},xt.useRef=function(z){return T.H.useRef(z)},xt.useState=function(z){return T.H.useState(z)},xt.useSyncExternalStore=function(z,ee,O){return T.H.useSyncExternalStore(z,ee,O)},xt.useTransition=function(){return T.H.useTransition()},xt.version="19.0.0",xt}var iL;function BC(){return iL||(iL=1,lw.exports=ZW()),lw.exports}var B=BC();const ke=oO(B);var cw={exports:{}},Rg={},uw={exports:{}},hw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sL;function qW(){return sL||(sL=1,function(e){function t(se,le){var re=se.length;se.push(le);e:for(;0<re;){var J=re-1>>>1,z=se[J];if(0<n(z,le))se[J]=le,se[re]=z,re=J;else break e}}function i(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var le=se[0],re=se.pop();if(re!==le){se[0]=re;e:for(var J=0,z=se.length,ee=z>>>1;J<ee;){var O=2*(J+1)-1,j=se[O],H=O+1,K=se[H];if(0>n(j,re))H<z&&0>n(K,j)?(se[J]=K,se[H]=re,J=H):(se[J]=j,se[O]=re,J=O);else if(H<z&&0>n(K,re))se[J]=K,se[H]=re,J=H;else break e}}return le}function n(se,le){var re=se.sortIndex-le.sortIndex;return re!==0?re:se.id-le.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,g=3,m=!1,y=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function M(se){for(var le=i(u);le!==null;){if(le.callback===null)s(u);else if(le.startTime<=se)s(u),le.sortIndex=le.expirationTime,t(l,le);else break;le=i(u)}}function A(se){if(C=!1,M(se),!y)if(i(l)!==null)y=!0,pe();else{var le=i(u);le!==null&&ae(A,le.startTime-se)}}var T=!1,k=-1,R=5,F=-1;function I(){return!(e.unstable_now()-F<R)}function N(){if(T){var se=e.unstable_now();F=se;var le=!0;try{e:{y=!1,C&&(C=!1,b(k),k=-1),m=!0;var re=g;try{t:{for(M(se),f=i(l);f!==null&&!(f.expirationTime>se&&I());){var J=f.callback;if(typeof J=="function"){f.callback=null,g=f.priorityLevel;var z=J(f.expirationTime<=se);if(se=e.unstable_now(),typeof z=="function"){f.callback=z,M(se),le=!0;break t}f===i(l)&&s(l),M(se)}else s(l);f=i(l)}if(f!==null)le=!0;else{var ee=i(u);ee!==null&&ae(A,ee.startTime-se),le=!1}}break e}finally{f=null,g=re,m=!1}le=void 0}}finally{le?G():T=!1}}}var G;if(typeof w=="function")G=function(){w(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=N,G=function(){Q.postMessage(null)}}else G=function(){x(N,0)};function pe(){T||(T=!0,G())}function ae(se,le){k=x(function(){se(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,pe())},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return i(l)},e.unstable_next=function(se){switch(g){case 1:case 2:case 3:var le=3;break;default:le=g}var re=g;g=le;try{return se()}finally{g=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(se,le){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var re=g;g=se;try{return le()}finally{g=re}},e.unstable_scheduleCallback=function(se,le,re){var J=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?J+re:J):re=J,se){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=re+z,se={id:h++,callback:le,priorityLevel:se,startTime:re,expirationTime:z,sortIndex:-1},re>J?(se.sortIndex=re,t(u,se),i(l)===null&&se===i(u)&&(C?(b(k),k=-1):C=!0,ae(A,re-J))):(se.sortIndex=z,t(l,se),y||m||(y=!0,pe())),se},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(se){var le=g;return function(){var re=g;g=le;try{return se.apply(this,arguments)}finally{g=re}}}}(hw)),hw}var nL;function QW(){return nL||(nL=1,uw.exports=qW()),uw.exports}var dw={exports:{}},Us={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rL;function JW(){if(rL)return Us;rL=1;var e=BC();function t(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},n=Symbol.for("react.portal");function r(l,u,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:f==null?null:""+f,children:l,containerInfo:u,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Us.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Us.createPortal=function(l,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return r(l,u,null,h)},Us.flushSync=function(l){var u=o.T,h=s.p;try{if(o.T=null,s.p=2,l)return l()}finally{o.T=u,s.p=h,s.d.f()}},Us.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,s.d.C(l,u))},Us.prefetchDNS=function(l){typeof l=="string"&&s.d.D(l)},Us.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var h=u.as,f=a(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?s.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:m}):h==="script"&&s.d.X(l,{crossOrigin:f,integrity:g,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Us.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=a(u.as,u.crossOrigin);s.d.M(l,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&s.d.M(l)},Us.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,f=a(h,u.crossOrigin);s.d.L(l,h,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Us.preloadModule=function(l,u){if(typeof l=="string")if(u){var h=a(u.as,u.crossOrigin);s.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else s.d.m(l)},Us.requestFormReset=function(l){s.d.r(l)},Us.unstable_batchedUpdates=function(l,u){return l(u)},Us.useFormState=function(l,u,h){return o.H.useFormState(l,u,h)},Us.useFormStatus=function(){return o.H.useHostTransitionStatus()},Us.version="19.0.0",Us}var oL;function aO(){if(oL)return dw.exports;oL=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dw.exports=JW(),dw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aL;function e5(){if(aL)return Rg;aL=1;var e=QW(),t=BC(),i=aO();function s(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}var r=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),A=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function k(c){return c===null||typeof c!="object"?null:(c=T&&c[T]||c["@@iterator"],typeof c=="function"?c:null)}var R=Symbol.for("react.client.reference");function F(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===R?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case l:return"Fragment";case a:return"Portal";case h:return"Profiler";case u:return"StrictMode";case C:return"Suspense";case x:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case m:return(c.displayName||"Context")+".Provider";case g:return(c._context.displayName||"Context")+".Consumer";case y:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case b:return d=c.displayName||null,d!==null?d:F(c.type)||"Memo";case w:d=c._payload,c=c._init;try{return F(c(d))}catch{}}return null}var I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,G,V;function Q(c){if(G===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);G=d&&d[1]||"",V=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+G+c+V}var pe=!1;function ae(c,d){if(!c||pe)return"";pe=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(d){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(De){var be=De}Reflect.construct(c,[],Re)}else{try{Re.call()}catch(De){be=De}c.call(Re.prototype)}}else{try{throw Error()}catch(De){be=De}(Re=c())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(De){if(De&&be&&typeof De.stack=="string")return[De.stack,be.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=v.DetermineComponentFrameRoot(),P=D[0],W=D[1];if(P&&W){var ie=P.split(`
`),he=W.split(`
`);for(S=v=0;v<ie.length&&!ie[v].includes("DetermineComponentFrameRoot");)v++;for(;S<he.length&&!he[S].includes("DetermineComponentFrameRoot");)S++;if(v===ie.length||S===he.length)for(v=ie.length-1,S=he.length-1;1<=v&&0<=S&&ie[v]!==he[S];)S--;for(;1<=v&&0<=S;v--,S--)if(ie[v]!==he[S]){if(v!==1||S!==1)do if(v--,S--,0>S||ie[v]!==he[S]){var Ee=`
`+ie[v].replace(" at new "," at ");return c.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",c.displayName)),Ee}while(1<=v&&0<=S);break}}}finally{pe=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?Q(p):""}function se(c){switch(c.tag){case 26:case 27:case 5:return Q(c.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return c=ae(c.type,!1),c;case 11:return c=ae(c.type.render,!1),c;case 1:return c=ae(c.type,!0),c;default:return""}}function le(c){try{var d="";do d+=se(c),c=c.return;while(c);return d}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function re(c){var d=c,p=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(p=d.return),c=d.return;while(c)}return d.tag===3?p:null}function J(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function z(c){if(re(c)!==c)throw Error(s(188))}function ee(c){var d=c.alternate;if(!d){if(d=re(c),d===null)throw Error(s(188));return d!==c?null:c}for(var p=c,v=d;;){var S=p.return;if(S===null)break;var D=S.alternate;if(D===null){if(v=S.return,v!==null){p=v;continue}break}if(S.child===D.child){for(D=S.child;D;){if(D===p)return z(S),c;if(D===v)return z(S),d;D=D.sibling}throw Error(s(188))}if(p.return!==v.return)p=S,v=D;else{for(var P=!1,W=S.child;W;){if(W===p){P=!0,p=S,v=D;break}if(W===v){P=!0,v=S,p=D;break}W=W.sibling}if(!P){for(W=D.child;W;){if(W===p){P=!0,p=D,v=S;break}if(W===v){P=!0,v=D,p=S;break}W=W.sibling}if(!P)throw Error(s(189))}}if(p.alternate!==v)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?c:d}function O(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=O(c),d!==null)return d;c=c.sibling}return null}var j=Array.isArray,H=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ne=[],ge=-1;function ce(c){return{current:c}}function ue(c){0>ge||(c.current=ne[ge],ne[ge]=null,ge--)}function de(c,d){ge++,ne[ge]=c.current,c.current=d}var Le=ce(null),X=ce(null),ze=ce(null),_e=ce(null);function je(c,d){switch(de(ze,d),de(X,c),de(Le,null),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)&&(d=d.namespaceURI)?TI(d):0;break;default:if(c=c===8?d.parentNode:d,d=c.tagName,c=c.namespaceURI)c=TI(c),d=RI(c,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}ue(Le),de(Le,d)}function Ue(){ue(Le),ue(X),ue(ze)}function we(c){c.memoizedState!==null&&de(_e,c);var d=Le.current,p=RI(d,c.type);d!==p&&(de(X,c),de(Le,p))}function qe(c){X.current===c&&(ue(Le),ue(X)),_e.current===c&&(ue(_e),wg._currentValue=K)}var ht=Object.prototype.hasOwnProperty,rt=e.unstable_scheduleCallback,st=e.unstable_cancelCallback,Xt=e.unstable_shouldYield,qt=e.unstable_requestPaint,Lt=e.unstable_now,cs=e.unstable_getCurrentPriorityLevel,Vs=e.unstable_ImmediatePriority,no=e.unstable_UserBlockingPriority,pt=e.unstable_NormalPriority,li=e.unstable_LowPriority,vt=e.unstable_IdlePriority,Si=e.log,Pn=e.unstable_setDisableYieldValue,pi=null,Hi=null;function n0(c){if(Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(pi,c,void 0,(c.current.flags&128)===128)}catch{}}function No(c){if(typeof Si=="function"&&Pn(c),Hi&&typeof Hi.setStrictMode=="function")try{Hi.setStrictMode(pi,c)}catch{}}var un=Math.clz32?Math.clz32:a0,r0=Math.log,o0=Math.LN2;function a0(c){return c>>>=0,c===0?32:31-(r0(c)/o0|0)|0}var Dh=128,Ah=4194304;function pr(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Eh(c,d){var p=c.pendingLanes;if(p===0)return 0;var v=0,S=c.suspendedLanes,D=c.pingedLanes,P=c.warmLanes;c=c.finishedLanes!==0;var W=p&134217727;return W!==0?(p=W&~S,p!==0?v=pr(p):(D&=W,D!==0?v=pr(D):c||(P=W&~P,P!==0&&(v=pr(P))))):(W=p&~S,W!==0?v=pr(W):D!==0?v=pr(D):c||(P=p&~P,P!==0&&(v=pr(P)))),v===0?0:d!==0&&d!==v&&(d&S)===0&&(S=v&-v,P=d&-d,S>=P||S===32&&(P&4194176)!==0)?d:v}function zc(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function sb(c,d){switch(c){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l0(){var c=Dh;return Dh<<=1,(Dh&4194176)===0&&(Dh=128),c}function c0(){var c=Ah;return Ah<<=1,(Ah&62914560)===0&&(Ah=4194304),c}function Of(c){for(var d=[],p=0;31>p;p++)d.push(c);return d}function Hc(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function nb(c,d,p,v,S,D){var P=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var W=c.entanglements,ie=c.expirationTimes,he=c.hiddenUpdates;for(p=P&~p;0<p;){var Ee=31-un(p),Re=1<<Ee;W[Ee]=0,ie[Ee]=-1;var be=he[Ee];if(be!==null)for(he[Ee]=null,Ee=0;Ee<be.length;Ee++){var De=be[Ee];De!==null&&(De.lane&=-536870913)}p&=~Re}v!==0&&Th(c,v,0),D!==0&&S===0&&c.tag!==0&&(c.suspendedLanes|=D&~(P&~d))}function Th(c,d,p){c.pendingLanes|=d,c.suspendedLanes&=~d;var v=31-un(d);c.entangledLanes|=d,c.entanglements[v]=c.entanglements[v]|1073741824|p&4194218}function u0(c,d){var p=c.entangledLanes|=d;for(c=c.entanglements;p;){var v=31-un(p),S=1<<v;S&d|c[v]&d&&(c[v]|=d),p&=~S}}function h0(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function d0(){var c=H.p;return c!==0?c:(c=window.event,c===void 0?32:KI(c.type))}function _(c,d){var p=H.p;try{return H.p=c,d()}finally{H.p=p}}var Z=Math.random().toString(36).slice(2),U="__reactFiber$"+Z,Y="__reactProps$"+Z,q="__reactContainer$"+Z,te="__reactEvents$"+Z,Ce="__reactListeners$"+Z,Ae="__reactHandles$"+Z,ye="__reactResources$"+Z,ve="__reactMarker$"+Z;function xe(c){delete c[U],delete c[Y],delete c[te],delete c[Ce],delete c[Ae]}function Ie(c){var d=c[U];if(d)return d;for(var p=c.parentNode;p;){if(d=p[q]||p[U]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(c=LI(c);c!==null;){if(p=c[U])return p;c=LI(c)}return d}c=p,p=c.parentNode}return null}function Ge(c){if(c=c[U]||c[q]){var d=c.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return c}return null}function Ye(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(s(33))}function Oe(c){var d=c[ye];return d||(d=c[ye]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Be(c){c[ve]=!0}var gt=new Set,ci={};function Ut(c,d){wi(c,d),wi(c+"Capture",d)}function wi(c,d){for(ci[c]=d,c=0;c<d.length;c++)gt.add(d[c])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},_o={};function Nf(c){return ht.call(_o,c)?!0:ht.call(Tl,c)?!1:Vc.test(c)?_o[c]=!0:(Tl[c]=!0,!1)}function On(c,d,p){if(Nf(d))if(p===null)c.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var v=d.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+p)}}function f0(c,d,p){if(p===null)c.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+p)}}function va(c,d,p,v){if(v===null)c.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(d,p,""+v)}}function mr(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function IT(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function WH(c){var d=IT(c)?"checked":"value",p=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),v=""+c[d];if(!c.hasOwnProperty(d)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var S=p.get,D=p.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return S.call(this)},set:function(P){v=""+P,D.call(this,P)}}),Object.defineProperty(c,d,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(P){v=""+P},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function g0(c){c._valueTracker||(c._valueTracker=WH(c))}function LT(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var p=d.getValue(),v="";return c&&(v=IT(c)?c.checked?"true":"false":c.value),c=v,c!==p?(d.setValue(c),!0):!1}function p0(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var UH=/[\n"\\]/g;function yr(c){return c.replace(UH,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function rb(c,d,p,v,S,D,P,W){c.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?c.type=P:c.removeAttribute("type"),d!=null?P==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+mr(d)):c.value!==""+mr(d)&&(c.value=""+mr(d)):P!=="submit"&&P!=="reset"||c.removeAttribute("value"),d!=null?ob(c,P,mr(d)):p!=null?ob(c,P,mr(p)):v!=null&&c.removeAttribute("value"),S==null&&D!=null&&(c.defaultChecked=!!D),S!=null&&(c.checked=S&&typeof S!="function"&&typeof S!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?c.name=""+mr(W):c.removeAttribute("name")}function FT(c,d,p,v,S,D,P,W){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(c.type=D),d!=null||p!=null){if(!(D!=="submit"&&D!=="reset"||d!=null))return;p=p!=null?""+mr(p):"",d=d!=null?""+mr(d):p,W||d===c.value||(c.value=d),c.defaultValue=d}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,c.checked=W?c.checked:!!v,c.defaultChecked=!!v,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(c.name=P)}function ob(c,d,p){d==="number"&&p0(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function Rh(c,d,p,v){if(c=c.options,d){d={};for(var S=0;S<p.length;S++)d["$"+p[S]]=!0;for(p=0;p<c.length;p++)S=d.hasOwnProperty("$"+c[p].value),c[p].selected!==S&&(c[p].selected=S),S&&v&&(c[p].defaultSelected=!0)}else{for(p=""+mr(p),d=null,S=0;S<c.length;S++){if(c[S].value===p){c[S].selected=!0,v&&(c[S].defaultSelected=!0);return}d!==null||c[S].disabled||(d=c[S])}d!==null&&(d.selected=!0)}}function PT(c,d,p){if(d!=null&&(d=""+mr(d),d!==c.value&&(c.value=d),p==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=p!=null?""+mr(p):""}function OT(c,d,p,v){if(d==null){if(v!=null){if(p!=null)throw Error(s(92));if(j(v)){if(1<v.length)throw Error(s(93));v=v[0]}p=v}p==null&&(p=""),d=p}p=mr(d),c.defaultValue=p,v=c.textContent,v===p&&v!==""&&v!==null&&(c.value=v)}function kh(c,d){if(d){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=d;return}}c.textContent=d}var jH=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function NT(c,d,p){var v=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":v?c.setProperty(d,p):typeof p!="number"||p===0||jH.has(d)?d==="float"?c.cssFloat=p:c[d]=(""+p).trim():c[d]=p+"px"}function _T(c,d,p){if(d!=null&&typeof d!="object")throw Error(s(62));if(c=c.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||d!=null&&d.hasOwnProperty(v)||(v.indexOf("--")===0?c.setProperty(v,""):v==="float"?c.cssFloat="":c[v]="");for(var S in d)v=d[S],d.hasOwnProperty(S)&&p[S]!==v&&NT(c,S,v)}else for(var D in d)d.hasOwnProperty(D)&&NT(c,D,d[D])}function ab(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YH=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),KH=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function m0(c){return KH.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var lb=null;function cb(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ih=null,Lh=null;function BT(c){var d=Ge(c);if(d&&(c=d.stateNode)){var p=c[Y]||null;e:switch(c=d.stateNode,d.type){case"input":if(rb(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+yr(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var v=p[d];if(v!==c&&v.form===c.form){var S=v[Y]||null;if(!S)throw Error(s(90));rb(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(d=0;d<p.length;d++)v=p[d],v.form===c.form&&LT(v)}break e;case"textarea":PT(c,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&Rh(c,!!p.multiple,d,!1)}}}var ub=!1;function GT(c,d,p){if(ub)return c(d,p);ub=!0;try{var v=c(d);return v}finally{if(ub=!1,(Ih!==null||Lh!==null)&&(J0(),Ih&&(d=Ih,c=Lh,Lh=Ih=null,BT(d),c)))for(d=0;d<c.length;d++)BT(c[d])}}function _f(c,d){var p=c.stateNode;if(p===null)return null;var v=p[Y]||null;if(v===null)return null;p=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(c=c.type,v=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!v;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(s(231,d,typeof p));return p}var hb=!1;if(hn)try{var Bf={};Object.defineProperty(Bf,"passive",{get:function(){hb=!0}}),window.addEventListener("test",Bf,Bf),window.removeEventListener("test",Bf,Bf)}catch{hb=!1}var Rl=null,db=null,y0=null;function zT(){if(y0)return y0;var c,d=db,p=d.length,v,S="value"in Rl?Rl.value:Rl.textContent,D=S.length;for(c=0;c<p&&d[c]===S[c];c++);var P=p-c;for(v=1;v<=P&&d[p-v]===S[D-v];v++);return y0=S.slice(c,1<v?1-v:void 0)}function v0(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function C0(){return!0}function HT(){return!1}function Nn(c){function d(p,v,S,D,P){this._reactName=p,this._targetInst=S,this.type=v,this.nativeEvent=D,this.target=P,this.currentTarget=null;for(var W in c)c.hasOwnProperty(W)&&(p=c[W],this[W]=p?p(D):D[W]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?C0:HT,this.isPropagationStopped=HT,this}return N(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=C0)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=C0)},persist:function(){},isPersistent:C0}),d}var Wc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x0=Nn(Wc),Gf=N({},Wc,{view:0,detail:0}),$H=Nn(Gf),fb,gb,zf,b0=N({},Gf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mb,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==zf&&(zf&&c.type==="mousemove"?(fb=c.screenX-zf.screenX,gb=c.screenY-zf.screenY):gb=fb=0,zf=c),fb)},movementY:function(c){return"movementY"in c?c.movementY:gb}}),VT=Nn(b0),XH=N({},b0,{dataTransfer:0}),ZH=Nn(XH),qH=N({},Gf,{relatedTarget:0}),pb=Nn(qH),QH=N({},Wc,{animationName:0,elapsedTime:0,pseudoElement:0}),JH=Nn(QH),eV=N({},Wc,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),tV=Nn(eV),iV=N({},Wc,{data:0}),WT=Nn(iV),sV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oV(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=rV[c])?!!d[c]:!1}function mb(){return oV}var aV=N({},Gf,{key:function(c){if(c.key){var d=sV[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=v0(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?nV[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mb,charCode:function(c){return c.type==="keypress"?v0(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?v0(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),lV=Nn(aV),cV=N({},b0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UT=Nn(cV),uV=N({},Gf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mb}),hV=Nn(uV),dV=N({},Wc,{propertyName:0,elapsedTime:0,pseudoElement:0}),fV=Nn(dV),gV=N({},b0,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),pV=Nn(gV),mV=N({},Wc,{newState:0,oldState:0}),yV=Nn(mV),vV=[9,13,27,32],yb=hn&&"CompositionEvent"in window,Hf=null;hn&&"documentMode"in document&&(Hf=document.documentMode);var CV=hn&&"TextEvent"in window&&!Hf,jT=hn&&(!yb||Hf&&8<Hf&&11>=Hf),YT=" ",KT=!1;function $T(c,d){switch(c){case"keyup":return vV.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XT(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Fh=!1;function xV(c,d){switch(c){case"compositionend":return XT(d);case"keypress":return d.which!==32?null:(KT=!0,YT);case"textInput":return c=d.data,c===YT&&KT?null:c;default:return null}}function bV(c,d){if(Fh)return c==="compositionend"||!yb&&$T(c,d)?(c=zT(),y0=db=Rl=null,Fh=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return jT&&d.locale!=="ko"?null:d.data;default:return null}}var SV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZT(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!SV[c.type]:d==="textarea"}function qT(c,d,p,v){Ih?Lh?Lh.push(v):Lh=[v]:Ih=v,d=ny(d,"onChange"),0<d.length&&(p=new x0("onChange","change",null,p,v),c.push({event:p,listeners:d}))}var Vf=null,Wf=null;function wV(c){wI(c,0)}function S0(c){var d=Ye(c);if(LT(d))return c}function QT(c,d){if(c==="change")return d}var JT=!1;if(hn){var vb;if(hn){var Cb="oninput"in document;if(!Cb){var eR=document.createElement("div");eR.setAttribute("oninput","return;"),Cb=typeof eR.oninput=="function"}vb=Cb}else vb=!1;JT=vb&&(!document.documentMode||9<document.documentMode)}function tR(){Vf&&(Vf.detachEvent("onpropertychange",iR),Wf=Vf=null)}function iR(c){if(c.propertyName==="value"&&S0(Wf)){var d=[];qT(d,Wf,c,cb(c)),GT(wV,d)}}function MV(c,d,p){c==="focusin"?(tR(),Vf=d,Wf=p,Vf.attachEvent("onpropertychange",iR)):c==="focusout"&&tR()}function DV(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return S0(Wf)}function AV(c,d){if(c==="click")return S0(d)}function EV(c,d){if(c==="input"||c==="change")return S0(d)}function TV(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Zn=typeof Object.is=="function"?Object.is:TV;function Uf(c,d){if(Zn(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var p=Object.keys(c),v=Object.keys(d);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var S=p[v];if(!ht.call(d,S)||!Zn(c[S],d[S]))return!1}return!0}function sR(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function nR(c,d){var p=sR(c);c=0;for(var v;p;){if(p.nodeType===3){if(v=c+p.textContent.length,c<=d&&v>=d)return{node:p,offset:d-c};c=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=sR(p)}}function rR(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?rR(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function oR(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=p0(c.document);d instanceof c.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)c=d.contentWindow;else break;d=p0(c.document)}return d}function xb(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function RV(c,d){var p=oR(d);d=c.focusedElem;var v=c.selectionRange;if(p!==d&&d&&d.ownerDocument&&rR(d.ownerDocument.documentElement,d)){if(v!==null&&xb(d)){if(c=v.start,p=v.end,p===void 0&&(p=c),"selectionStart"in d)d.selectionStart=c,d.selectionEnd=Math.min(p,d.value.length);else if(p=(c=d.ownerDocument||document)&&c.defaultView||window,p.getSelection){p=p.getSelection();var S=d.textContent.length,D=Math.min(v.start,S);v=v.end===void 0?D:Math.min(v.end,S),!p.extend&&D>v&&(S=v,v=D,D=S),S=nR(d,D);var P=nR(d,v);S&&P&&(p.rangeCount!==1||p.anchorNode!==S.node||p.anchorOffset!==S.offset||p.focusNode!==P.node||p.focusOffset!==P.offset)&&(c=c.createRange(),c.setStart(S.node,S.offset),p.removeAllRanges(),D>v?(p.addRange(c),p.extend(P.node,P.offset)):(c.setEnd(P.node,P.offset),p.addRange(c)))}}for(c=[],p=d;p=p.parentNode;)p.nodeType===1&&c.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<c.length;d++)p=c[d],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var kV=hn&&"documentMode"in document&&11>=document.documentMode,Ph=null,bb=null,jf=null,Sb=!1;function aR(c,d,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Sb||Ph==null||Ph!==p0(v)||(v=Ph,"selectionStart"in v&&xb(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),jf&&Uf(jf,v)||(jf=v,v=ny(bb,"onSelect"),0<v.length&&(d=new x0("onSelect","select",null,d,p),c.push({event:d,listeners:v}),d.target=Ph)))}function Uc(c,d){var p={};return p[c.toLowerCase()]=d.toLowerCase(),p["Webkit"+c]="webkit"+d,p["Moz"+c]="moz"+d,p}var Oh={animationend:Uc("Animation","AnimationEnd"),animationiteration:Uc("Animation","AnimationIteration"),animationstart:Uc("Animation","AnimationStart"),transitionrun:Uc("Transition","TransitionRun"),transitionstart:Uc("Transition","TransitionStart"),transitioncancel:Uc("Transition","TransitionCancel"),transitionend:Uc("Transition","TransitionEnd")},wb={},lR={};hn&&(lR=document.createElement("div").style,"AnimationEvent"in window||(delete Oh.animationend.animation,delete Oh.animationiteration.animation,delete Oh.animationstart.animation),"TransitionEvent"in window||delete Oh.transitionend.transition);function jc(c){if(wb[c])return wb[c];if(!Oh[c])return c;var d=Oh[c],p;for(p in d)if(d.hasOwnProperty(p)&&p in lR)return wb[c]=d[p];return c}var cR=jc("animationend"),uR=jc("animationiteration"),hR=jc("animationstart"),IV=jc("transitionrun"),LV=jc("transitionstart"),FV=jc("transitioncancel"),dR=jc("transitionend"),fR=new Map,gR="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ro(c,d){fR.set(c,d),Ut(d,[c])}var vr=[],Nh=0,Mb=0;function w0(){for(var c=Nh,d=Mb=Nh=0;d<c;){var p=vr[d];vr[d++]=null;var v=vr[d];vr[d++]=null;var S=vr[d];vr[d++]=null;var D=vr[d];if(vr[d++]=null,v!==null&&S!==null){var P=v.pending;P===null?S.next=S:(S.next=P.next,P.next=S),v.pending=S}D!==0&&pR(p,S,D)}}function M0(c,d,p,v){vr[Nh++]=c,vr[Nh++]=d,vr[Nh++]=p,vr[Nh++]=v,Mb|=v,c.lanes|=v,c=c.alternate,c!==null&&(c.lanes|=v)}function Db(c,d,p,v){return M0(c,d,p,v),D0(c)}function kl(c,d){return M0(c,null,null,d),D0(c)}function pR(c,d,p){c.lanes|=p;var v=c.alternate;v!==null&&(v.lanes|=p);for(var S=!1,D=c.return;D!==null;)D.childLanes|=p,v=D.alternate,v!==null&&(v.childLanes|=p),D.tag===22&&(c=D.stateNode,c===null||c._visibility&1||(S=!0)),c=D,D=D.return;S&&d!==null&&c.tag===3&&(D=c.stateNode,S=31-un(p),D=D.hiddenUpdates,c=D[S],c===null?D[S]=[d]:c.push(d),d.lane=p|536870912)}function D0(c){if(50<mg)throw mg=0,IS=null,Error(s(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var _h={},mR=new WeakMap;function Cr(c,d){if(typeof c=="object"&&c!==null){var p=mR.get(c);return p!==void 0?p:(d={value:c,source:d,stack:le(d)},mR.set(c,d),d)}return{value:c,source:d,stack:le(d)}}var Bh=[],Gh=0,A0=null,E0=0,xr=[],br=0,Yc=null,Ca=1,xa="";function Kc(c,d){Bh[Gh++]=E0,Bh[Gh++]=A0,A0=c,E0=d}function yR(c,d,p){xr[br++]=Ca,xr[br++]=xa,xr[br++]=Yc,Yc=c;var v=Ca;c=xa;var S=32-un(v)-1;v&=~(1<<S),p+=1;var D=32-un(d)+S;if(30<D){var P=S-S%5;D=(v&(1<<P)-1).toString(32),v>>=P,S-=P,Ca=1<<32-un(d)+S|p<<S|v,xa=D+c}else Ca=1<<D|p<<S|v,xa=c}function Ab(c){c.return!==null&&(Kc(c,1),yR(c,1,0))}function Eb(c){for(;c===A0;)A0=Bh[--Gh],Bh[Gh]=null,E0=Bh[--Gh],Bh[Gh]=null;for(;c===Yc;)Yc=xr[--br],xr[br]=null,xa=xr[--br],xr[br]=null,Ca=xr[--br],xr[br]=null}var dn=null,ks=null,zt=!1,oo=null,Bo=!1,Tb=Error(s(519));function $c(c){var d=Error(s(418,""));throw $f(Cr(d,c)),Tb}function vR(c){var d=c.stateNode,p=c.type,v=c.memoizedProps;switch(d[U]=c,d[Y]=v,p){case"dialog":Rt("cancel",d),Rt("close",d);break;case"iframe":case"object":case"embed":Rt("load",d);break;case"video":case"audio":for(p=0;p<vg.length;p++)Rt(vg[p],d);break;case"source":Rt("error",d);break;case"img":case"image":case"link":Rt("error",d),Rt("load",d);break;case"details":Rt("toggle",d);break;case"input":Rt("invalid",d),FT(d,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),g0(d);break;case"select":Rt("invalid",d);break;case"textarea":Rt("invalid",d),OT(d,v.value,v.defaultValue,v.children),g0(d)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||v.suppressHydrationWarning===!0||EI(d.textContent,p)?(v.popover!=null&&(Rt("beforetoggle",d),Rt("toggle",d)),v.onScroll!=null&&Rt("scroll",d),v.onScrollEnd!=null&&Rt("scrollend",d),v.onClick!=null&&(d.onclick=ry),d=!0):d=!1,d||$c(c)}function CR(c){for(dn=c.return;dn;)switch(dn.tag){case 3:case 27:Bo=!0;return;case 5:case 13:Bo=!1;return;default:dn=dn.return}}function Yf(c){if(c!==dn)return!1;if(!zt)return CR(c),zt=!0,!1;var d=!1,p;if((p=c.tag!==3&&c.tag!==27)&&((p=c.tag===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||$S(c.type,c.memoizedProps)),p=!p),p&&(d=!0),d&&ks&&$c(c),CR(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8)if(p=c.data,p==="/$"){if(d===0){ks=lo(c.nextSibling);break e}d--}else p!=="$"&&p!=="$!"&&p!=="$?"||d++;c=c.nextSibling}ks=null}}else ks=dn?lo(c.stateNode.nextSibling):null;return!0}function Kf(){ks=dn=null,zt=!1}function $f(c){oo===null?oo=[c]:oo.push(c)}var Xf=Error(s(460)),xR=Error(s(474)),Rb={then:function(){}};function bR(c){return c=c.status,c==="fulfilled"||c==="rejected"}function T0(){}function SR(c,d,p){switch(p=c[p],p===void 0?c.push(d):p!==d&&(d.then(T0,T0),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,c===Xf?Error(s(483)):c;default:if(typeof d.status=="string")d.then(T0,T0);else{if(c=ui,c!==null&&100<c.shellSuspendCounter)throw Error(s(482));c=d,c.status="pending",c.then(function(v){if(d.status==="pending"){var S=d;S.status="fulfilled",S.value=v}},function(v){if(d.status==="pending"){var S=d;S.status="rejected",S.reason=v}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,c===Xf?Error(s(483)):c}throw Zf=d,Xf}}var Zf=null;function wR(){if(Zf===null)throw Error(s(459));var c=Zf;return Zf=null,c}var zh=null,qf=0;function R0(c){var d=qf;return qf+=1,zh===null&&(zh=[]),SR(zh,c,d)}function Qf(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function k0(c,d){throw d.$$typeof===r?Error(s(525)):(c=Object.prototype.toString.call(d),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function MR(c){var d=c._init;return d(c._payload)}function DR(c){function d(fe,oe){if(c){var me=fe.deletions;me===null?(fe.deletions=[oe],fe.flags|=16):me.push(oe)}}function p(fe,oe){if(!c)return null;for(;oe!==null;)d(fe,oe),oe=oe.sibling;return null}function v(fe){for(var oe=new Map;fe!==null;)fe.key!==null?oe.set(fe.key,fe):oe.set(fe.index,fe),fe=fe.sibling;return oe}function S(fe,oe){return fe=Vl(fe,oe),fe.index=0,fe.sibling=null,fe}function D(fe,oe,me){return fe.index=me,c?(me=fe.alternate,me!==null?(me=me.index,me<oe?(fe.flags|=33554434,oe):me):(fe.flags|=33554434,oe)):(fe.flags|=1048576,oe)}function P(fe){return c&&fe.alternate===null&&(fe.flags|=33554434),fe}function W(fe,oe,me,Te){return oe===null||oe.tag!==6?(oe=wS(me,fe.mode,Te),oe.return=fe,oe):(oe=S(oe,me),oe.return=fe,oe)}function ie(fe,oe,me,Te){var Qe=me.type;return Qe===l?Ee(fe,oe,me.props.children,Te,me.key):oe!==null&&(oe.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===w&&MR(Qe)===oe.type)?(oe=S(oe,me.props),Qf(oe,me),oe.return=fe,oe):(oe=$0(me.type,me.key,me.props,null,fe.mode,Te),Qf(oe,me),oe.return=fe,oe)}function he(fe,oe,me,Te){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==me.containerInfo||oe.stateNode.implementation!==me.implementation?(oe=MS(me,fe.mode,Te),oe.return=fe,oe):(oe=S(oe,me.children||[]),oe.return=fe,oe)}function Ee(fe,oe,me,Te,Qe){return oe===null||oe.tag!==7?(oe=nu(me,fe.mode,Te,Qe),oe.return=fe,oe):(oe=S(oe,me),oe.return=fe,oe)}function Re(fe,oe,me){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=wS(""+oe,fe.mode,me),oe.return=fe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case o:return me=$0(oe.type,oe.key,oe.props,null,fe.mode,me),Qf(me,oe),me.return=fe,me;case a:return oe=MS(oe,fe.mode,me),oe.return=fe,oe;case w:var Te=oe._init;return oe=Te(oe._payload),Re(fe,oe,me)}if(j(oe)||k(oe))return oe=nu(oe,fe.mode,me,null),oe.return=fe,oe;if(typeof oe.then=="function")return Re(fe,R0(oe),me);if(oe.$$typeof===m)return Re(fe,j0(fe,oe),me);k0(fe,oe)}return null}function be(fe,oe,me,Te){var Qe=oe!==null?oe.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Qe!==null?null:W(fe,oe,""+me,Te);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case o:return me.key===Qe?ie(fe,oe,me,Te):null;case a:return me.key===Qe?he(fe,oe,me,Te):null;case w:return Qe=me._init,me=Qe(me._payload),be(fe,oe,me,Te)}if(j(me)||k(me))return Qe!==null?null:Ee(fe,oe,me,Te,null);if(typeof me.then=="function")return be(fe,oe,R0(me),Te);if(me.$$typeof===m)return be(fe,oe,j0(fe,me),Te);k0(fe,me)}return null}function De(fe,oe,me,Te,Qe){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return fe=fe.get(me)||null,W(oe,fe,""+Te,Qe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case o:return fe=fe.get(Te.key===null?me:Te.key)||null,ie(oe,fe,Te,Qe);case a:return fe=fe.get(Te.key===null?me:Te.key)||null,he(oe,fe,Te,Qe);case w:var Dt=Te._init;return Te=Dt(Te._payload),De(fe,oe,me,Te,Qe)}if(j(Te)||k(Te))return fe=fe.get(me)||null,Ee(oe,fe,Te,Qe,null);if(typeof Te.then=="function")return De(fe,oe,me,R0(Te),Qe);if(Te.$$typeof===m)return De(fe,oe,me,j0(oe,Te),Qe);k0(oe,Te)}return null}function Je(fe,oe,me,Te){for(var Qe=null,Dt=null,it=oe,at=oe=0,Ss=null;it!==null&&at<me.length;at++){it.index>at?(Ss=it,it=null):Ss=it.sibling;var Ht=be(fe,it,me[at],Te);if(Ht===null){it===null&&(it=Ss);break}c&&it&&Ht.alternate===null&&d(fe,it),oe=D(Ht,oe,at),Dt===null?Qe=Ht:Dt.sibling=Ht,Dt=Ht,it=Ss}if(at===me.length)return p(fe,it),zt&&Kc(fe,at),Qe;if(it===null){for(;at<me.length;at++)it=Re(fe,me[at],Te),it!==null&&(oe=D(it,oe,at),Dt===null?Qe=it:Dt.sibling=it,Dt=it);return zt&&Kc(fe,at),Qe}for(it=v(it);at<me.length;at++)Ss=De(it,fe,at,me[at],Te),Ss!==null&&(c&&Ss.alternate!==null&&it.delete(Ss.key===null?at:Ss.key),oe=D(Ss,oe,at),Dt===null?Qe=Ss:Dt.sibling=Ss,Dt=Ss);return c&&it.forEach(function(Xl){return d(fe,Xl)}),zt&&Kc(fe,at),Qe}function mt(fe,oe,me,Te){if(me==null)throw Error(s(151));for(var Qe=null,Dt=null,it=oe,at=oe=0,Ss=null,Ht=me.next();it!==null&&!Ht.done;at++,Ht=me.next()){it.index>at?(Ss=it,it=null):Ss=it.sibling;var Xl=be(fe,it,Ht.value,Te);if(Xl===null){it===null&&(it=Ss);break}c&&it&&Xl.alternate===null&&d(fe,it),oe=D(Xl,oe,at),Dt===null?Qe=Xl:Dt.sibling=Xl,Dt=Xl,it=Ss}if(Ht.done)return p(fe,it),zt&&Kc(fe,at),Qe;if(it===null){for(;!Ht.done;at++,Ht=me.next())Ht=Re(fe,Ht.value,Te),Ht!==null&&(oe=D(Ht,oe,at),Dt===null?Qe=Ht:Dt.sibling=Ht,Dt=Ht);return zt&&Kc(fe,at),Qe}for(it=v(it);!Ht.done;at++,Ht=me.next())Ht=De(it,fe,at,Ht.value,Te),Ht!==null&&(c&&Ht.alternate!==null&&it.delete(Ht.key===null?at:Ht.key),oe=D(Ht,oe,at),Dt===null?Qe=Ht:Dt.sibling=Ht,Dt=Ht);return c&&it.forEach(function(KW){return d(fe,KW)}),zt&&Kc(fe,at),Qe}function _i(fe,oe,me,Te){if(typeof me=="object"&&me!==null&&me.type===l&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case o:e:{for(var Qe=me.key;oe!==null;){if(oe.key===Qe){if(Qe=me.type,Qe===l){if(oe.tag===7){p(fe,oe.sibling),Te=S(oe,me.props.children),Te.return=fe,fe=Te;break e}}else if(oe.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===w&&MR(Qe)===oe.type){p(fe,oe.sibling),Te=S(oe,me.props),Qf(Te,me),Te.return=fe,fe=Te;break e}p(fe,oe);break}else d(fe,oe);oe=oe.sibling}me.type===l?(Te=nu(me.props.children,fe.mode,Te,me.key),Te.return=fe,fe=Te):(Te=$0(me.type,me.key,me.props,null,fe.mode,Te),Qf(Te,me),Te.return=fe,fe=Te)}return P(fe);case a:e:{for(Qe=me.key;oe!==null;){if(oe.key===Qe)if(oe.tag===4&&oe.stateNode.containerInfo===me.containerInfo&&oe.stateNode.implementation===me.implementation){p(fe,oe.sibling),Te=S(oe,me.children||[]),Te.return=fe,fe=Te;break e}else{p(fe,oe);break}else d(fe,oe);oe=oe.sibling}Te=MS(me,fe.mode,Te),Te.return=fe,fe=Te}return P(fe);case w:return Qe=me._init,me=Qe(me._payload),_i(fe,oe,me,Te)}if(j(me))return Je(fe,oe,me,Te);if(k(me)){if(Qe=k(me),typeof Qe!="function")throw Error(s(150));return me=Qe.call(me),mt(fe,oe,me,Te)}if(typeof me.then=="function")return _i(fe,oe,R0(me),Te);if(me.$$typeof===m)return _i(fe,oe,j0(fe,me),Te);k0(fe,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,oe!==null&&oe.tag===6?(p(fe,oe.sibling),Te=S(oe,me),Te.return=fe,fe=Te):(p(fe,oe),Te=wS(me,fe.mode,Te),Te.return=fe,fe=Te),P(fe)):p(fe,oe)}return function(fe,oe,me,Te){try{qf=0;var Qe=_i(fe,oe,me,Te);return zh=null,Qe}catch(it){if(it===Xf)throw it;var Dt=Dr(29,it,null,fe.mode);return Dt.lanes=Te,Dt.return=fe,Dt}finally{}}}var Xc=DR(!0),AR=DR(!1),Hh=ce(null),I0=ce(0);function ER(c,d){c=Ia,de(I0,c),de(Hh,d),Ia=c|d.baseLanes}function kb(){de(I0,Ia),de(Hh,Hh.current)}function Ib(){Ia=I0.current,ue(Hh),ue(I0)}var Sr=ce(null),Go=null;function Il(c){var d=c.alternate;de(us,us.current&1),de(Sr,c),Go===null&&(d===null||Hh.current!==null||d.memoizedState!==null)&&(Go=c)}function TR(c){if(c.tag===22){if(de(us,us.current),de(Sr,c),Go===null){var d=c.alternate;d!==null&&d.memoizedState!==null&&(Go=c)}}else Ll()}function Ll(){de(us,us.current),de(Sr,Sr.current)}function ba(c){ue(Sr),Go===c&&(Go=null),ue(us)}var us=ce(0);function L0(c){for(var d=c;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var PV=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(p,v){c.push(v)}};this.abort=function(){d.aborted=!0,c.forEach(function(p){return p()})}},OV=e.unstable_scheduleCallback,NV=e.unstable_NormalPriority,hs={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lb(){return{controller:new PV,data:new Map,refCount:0}}function Jf(c){c.refCount--,c.refCount===0&&OV(NV,function(){c.controller.abort()})}var eg=null,Fb=0,Vh=0,Wh=null;function _V(c,d){if(eg===null){var p=eg=[];Fb=0,Vh=GS(),Wh={status:"pending",value:void 0,then:function(v){p.push(v)}}}return Fb++,d.then(RR,RR),d}function RR(){if(--Fb===0&&eg!==null){Wh!==null&&(Wh.status="fulfilled");var c=eg;eg=null,Vh=0,Wh=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function BV(c,d){var p=[],v={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return c.then(function(){v.status="fulfilled",v.value=d;for(var S=0;S<p.length;S++)(0,p[S])(d)},function(S){for(v.status="rejected",v.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),v}var kR=I.S;I.S=function(c,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&_V(c,d),kR!==null&&kR(c,d)};var Zc=ce(null);function Pb(){var c=Zc.current;return c!==null?c:ui.pooledCache}function F0(c,d){d===null?de(Zc,Zc.current):de(Zc,d.pool)}function IR(){var c=Pb();return c===null?null:{parent:hs._currentValue,pool:c}}var Fl=0,wt=null,Qt=null,qi=null,P0=!1,Uh=!1,qc=!1,O0=0,tg=0,jh=null,GV=0;function Vi(){throw Error(s(321))}function Ob(c,d){if(d===null)return!1;for(var p=0;p<d.length&&p<c.length;p++)if(!Zn(c[p],d[p]))return!1;return!0}function Nb(c,d,p,v,S,D){return Fl=D,wt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,I.H=c===null||c.memoizedState===null?Qc:Pl,qc=!1,D=p(v,S),qc=!1,Uh&&(D=FR(d,p,v,S)),LR(c),D}function LR(c){I.H=zo;var d=Qt!==null&&Qt.next!==null;if(Fl=0,qi=Qt=wt=null,P0=!1,tg=0,jh=null,d)throw Error(s(300));c===null||xs||(c=c.dependencies,c!==null&&U0(c)&&(xs=!0))}function FR(c,d,p,v){wt=c;var S=0;do{if(Uh&&(jh=null),tg=0,Uh=!1,25<=S)throw Error(s(301));if(S+=1,qi=Qt=null,c.updateQueue!=null){var D=c.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}I.H=Jc,D=d(p,v)}while(Uh);return D}function zV(){var c=I.H,d=c.useState()[0];return d=typeof d.then=="function"?ig(d):d,c=c.useState()[0],(Qt!==null?Qt.memoizedState:null)!==c&&(wt.flags|=1024),d}function _b(){var c=O0!==0;return O0=0,c}function Bb(c,d,p){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~p}function Gb(c){if(P0){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}P0=!1}Fl=0,qi=Qt=wt=null,Uh=!1,tg=O0=0,jh=null}function _n(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qi===null?wt.memoizedState=qi=c:qi=qi.next=c,qi}function Qi(){if(Qt===null){var c=wt.alternate;c=c!==null?c.memoizedState:null}else c=Qt.next;var d=qi===null?wt.memoizedState:qi.next;if(d!==null)qi=d,Qt=c;else{if(c===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Qt=c,c={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},qi===null?wt.memoizedState=qi=c:qi=qi.next=c}return qi}var N0;N0=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ig(c){var d=tg;return tg+=1,jh===null&&(jh=[]),c=SR(jh,c,d),d=wt,(qi===null?d.memoizedState:qi.next)===null&&(d=d.alternate,I.H=d===null||d.memoizedState===null?Qc:Pl),c}function _0(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return ig(c);if(c.$$typeof===m)return Ws(c)}throw Error(s(438,String(c)))}function zb(c){var d=null,p=wt.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var v=wt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(d={data:v.data.map(function(S){return S.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=N0(),wt.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(c),v=0;v<c;v++)p[v]=A;return d.index++,p}function Sa(c,d){return typeof d=="function"?d(c):d}function B0(c){var d=Qi();return Hb(d,Qt,c)}function Hb(c,d,p){var v=c.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=p;var S=c.baseQueue,D=v.pending;if(D!==null){if(S!==null){var P=S.next;S.next=D.next,D.next=P}d.baseQueue=S=D,v.pending=null}if(D=c.baseState,S===null)c.memoizedState=D;else{d=S.next;var W=P=null,ie=null,he=d,Ee=!1;do{var Re=he.lane&-536870913;if(Re!==he.lane?(Ft&Re)===Re:(Fl&Re)===Re){var be=he.revertLane;if(be===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Re===Vh&&(Ee=!0);else if((Fl&be)===be){he=he.next,be===Vh&&(Ee=!0);continue}else Re={lane:0,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ie===null?(W=ie=Re,P=D):ie=ie.next=Re,wt.lanes|=be,Wl|=be;Re=he.action,qc&&p(D,Re),D=he.hasEagerState?he.eagerState:p(D,Re)}else be={lane:Re,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ie===null?(W=ie=be,P=D):ie=ie.next=be,wt.lanes|=Re,Wl|=Re;he=he.next}while(he!==null&&he!==d);if(ie===null?P=D:ie.next=W,!Zn(D,c.memoizedState)&&(xs=!0,Ee&&(p=Wh,p!==null)))throw p;c.memoizedState=D,c.baseState=P,c.baseQueue=ie,v.lastRenderedState=D}return S===null&&(v.lanes=0),[c.memoizedState,v.dispatch]}function Vb(c){var d=Qi(),p=d.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=c;var v=p.dispatch,S=p.pending,D=d.memoizedState;if(S!==null){p.pending=null;var P=S=S.next;do D=c(D,P.action),P=P.next;while(P!==S);Zn(D,d.memoizedState)||(xs=!0),d.memoizedState=D,d.baseQueue===null&&(d.baseState=D),p.lastRenderedState=D}return[D,v]}function PR(c,d,p){var v=wt,S=Qi(),D=zt;if(D){if(p===void 0)throw Error(s(407));p=p()}else p=d();var P=!Zn((Qt||S).memoizedState,p);if(P&&(S.memoizedState=p,xs=!0),S=S.queue,jb(_R.bind(null,v,S,c),[c]),S.getSnapshot!==d||P||qi!==null&&qi.memoizedState.tag&1){if(v.flags|=2048,Yh(9,NR.bind(null,v,S,p,d),{destroy:void 0},null),ui===null)throw Error(s(349));D||(Fl&60)!==0||OR(v,d,p)}return p}function OR(c,d,p){c.flags|=16384,c={getSnapshot:d,value:p},d=wt.updateQueue,d===null?(d=N0(),wt.updateQueue=d,d.stores=[c]):(p=d.stores,p===null?d.stores=[c]:p.push(c))}function NR(c,d,p,v){d.value=p,d.getSnapshot=v,BR(d)&&GR(c)}function _R(c,d,p){return p(function(){BR(d)&&GR(c)})}function BR(c){var d=c.getSnapshot;c=c.value;try{var p=d();return!Zn(c,p)}catch{return!0}}function GR(c){var d=kl(c,2);d!==null&&fn(d,c,2)}function Wb(c){var d=_n();if(typeof c=="function"){var p=c;if(c=p(),qc){No(!0);try{p()}finally{No(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:c},d}function zR(c,d,p,v){return c.baseState=p,Hb(c,Qt,typeof v=="function"?v:Sa)}function HV(c,d,p,v,S){if(H0(c))throw Error(s(485));if(c=d.action,c!==null){var D={payload:S,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){D.listeners.push(P)}};I.T!==null?p(!0):D.isTransition=!1,v(D),p=d.pending,p===null?(D.next=d.pending=D,HR(d,D)):(D.next=p.next,d.pending=p.next=D)}}function HR(c,d){var p=d.action,v=d.payload,S=c.state;if(d.isTransition){var D=I.T,P={};I.T=P;try{var W=p(S,v),ie=I.S;ie!==null&&ie(P,W),VR(c,d,W)}catch(he){Ub(c,d,he)}finally{I.T=D}}else try{D=p(S,v),VR(c,d,D)}catch(he){Ub(c,d,he)}}function VR(c,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){WR(c,d,v)},function(v){return Ub(c,d,v)}):WR(c,d,p)}function WR(c,d,p){d.status="fulfilled",d.value=p,UR(d),c.state=p,d=c.pending,d!==null&&(p=d.next,p===d?c.pending=null:(p=p.next,d.next=p,HR(c,p)))}function Ub(c,d,p){var v=c.pending;if(c.pending=null,v!==null){v=v.next;do d.status="rejected",d.reason=p,UR(d),d=d.next;while(d!==v)}c.action=null}function UR(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function jR(c,d){return d}function YR(c,d){if(zt){var p=ui.formState;if(p!==null){e:{var v=wt;if(zt){if(ks){t:{for(var S=ks,D=Bo;S.nodeType!==8;){if(!D){S=null;break t}if(S=lo(S.nextSibling),S===null){S=null;break t}}D=S.data,S=D==="F!"||D==="F"?S:null}if(S){ks=lo(S.nextSibling),v=S.data==="F!";break e}}$c(v)}v=!1}v&&(d=p[0])}}return p=_n(),p.memoizedState=p.baseState=d,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jR,lastRenderedState:d},p.queue=v,p=uk.bind(null,wt,v),v.dispatch=p,v=Wb(!1),D=Zb.bind(null,wt,!1,v.queue),v=_n(),S={state:d,dispatch:null,action:c,pending:null},v.queue=S,p=HV.bind(null,wt,S,D,p),S.dispatch=p,v.memoizedState=c,[d,p,!1]}function KR(c){var d=Qi();return $R(d,Qt,c)}function $R(c,d,p){d=Hb(c,d,jR)[0],c=B0(Sa)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?ig(d):d;var v=Qi(),S=v.queue,D=S.dispatch;return p!==v.memoizedState&&(wt.flags|=2048,Yh(9,VV.bind(null,S,p),{destroy:void 0},null)),[d,D,c]}function VV(c,d){c.action=d}function XR(c){var d=Qi(),p=Qt;if(p!==null)return $R(d,p,c);Qi(),d=d.memoizedState,p=Qi();var v=p.queue.dispatch;return p.memoizedState=c,[d,v,!1]}function Yh(c,d,p,v){return c={tag:c,create:d,inst:p,deps:v,next:null},d=wt.updateQueue,d===null&&(d=N0(),wt.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=c.next=c:(v=p.next,p.next=c,c.next=v,d.lastEffect=c),c}function ZR(){return Qi().memoizedState}function G0(c,d,p,v){var S=_n();wt.flags|=c,S.memoizedState=Yh(1|d,p,{destroy:void 0},v===void 0?null:v)}function z0(c,d,p,v){var S=Qi();v=v===void 0?null:v;var D=S.memoizedState.inst;Qt!==null&&v!==null&&Ob(v,Qt.memoizedState.deps)?S.memoizedState=Yh(d,p,D,v):(wt.flags|=c,S.memoizedState=Yh(1|d,p,D,v))}function qR(c,d){G0(8390656,8,c,d)}function jb(c,d){z0(2048,8,c,d)}function QR(c,d){return z0(4,2,c,d)}function JR(c,d){return z0(4,4,c,d)}function ek(c,d){if(typeof d=="function"){c=c();var p=d(c);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function tk(c,d,p){p=p!=null?p.concat([c]):null,z0(4,4,ek.bind(null,d,c),p)}function Yb(){}function ik(c,d){var p=Qi();d=d===void 0?null:d;var v=p.memoizedState;return d!==null&&Ob(d,v[1])?v[0]:(p.memoizedState=[c,d],c)}function sk(c,d){var p=Qi();d=d===void 0?null:d;var v=p.memoizedState;if(d!==null&&Ob(d,v[1]))return v[0];if(v=c(),qc){No(!0);try{c()}finally{No(!1)}}return p.memoizedState=[v,d],v}function Kb(c,d,p){return p===void 0||(Fl&1073741824)!==0?c.memoizedState=d:(c.memoizedState=p,c=rI(),wt.lanes|=c,Wl|=c,p)}function nk(c,d,p,v){return Zn(p,d)?p:Hh.current!==null?(c=Kb(c,p,v),Zn(c,d)||(xs=!0),c):(Fl&42)===0?(xs=!0,c.memoizedState=p):(c=rI(),wt.lanes|=c,Wl|=c,d)}function rk(c,d,p,v,S){var D=H.p;H.p=D!==0&&8>D?D:8;var P=I.T,W={};I.T=W,Zb(c,!1,d,p);try{var ie=S(),he=I.S;if(he!==null&&he(W,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Ee=BV(ie,v);sg(c,d,Ee,er(c))}else sg(c,d,v,er(c))}catch(Re){sg(c,d,{then:function(){},status:"rejected",reason:Re},er())}finally{H.p=D,I.T=P}}function WV(){}function $b(c,d,p,v){if(c.tag!==5)throw Error(s(476));var S=ok(c).queue;rk(c,S,d,K,p===null?WV:function(){return ak(c),p(v)})}function ok(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:K},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:p},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function ak(c){var d=ok(c).next.queue;sg(c,d,{},er())}function Xb(){return Ws(wg)}function lk(){return Qi().memoizedState}function ck(){return Qi().memoizedState}function UV(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var p=er();c=_l(p);var v=Bl(d,c,p);v!==null&&(fn(v,d,p),og(v,d,p)),d={cache:Lb()},c.payload=d;return}d=d.return}}function jV(c,d,p){var v=er();p={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},H0(c)?hk(d,p):(p=Db(c,d,p,v),p!==null&&(fn(p,c,v),dk(p,d,v)))}function uk(c,d,p){var v=er();sg(c,d,p,v)}function sg(c,d,p,v){var S={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(H0(c))hk(d,S);else{var D=c.alternate;if(c.lanes===0&&(D===null||D.lanes===0)&&(D=d.lastRenderedReducer,D!==null))try{var P=d.lastRenderedState,W=D(P,p);if(S.hasEagerState=!0,S.eagerState=W,Zn(W,P))return M0(c,d,S,0),ui===null&&w0(),!1}catch{}finally{}if(p=Db(c,d,S,v),p!==null)return fn(p,c,v),dk(p,d,v),!0}return!1}function Zb(c,d,p,v){if(v={lane:2,revertLane:GS(),action:v,hasEagerState:!1,eagerState:null,next:null},H0(c)){if(d)throw Error(s(479))}else d=Db(c,p,v,2),d!==null&&fn(d,c,2)}function H0(c){var d=c.alternate;return c===wt||d!==null&&d===wt}function hk(c,d){Uh=P0=!0;var p=c.pending;p===null?d.next=d:(d.next=p.next,p.next=d),c.pending=d}function dk(c,d,p){if((p&4194176)!==0){var v=d.lanes;v&=c.pendingLanes,p|=v,d.lanes=p,u0(c,p)}}var zo={readContext:Ws,use:_0,useCallback:Vi,useContext:Vi,useEffect:Vi,useImperativeHandle:Vi,useLayoutEffect:Vi,useInsertionEffect:Vi,useMemo:Vi,useReducer:Vi,useRef:Vi,useState:Vi,useDebugValue:Vi,useDeferredValue:Vi,useTransition:Vi,useSyncExternalStore:Vi,useId:Vi};zo.useCacheRefresh=Vi,zo.useMemoCache=Vi,zo.useHostTransitionStatus=Vi,zo.useFormState=Vi,zo.useActionState=Vi,zo.useOptimistic=Vi;var Qc={readContext:Ws,use:_0,useCallback:function(c,d){return _n().memoizedState=[c,d===void 0?null:d],c},useContext:Ws,useEffect:qR,useImperativeHandle:function(c,d,p){p=p!=null?p.concat([c]):null,G0(4194308,4,ek.bind(null,d,c),p)},useLayoutEffect:function(c,d){return G0(4194308,4,c,d)},useInsertionEffect:function(c,d){G0(4,2,c,d)},useMemo:function(c,d){var p=_n();d=d===void 0?null:d;var v=c();if(qc){No(!0);try{c()}finally{No(!1)}}return p.memoizedState=[v,d],v},useReducer:function(c,d,p){var v=_n();if(p!==void 0){var S=p(d);if(qc){No(!0);try{p(d)}finally{No(!1)}}}else S=d;return v.memoizedState=v.baseState=S,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:S},v.queue=c,c=c.dispatch=jV.bind(null,wt,c),[v.memoizedState,c]},useRef:function(c){var d=_n();return c={current:c},d.memoizedState=c},useState:function(c){c=Wb(c);var d=c.queue,p=uk.bind(null,wt,d);return d.dispatch=p,[c.memoizedState,p]},useDebugValue:Yb,useDeferredValue:function(c,d){var p=_n();return Kb(p,c,d)},useTransition:function(){var c=Wb(!1);return c=rk.bind(null,wt,c.queue,!0,!1),_n().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,p){var v=wt,S=_n();if(zt){if(p===void 0)throw Error(s(407));p=p()}else{if(p=d(),ui===null)throw Error(s(349));(Ft&60)!==0||OR(v,d,p)}S.memoizedState=p;var D={value:p,getSnapshot:d};return S.queue=D,qR(_R.bind(null,v,D,c),[c]),v.flags|=2048,Yh(9,NR.bind(null,v,D,p,d),{destroy:void 0},null),p},useId:function(){var c=_n(),d=ui.identifierPrefix;if(zt){var p=xa,v=Ca;p=(v&~(1<<32-un(v)-1)).toString(32)+p,d=":"+d+"R"+p,p=O0++,0<p&&(d+="H"+p.toString(32)),d+=":"}else p=GV++,d=":"+d+"r"+p.toString(32)+":";return c.memoizedState=d},useCacheRefresh:function(){return _n().memoizedState=UV.bind(null,wt)}};Qc.useMemoCache=zb,Qc.useHostTransitionStatus=Xb,Qc.useFormState=YR,Qc.useActionState=YR,Qc.useOptimistic=function(c){var d=_n();d.memoizedState=d.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=Zb.bind(null,wt,!0,p),p.dispatch=d,[c,d]};var Pl={readContext:Ws,use:_0,useCallback:ik,useContext:Ws,useEffect:jb,useImperativeHandle:tk,useInsertionEffect:QR,useLayoutEffect:JR,useMemo:sk,useReducer:B0,useRef:ZR,useState:function(){return B0(Sa)},useDebugValue:Yb,useDeferredValue:function(c,d){var p=Qi();return nk(p,Qt.memoizedState,c,d)},useTransition:function(){var c=B0(Sa)[0],d=Qi().memoizedState;return[typeof c=="boolean"?c:ig(c),d]},useSyncExternalStore:PR,useId:lk};Pl.useCacheRefresh=ck,Pl.useMemoCache=zb,Pl.useHostTransitionStatus=Xb,Pl.useFormState=KR,Pl.useActionState=KR,Pl.useOptimistic=function(c,d){var p=Qi();return zR(p,Qt,c,d)};var Jc={readContext:Ws,use:_0,useCallback:ik,useContext:Ws,useEffect:jb,useImperativeHandle:tk,useInsertionEffect:QR,useLayoutEffect:JR,useMemo:sk,useReducer:Vb,useRef:ZR,useState:function(){return Vb(Sa)},useDebugValue:Yb,useDeferredValue:function(c,d){var p=Qi();return Qt===null?Kb(p,c,d):nk(p,Qt.memoizedState,c,d)},useTransition:function(){var c=Vb(Sa)[0],d=Qi().memoizedState;return[typeof c=="boolean"?c:ig(c),d]},useSyncExternalStore:PR,useId:lk};Jc.useCacheRefresh=ck,Jc.useMemoCache=zb,Jc.useHostTransitionStatus=Xb,Jc.useFormState=XR,Jc.useActionState=XR,Jc.useOptimistic=function(c,d){var p=Qi();return Qt!==null?zR(p,Qt,c,d):(p.baseState=c,[c,p.queue.dispatch])};function qb(c,d,p,v){d=c.memoizedState,p=p(v,d),p=p==null?d:N({},d,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var Qb={isMounted:function(c){return(c=c._reactInternals)?re(c)===c:!1},enqueueSetState:function(c,d,p){c=c._reactInternals;var v=er(),S=_l(v);S.payload=d,p!=null&&(S.callback=p),d=Bl(c,S,v),d!==null&&(fn(d,c,v),og(d,c,v))},enqueueReplaceState:function(c,d,p){c=c._reactInternals;var v=er(),S=_l(v);S.tag=1,S.payload=d,p!=null&&(S.callback=p),d=Bl(c,S,v),d!==null&&(fn(d,c,v),og(d,c,v))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var p=er(),v=_l(p);v.tag=2,d!=null&&(v.callback=d),d=Bl(c,v,p),d!==null&&(fn(d,c,p),og(d,c,p))}};function fk(c,d,p,v,S,D,P){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(v,D,P):d.prototype&&d.prototype.isPureReactComponent?!Uf(p,v)||!Uf(S,D):!0}function gk(c,d,p,v){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,v),d.state!==c&&Qb.enqueueReplaceState(d,d.state,null)}function eu(c,d){var p=d;if("ref"in d){p={};for(var v in d)v!=="ref"&&(p[v]=d[v])}if(c=c.defaultProps){p===d&&(p=N({},p));for(var S in c)p[S]===void 0&&(p[S]=c[S])}return p}var V0=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function pk(c){V0(c)}function mk(c){console.error(c)}function yk(c){V0(c)}function W0(c,d){try{var p=c.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(v){setTimeout(function(){throw v})}}function vk(c,d,p){try{var v=c.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Jb(c,d,p){return p=_l(p),p.tag=3,p.payload={element:null},p.callback=function(){W0(c,d)},p}function Ck(c){return c=_l(c),c.tag=3,c}function xk(c,d,p,v){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var D=v.value;c.payload=function(){return S(D)},c.callback=function(){vk(d,p,v)}}var P=p.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(c.callback=function(){vk(d,p,v),typeof S!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this));var W=v.stack;this.componentDidCatch(v.value,{componentStack:W!==null?W:""})})}function YV(c,d,p,v,S){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(d=p.alternate,d!==null&&rg(d,p,S,!0),p=Sr.current,p!==null){switch(p.tag){case 13:return Go===null?PS():p.alternate===null&&Ni===0&&(Ni=3),p.flags&=-257,p.flags|=65536,p.lanes=S,v===Rb?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([v]):d.add(v),NS(c,v,S)),!1;case 22:return p.flags|=65536,v===Rb?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([v]):p.add(v)),NS(c,v,S)),!1}throw Error(s(435,p.tag))}return NS(c,v,S),PS(),!1}if(zt)return d=Sr.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=S,v!==Tb&&(c=Error(s(422),{cause:v}),$f(Cr(c,p)))):(v!==Tb&&(d=Error(s(423),{cause:v}),$f(Cr(d,p))),c=c.current.alternate,c.flags|=65536,S&=-S,c.lanes|=S,v=Cr(v,p),S=Jb(c.stateNode,v,S),gS(c,S),Ni!==4&&(Ni=2)),!1;var D=Error(s(520),{cause:v});if(D=Cr(D,p),gg===null?gg=[D]:gg.push(D),Ni!==4&&(Ni=2),d===null)return!0;v=Cr(v,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,c=S&-S,p.lanes|=c,c=Jb(p.stateNode,v,c),gS(p,c),!1;case 1:if(d=p.type,D=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Ul===null||!Ul.has(D))))return p.flags|=65536,S&=-S,p.lanes|=S,S=Ck(S),xk(S,c,p,v),gS(p,S),!1}p=p.return}while(p!==null);return!1}var bk=Error(s(461)),xs=!1;function Is(c,d,p,v){d.child=c===null?AR(d,null,p,v):Xc(d,c.child,p,v)}function Sk(c,d,p,v,S){p=p.render;var D=d.ref;if("ref"in v){var P={};for(var W in v)W!=="ref"&&(P[W]=v[W])}else P=v;return iu(d),v=Nb(c,d,p,P,D,S),W=_b(),c!==null&&!xs?(Bb(c,d,S),wa(c,d,S)):(zt&&W&&Ab(d),d.flags|=1,Is(c,d,v,S),d.child)}function wk(c,d,p,v,S){if(c===null){var D=p.type;return typeof D=="function"&&!SS(D)&&D.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=D,Mk(c,d,D,v,S)):(c=$0(p.type,null,v,d,d.mode,S),c.ref=d.ref,c.return=d,d.child=c)}if(D=c.child,!lS(c,S)){var P=D.memoizedProps;if(p=p.compare,p=p!==null?p:Uf,p(P,v)&&c.ref===d.ref)return wa(c,d,S)}return d.flags|=1,c=Vl(D,v),c.ref=d.ref,c.return=d,d.child=c}function Mk(c,d,p,v,S){if(c!==null){var D=c.memoizedProps;if(Uf(D,v)&&c.ref===d.ref)if(xs=!1,d.pendingProps=v=D,lS(c,S))(c.flags&131072)!==0&&(xs=!0);else return d.lanes=c.lanes,wa(c,d,S)}return eS(c,d,p,v,S)}function Dk(c,d,p){var v=d.pendingProps,S=v.children,D=(d.stateNode._pendingVisibility&2)!==0,P=c!==null?c.memoizedState:null;if(ng(c,d),v.mode==="hidden"||D){if((d.flags&128)!==0){if(v=P!==null?P.baseLanes|p:p,c!==null){for(S=d.child=c.child,D=0;S!==null;)D=D|S.lanes|S.childLanes,S=S.sibling;d.childLanes=D&~v}else d.childLanes=0,d.child=null;return Ak(c,d,v,p)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&F0(d,P!==null?P.cachePool:null),P!==null?ER(d,P):kb(),TR(d);else return d.lanes=d.childLanes=536870912,Ak(c,d,P!==null?P.baseLanes|p:p,p)}else P!==null?(F0(d,P.cachePool),ER(d,P),Ll(),d.memoizedState=null):(c!==null&&F0(d,null),kb(),Ll());return Is(c,d,S,p),d.child}function Ak(c,d,p,v){var S=Pb();return S=S===null?null:{parent:hs._currentValue,pool:S},d.memoizedState={baseLanes:p,cachePool:S},c!==null&&F0(d,null),kb(),TR(d),c!==null&&rg(c,d,v,!0),null}function ng(c,d){var p=d.ref;if(p===null)c!==null&&c.ref!==null&&(d.flags|=2097664);else{if(typeof p!="function"&&typeof p!="object")throw Error(s(284));(c===null||c.ref!==p)&&(d.flags|=2097664)}}function eS(c,d,p,v,S){return iu(d),p=Nb(c,d,p,v,void 0,S),v=_b(),c!==null&&!xs?(Bb(c,d,S),wa(c,d,S)):(zt&&v&&Ab(d),d.flags|=1,Is(c,d,p,S),d.child)}function Ek(c,d,p,v,S,D){return iu(d),d.updateQueue=null,p=FR(d,v,p,S),LR(c),v=_b(),c!==null&&!xs?(Bb(c,d,D),wa(c,d,D)):(zt&&v&&Ab(d),d.flags|=1,Is(c,d,p,D),d.child)}function Tk(c,d,p,v,S){if(iu(d),d.stateNode===null){var D=_h,P=p.contextType;typeof P=="object"&&P!==null&&(D=Ws(P)),D=new p(v,D),d.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=Qb,d.stateNode=D,D._reactInternals=d,D=d.stateNode,D.props=v,D.state=d.memoizedState,D.refs={},dS(d),P=p.contextType,D.context=typeof P=="object"&&P!==null?Ws(P):_h,D.state=d.memoizedState,P=p.getDerivedStateFromProps,typeof P=="function"&&(qb(d,p,P,v),D.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(P=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),P!==D.state&&Qb.enqueueReplaceState(D,D.state,null),lg(d,v,D,S),ag(),D.state=d.memoizedState),typeof D.componentDidMount=="function"&&(d.flags|=4194308),v=!0}else if(c===null){D=d.stateNode;var W=d.memoizedProps,ie=eu(p,W);D.props=ie;var he=D.context,Ee=p.contextType;P=_h,typeof Ee=="object"&&Ee!==null&&(P=Ws(Ee));var Re=p.getDerivedStateFromProps;Ee=typeof Re=="function"||typeof D.getSnapshotBeforeUpdate=="function",W=d.pendingProps!==W,Ee||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(W||he!==P)&&gk(d,D,v,P),Nl=!1;var be=d.memoizedState;D.state=be,lg(d,v,D,S),ag(),he=d.memoizedState,W||be!==he||Nl?(typeof Re=="function"&&(qb(d,p,Re,v),he=d.memoizedState),(ie=Nl||fk(d,p,ie,v,be,he,P))?(Ee||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(d.flags|=4194308)):(typeof D.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=he),D.props=v,D.state=he,D.context=P,v=ie):(typeof D.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{D=d.stateNode,fS(c,d),P=d.memoizedProps,Ee=eu(p,P),D.props=Ee,Re=d.pendingProps,be=D.context,he=p.contextType,ie=_h,typeof he=="object"&&he!==null&&(ie=Ws(he)),W=p.getDerivedStateFromProps,(he=typeof W=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(P!==Re||be!==ie)&&gk(d,D,v,ie),Nl=!1,be=d.memoizedState,D.state=be,lg(d,v,D,S),ag();var De=d.memoizedState;P!==Re||be!==De||Nl||c!==null&&c.dependencies!==null&&U0(c.dependencies)?(typeof W=="function"&&(qb(d,p,W,v),De=d.memoizedState),(Ee=Nl||fk(d,p,Ee,v,be,De,ie)||c!==null&&c.dependencies!==null&&U0(c.dependencies))?(he||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(v,De,ie),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(v,De,ie)),typeof D.componentDidUpdate=="function"&&(d.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof D.componentDidUpdate!="function"||P===c.memoizedProps&&be===c.memoizedState||(d.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||P===c.memoizedProps&&be===c.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=De),D.props=v,D.state=De,D.context=ie,v=Ee):(typeof D.componentDidUpdate!="function"||P===c.memoizedProps&&be===c.memoizedState||(d.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||P===c.memoizedProps&&be===c.memoizedState||(d.flags|=1024),v=!1)}return D=v,ng(c,d),v=(d.flags&128)!==0,D||v?(D=d.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:D.render(),d.flags|=1,c!==null&&v?(d.child=Xc(d,c.child,null,S),d.child=Xc(d,null,p,S)):Is(c,d,p,S),d.memoizedState=D.state,c=d.child):c=wa(c,d,S),c}function Rk(c,d,p,v){return Kf(),d.flags|=256,Is(c,d,p,v),d.child}var tS={dehydrated:null,treeContext:null,retryLane:0};function iS(c){return{baseLanes:c,cachePool:IR()}}function sS(c,d,p){return c=c!==null?c.childLanes&~p:0,d&&(c|=Ar),c}function kk(c,d,p){var v=d.pendingProps,S=!1,D=(d.flags&128)!==0,P;if((P=D)||(P=c!==null&&c.memoizedState===null?!1:(us.current&2)!==0),P&&(S=!0,d.flags&=-129),P=(d.flags&32)!==0,d.flags&=-33,c===null){if(zt){if(S?Il(d):Ll(),zt){var W=ks,ie;if(ie=W){e:{for(ie=W,W=Bo;ie.nodeType!==8;){if(!W){W=null;break e}if(ie=lo(ie.nextSibling),ie===null){W=null;break e}}W=ie}W!==null?(d.memoizedState={dehydrated:W,treeContext:Yc!==null?{id:Ca,overflow:xa}:null,retryLane:536870912},ie=Dr(18,null,null,0),ie.stateNode=W,ie.return=d,d.child=ie,dn=d,ks=null,ie=!0):ie=!1}ie||$c(d)}if(W=d.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return W.data==="$!"?d.lanes=16:d.lanes=536870912,null;ba(d)}return W=v.children,v=v.fallback,S?(Ll(),S=d.mode,W=rS({mode:"hidden",children:W},S),v=nu(v,S,p,null),W.return=d,v.return=d,W.sibling=v,d.child=W,S=d.child,S.memoizedState=iS(p),S.childLanes=sS(c,P,p),d.memoizedState=tS,v):(Il(d),nS(d,W))}if(ie=c.memoizedState,ie!==null&&(W=ie.dehydrated,W!==null)){if(D)d.flags&256?(Il(d),d.flags&=-257,d=oS(c,d,p)):d.memoizedState!==null?(Ll(),d.child=c.child,d.flags|=128,d=null):(Ll(),S=v.fallback,W=d.mode,v=rS({mode:"visible",children:v.children},W),S=nu(S,W,p,null),S.flags|=2,v.return=d,S.return=d,v.sibling=S,d.child=v,Xc(d,c.child,null,p),v=d.child,v.memoizedState=iS(p),v.childLanes=sS(c,P,p),d.memoizedState=tS,d=S);else if(Il(d),W.data==="$!"){if(P=W.nextSibling&&W.nextSibling.dataset,P)var he=P.dgst;P=he,v=Error(s(419)),v.stack="",v.digest=P,$f({value:v,source:null,stack:null}),d=oS(c,d,p)}else if(xs||rg(c,d,p,!1),P=(p&c.childLanes)!==0,xs||P){if(P=ui,P!==null){if(v=p&-p,(v&42)!==0)v=1;else switch(v){case 2:v=1;break;case 8:v=4;break;case 32:v=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:v=64;break;case 268435456:v=134217728;break;default:v=0}if(v=(v&(P.suspendedLanes|p))!==0?0:v,v!==0&&v!==ie.retryLane)throw ie.retryLane=v,kl(c,v),fn(P,c,v),bk}W.data==="$?"||PS(),d=oS(c,d,p)}else W.data==="$?"?(d.flags|=128,d.child=c.child,d=aW.bind(null,c),W._reactRetry=d,d=null):(c=ie.treeContext,ks=lo(W.nextSibling),dn=d,zt=!0,oo=null,Bo=!1,c!==null&&(xr[br++]=Ca,xr[br++]=xa,xr[br++]=Yc,Ca=c.id,xa=c.overflow,Yc=d),d=nS(d,v.children),d.flags|=4096);return d}return S?(Ll(),S=v.fallback,W=d.mode,ie=c.child,he=ie.sibling,v=Vl(ie,{mode:"hidden",children:v.children}),v.subtreeFlags=ie.subtreeFlags&31457280,he!==null?S=Vl(he,S):(S=nu(S,W,p,null),S.flags|=2),S.return=d,v.return=d,v.sibling=S,d.child=v,v=S,S=d.child,W=c.child.memoizedState,W===null?W=iS(p):(ie=W.cachePool,ie!==null?(he=hs._currentValue,ie=ie.parent!==he?{parent:he,pool:he}:ie):ie=IR(),W={baseLanes:W.baseLanes|p,cachePool:ie}),S.memoizedState=W,S.childLanes=sS(c,P,p),d.memoizedState=tS,v):(Il(d),p=c.child,c=p.sibling,p=Vl(p,{mode:"visible",children:v.children}),p.return=d,p.sibling=null,c!==null&&(P=d.deletions,P===null?(d.deletions=[c],d.flags|=16):P.push(c)),d.child=p,d.memoizedState=null,p)}function nS(c,d){return d=rS({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function rS(c,d){return iI(c,d,0,null)}function oS(c,d,p){return Xc(d,c.child,null,p),c=nS(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function Ik(c,d,p){c.lanes|=d;var v=c.alternate;v!==null&&(v.lanes|=d),uS(c.return,d,p)}function aS(c,d,p,v,S){var D=c.memoizedState;D===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:S}:(D.isBackwards=d,D.rendering=null,D.renderingStartTime=0,D.last=v,D.tail=p,D.tailMode=S)}function Lk(c,d,p){var v=d.pendingProps,S=v.revealOrder,D=v.tail;if(Is(c,d,v.children,p),v=us.current,(v&2)!==0)v=v&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Ik(c,p,d);else if(c.tag===19)Ik(c,p,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}v&=1}switch(de(us,v),S){case"forwards":for(p=d.child,S=null;p!==null;)c=p.alternate,c!==null&&L0(c)===null&&(S=p),p=p.sibling;p=S,p===null?(S=d.child,d.child=null):(S=p.sibling,p.sibling=null),aS(d,!1,S,p,D);break;case"backwards":for(p=null,S=d.child,d.child=null;S!==null;){if(c=S.alternate,c!==null&&L0(c)===null){d.child=S;break}c=S.sibling,S.sibling=p,p=S,S=c}aS(d,!0,p,null,D);break;case"together":aS(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function wa(c,d,p){if(c!==null&&(d.dependencies=c.dependencies),Wl|=d.lanes,(p&d.childLanes)===0)if(c!==null){if(rg(c,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(s(153));if(d.child!==null){for(c=d.child,p=Vl(c,c.pendingProps),d.child=p,p.return=d;c.sibling!==null;)c=c.sibling,p=p.sibling=Vl(c,c.pendingProps),p.return=d;p.sibling=null}return d.child}function lS(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&U0(c)))}function KV(c,d,p){switch(d.tag){case 3:je(d,d.stateNode.containerInfo),Ol(d,hs,c.memoizedState.cache),Kf();break;case 27:case 5:we(d);break;case 4:je(d,d.stateNode.containerInfo);break;case 10:Ol(d,d.type,d.memoizedProps.value);break;case 13:var v=d.memoizedState;if(v!==null)return v.dehydrated!==null?(Il(d),d.flags|=128,null):(p&d.child.childLanes)!==0?kk(c,d,p):(Il(d),c=wa(c,d,p),c!==null?c.sibling:null);Il(d);break;case 19:var S=(c.flags&128)!==0;if(v=(p&d.childLanes)!==0,v||(rg(c,d,p,!1),v=(p&d.childLanes)!==0),S){if(v)return Lk(c,d,p);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),de(us,us.current),v)break;return null;case 22:case 23:return d.lanes=0,Dk(c,d,p);case 24:Ol(d,hs,c.memoizedState.cache)}return wa(c,d,p)}function Fk(c,d,p){if(c!==null)if(c.memoizedProps!==d.pendingProps)xs=!0;else{if(!lS(c,p)&&(d.flags&128)===0)return xs=!1,KV(c,d,p);xs=(c.flags&131072)!==0}else xs=!1,zt&&(d.flags&1048576)!==0&&yR(d,E0,d.index);switch(d.lanes=0,d.tag){case 16:e:{c=d.pendingProps;var v=d.elementType,S=v._init;if(v=S(v._payload),d.type=v,typeof v=="function")SS(v)?(c=eu(v,c),d.tag=1,d=Tk(null,d,v,c,p)):(d.tag=0,d=eS(null,d,v,c,p));else{if(v!=null){if(S=v.$$typeof,S===y){d.tag=11,d=Sk(null,d,v,c,p);break e}else if(S===b){d.tag=14,d=wk(null,d,v,c,p);break e}}throw d=F(v)||v,Error(s(306,d,""))}}return d;case 0:return eS(c,d,d.type,d.pendingProps,p);case 1:return v=d.type,S=eu(v,d.pendingProps),Tk(c,d,v,S,p);case 3:e:{if(je(d,d.stateNode.containerInfo),c===null)throw Error(s(387));var D=d.pendingProps;S=d.memoizedState,v=S.element,fS(c,d),lg(d,D,null,p);var P=d.memoizedState;if(D=P.cache,Ol(d,hs,D),D!==S.cache&&hS(d,[hs],p,!0),ag(),D=P.element,S.isDehydrated)if(S={element:D,isDehydrated:!1,cache:P.cache},d.updateQueue.baseState=S,d.memoizedState=S,d.flags&256){d=Rk(c,d,D,p);break e}else if(D!==v){v=Cr(Error(s(424)),d),$f(v),d=Rk(c,d,D,p);break e}else for(ks=lo(d.stateNode.containerInfo.firstChild),dn=d,zt=!0,oo=null,Bo=!0,p=AR(d,null,D,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Kf(),D===v){d=wa(c,d,p);break e}Is(c,d,D,p)}d=d.child}return d;case 26:return ng(c,d),c===null?(p=NI(d.type,null,d.pendingProps,null))?d.memoizedState=p:zt||(p=d.type,c=d.pendingProps,v=oy(ze.current).createElement(p),v[U]=d,v[Y]=c,Ls(v,p,c),Be(v),d.stateNode=v):d.memoizedState=NI(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return we(d),c===null&&zt&&(v=d.stateNode=FI(d.type,d.pendingProps,ze.current),dn=d,Bo=!0,ks=lo(v.firstChild)),v=d.pendingProps.children,c!==null||zt?Is(c,d,v,p):d.child=Xc(d,null,v,p),ng(c,d),d.child;case 5:return c===null&&zt&&((S=v=ks)&&(v=wW(v,d.type,d.pendingProps,Bo),v!==null?(d.stateNode=v,dn=d,ks=lo(v.firstChild),Bo=!1,S=!0):S=!1),S||$c(d)),we(d),S=d.type,D=d.pendingProps,P=c!==null?c.memoizedProps:null,v=D.children,$S(S,D)?v=null:P!==null&&$S(S,P)&&(d.flags|=32),d.memoizedState!==null&&(S=Nb(c,d,zV,null,null,p),wg._currentValue=S),ng(c,d),Is(c,d,v,p),d.child;case 6:return c===null&&zt&&((c=p=ks)&&(p=MW(p,d.pendingProps,Bo),p!==null?(d.stateNode=p,dn=d,ks=null,c=!0):c=!1),c||$c(d)),null;case 13:return kk(c,d,p);case 4:return je(d,d.stateNode.containerInfo),v=d.pendingProps,c===null?d.child=Xc(d,null,v,p):Is(c,d,v,p),d.child;case 11:return Sk(c,d,d.type,d.pendingProps,p);case 7:return Is(c,d,d.pendingProps,p),d.child;case 8:return Is(c,d,d.pendingProps.children,p),d.child;case 12:return Is(c,d,d.pendingProps.children,p),d.child;case 10:return v=d.pendingProps,Ol(d,d.type,v.value),Is(c,d,v.children,p),d.child;case 9:return S=d.type._context,v=d.pendingProps.children,iu(d),S=Ws(S),v=v(S),d.flags|=1,Is(c,d,v,p),d.child;case 14:return wk(c,d,d.type,d.pendingProps,p);case 15:return Mk(c,d,d.type,d.pendingProps,p);case 19:return Lk(c,d,p);case 22:return Dk(c,d,p);case 24:return iu(d),v=Ws(hs),c===null?(S=Pb(),S===null&&(S=ui,D=Lb(),S.pooledCache=D,D.refCount++,D!==null&&(S.pooledCacheLanes|=p),S=D),d.memoizedState={parent:v,cache:S},dS(d),Ol(d,hs,S)):((c.lanes&p)!==0&&(fS(c,d),lg(d,null,null,p),ag()),S=c.memoizedState,D=d.memoizedState,S.parent!==v?(S={parent:v,cache:v},d.memoizedState=S,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=S),Ol(d,hs,v)):(v=D.cache,Ol(d,hs,v),v!==S.cache&&hS(d,[hs],p,!0))),Is(c,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(s(156,d.tag))}var cS=ce(null),tu=null,Ma=null;function Ol(c,d,p){de(cS,d._currentValue),d._currentValue=p}function Da(c){c._currentValue=cS.current,ue(cS)}function uS(c,d,p){for(;c!==null;){var v=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),c===p)break;c=c.return}}function hS(c,d,p,v){var S=c.child;for(S!==null&&(S.return=c);S!==null;){var D=S.dependencies;if(D!==null){var P=S.child;D=D.firstContext;e:for(;D!==null;){var W=D;D=S;for(var ie=0;ie<d.length;ie++)if(W.context===d[ie]){D.lanes|=p,W=D.alternate,W!==null&&(W.lanes|=p),uS(D.return,p,c),v||(P=null);break e}D=W.next}}else if(S.tag===18){if(P=S.return,P===null)throw Error(s(341));P.lanes|=p,D=P.alternate,D!==null&&(D.lanes|=p),uS(P,p,c),P=null}else P=S.child;if(P!==null)P.return=S;else for(P=S;P!==null;){if(P===c){P=null;break}if(S=P.sibling,S!==null){S.return=P.return,P=S;break}P=P.return}S=P}}function rg(c,d,p,v){c=null;for(var S=d,D=!1;S!==null;){if(!D){if((S.flags&524288)!==0)D=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var P=S.alternate;if(P===null)throw Error(s(387));if(P=P.memoizedProps,P!==null){var W=S.type;Zn(S.pendingProps.value,P.value)||(c!==null?c.push(W):c=[W])}}else if(S===_e.current){if(P=S.alternate,P===null)throw Error(s(387));P.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(c!==null?c.push(wg):c=[wg])}S=S.return}c!==null&&hS(d,c,p,v),d.flags|=262144}function U0(c){for(c=c.firstContext;c!==null;){if(!Zn(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function iu(c){tu=c,Ma=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ws(c){return Pk(tu,c)}function j0(c,d){return tu===null&&iu(c),Pk(c,d)}function Pk(c,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},Ma===null){if(c===null)throw Error(s(308));Ma=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else Ma=Ma.next=d;return p}var Nl=!1;function dS(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fS(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function _l(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Bl(c,d,p){var v=c.updateQueue;if(v===null)return null;if(v=v.shared,(Di&2)!==0){var S=v.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),v.pending=d,d=D0(c),pR(c,null,p),d}return M0(c,v,d,p),D0(c)}function og(c,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194176)!==0)){var v=d.lanes;v&=c.pendingLanes,p|=v,d.lanes=p,u0(c,p)}}function gS(c,d){var p=c.updateQueue,v=c.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var S=null,D=null;if(p=p.firstBaseUpdate,p!==null){do{var P={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};D===null?S=D=P:D=D.next=P,p=p.next}while(p!==null);D===null?S=D=d:D=D.next=d}else S=D=d;p={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:D,shared:v.shared,callbacks:v.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=d}var pS=!1;function ag(){if(pS){var c=Wh;if(c!==null)throw c}}function lg(c,d,p,v){pS=!1;var S=c.updateQueue;Nl=!1;var D=S.firstBaseUpdate,P=S.lastBaseUpdate,W=S.shared.pending;if(W!==null){S.shared.pending=null;var ie=W,he=ie.next;ie.next=null,P===null?D=he:P.next=he,P=ie;var Ee=c.alternate;Ee!==null&&(Ee=Ee.updateQueue,W=Ee.lastBaseUpdate,W!==P&&(W===null?Ee.firstBaseUpdate=he:W.next=he,Ee.lastBaseUpdate=ie))}if(D!==null){var Re=S.baseState;P=0,Ee=he=ie=null,W=D;do{var be=W.lane&-536870913,De=be!==W.lane;if(De?(Ft&be)===be:(v&be)===be){be!==0&&be===Vh&&(pS=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Je=c,mt=W;be=d;var _i=p;switch(mt.tag){case 1:if(Je=mt.payload,typeof Je=="function"){Re=Je.call(_i,Re,be);break e}Re=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=mt.payload,be=typeof Je=="function"?Je.call(_i,Re,be):Je,be==null)break e;Re=N({},Re,be);break e;case 2:Nl=!0}}be=W.callback,be!==null&&(c.flags|=64,De&&(c.flags|=8192),De=S.callbacks,De===null?S.callbacks=[be]:De.push(be))}else De={lane:be,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Ee===null?(he=Ee=De,ie=Re):Ee=Ee.next=De,P|=be;if(W=W.next,W===null){if(W=S.shared.pending,W===null)break;De=W,W=De.next,De.next=null,S.lastBaseUpdate=De,S.shared.pending=null}}while(!0);Ee===null&&(ie=Re),S.baseState=ie,S.firstBaseUpdate=he,S.lastBaseUpdate=Ee,D===null&&(S.shared.lanes=0),Wl|=P,c.lanes=P,c.memoizedState=Re}}function Ok(c,d){if(typeof c!="function")throw Error(s(191,c));c.call(d)}function Nk(c,d){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)Ok(p[c],d)}function cg(c,d){try{var p=d.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var S=v.next;p=S;do{if((p.tag&c)===c){v=void 0;var D=p.create,P=p.inst;v=D(),P.destroy=v}p=p.next}while(p!==S)}}catch(W){si(d,d.return,W)}}function Gl(c,d,p){try{var v=d.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var D=S.next;v=D;do{if((v.tag&c)===c){var P=v.inst,W=P.destroy;if(W!==void 0){P.destroy=void 0,S=d;var ie=p;try{W()}catch(he){si(S,ie,he)}}}v=v.next}while(v!==D)}}catch(he){si(d,d.return,he)}}function _k(c){var d=c.updateQueue;if(d!==null){var p=c.stateNode;try{Nk(d,p)}catch(v){si(c,c.return,v)}}}function Bk(c,d,p){p.props=eu(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(v){si(c,d,v)}}function su(c,d){try{var p=c.ref;if(p!==null){var v=c.stateNode;switch(c.tag){case 26:case 27:case 5:var S=v;break;default:S=v}typeof p=="function"?c.refCleanup=p(S):p.current=S}}catch(D){si(c,d,D)}}function qn(c,d){var p=c.ref,v=c.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(S){si(c,d,S)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){si(c,d,S)}else p.current=null}function Gk(c){var d=c.type,p=c.memoizedProps,v=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(S){si(c,c.return,S)}}function zk(c,d,p){try{var v=c.stateNode;vW(v,c.type,p,d),v[Y]=d}catch(S){si(c,c.return,S)}}function Hk(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27||c.tag===4}function mS(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Hk(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==27&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function yS(c,d,p){var v=c.tag;if(v===5||v===6)c=c.stateNode,d?p.nodeType===8?p.parentNode.insertBefore(c,d):p.insertBefore(c,d):(p.nodeType===8?(d=p.parentNode,d.insertBefore(c,p)):(d=p,d.appendChild(c)),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=ry));else if(v!==4&&v!==27&&(c=c.child,c!==null))for(yS(c,d,p),c=c.sibling;c!==null;)yS(c,d,p),c=c.sibling}function Y0(c,d,p){var v=c.tag;if(v===5||v===6)c=c.stateNode,d?p.insertBefore(c,d):p.appendChild(c);else if(v!==4&&v!==27&&(c=c.child,c!==null))for(Y0(c,d,p),c=c.sibling;c!==null;)Y0(c,d,p),c=c.sibling}var Aa=!1,Oi=!1,vS=!1,Vk=typeof WeakSet=="function"?WeakSet:Set,bs=null,Wk=!1;function $V(c,d){if(c=c.containerInfo,YS=dy,c=oR(c),xb(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var S=v.anchorOffset,D=v.focusNode;v=v.focusOffset;try{p.nodeType,D.nodeType}catch{p=null;break e}var P=0,W=-1,ie=-1,he=0,Ee=0,Re=c,be=null;t:for(;;){for(var De;Re!==p||S!==0&&Re.nodeType!==3||(W=P+S),Re!==D||v!==0&&Re.nodeType!==3||(ie=P+v),Re.nodeType===3&&(P+=Re.nodeValue.length),(De=Re.firstChild)!==null;)be=Re,Re=De;for(;;){if(Re===c)break t;if(be===p&&++he===S&&(W=P),be===D&&++Ee===v&&(ie=P),(De=Re.nextSibling)!==null)break;Re=be,be=Re.parentNode}Re=De}p=W===-1||ie===-1?null:{start:W,end:ie}}else p=null}p=p||{start:0,end:0}}else p=null;for(KS={focusedElem:c,selectionRange:p},dy=!1,bs=d;bs!==null;)if(d=bs,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,bs=c;else for(;bs!==null;){switch(d=bs,D=d.alternate,c=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&D!==null){c=void 0,p=d,S=D.memoizedProps,D=D.memoizedState,v=p.stateNode;try{var Je=eu(p.type,S,p.elementType===p.type);c=v.getSnapshotBeforeUpdate(Je,D),v.__reactInternalSnapshotBeforeUpdate=c}catch(mt){si(p,p.return,mt)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,p=c.nodeType,p===9)qS(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":qS(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(s(163))}if(c=d.sibling,c!==null){c.return=d.return,bs=c;break}bs=d.return}return Je=Wk,Wk=!1,Je}function Uk(c,d,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:Ta(c,p),v&4&&cg(5,p);break;case 1:if(Ta(c,p),v&4)if(c=p.stateNode,d===null)try{c.componentDidMount()}catch(W){si(p,p.return,W)}else{var S=eu(p.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(S,d,c.__reactInternalSnapshotBeforeUpdate)}catch(W){si(p,p.return,W)}}v&64&&_k(p),v&512&&su(p,p.return);break;case 3:if(Ta(c,p),v&64&&(v=p.updateQueue,v!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{Nk(v,c)}catch(W){si(p,p.return,W)}}break;case 26:Ta(c,p),v&512&&su(p,p.return);break;case 27:case 5:Ta(c,p),d===null&&v&4&&Gk(p),v&512&&su(p,p.return);break;case 12:Ta(c,p);break;case 13:Ta(c,p),v&4&&Kk(c,p);break;case 22:if(S=p.memoizedState!==null||Aa,!S){d=d!==null&&d.memoizedState!==null||Oi;var D=Aa,P=Oi;Aa=S,(Oi=d)&&!P?zl(c,p,(p.subtreeFlags&8772)!==0):Ta(c,p),Aa=D,Oi=P}v&512&&(p.memoizedProps.mode==="manual"?su(p,p.return):qn(p,p.return));break;default:Ta(c,p)}}function jk(c){var d=c.alternate;d!==null&&(c.alternate=null,jk(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&xe(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Ji=null,Qn=!1;function Ea(c,d,p){for(p=p.child;p!==null;)Yk(c,d,p),p=p.sibling}function Yk(c,d,p){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(pi,p)}catch{}switch(p.tag){case 26:Oi||qn(p,d),Ea(c,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Oi||qn(p,d);var v=Ji,S=Qn;for(Ji=p.stateNode,Ea(c,d,p),p=p.stateNode,d=p.attributes;d.length;)p.removeAttributeNode(d[0]);xe(p),Ji=v,Qn=S;break;case 5:Oi||qn(p,d);case 6:S=Ji;var D=Qn;if(Ji=null,Ea(c,d,p),Ji=S,Qn=D,Ji!==null)if(Qn)try{c=Ji,v=p.stateNode,c.nodeType===8?c.parentNode.removeChild(v):c.removeChild(v)}catch(P){si(p,d,P)}else try{Ji.removeChild(p.stateNode)}catch(P){si(p,d,P)}break;case 18:Ji!==null&&(Qn?(d=Ji,p=p.stateNode,d.nodeType===8?ZS(d.parentNode,p):d.nodeType===1&&ZS(d,p),Eg(d)):ZS(Ji,p.stateNode));break;case 4:v=Ji,S=Qn,Ji=p.stateNode.containerInfo,Qn=!0,Ea(c,d,p),Ji=v,Qn=S;break;case 0:case 11:case 14:case 15:Oi||Gl(2,p,d),Oi||Gl(4,p,d),Ea(c,d,p);break;case 1:Oi||(qn(p,d),v=p.stateNode,typeof v.componentWillUnmount=="function"&&Bk(p,d,v)),Ea(c,d,p);break;case 21:Ea(c,d,p);break;case 22:Oi||qn(p,d),Oi=(v=Oi)||p.memoizedState!==null,Ea(c,d,p),Oi=v;break;default:Ea(c,d,p)}}function Kk(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Eg(c)}catch(p){si(d,d.return,p)}}function XV(c){switch(c.tag){case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new Vk),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new Vk),d;default:throw Error(s(435,c.tag))}}function CS(c,d){var p=XV(c);d.forEach(function(v){var S=lW.bind(null,c,v);p.has(v)||(p.add(v),v.then(S,S))})}function wr(c,d){var p=d.deletions;if(p!==null)for(var v=0;v<p.length;v++){var S=p[v],D=c,P=d,W=P;e:for(;W!==null;){switch(W.tag){case 27:case 5:Ji=W.stateNode,Qn=!1;break e;case 3:Ji=W.stateNode.containerInfo,Qn=!0;break e;case 4:Ji=W.stateNode.containerInfo,Qn=!0;break e}W=W.return}if(Ji===null)throw Error(s(160));Yk(D,P,S),Ji=null,Qn=!1,D=S.alternate,D!==null&&(D.return=null),S.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)$k(d,c),d=d.sibling}var ao=null;function $k(c,d){var p=c.alternate,v=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:wr(d,c),Mr(c),v&4&&(Gl(3,c,c.return),cg(3,c),Gl(5,c,c.return));break;case 1:wr(d,c),Mr(c),v&512&&(Oi||p===null||qn(p,p.return)),v&64&&Aa&&(c=c.updateQueue,c!==null&&(v=c.callbacks,v!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var S=ao;if(wr(d,c),Mr(c),v&512&&(Oi||p===null||qn(p,p.return)),v&4){var D=p!==null?p.memoizedState:null;if(v=c.memoizedState,p===null)if(v===null)if(c.stateNode===null){e:{v=c.type,p=c.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":D=S.getElementsByTagName("title")[0],(!D||D[ve]||D[U]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=S.createElement(v),S.head.insertBefore(D,S.querySelector("head > title"))),Ls(D,v,p),D[U]=c,Be(D),v=D;break e;case"link":var P=GI("link","href",S).get(v+(p.href||""));if(P){for(var W=0;W<P.length;W++)if(D=P[W],D.getAttribute("href")===(p.href==null?null:p.href)&&D.getAttribute("rel")===(p.rel==null?null:p.rel)&&D.getAttribute("title")===(p.title==null?null:p.title)&&D.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){P.splice(W,1);break t}}D=S.createElement(v),Ls(D,v,p),S.head.appendChild(D);break;case"meta":if(P=GI("meta","content",S).get(v+(p.content||""))){for(W=0;W<P.length;W++)if(D=P[W],D.getAttribute("content")===(p.content==null?null:""+p.content)&&D.getAttribute("name")===(p.name==null?null:p.name)&&D.getAttribute("property")===(p.property==null?null:p.property)&&D.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&D.getAttribute("charset")===(p.charSet==null?null:p.charSet)){P.splice(W,1);break t}}D=S.createElement(v),Ls(D,v,p),S.head.appendChild(D);break;default:throw Error(s(468,v))}D[U]=c,Be(D),v=D}c.stateNode=v}else zI(S,c.type,c.stateNode);else c.stateNode=BI(S,v,c.memoizedProps);else D!==v?(D===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):D.count--,v===null?zI(S,c.type,c.stateNode):BI(S,v,c.memoizedProps)):v===null&&c.stateNode!==null&&zk(c,c.memoizedProps,p.memoizedProps)}break;case 27:if(v&4&&c.alternate===null){S=c.stateNode,D=c.memoizedProps;try{for(var ie=S.firstChild;ie;){var he=ie.nextSibling,Ee=ie.nodeName;ie[ve]||Ee==="HEAD"||Ee==="BODY"||Ee==="SCRIPT"||Ee==="STYLE"||Ee==="LINK"&&ie.rel.toLowerCase()==="stylesheet"||S.removeChild(ie),ie=he}for(var Re=c.type,be=S.attributes;be.length;)S.removeAttributeNode(be[0]);Ls(S,Re,D),S[U]=c,S[Y]=D}catch(Je){si(c,c.return,Je)}}case 5:if(wr(d,c),Mr(c),v&512&&(Oi||p===null||qn(p,p.return)),c.flags&32){S=c.stateNode;try{kh(S,"")}catch(Je){si(c,c.return,Je)}}v&4&&c.stateNode!=null&&(S=c.memoizedProps,zk(c,S,p!==null?p.memoizedProps:S)),v&1024&&(vS=!0);break;case 6:if(wr(d,c),Mr(c),v&4){if(c.stateNode===null)throw Error(s(162));v=c.memoizedProps,p=c.stateNode;try{p.nodeValue=v}catch(Je){si(c,c.return,Je)}}break;case 3:if(cy=null,S=ao,ao=ay(d.containerInfo),wr(d,c),ao=S,Mr(c),v&4&&p!==null&&p.memoizedState.isDehydrated)try{Eg(d.containerInfo)}catch(Je){si(c,c.return,Je)}vS&&(vS=!1,Xk(c));break;case 4:v=ao,ao=ay(c.stateNode.containerInfo),wr(d,c),Mr(c),ao=v;break;case 12:wr(d,c),Mr(c);break;case 13:wr(d,c),Mr(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(TS=Lt()),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,CS(c,v)));break;case 22:if(v&512&&(Oi||p===null||qn(p,p.return)),ie=c.memoizedState!==null,he=p!==null&&p.memoizedState!==null,Ee=Aa,Re=Oi,Aa=Ee||ie,Oi=Re||he,wr(d,c),Oi=Re,Aa=Ee,Mr(c),d=c.stateNode,d._current=c,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,v&8192&&(d._visibility=ie?d._visibility&-2:d._visibility|1,ie&&(d=Aa||Oi,p===null||he||d||Kh(c)),c.memoizedProps===null||c.memoizedProps.mode!=="manual"))e:for(p=null,d=c;;){if(d.tag===5||d.tag===26||d.tag===27){if(p===null){he=p=d;try{if(S=he.stateNode,ie)D=S.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{P=he.stateNode,W=he.memoizedProps.style;var De=W!=null&&W.hasOwnProperty("display")?W.display:null;P.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Je){si(he,he.return,Je)}}}else if(d.tag===6){if(p===null){he=d;try{he.stateNode.nodeValue=ie?"":he.memoizedProps}catch(Je){si(he,he.return,Je)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}v&4&&(v=c.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,CS(c,p))));break;case 19:wr(d,c),Mr(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,CS(c,v)));break;case 21:break;default:wr(d,c),Mr(c)}}function Mr(c){var d=c.flags;if(d&2){try{if(c.tag!==27){e:{for(var p=c.return;p!==null;){if(Hk(p)){var v=p;break e}p=p.return}throw Error(s(160))}switch(v.tag){case 27:var S=v.stateNode,D=mS(c);Y0(c,D,S);break;case 5:var P=v.stateNode;v.flags&32&&(kh(P,""),v.flags&=-33);var W=mS(c);Y0(c,W,P);break;case 3:case 4:var ie=v.stateNode.containerInfo,he=mS(c);yS(c,he,ie);break;default:throw Error(s(161))}}}catch(Ee){si(c,c.return,Ee)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function Xk(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;Xk(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Ta(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)Uk(c,d.alternate,d),d=d.sibling}function Kh(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Gl(4,d,d.return),Kh(d);break;case 1:qn(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&Bk(d,d.return,p),Kh(d);break;case 26:case 27:case 5:qn(d,d.return),Kh(d);break;case 22:qn(d,d.return),d.memoizedState===null&&Kh(d);break;default:Kh(d)}c=c.sibling}}function zl(c,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var v=d.alternate,S=c,D=d,P=D.flags;switch(D.tag){case 0:case 11:case 15:zl(S,D,p),cg(4,D);break;case 1:if(zl(S,D,p),v=D,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(he){si(v,v.return,he)}if(v=D,S=v.updateQueue,S!==null){var W=v.stateNode;try{var ie=S.shared.hiddenCallbacks;if(ie!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ie.length;S++)Ok(ie[S],W)}catch(he){si(v,v.return,he)}}p&&P&64&&_k(D),su(D,D.return);break;case 26:case 27:case 5:zl(S,D,p),p&&v===null&&P&4&&Gk(D),su(D,D.return);break;case 12:zl(S,D,p);break;case 13:zl(S,D,p),p&&P&4&&Kk(S,D);break;case 22:D.memoizedState===null&&zl(S,D,p),su(D,D.return);break;default:zl(S,D,p)}d=d.sibling}}function xS(c,d){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&Jf(p))}function bS(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Jf(c))}function Hl(c,d,p,v){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Zk(c,d,p,v),d=d.sibling}function Zk(c,d,p,v){var S=d.flags;switch(d.tag){case 0:case 11:case 15:Hl(c,d,p,v),S&2048&&cg(9,d);break;case 3:Hl(c,d,p,v),S&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Jf(c)));break;case 12:if(S&2048){Hl(c,d,p,v),c=d.stateNode;try{var D=d.memoizedProps,P=D.id,W=D.onPostCommit;typeof W=="function"&&W(P,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(ie){si(d,d.return,ie)}}else Hl(c,d,p,v);break;case 23:break;case 22:D=d.stateNode,d.memoizedState!==null?D._visibility&4?Hl(c,d,p,v):ug(c,d):D._visibility&4?Hl(c,d,p,v):(D._visibility|=4,$h(c,d,p,v,(d.subtreeFlags&10256)!==0)),S&2048&&xS(d.alternate,d);break;case 24:Hl(c,d,p,v),S&2048&&bS(d.alternate,d);break;default:Hl(c,d,p,v)}}function $h(c,d,p,v,S){for(S=S&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var D=c,P=d,W=p,ie=v,he=P.flags;switch(P.tag){case 0:case 11:case 15:$h(D,P,W,ie,S),cg(8,P);break;case 23:break;case 22:var Ee=P.stateNode;P.memoizedState!==null?Ee._visibility&4?$h(D,P,W,ie,S):ug(D,P):(Ee._visibility|=4,$h(D,P,W,ie,S)),S&&he&2048&&xS(P.alternate,P);break;case 24:$h(D,P,W,ie,S),S&&he&2048&&bS(P.alternate,P);break;default:$h(D,P,W,ie,S)}d=d.sibling}}function ug(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=c,v=d,S=v.flags;switch(v.tag){case 22:ug(p,v),S&2048&&xS(v.alternate,v);break;case 24:ug(p,v),S&2048&&bS(v.alternate,v);break;default:ug(p,v)}d=d.sibling}}var hg=8192;function Xh(c){if(c.subtreeFlags&hg)for(c=c.child;c!==null;)qk(c),c=c.sibling}function qk(c){switch(c.tag){case 26:Xh(c),c.flags&hg&&c.memoizedState!==null&&_W(ao,c.memoizedState,c.memoizedProps);break;case 5:Xh(c);break;case 3:case 4:var d=ao;ao=ay(c.stateNode.containerInfo),Xh(c),ao=d;break;case 22:c.memoizedState===null&&(d=c.alternate,d!==null&&d.memoizedState!==null?(d=hg,hg=16777216,Xh(c),hg=d):Xh(c));break;default:Xh(c)}}function Qk(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function dg(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var v=d[p];bs=v,eI(v,c)}Qk(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Jk(c),c=c.sibling}function Jk(c){switch(c.tag){case 0:case 11:case 15:dg(c),c.flags&2048&&Gl(9,c,c.return);break;case 3:dg(c);break;case 12:dg(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&4&&(c.return===null||c.return.tag!==13)?(d._visibility&=-5,K0(c)):dg(c);break;default:dg(c)}}function K0(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var v=d[p];bs=v,eI(v,c)}Qk(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Gl(8,d,d.return),K0(d);break;case 22:p=d.stateNode,p._visibility&4&&(p._visibility&=-5,K0(d));break;default:K0(d)}c=c.sibling}}function eI(c,d){for(;bs!==null;){var p=bs;switch(p.tag){case 0:case 11:case 15:Gl(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Jf(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,bs=v;else e:for(p=c;bs!==null;){v=bs;var S=v.sibling,D=v.return;if(jk(v),v===p){bs=null;break e}if(S!==null){S.return=D,bs=S;break e}bs=D}}}function ZV(c,d,p,v){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(c,d,p,v){return new ZV(c,d,p,v)}function SS(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Vl(c,d){var p=c.alternate;return p===null?(p=Dr(c.tag,d,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=d,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&31457280,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,d=c.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function tI(c,d){c.flags&=31457282;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,d=p.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function $0(c,d,p,v,S,D){var P=0;if(v=c,typeof c=="function")SS(c)&&(P=1);else if(typeof c=="string")P=OW(c,p,Le.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case l:return nu(p.children,S,D,d);case u:P=8,S|=24;break;case h:return c=Dr(12,p,d,S|2),c.elementType=h,c.lanes=D,c;case C:return c=Dr(13,p,d,S),c.elementType=C,c.lanes=D,c;case x:return c=Dr(19,p,d,S),c.elementType=x,c.lanes=D,c;case M:return iI(p,S,D,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case f:case m:P=10;break e;case g:P=9;break e;case y:P=11;break e;case b:P=14;break e;case w:P=16,v=null;break e}P=29,p=Error(s(130,c===null?"null":typeof c,"")),v=null}return d=Dr(P,p,d,S),d.elementType=c,d.type=v,d.lanes=D,d}function nu(c,d,p,v){return c=Dr(7,c,v,d),c.lanes=p,c}function iI(c,d,p,v){c=Dr(22,c,v,d),c.elementType=M,c.lanes=p;var S={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var D=S._current;if(D===null)throw Error(s(456));if((S._pendingVisibility&2)===0){var P=kl(D,2);P!==null&&(S._pendingVisibility|=2,fn(P,D,2))}},attach:function(){var D=S._current;if(D===null)throw Error(s(456));if((S._pendingVisibility&2)!==0){var P=kl(D,2);P!==null&&(S._pendingVisibility&=-3,fn(P,D,2))}}};return c.stateNode=S,c}function wS(c,d,p){return c=Dr(6,c,null,d),c.lanes=p,c}function MS(c,d,p){return d=Dr(4,c.children!==null?c.children:[],c.key,d),d.lanes=p,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function Ra(c){c.flags|=4}function sI(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!HI(d)){if(d=Sr.current,d!==null&&((Ft&4194176)===Ft?Go!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||d!==Go))throw Zf=Rb,xR;c.flags|=8192}}function X0(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?c0():536870912,c.lanes|=d,qh|=d)}function fg(c,d){if(!zt)switch(c.tailMode){case"hidden":d=c.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:v.sibling=null}}function Mi(c){var d=c.alternate!==null&&c.alternate.child===c.child,p=0,v=0;if(d)for(var S=c.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags&31457280,v|=S.flags&31457280,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=v,c.childLanes=p,d}function qV(c,d,p){var v=d.pendingProps;switch(Eb(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(d),null;case 1:return Mi(d),null;case 3:return p=d.stateNode,v=null,c!==null&&(v=c.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),Da(hs),Ue(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(Yf(d)?Ra(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,oo!==null&&(LS(oo),oo=null))),Mi(d),null;case 26:return p=d.memoizedState,c===null?(Ra(d),p!==null?(Mi(d),sI(d,p)):(Mi(d),d.flags&=-16777217)):p?p!==c.memoizedState?(Ra(d),Mi(d),sI(d,p)):(Mi(d),d.flags&=-16777217):(c.memoizedProps!==v&&Ra(d),Mi(d),d.flags&=-16777217),null;case 27:qe(d),p=ze.current;var S=d.type;if(c!==null&&d.stateNode!=null)c.memoizedProps!==v&&Ra(d);else{if(!v){if(d.stateNode===null)throw Error(s(166));return Mi(d),null}c=Le.current,Yf(d)?vR(d):(c=FI(S,v,p),d.stateNode=c,Ra(d))}return Mi(d),null;case 5:if(qe(d),p=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==v&&Ra(d);else{if(!v){if(d.stateNode===null)throw Error(s(166));return Mi(d),null}if(c=Le.current,Yf(d))vR(d);else{switch(S=oy(ze.current),c){case 1:c=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:c=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":c=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":c=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":c=S.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof v.is=="string"?S.createElement("select",{is:v.is}):S.createElement("select"),v.multiple?c.multiple=!0:v.size&&(c.size=v.size);break;default:c=typeof v.is=="string"?S.createElement(p,{is:v.is}):S.createElement(p)}}c[U]=d,c[Y]=v;e:for(S=d.child;S!==null;){if(S.tag===5||S.tag===6)c.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===d)break e;for(;S.sibling===null;){if(S.return===null||S.return===d)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}d.stateNode=c;e:switch(Ls(c,p,v),p){case"button":case"input":case"select":case"textarea":c=!!v.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ra(d)}}return Mi(d),d.flags&=-16777217,null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==v&&Ra(d);else{if(typeof v!="string"&&d.stateNode===null)throw Error(s(166));if(c=ze.current,Yf(d)){if(c=d.stateNode,p=d.memoizedProps,v=null,S=dn,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}c[U]=d,c=!!(c.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||EI(c.nodeValue,p)),c||$c(d)}else c=oy(c).createTextNode(v),c[U]=d,d.stateNode=c}return Mi(d),null;case 13:if(v=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(S=Yf(d),v!==null&&v.dehydrated!==null){if(c===null){if(!S)throw Error(s(318));if(S=d.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(s(317));S[U]=d}else Kf(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Mi(d),S=!1}else oo!==null&&(LS(oo),oo=null),S=!0;if(!S)return d.flags&256?(ba(d),d):(ba(d),null)}if(ba(d),(d.flags&128)!==0)return d.lanes=p,d;if(p=v!==null,c=c!==null&&c.memoizedState!==null,p){v=d.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool);var D=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(D=v.memoizedState.cachePool.pool),D!==S&&(v.flags|=2048)}return p!==c&&p&&(d.child.flags|=8192),X0(d,d.updateQueue),Mi(d),null;case 4:return Ue(),c===null&&WS(d.stateNode.containerInfo),Mi(d),null;case 10:return Da(d.type),Mi(d),null;case 19:if(ue(us),S=d.memoizedState,S===null)return Mi(d),null;if(v=(d.flags&128)!==0,D=S.rendering,D===null)if(v)fg(S,!1);else{if(Ni!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(D=L0(c),D!==null){for(d.flags|=128,fg(S,!1),c=D.updateQueue,d.updateQueue=c,X0(d,c),d.subtreeFlags=0,c=p,p=d.child;p!==null;)tI(p,c),p=p.sibling;return de(us,us.current&1|2),d.child}c=c.sibling}S.tail!==null&&Lt()>Z0&&(d.flags|=128,v=!0,fg(S,!1),d.lanes=4194304)}else{if(!v)if(c=L0(D),c!==null){if(d.flags|=128,v=!0,c=c.updateQueue,d.updateQueue=c,X0(d,c),fg(S,!0),S.tail===null&&S.tailMode==="hidden"&&!D.alternate&&!zt)return Mi(d),null}else 2*Lt()-S.renderingStartTime>Z0&&p!==536870912&&(d.flags|=128,v=!0,fg(S,!1),d.lanes=4194304);S.isBackwards?(D.sibling=d.child,d.child=D):(c=S.last,c!==null?c.sibling=D:d.child=D,S.last=D)}return S.tail!==null?(d=S.tail,S.rendering=d,S.tail=d.sibling,S.renderingStartTime=Lt(),d.sibling=null,c=us.current,de(us,v?c&1|2:c&1),d):(Mi(d),null);case 22:case 23:return ba(d),Ib(),v=d.memoizedState!==null,c!==null?c.memoizedState!==null!==v&&(d.flags|=8192):v&&(d.flags|=8192),v?(p&536870912)!==0&&(d.flags&128)===0&&(Mi(d),d.subtreeFlags&6&&(d.flags|=8192)):Mi(d),p=d.updateQueue,p!==null&&X0(d,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==p&&(d.flags|=2048),c!==null&&ue(Zc),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),Da(hs),Mi(d),null;case 25:return null}throw Error(s(156,d.tag))}function QV(c,d){switch(Eb(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Da(hs),Ue(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return qe(d),null;case 13:if(ba(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(s(340));Kf()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return ue(us),null;case 4:return Ue(),null;case 10:return Da(d.type),null;case 22:case 23:return ba(d),Ib(),c!==null&&ue(Zc),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return Da(hs),null;case 25:return null;default:return null}}function nI(c,d){switch(Eb(d),d.tag){case 3:Da(hs),Ue();break;case 26:case 27:case 5:qe(d);break;case 4:Ue();break;case 13:ba(d);break;case 19:ue(us);break;case 10:Da(d.type);break;case 22:case 23:ba(d),Ib(),c!==null&&ue(Zc);break;case 24:Da(hs)}}var JV={getCacheForType:function(c){var d=Ws(hs),p=d.data.get(c);return p===void 0&&(p=c(),d.data.set(c,p)),p}},eW=typeof WeakMap=="function"?WeakMap:Map,Di=0,ui=null,At=null,Ft=0,hi=0,Jn=null,ka=!1,Zh=!1,DS=!1,Ia=0,Ni=0,Wl=0,ru=0,AS=0,Ar=0,qh=0,gg=null,Ho=null,ES=!1,TS=0,Z0=1/0,q0=null,Ul=null,Q0=!1,ou=null,pg=0,RS=0,kS=null,mg=0,IS=null;function er(){if((Di&2)!==0&&Ft!==0)return Ft&-Ft;if(I.T!==null){var c=Vh;return c!==0?c:GS()}return d0()}function rI(){Ar===0&&(Ar=(Ft&536870912)===0||zt?l0():536870912);var c=Sr.current;return c!==null&&(c.flags|=32),Ar}function fn(c,d,p){(c===ui&&hi===2||c.cancelPendingCommit!==null)&&(Qh(c,0),La(c,Ft,Ar,!1)),Hc(c,p),((Di&2)===0||c!==ui)&&(c===ui&&((Di&2)===0&&(ru|=p),Ni===4&&La(c,Ft,Ar,!1)),Vo(c))}function oI(c,d,p){if((Di&6)!==0)throw Error(s(327));var v=!p&&(d&60)===0&&(d&c.expiredLanes)===0||zc(c,d),S=v?sW(c,d):OS(c,d,!0),D=v;do{if(S===0){Zh&&!v&&La(c,d,0,!1);break}else if(S===6)La(c,d,0,!ka);else{if(p=c.current.alternate,D&&!tW(p)){S=OS(c,d,!1),D=!1;continue}if(S===2){if(D=d,c.errorRecoveryDisabledLanes&D)var P=0;else P=c.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){d=P;e:{var W=c;S=gg;var ie=W.current.memoizedState.isDehydrated;if(ie&&(Qh(W,P).flags|=256),P=OS(W,P,!1),P!==2){if(DS&&!ie){W.errorRecoveryDisabledLanes|=D,ru|=D,S=4;break e}D=Ho,Ho=S,D!==null&&LS(D)}S=P}if(D=!1,S!==2)continue}}if(S===1){Qh(c,0),La(c,d,0,!0);break}e:{switch(v=c,S){case 0:case 1:throw Error(s(345));case 4:if((d&4194176)===d){La(v,d,Ar,!ka);break e}break;case 2:Ho=null;break;case 3:case 5:break;default:throw Error(s(329))}if(v.finishedWork=p,v.finishedLanes=d,(d&62914560)===d&&(D=TS+300-Lt(),10<D)){if(La(v,d,Ar,!ka),Eh(v,0)!==0)break e;v.timeoutHandle=kI(aI.bind(null,v,p,Ho,q0,ES,d,Ar,ru,qh,ka,2,-0,0),D);break e}aI(v,p,Ho,q0,ES,d,Ar,ru,qh,ka,0,-0,0)}}break}while(!0);Vo(c)}function LS(c){Ho===null?Ho=c:Ho.push.apply(Ho,c)}function aI(c,d,p,v,S,D,P,W,ie,he,Ee,Re,be){var De=d.subtreeFlags;if((De&8192||(De&16785408)===16785408)&&(Sg={stylesheets:null,count:0,unsuspend:NW},qk(d),d=BW(),d!==null)){c.cancelPendingCommit=d(gI.bind(null,c,p,v,S,P,W,ie,1,Re,be)),La(c,D,P,!he);return}gI(c,p,v,S,P,W,ie,Ee,Re,be)}function tW(c){for(var d=c;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var S=p[v],D=S.getSnapshot;S=S.value;try{if(!Zn(D(),S))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function La(c,d,p,v){d&=~AS,d&=~ru,c.suspendedLanes|=d,c.pingedLanes&=~d,v&&(c.warmLanes|=d),v=c.expirationTimes;for(var S=d;0<S;){var D=31-un(S),P=1<<D;v[D]=-1,S&=~P}p!==0&&Th(c,p,d)}function J0(){return(Di&6)===0?(yg(0),!1):!0}function FS(){if(At!==null){if(hi===0)var c=At.return;else c=At,Ma=tu=null,Gb(c),zh=null,qf=0,c=At;for(;c!==null;)nI(c.alternate,c),c=c.return;At=null}}function Qh(c,d){c.finishedWork=null,c.finishedLanes=0;var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,xW(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),FS(),ui=c,At=p=Vl(c.current,null),Ft=d,hi=0,Jn=null,ka=!1,Zh=zc(c,d),DS=!1,qh=Ar=AS=ru=Wl=Ni=0,Ho=gg=null,ES=!1,(d&8)!==0&&(d|=d&32);var v=c.entangledLanes;if(v!==0)for(c=c.entanglements,v&=d;0<v;){var S=31-un(v),D=1<<S;d|=c[S],v&=~D}return Ia=d,w0(),p}function lI(c,d){wt=null,I.H=zo,d===Xf?(d=wR(),hi=3):d===xR?(d=wR(),hi=4):hi=d===bk?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Jn=d,At===null&&(Ni=1,W0(c,Cr(d,c.current)))}function cI(){var c=I.H;return I.H=zo,c===null?zo:c}function uI(){var c=I.A;return I.A=JV,c}function PS(){Ni=4,ka||(Ft&4194176)!==Ft&&Sr.current!==null||(Zh=!0),(Wl&134217727)===0&&(ru&134217727)===0||ui===null||La(ui,Ft,Ar,!1)}function OS(c,d,p){var v=Di;Di|=2;var S=cI(),D=uI();(ui!==c||Ft!==d)&&(q0=null,Qh(c,d)),d=!1;var P=Ni;e:do try{if(hi!==0&&At!==null){var W=At,ie=Jn;switch(hi){case 8:FS(),P=6;break e;case 3:case 2:case 6:Sr.current===null&&(d=!0);var he=hi;if(hi=0,Jn=null,Jh(c,W,ie,he),p&&Zh){P=0;break e}break;default:he=hi,hi=0,Jn=null,Jh(c,W,ie,he)}}iW(),P=Ni;break}catch(Ee){lI(c,Ee)}while(!0);return d&&c.shellSuspendCounter++,Ma=tu=null,Di=v,I.H=S,I.A=D,At===null&&(ui=null,Ft=0,w0()),P}function iW(){for(;At!==null;)hI(At)}function sW(c,d){var p=Di;Di|=2;var v=cI(),S=uI();ui!==c||Ft!==d?(q0=null,Z0=Lt()+500,Qh(c,d)):Zh=zc(c,d);e:do try{if(hi!==0&&At!==null){d=At;var D=Jn;t:switch(hi){case 1:hi=0,Jn=null,Jh(c,d,D,1);break;case 2:if(bR(D)){hi=0,Jn=null,dI(d);break}d=function(){hi===2&&ui===c&&(hi=7),Vo(c)},D.then(d,d);break e;case 3:hi=7;break e;case 4:hi=5;break e;case 7:bR(D)?(hi=0,Jn=null,dI(d)):(hi=0,Jn=null,Jh(c,d,D,7));break;case 5:var P=null;switch(At.tag){case 26:P=At.memoizedState;case 5:case 27:var W=At;if(!P||HI(P)){hi=0,Jn=null;var ie=W.sibling;if(ie!==null)At=ie;else{var he=W.return;he!==null?(At=he,ey(he)):At=null}break t}}hi=0,Jn=null,Jh(c,d,D,5);break;case 6:hi=0,Jn=null,Jh(c,d,D,6);break;case 8:FS(),Ni=6;break e;default:throw Error(s(462))}}nW();break}catch(Ee){lI(c,Ee)}while(!0);return Ma=tu=null,I.H=v,I.A=S,Di=p,At!==null?0:(ui=null,Ft=0,w0(),Ni)}function nW(){for(;At!==null&&!Xt();)hI(At)}function hI(c){var d=Fk(c.alternate,c,Ia);c.memoizedProps=c.pendingProps,d===null?ey(c):At=d}function dI(c){var d=c,p=d.alternate;switch(d.tag){case 15:case 0:d=Ek(p,d,d.pendingProps,d.type,void 0,Ft);break;case 11:d=Ek(p,d,d.pendingProps,d.type.render,d.ref,Ft);break;case 5:Gb(d);default:nI(p,d),d=At=tI(d,Ia),d=Fk(p,d,Ia)}c.memoizedProps=c.pendingProps,d===null?ey(c):At=d}function Jh(c,d,p,v){Ma=tu=null,Gb(d),zh=null,qf=0;var S=d.return;try{if(YV(c,S,d,p,Ft)){Ni=1,W0(c,Cr(p,c.current)),At=null;return}}catch(D){if(S!==null)throw At=S,D;Ni=1,W0(c,Cr(p,c.current)),At=null;return}d.flags&32768?(zt||v===1?c=!0:Zh||(Ft&536870912)!==0?c=!1:(ka=c=!0,(v===2||v===3||v===6)&&(v=Sr.current,v!==null&&v.tag===13&&(v.flags|=16384))),fI(d,c)):ey(d)}function ey(c){var d=c;do{if((d.flags&32768)!==0){fI(d,ka);return}c=d.return;var p=qV(d.alternate,d,Ia);if(p!==null){At=p;return}if(d=d.sibling,d!==null){At=d;return}At=d=c}while(d!==null);Ni===0&&(Ni=5)}function fI(c,d){do{var p=QV(c.alternate,c);if(p!==null){p.flags&=32767,At=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(c=c.sibling,c!==null)){At=c;return}At=c=p}while(c!==null);Ni=6,At=null}function gI(c,d,p,v,S,D,P,W,ie,he){var Ee=I.T,Re=H.p;try{H.p=2,I.T=null,rW(c,d,p,v,Re,S,D,P,W,ie,he)}finally{I.T=Ee,H.p=Re}}function rW(c,d,p,v,S,D,P,W){do ed();while(ou!==null);if((Di&6)!==0)throw Error(s(327));var ie=c.finishedWork;if(v=c.finishedLanes,ie===null)return null;if(c.finishedWork=null,c.finishedLanes=0,ie===c.current)throw Error(s(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var he=ie.lanes|ie.childLanes;if(he|=Mb,nb(c,v,he,D,P,W),c===ui&&(At=ui=null,Ft=0),(ie.subtreeFlags&10256)===0&&(ie.flags&10256)===0||Q0||(Q0=!0,RS=he,kS=p,cW(pt,function(){return ed(),null})),p=(ie.flags&15990)!==0,(ie.subtreeFlags&15990)!==0||p?(p=I.T,I.T=null,D=H.p,H.p=2,P=Di,Di|=4,$V(c,ie),$k(ie,c),RV(KS,c.containerInfo),dy=!!YS,KS=YS=null,c.current=ie,Uk(c,ie.alternate,ie),qt(),Di=P,H.p=D,I.T=p):c.current=ie,Q0?(Q0=!1,ou=c,pg=v):pI(c,he),he=c.pendingLanes,he===0&&(Ul=null),n0(ie.stateNode),Vo(c),d!==null)for(S=c.onRecoverableError,ie=0;ie<d.length;ie++)he=d[ie],S(he.value,{componentStack:he.stack});return(pg&3)!==0&&ed(),he=c.pendingLanes,(v&4194218)!==0&&(he&42)!==0?c===IS?mg++:(mg=0,IS=c):mg=0,yg(0),null}function pI(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Jf(d)))}function ed(){if(ou!==null){var c=ou,d=RS;RS=0;var p=h0(pg),v=I.T,S=H.p;try{if(H.p=32>p?32:p,I.T=null,ou===null)var D=!1;else{p=kS,kS=null;var P=ou,W=pg;if(ou=null,pg=0,(Di&6)!==0)throw Error(s(331));var ie=Di;if(Di|=4,Jk(P.current),Zk(P,P.current,W,p),Di=ie,yg(0,!1),Hi&&typeof Hi.onPostCommitFiberRoot=="function")try{Hi.onPostCommitFiberRoot(pi,P)}catch{}D=!0}return D}finally{H.p=S,I.T=v,pI(c,d)}}return!1}function mI(c,d,p){d=Cr(p,d),d=Jb(c.stateNode,d,2),c=Bl(c,d,2),c!==null&&(Hc(c,2),Vo(c))}function si(c,d,p){if(c.tag===3)mI(c,c,p);else for(;d!==null;){if(d.tag===3){mI(d,c,p);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ul===null||!Ul.has(v))){c=Cr(p,c),p=Ck(2),v=Bl(d,p,2),v!==null&&(xk(p,v,d,c),Hc(v,2),Vo(v));break}}d=d.return}}function NS(c,d,p){var v=c.pingCache;if(v===null){v=c.pingCache=new eW;var S=new Set;v.set(d,S)}else S=v.get(d),S===void 0&&(S=new Set,v.set(d,S));S.has(p)||(DS=!0,S.add(p),c=oW.bind(null,c,d,p),d.then(c,c))}function oW(c,d,p){var v=c.pingCache;v!==null&&v.delete(d),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,ui===c&&(Ft&p)===p&&(Ni===4||Ni===3&&(Ft&62914560)===Ft&&300>Lt()-TS?(Di&2)===0&&Qh(c,0):AS|=p,qh===Ft&&(qh=0)),Vo(c)}function yI(c,d){d===0&&(d=c0()),c=kl(c,d),c!==null&&(Hc(c,d),Vo(c))}function aW(c){var d=c.memoizedState,p=0;d!==null&&(p=d.retryLane),yI(c,p)}function lW(c,d){var p=0;switch(c.tag){case 13:var v=c.stateNode,S=c.memoizedState;S!==null&&(p=S.retryLane);break;case 19:v=c.stateNode;break;case 22:v=c.stateNode._retryCache;break;default:throw Error(s(314))}v!==null&&v.delete(d),yI(c,p)}function cW(c,d){return rt(c,d)}var ty=null,td=null,_S=!1,iy=!1,BS=!1,au=0;function Vo(c){c!==td&&c.next===null&&(td===null?ty=td=c:td=td.next=c),iy=!0,_S||(_S=!0,hW(uW))}function yg(c,d){if(!BS&&iy){BS=!0;do for(var p=!1,v=ty;v!==null;){if(c!==0){var S=v.pendingLanes;if(S===0)var D=0;else{var P=v.suspendedLanes,W=v.pingedLanes;D=(1<<31-un(42|c)+1)-1,D&=S&~(P&~W),D=D&201326677?D&201326677|1:D?D|2:0}D!==0&&(p=!0,xI(v,D))}else D=Ft,D=Eh(v,v===ui?D:0),(D&3)===0||zc(v,D)||(p=!0,xI(v,D));v=v.next}while(p);BS=!1}}function uW(){iy=_S=!1;var c=0;au!==0&&(CW()&&(c=au),au=0);for(var d=Lt(),p=null,v=ty;v!==null;){var S=v.next,D=vI(v,d);D===0?(v.next=null,p===null?ty=S:p.next=S,S===null&&(td=p)):(p=v,(c!==0||(D&3)!==0)&&(iy=!0)),v=S}yg(c)}function vI(c,d){for(var p=c.suspendedLanes,v=c.pingedLanes,S=c.expirationTimes,D=c.pendingLanes&-62914561;0<D;){var P=31-un(D),W=1<<P,ie=S[P];ie===-1?((W&p)===0||(W&v)!==0)&&(S[P]=sb(W,d)):ie<=d&&(c.expiredLanes|=W),D&=~W}if(d=ui,p=Ft,p=Eh(c,c===d?p:0),v=c.callbackNode,p===0||c===d&&hi===2||c.cancelPendingCommit!==null)return v!==null&&v!==null&&st(v),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||zc(c,p)){if(d=p&-p,d===c.callbackPriority)return d;switch(v!==null&&st(v),h0(p)){case 2:case 8:p=no;break;case 32:p=pt;break;case 268435456:p=vt;break;default:p=pt}return v=CI.bind(null,c),p=rt(p,v),c.callbackPriority=d,c.callbackNode=p,d}return v!==null&&v!==null&&st(v),c.callbackPriority=2,c.callbackNode=null,2}function CI(c,d){var p=c.callbackNode;if(ed()&&c.callbackNode!==p)return null;var v=Ft;return v=Eh(c,c===ui?v:0),v===0?null:(oI(c,v,d),vI(c,Lt()),c.callbackNode!=null&&c.callbackNode===p?CI.bind(null,c):null)}function xI(c,d){if(ed())return null;oI(c,d,!0)}function hW(c){bW(function(){(Di&6)!==0?rt(Vs,c):c()})}function GS(){return au===0&&(au=l0()),au}function bI(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:m0(""+c)}function SI(c,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,c.id&&p.setAttribute("form",c.id),d.parentNode.insertBefore(p,d),c=new FormData(c),p.parentNode.removeChild(p),c}function dW(c,d,p,v,S){if(d==="submit"&&p&&p.stateNode===S){var D=bI((S[Y]||null).action),P=v.submitter;P&&(d=(d=P[Y]||null)?bI(d.formAction):P.getAttribute("formAction"),d!==null&&(D=d,P=null));var W=new x0("action","action",null,v,S);c.push({event:W,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(au!==0){var ie=P?SI(S,P):new FormData(S);$b(p,{pending:!0,data:ie,method:S.method,action:D},null,ie)}}else typeof D=="function"&&(W.preventDefault(),ie=P?SI(S,P):new FormData(S),$b(p,{pending:!0,data:ie,method:S.method,action:D},D,ie))},currentTarget:S}]})}}for(var zS=0;zS<gR.length;zS++){var HS=gR[zS],fW=HS.toLowerCase(),gW=HS[0].toUpperCase()+HS.slice(1);ro(fW,"on"+gW)}ro(cR,"onAnimationEnd"),ro(uR,"onAnimationIteration"),ro(hR,"onAnimationStart"),ro("dblclick","onDoubleClick"),ro("focusin","onFocus"),ro("focusout","onBlur"),ro(IV,"onTransitionRun"),ro(LV,"onTransitionStart"),ro(FV,"onTransitionCancel"),ro(dR,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ut("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ut("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ut("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ut("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ut("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ut("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vg));function wI(c,d){d=(d&4)!==0;for(var p=0;p<c.length;p++){var v=c[p],S=v.event;v=v.listeners;e:{var D=void 0;if(d)for(var P=v.length-1;0<=P;P--){var W=v[P],ie=W.instance,he=W.currentTarget;if(W=W.listener,ie!==D&&S.isPropagationStopped())break e;D=W,S.currentTarget=he;try{D(S)}catch(Ee){V0(Ee)}S.currentTarget=null,D=ie}else for(P=0;P<v.length;P++){if(W=v[P],ie=W.instance,he=W.currentTarget,W=W.listener,ie!==D&&S.isPropagationStopped())break e;D=W,S.currentTarget=he;try{D(S)}catch(Ee){V0(Ee)}S.currentTarget=null,D=ie}}}}function Rt(c,d){var p=d[te];p===void 0&&(p=d[te]=new Set);var v=c+"__bubble";p.has(v)||(MI(d,c,2,!1),p.add(v))}function VS(c,d,p){var v=0;d&&(v|=4),MI(p,c,v,d)}var sy="_reactListening"+Math.random().toString(36).slice(2);function WS(c){if(!c[sy]){c[sy]=!0,gt.forEach(function(p){p!=="selectionchange"&&(pW.has(p)||VS(p,!1,c),VS(p,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[sy]||(d[sy]=!0,VS("selectionchange",!1,d))}}function MI(c,d,p,v){switch(KI(d)){case 2:var S=HW;break;case 8:S=VW;break;default:S=iw}p=S.bind(null,d,p,c),S=void 0,!hb||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),v?S!==void 0?c.addEventListener(d,p,{capture:!0,passive:S}):c.addEventListener(d,p,!0):S!==void 0?c.addEventListener(d,p,{passive:S}):c.addEventListener(d,p,!1)}function US(c,d,p,v,S){var D=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var P=v.tag;if(P===3||P===4){var W=v.stateNode.containerInfo;if(W===S||W.nodeType===8&&W.parentNode===S)break;if(P===4)for(P=v.return;P!==null;){var ie=P.tag;if((ie===3||ie===4)&&(ie=P.stateNode.containerInfo,ie===S||ie.nodeType===8&&ie.parentNode===S))return;P=P.return}for(;W!==null;){if(P=Ie(W),P===null)return;if(ie=P.tag,ie===5||ie===6||ie===26||ie===27){v=D=P;continue e}W=W.parentNode}}v=v.return}GT(function(){var he=D,Ee=cb(p),Re=[];e:{var be=fR.get(c);if(be!==void 0){var De=x0,Je=c;switch(c){case"keypress":if(v0(p)===0)break e;case"keydown":case"keyup":De=lV;break;case"focusin":Je="focus",De=pb;break;case"focusout":Je="blur",De=pb;break;case"beforeblur":case"afterblur":De=pb;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=VT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=ZH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=hV;break;case cR:case uR:case hR:De=JH;break;case dR:De=fV;break;case"scroll":case"scrollend":De=$H;break;case"wheel":De=pV;break;case"copy":case"cut":case"paste":De=tV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=UT;break;case"toggle":case"beforetoggle":De=yV}var mt=(d&4)!==0,_i=!mt&&(c==="scroll"||c==="scrollend"),fe=mt?be!==null?be+"Capture":null:be;mt=[];for(var oe=he,me;oe!==null;){var Te=oe;if(me=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||me===null||fe===null||(Te=_f(oe,fe),Te!=null&&mt.push(Cg(oe,Te,me))),_i)break;oe=oe.return}0<mt.length&&(be=new De(be,Je,null,p,Ee),Re.push({event:be,listeners:mt}))}}if((d&7)===0){e:{if(be=c==="mouseover"||c==="pointerover",De=c==="mouseout"||c==="pointerout",be&&p!==lb&&(Je=p.relatedTarget||p.fromElement)&&(Ie(Je)||Je[q]))break e;if((De||be)&&(be=Ee.window===Ee?Ee:(be=Ee.ownerDocument)?be.defaultView||be.parentWindow:window,De?(Je=p.relatedTarget||p.toElement,De=he,Je=Je?Ie(Je):null,Je!==null&&(_i=re(Je),mt=Je.tag,Je!==_i||mt!==5&&mt!==27&&mt!==6)&&(Je=null)):(De=null,Je=he),De!==Je)){if(mt=VT,Te="onMouseLeave",fe="onMouseEnter",oe="mouse",(c==="pointerout"||c==="pointerover")&&(mt=UT,Te="onPointerLeave",fe="onPointerEnter",oe="pointer"),_i=De==null?be:Ye(De),me=Je==null?be:Ye(Je),be=new mt(Te,oe+"leave",De,p,Ee),be.target=_i,be.relatedTarget=me,Te=null,Ie(Ee)===he&&(mt=new mt(fe,oe+"enter",Je,p,Ee),mt.target=me,mt.relatedTarget=_i,Te=mt),_i=Te,De&&Je)t:{for(mt=De,fe=Je,oe=0,me=mt;me;me=id(me))oe++;for(me=0,Te=fe;Te;Te=id(Te))me++;for(;0<oe-me;)mt=id(mt),oe--;for(;0<me-oe;)fe=id(fe),me--;for(;oe--;){if(mt===fe||fe!==null&&mt===fe.alternate)break t;mt=id(mt),fe=id(fe)}mt=null}else mt=null;De!==null&&DI(Re,be,De,mt,!1),Je!==null&&_i!==null&&DI(Re,_i,Je,mt,!0)}}e:{if(be=he?Ye(he):window,De=be.nodeName&&be.nodeName.toLowerCase(),De==="select"||De==="input"&&be.type==="file")var Qe=QT;else if(ZT(be))if(JT)Qe=EV;else{Qe=DV;var Dt=MV}else De=be.nodeName,!De||De.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?he&&ab(he.elementType)&&(Qe=QT):Qe=AV;if(Qe&&(Qe=Qe(c,he))){qT(Re,Qe,p,Ee);break e}Dt&&Dt(c,be,he),c==="focusout"&&he&&be.type==="number"&&he.memoizedProps.value!=null&&ob(be,"number",be.value)}switch(Dt=he?Ye(he):window,c){case"focusin":(ZT(Dt)||Dt.contentEditable==="true")&&(Ph=Dt,bb=he,jf=null);break;case"focusout":jf=bb=Ph=null;break;case"mousedown":Sb=!0;break;case"contextmenu":case"mouseup":case"dragend":Sb=!1,aR(Re,p,Ee);break;case"selectionchange":if(kV)break;case"keydown":case"keyup":aR(Re,p,Ee)}var it;if(yb)e:{switch(c){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Fh?$T(c,p)&&(at="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(at="onCompositionStart");at&&(jT&&p.locale!=="ko"&&(Fh||at!=="onCompositionStart"?at==="onCompositionEnd"&&Fh&&(it=zT()):(Rl=Ee,db="value"in Rl?Rl.value:Rl.textContent,Fh=!0)),Dt=ny(he,at),0<Dt.length&&(at=new WT(at,c,null,p,Ee),Re.push({event:at,listeners:Dt}),it?at.data=it:(it=XT(p),it!==null&&(at.data=it)))),(it=CV?xV(c,p):bV(c,p))&&(at=ny(he,"onBeforeInput"),0<at.length&&(Dt=new WT("onBeforeInput","beforeinput",null,p,Ee),Re.push({event:Dt,listeners:at}),Dt.data=it)),dW(Re,c,he,p,Ee)}wI(Re,d)})}function Cg(c,d,p){return{instance:c,listener:d,currentTarget:p}}function ny(c,d){for(var p=d+"Capture",v=[];c!==null;){var S=c,D=S.stateNode;S=S.tag,S!==5&&S!==26&&S!==27||D===null||(S=_f(c,p),S!=null&&v.unshift(Cg(c,S,D)),S=_f(c,d),S!=null&&v.push(Cg(c,S,D))),c=c.return}return v}function id(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function DI(c,d,p,v,S){for(var D=d._reactName,P=[];p!==null&&p!==v;){var W=p,ie=W.alternate,he=W.stateNode;if(W=W.tag,ie!==null&&ie===v)break;W!==5&&W!==26&&W!==27||he===null||(ie=he,S?(he=_f(p,D),he!=null&&P.unshift(Cg(p,he,ie))):S||(he=_f(p,D),he!=null&&P.push(Cg(p,he,ie)))),p=p.return}P.length!==0&&c.push({event:d,listeners:P})}var mW=/\r\n?/g,yW=/\u0000|\uFFFD/g;function AI(c){return(typeof c=="string"?c:""+c).replace(mW,`
`).replace(yW,"")}function EI(c,d){return d=AI(d),AI(c)===d}function ry(){}function Jt(c,d,p,v,S,D){switch(p){case"children":typeof v=="string"?d==="body"||d==="textarea"&&v===""||kh(c,v):(typeof v=="number"||typeof v=="bigint")&&d!=="body"&&kh(c,""+v);break;case"className":f0(c,"class",v);break;case"tabIndex":f0(c,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":f0(c,p,v);break;case"style":_T(c,v,D);break;case"data":if(d!=="object"){f0(c,"data",v);break}case"src":case"href":if(v===""&&(d!=="a"||p!=="href")){c.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(p);break}v=m0(""+v),c.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(p==="formAction"?(d!=="input"&&Jt(c,d,"name",S.name,S,null),Jt(c,d,"formEncType",S.formEncType,S,null),Jt(c,d,"formMethod",S.formMethod,S,null),Jt(c,d,"formTarget",S.formTarget,S,null)):(Jt(c,d,"encType",S.encType,S,null),Jt(c,d,"method",S.method,S,null),Jt(c,d,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(p);break}v=m0(""+v),c.setAttribute(p,v);break;case"onClick":v!=null&&(c.onclick=ry);break;case"onScroll":v!=null&&Rt("scroll",c);break;case"onScrollEnd":v!=null&&Rt("scrollend",c);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(s(61));if(p=v.__html,p!=null){if(S.children!=null)throw Error(s(60));c.innerHTML=p}}break;case"multiple":c.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":c.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){c.removeAttribute("xlink:href");break}p=m0(""+v),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(p,""+v):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":v===!0?c.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(p,v):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?c.setAttribute(p,v):c.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?c.removeAttribute(p):c.setAttribute(p,v);break;case"popover":Rt("beforetoggle",c),Rt("toggle",c),On(c,"popover",v);break;case"xlinkActuate":va(c,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":va(c,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":va(c,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":va(c,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":va(c,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":va(c,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":va(c,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":va(c,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":va(c,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":On(c,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=YH.get(p)||p,On(c,p,v))}}function jS(c,d,p,v,S,D){switch(p){case"style":_T(c,v,D);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(s(61));if(p=v.__html,p!=null){if(S.children!=null)throw Error(s(60));c.innerHTML=p}}break;case"children":typeof v=="string"?kh(c,v):(typeof v=="number"||typeof v=="bigint")&&kh(c,""+v);break;case"onScroll":v!=null&&Rt("scroll",c);break;case"onScrollEnd":v!=null&&Rt("scrollend",c);break;case"onClick":v!=null&&(c.onclick=ry);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ci.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),d=p.slice(2,S?p.length-7:void 0),D=c[Y]||null,D=D!=null?D[p]:null,typeof D=="function"&&c.removeEventListener(d,D,S),typeof v=="function")){typeof D!="function"&&D!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(d,v,S);break e}p in c?c[p]=v:v===!0?c.setAttribute(p,""):On(c,p,v)}}}function Ls(c,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",c),Rt("load",c);var v=!1,S=!1,D;for(D in p)if(p.hasOwnProperty(D)){var P=p[D];if(P!=null)switch(D){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,d));default:Jt(c,d,D,P,p,null)}}S&&Jt(c,d,"srcSet",p.srcSet,p,null),v&&Jt(c,d,"src",p.src,p,null);return;case"input":Rt("invalid",c);var W=D=P=S=null,ie=null,he=null;for(v in p)if(p.hasOwnProperty(v)){var Ee=p[v];if(Ee!=null)switch(v){case"name":S=Ee;break;case"type":P=Ee;break;case"checked":ie=Ee;break;case"defaultChecked":he=Ee;break;case"value":D=Ee;break;case"defaultValue":W=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(s(137,d));break;default:Jt(c,d,v,Ee,p,null)}}FT(c,D,W,ie,he,P,S,!1),g0(c);return;case"select":Rt("invalid",c),v=P=D=null;for(S in p)if(p.hasOwnProperty(S)&&(W=p[S],W!=null))switch(S){case"value":D=W;break;case"defaultValue":P=W;break;case"multiple":v=W;default:Jt(c,d,S,W,p,null)}d=D,p=P,c.multiple=!!v,d!=null?Rh(c,!!v,d,!1):p!=null&&Rh(c,!!v,p,!0);return;case"textarea":Rt("invalid",c),D=S=v=null;for(P in p)if(p.hasOwnProperty(P)&&(W=p[P],W!=null))switch(P){case"value":v=W;break;case"defaultValue":S=W;break;case"children":D=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(91));break;default:Jt(c,d,P,W,p,null)}OT(c,v,S,D),g0(c);return;case"option":for(ie in p)if(p.hasOwnProperty(ie)&&(v=p[ie],v!=null))switch(ie){case"selected":c.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Jt(c,d,ie,v,p,null)}return;case"dialog":Rt("cancel",c),Rt("close",c);break;case"iframe":case"object":Rt("load",c);break;case"video":case"audio":for(v=0;v<vg.length;v++)Rt(vg[v],c);break;case"image":Rt("error",c),Rt("load",c);break;case"details":Rt("toggle",c);break;case"embed":case"source":case"link":Rt("error",c),Rt("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in p)if(p.hasOwnProperty(he)&&(v=p[he],v!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,d));default:Jt(c,d,he,v,p,null)}return;default:if(ab(d)){for(Ee in p)p.hasOwnProperty(Ee)&&(v=p[Ee],v!==void 0&&jS(c,d,Ee,v,p,void 0));return}}for(W in p)p.hasOwnProperty(W)&&(v=p[W],v!=null&&Jt(c,d,W,v,p,null))}function vW(c,d,p,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,D=null,P=null,W=null,ie=null,he=null,Ee=null;for(De in p){var Re=p[De];if(p.hasOwnProperty(De)&&Re!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":ie=Re;default:v.hasOwnProperty(De)||Jt(c,d,De,null,v,Re)}}for(var be in v){var De=v[be];if(Re=p[be],v.hasOwnProperty(be)&&(De!=null||Re!=null))switch(be){case"type":D=De;break;case"name":S=De;break;case"checked":he=De;break;case"defaultChecked":Ee=De;break;case"value":P=De;break;case"defaultValue":W=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(s(137,d));break;default:De!==Re&&Jt(c,d,be,De,v,Re)}}rb(c,P,W,ie,he,Ee,D,S);return;case"select":De=P=W=be=null;for(D in p)if(ie=p[D],p.hasOwnProperty(D)&&ie!=null)switch(D){case"value":break;case"multiple":De=ie;default:v.hasOwnProperty(D)||Jt(c,d,D,null,v,ie)}for(S in v)if(D=v[S],ie=p[S],v.hasOwnProperty(S)&&(D!=null||ie!=null))switch(S){case"value":be=D;break;case"defaultValue":W=D;break;case"multiple":P=D;default:D!==ie&&Jt(c,d,S,D,v,ie)}d=W,p=P,v=De,be!=null?Rh(c,!!p,be,!1):!!v!=!!p&&(d!=null?Rh(c,!!p,d,!0):Rh(c,!!p,p?[]:"",!1));return;case"textarea":De=be=null;for(W in p)if(S=p[W],p.hasOwnProperty(W)&&S!=null&&!v.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:Jt(c,d,W,null,v,S)}for(P in v)if(S=v[P],D=p[P],v.hasOwnProperty(P)&&(S!=null||D!=null))switch(P){case"value":be=S;break;case"defaultValue":De=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:S!==D&&Jt(c,d,P,S,v,D)}PT(c,be,De);return;case"option":for(var Je in p)if(be=p[Je],p.hasOwnProperty(Je)&&be!=null&&!v.hasOwnProperty(Je))switch(Je){case"selected":c.selected=!1;break;default:Jt(c,d,Je,null,v,be)}for(ie in v)if(be=v[ie],De=p[ie],v.hasOwnProperty(ie)&&be!==De&&(be!=null||De!=null))switch(ie){case"selected":c.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:Jt(c,d,ie,be,v,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in p)be=p[mt],p.hasOwnProperty(mt)&&be!=null&&!v.hasOwnProperty(mt)&&Jt(c,d,mt,null,v,be);for(he in v)if(be=v[he],De=p[he],v.hasOwnProperty(he)&&be!==De&&(be!=null||De!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(s(137,d));break;default:Jt(c,d,he,be,v,De)}return;default:if(ab(d)){for(var _i in p)be=p[_i],p.hasOwnProperty(_i)&&be!==void 0&&!v.hasOwnProperty(_i)&&jS(c,d,_i,void 0,v,be);for(Ee in v)be=v[Ee],De=p[Ee],!v.hasOwnProperty(Ee)||be===De||be===void 0&&De===void 0||jS(c,d,Ee,be,v,De);return}}for(var fe in p)be=p[fe],p.hasOwnProperty(fe)&&be!=null&&!v.hasOwnProperty(fe)&&Jt(c,d,fe,null,v,be);for(Re in v)be=v[Re],De=p[Re],!v.hasOwnProperty(Re)||be===De||be==null&&De==null||Jt(c,d,Re,be,v,De)}var YS=null,KS=null;function oy(c){return c.nodeType===9?c:c.ownerDocument}function TI(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RI(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function $S(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var XS=null;function CW(){var c=window.event;return c&&c.type==="popstate"?c===XS?!1:(XS=c,!0):(XS=null,!1)}var kI=typeof setTimeout=="function"?setTimeout:void 0,xW=typeof clearTimeout=="function"?clearTimeout:void 0,II=typeof Promise=="function"?Promise:void 0,bW=typeof queueMicrotask=="function"?queueMicrotask:typeof II<"u"?function(c){return II.resolve(null).then(c).catch(SW)}:kI;function SW(c){setTimeout(function(){throw c})}function ZS(c,d){var p=d,v=0;do{var S=p.nextSibling;if(c.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"){if(v===0){c.removeChild(S),Eg(d);return}v--}else p!=="$"&&p!=="$?"&&p!=="$!"||v++;p=S}while(p);Eg(d)}function qS(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":qS(p),xe(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function wW(c,d,p,v){for(;c.nodeType===1;){var S=p;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!v&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(v){if(!c[ve])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(D=c.getAttribute("rel"),D==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(D!==S.rel||c.getAttribute("href")!==(S.href==null?null:S.href)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||c.getAttribute("title")!==(S.title==null?null:S.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(D=c.getAttribute("src"),(D!==(S.src==null?null:S.src)||c.getAttribute("type")!==(S.type==null?null:S.type)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&D&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var D=S.name==null?null:""+S.name;if(S.type==="hidden"&&c.getAttribute("name")===D)return c}else return c;if(c=lo(c.nextSibling),c===null)break}return null}function MW(c,d,p){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=lo(c.nextSibling),c===null))return null;return c}function lo(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return c}function LI(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"){if(d===0)return c;d--}else p==="/$"&&d++}c=c.previousSibling}return null}function FI(c,d,p){switch(d=oy(p),c){case"html":if(c=d.documentElement,!c)throw Error(s(452));return c;case"head":if(c=d.head,!c)throw Error(s(453));return c;case"body":if(c=d.body,!c)throw Error(s(454));return c;default:throw Error(s(451))}}var Er=new Map,PI=new Set;function ay(c){return typeof c.getRootNode=="function"?c.getRootNode():c.ownerDocument}var Fa=H.d;H.d={f:DW,r:AW,D:EW,C:TW,L:RW,m:kW,X:LW,S:IW,M:FW};function DW(){var c=Fa.f(),d=J0();return c||d}function AW(c){var d=Ge(c);d!==null&&d.tag===5&&d.type==="form"?ak(d):Fa.r(c)}var sd=typeof document>"u"?null:document;function OI(c,d,p){var v=sd;if(v&&typeof d=="string"&&d){var S=yr(d);S='link[rel="'+c+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),PI.has(S)||(PI.add(S),c={rel:c,crossOrigin:p,href:d},v.querySelector(S)===null&&(d=v.createElement("link"),Ls(d,"link",c),Be(d),v.head.appendChild(d)))}}function EW(c){Fa.D(c),OI("dns-prefetch",c,null)}function TW(c,d){Fa.C(c,d),OI("preconnect",c,d)}function RW(c,d,p){Fa.L(c,d,p);var v=sd;if(v&&c&&d){var S='link[rel="preload"][as="'+yr(d)+'"]';d==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+yr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+yr(p.imageSizes)+'"]')):S+='[href="'+yr(c)+'"]';var D=S;switch(d){case"style":D=nd(c);break;case"script":D=rd(c)}Er.has(D)||(c=N({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:c,as:d},p),Er.set(D,c),v.querySelector(S)!==null||d==="style"&&v.querySelector(xg(D))||d==="script"&&v.querySelector(bg(D))||(d=v.createElement("link"),Ls(d,"link",c),Be(d),v.head.appendChild(d)))}}function kW(c,d){Fa.m(c,d);var p=sd;if(p&&c){var v=d&&typeof d.as=="string"?d.as:"script",S='link[rel="modulepreload"][as="'+yr(v)+'"][href="'+yr(c)+'"]',D=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=rd(c)}if(!Er.has(D)&&(c=N({rel:"modulepreload",href:c},d),Er.set(D,c),p.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(bg(D)))return}v=p.createElement("link"),Ls(v,"link",c),Be(v),p.head.appendChild(v)}}}function IW(c,d,p){Fa.S(c,d,p);var v=sd;if(v&&c){var S=Oe(v).hoistableStyles,D=nd(c);d=d||"default";var P=S.get(D);if(!P){var W={loading:0,preload:null};if(P=v.querySelector(xg(D)))W.loading=5;else{c=N({rel:"stylesheet",href:c,"data-precedence":d},p),(p=Er.get(D))&&QS(c,p);var ie=P=v.createElement("link");Be(ie),Ls(ie,"link",c),ie._p=new Promise(function(he,Ee){ie.onload=he,ie.onerror=Ee}),ie.addEventListener("load",function(){W.loading|=1}),ie.addEventListener("error",function(){W.loading|=2}),W.loading|=4,ly(P,d,v)}P={type:"stylesheet",instance:P,count:1,state:W},S.set(D,P)}}}function LW(c,d){Fa.X(c,d);var p=sd;if(p&&c){var v=Oe(p).hoistableScripts,S=rd(c),D=v.get(S);D||(D=p.querySelector(bg(S)),D||(c=N({src:c,async:!0},d),(d=Er.get(S))&&JS(c,d),D=p.createElement("script"),Be(D),Ls(D,"link",c),p.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},v.set(S,D))}}function FW(c,d){Fa.M(c,d);var p=sd;if(p&&c){var v=Oe(p).hoistableScripts,S=rd(c),D=v.get(S);D||(D=p.querySelector(bg(S)),D||(c=N({src:c,async:!0,type:"module"},d),(d=Er.get(S))&&JS(c,d),D=p.createElement("script"),Be(D),Ls(D,"link",c),p.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},v.set(S,D))}}function NI(c,d,p,v){var S=(S=ze.current)?ay(S):null;if(!S)throw Error(s(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=nd(p.href),p=Oe(S).hoistableStyles,v=p.get(d),v||(v={type:"style",instance:null,count:0,state:null},p.set(d,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=nd(p.href);var D=Oe(S).hoistableStyles,P=D.get(c);if(P||(S=S.ownerDocument||S,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(c,P),(D=S.querySelector(xg(c)))&&!D._p&&(P.instance=D,P.state.loading=5),Er.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Er.set(c,p),D||PW(S,c,p,P.state))),d&&v===null)throw Error(s(528,""));return P}if(d&&v!==null)throw Error(s(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=rd(p),p=Oe(S).hoistableScripts,v=p.get(d),v||(v={type:"script",instance:null,count:0,state:null},p.set(d,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,c))}}function nd(c){return'href="'+yr(c)+'"'}function xg(c){return'link[rel="stylesheet"]['+c+"]"}function _I(c){return N({},c,{"data-precedence":c.precedence,precedence:null})}function PW(c,d,p,v){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?v.loading=1:(d=c.createElement("link"),v.preload=d,d.addEventListener("load",function(){return v.loading|=1}),d.addEventListener("error",function(){return v.loading|=2}),Ls(d,"link",p),Be(d),c.head.appendChild(d))}function rd(c){return'[src="'+yr(c)+'"]'}function bg(c){return"script[async]"+c}function BI(c,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var v=c.querySelector('style[data-href~="'+yr(p.href)+'"]');if(v)return d.instance=v,Be(v),v;var S=N({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(c.ownerDocument||c).createElement("style"),Be(v),Ls(v,"style",S),ly(v,p.precedence,c),d.instance=v;case"stylesheet":S=nd(p.href);var D=c.querySelector(xg(S));if(D)return d.state.loading|=4,d.instance=D,Be(D),D;v=_I(p),(S=Er.get(S))&&QS(v,S),D=(c.ownerDocument||c).createElement("link"),Be(D);var P=D;return P._p=new Promise(function(W,ie){P.onload=W,P.onerror=ie}),Ls(D,"link",v),d.state.loading|=4,ly(D,p.precedence,c),d.instance=D;case"script":return D=rd(p.src),(S=c.querySelector(bg(D)))?(d.instance=S,Be(S),S):(v=p,(S=Er.get(D))&&(v=N({},p),JS(v,S)),c=c.ownerDocument||c,S=c.createElement("script"),Be(S),Ls(S,"link",v),c.head.appendChild(S),d.instance=S);case"void":return null;default:throw Error(s(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(v=d.instance,d.state.loading|=4,ly(v,p.precedence,c));return d.instance}function ly(c,d,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,D=S,P=0;P<v.length;P++){var W=v[P];if(W.dataset.precedence===d)D=W;else if(D!==S)break}D?D.parentNode.insertBefore(c,D.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(c,d.firstChild))}function QS(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function JS(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var cy=null;function GI(c,d,p){if(cy===null){var v=new Map,S=cy=new Map;S.set(p,v)}else S=cy,v=S.get(p),v||(v=new Map,S.set(p,v));if(v.has(c))return v;for(v.set(c,null),p=p.getElementsByTagName(c),S=0;S<p.length;S++){var D=p[S];if(!(D[ve]||D[U]||c==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var P=D.getAttribute(d)||"";P=c+P;var W=v.get(P);W?W.push(D):v.set(P,[D])}}return v}function zI(c,d,p){c=c.ownerDocument||c,c.head.insertBefore(p,d==="title"?c.querySelector("head > title"):null)}function OW(c,d,p){if(p===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function HI(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var Sg=null;function NW(){}function _W(c,d,p){if(Sg===null)throw Error(s(475));var v=Sg;if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var S=nd(p.href),D=c.querySelector(xg(S));if(D){c=D._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(v.count++,v=uy.bind(v),c.then(v,v)),d.state.loading|=4,d.instance=D,Be(D);return}D=c.ownerDocument||c,p=_I(p),(S=Er.get(S))&&QS(p,S),D=D.createElement("link"),Be(D);var P=D;P._p=new Promise(function(W,ie){P.onload=W,P.onerror=ie}),Ls(D,"link",p),d.instance=D}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(v.count++,d=uy.bind(v),c.addEventListener("load",d),c.addEventListener("error",d))}}function BW(){if(Sg===null)throw Error(s(475));var c=Sg;return c.stylesheets&&c.count===0&&ew(c,c.stylesheets),0<c.count?function(d){var p=setTimeout(function(){if(c.stylesheets&&ew(c,c.stylesheets),c.unsuspend){var v=c.unsuspend;c.unsuspend=null,v()}},6e4);return c.unsuspend=d,function(){c.unsuspend=null,clearTimeout(p)}}:null}function uy(){if(this.count--,this.count===0){if(this.stylesheets)ew(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var hy=null;function ew(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,hy=new Map,d.forEach(GW,c),hy=null,uy.call(c))}function GW(c,d){if(!(d.state.loading&4)){var p=hy.get(c);if(p)var v=p.get(null);else{p=new Map,hy.set(c,p);for(var S=c.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<S.length;D++){var P=S[D];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(p.set(P.dataset.precedence,P),v=P)}v&&p.set(null,v)}S=d.instance,P=S.getAttribute("data-precedence"),D=p.get(P)||v,D===v&&p.set(null,S),p.set(P,S),this.count++,v=uy.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),D?D.parentNode.insertBefore(S,D.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(S,c.firstChild)),d.state.loading|=4}}var wg={$$typeof:m,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function zW(c,d,p,v,S,D,P,W){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Of(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.hiddenUpdates=Of(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=D,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function VI(c,d,p,v,S,D,P,W,ie,he,Ee,Re){return c=new zW(c,d,p,P,W,ie,he,Re),d=1,D===!0&&(d|=24),D=Dr(3,null,null,d),c.current=D,D.stateNode=c,d=Lb(),d.refCount++,c.pooledCache=d,d.refCount++,D.memoizedState={element:v,isDehydrated:p,cache:d},dS(D),c}function WI(c){return c?(c=_h,c):_h}function UI(c,d,p,v,S,D){S=WI(S),v.context===null?v.context=S:v.pendingContext=S,v=_l(d),v.payload={element:p},D=D===void 0?null:D,D!==null&&(v.callback=D),p=Bl(c,v,d),p!==null&&(fn(p,c,d),og(p,c,d))}function jI(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<d?p:d}}function tw(c,d){jI(c,d),(c=c.alternate)&&jI(c,d)}function YI(c){if(c.tag===13){var d=kl(c,67108864);d!==null&&fn(d,c,67108864),tw(c,67108864)}}var dy=!0;function HW(c,d,p,v){var S=I.T;I.T=null;var D=H.p;try{H.p=2,iw(c,d,p,v)}finally{H.p=D,I.T=S}}function VW(c,d,p,v){var S=I.T;I.T=null;var D=H.p;try{H.p=8,iw(c,d,p,v)}finally{H.p=D,I.T=S}}function iw(c,d,p,v){if(dy){var S=sw(v);if(S===null)US(c,d,v,fy,p),$I(c,v);else if(UW(S,c,d,p,v))v.stopPropagation();else if($I(c,v),d&4&&-1<WW.indexOf(c)){for(;S!==null;){var D=Ge(S);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var P=pr(D.pendingLanes);if(P!==0){var W=D;for(W.pendingLanes|=2,W.entangledLanes|=2;P;){var ie=1<<31-un(P);W.entanglements[1]|=ie,P&=~ie}Vo(D),(Di&6)===0&&(Z0=Lt()+500,yg(0))}}break;case 13:W=kl(D,2),W!==null&&fn(W,D,2),J0(),tw(D,2)}if(D=sw(v),D===null&&US(c,d,v,fy,p),D===S)break;S=D}S!==null&&v.stopPropagation()}else US(c,d,v,null,p)}}function sw(c){return c=cb(c),nw(c)}var fy=null;function nw(c){if(fy=null,c=Ie(c),c!==null){var d=re(c);if(d===null)c=null;else{var p=d.tag;if(p===13){if(c=J(d),c!==null)return c;c=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return fy=c,null}function KI(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case Vs:return 2;case no:return 8;case pt:case li:return 32;case vt:return 268435456;default:return 32}default:return 32}}var rw=!1,jl=null,Yl=null,Kl=null,Mg=new Map,Dg=new Map,$l=[],WW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $I(c,d){switch(c){case"focusin":case"focusout":jl=null;break;case"dragenter":case"dragleave":Yl=null;break;case"mouseover":case"mouseout":Kl=null;break;case"pointerover":case"pointerout":Mg.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dg.delete(d.pointerId)}}function Ag(c,d,p,v,S,D){return c===null||c.nativeEvent!==D?(c={blockedOn:d,domEventName:p,eventSystemFlags:v,nativeEvent:D,targetContainers:[S]},d!==null&&(d=Ge(d),d!==null&&YI(d)),c):(c.eventSystemFlags|=v,d=c.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),c)}function UW(c,d,p,v,S){switch(d){case"focusin":return jl=Ag(jl,c,d,p,v,S),!0;case"dragenter":return Yl=Ag(Yl,c,d,p,v,S),!0;case"mouseover":return Kl=Ag(Kl,c,d,p,v,S),!0;case"pointerover":var D=S.pointerId;return Mg.set(D,Ag(Mg.get(D)||null,c,d,p,v,S)),!0;case"gotpointercapture":return D=S.pointerId,Dg.set(D,Ag(Dg.get(D)||null,c,d,p,v,S)),!0}return!1}function XI(c){var d=Ie(c.target);if(d!==null){var p=re(d);if(p!==null){if(d=p.tag,d===13){if(d=J(p),d!==null){c.blockedOn=d,_(c.priority,function(){if(p.tag===13){var v=er(),S=kl(p,v);S!==null&&fn(S,p,v),tw(p,v)}});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function gy(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var p=sw(c.nativeEvent);if(p===null){p=c.nativeEvent;var v=new p.constructor(p.type,p);lb=v,p.target.dispatchEvent(v),lb=null}else return d=Ge(p),d!==null&&YI(d),c.blockedOn=p,!1;d.shift()}return!0}function ZI(c,d,p){gy(c)&&p.delete(d)}function jW(){rw=!1,jl!==null&&gy(jl)&&(jl=null),Yl!==null&&gy(Yl)&&(Yl=null),Kl!==null&&gy(Kl)&&(Kl=null),Mg.forEach(ZI),Dg.forEach(ZI)}function py(c,d){c.blockedOn===d&&(c.blockedOn=null,rw||(rw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jW)))}var my=null;function qI(c){my!==c&&(my=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){my===c&&(my=null);for(var d=0;d<c.length;d+=3){var p=c[d],v=c[d+1],S=c[d+2];if(typeof v!="function"){if(nw(v||p)===null)continue;break}var D=Ge(p);D!==null&&(c.splice(d,3),d-=3,$b(D,{pending:!0,data:S,method:p.method,action:v},v,S))}}))}function Eg(c){function d(ie){return py(ie,c)}jl!==null&&py(jl,c),Yl!==null&&py(Yl,c),Kl!==null&&py(Kl,c),Mg.forEach(d),Dg.forEach(d);for(var p=0;p<$l.length;p++){var v=$l[p];v.blockedOn===c&&(v.blockedOn=null)}for(;0<$l.length&&(p=$l[0],p.blockedOn===null);)XI(p),p.blockedOn===null&&$l.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var S=p[v],D=p[v+1],P=S[Y]||null;if(typeof D=="function")P||qI(p);else if(P){var W=null;if(D&&D.hasAttribute("formAction")){if(S=D,P=D[Y]||null)W=P.formAction;else if(nw(S)!==null)continue}else W=P.action;typeof W=="function"?p[v+1]=W:(p.splice(v,3),v-=3),qI(p)}}}function ow(c){this._internalRoot=c}yy.prototype.render=ow.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(s(409));var p=d.current,v=er();UI(p,v,c,d,null,null)},yy.prototype.unmount=ow.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;c.tag===0&&ed(),UI(c.current,2,null,c,null,null),J0(),d[q]=null}};function yy(c){this._internalRoot=c}yy.prototype.unstable_scheduleHydration=function(c){if(c){var d=d0();c={blockedOn:null,target:c,priority:d};for(var p=0;p<$l.length&&d!==0&&d<$l[p].priority;p++);$l.splice(p,0,c),p===0&&XI(c)}};var QI=t.version;if(QI!=="19.0.0")throw Error(s(527,QI,"19.0.0"));H.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return c=ee(d),c=c!==null?O(c):null,c=c===null?null:c.stateNode,c};var YW={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:Ie,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vy.isDisabled&&vy.supportsFiber)try{pi=vy.inject(YW),Hi=vy}catch{}}return Rg.createRoot=function(c,d){if(!n(c))throw Error(s(299));var p=!1,v="",S=pk,D=mk,P=yk,W=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(P=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(W=d.unstable_transitionCallbacks)),d=VI(c,1,!1,null,null,p,v,S,D,P,W,null),c[q]=d.current,WS(c.nodeType===8?c.parentNode:c),new ow(d)},Rg.hydrateRoot=function(c,d,p){if(!n(c))throw Error(s(299));var v=!1,S="",D=pk,P=mk,W=yk,ie=null,he=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(D=p.onUncaughtError),p.onCaughtError!==void 0&&(P=p.onCaughtError),p.onRecoverableError!==void 0&&(W=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(ie=p.unstable_transitionCallbacks),p.formState!==void 0&&(he=p.formState)),d=VI(c,1,!0,d,p??null,v,S,D,P,W,ie,he),d.context=WI(null),p=d.current,v=er(),S=_l(v),S.callback=null,Bl(p,S,v),d.current.lanes=v,Hc(d,v),Vo(d),c[q]=d.current,WS(c),new yy(d)},Rg.version="19.0.0",Rg}var lL;function t5(){if(lL)return cw.exports;lL=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cw.exports=e5(),cw.exports}var i5=t5(),fw={exports:{}},gw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cL;function s5(){if(cL)return gw;cL=1;var e=BC();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var i=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,n=e.useRef,r=e.useEffect,o=e.useMemo,a=e.useDebugValue;return gw.useSyncExternalStoreWithSelector=function(l,u,h,f,g){var m=n(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=o(function(){function x(T){if(!b){if(b=!0,w=T,T=f(T),g!==void 0&&y.hasValue){var k=y.value;if(g(k,T))return M=k}return M=T}if(k=M,i(w,T))return k;var R=f(T);return g!==void 0&&g(k,R)?(w=T,k):(w=T,M=R)}var b=!1,w,M,A=h===void 0?null:h;return[function(){return x(u())},A===null?void 0:function(){return x(A())}]},[u,h,f,g]);var C=s(l,m[0],m[1]);return r(function(){y.hasValue=!0,y.value=C},[C]),a(C),C},gw}var uL;function n5(){return uL||(uL=1,fw.exports=s5()),fw.exports}var r5=n5();function o5(e){e()}function a5(){let e=null,t=null;return{clear(){e=null,t=null},notify(){o5(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){const i=[];let s=e;for(;s;)i.push(s),s=s.next;return i},subscribe(i){let s=!0;const n=t={callback:i,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!s||e===null||(s=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var hL={notify(){},get:()=>[]};function l5(e,t){let i,s=hL,n=0,r=!1;function o(C){h();const x=s.subscribe(C);let b=!1;return()=>{b||(b=!0,x(),f())}}function a(){s.notify()}function l(){y.onStateChange&&y.onStateChange()}function u(){return r}function h(){n++,i||(i=e.subscribe(l),s=a5())}function f(){n--,i&&n===0&&(i(),i=void 0,s.clear(),s=hL)}function g(){r||(r=!0,h())}function m(){r&&(r=!1,f())}const y={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:m,getListeners:()=>s};return y}var c5=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u5=c5(),h5=()=>typeof navigator<"u"&&navigator.product==="ReactNative",d5=h5(),f5=()=>u5||d5?B.useLayoutEffect:B.useEffect,g5=f5(),pw=Symbol.for("react-redux-context"),mw=typeof globalThis<"u"?globalThis:{};function p5(){if(!B.createContext)return{};const e=mw[pw]??(mw[pw]=new Map);let t=e.get(B.createContext);return t||(t=B.createContext(null),e.set(B.createContext,t)),t}var Cc=p5();function m5(e){const{children:t,context:i,serverState:s,store:n}=e,r=B.useMemo(()=>{const l=l5(n);return{store:n,subscription:l,getServerState:s?()=>s:void 0}},[n,s]),o=B.useMemo(()=>n.getState(),[n]);g5(()=>{const{subscription:l}=r;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==n.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[r,o]);const a=i||Cc;return B.createElement(a.Provider,{value:r},t)}var y5=m5;function gD(e=Cc){return function(){return B.useContext(e)}}var lO=gD();function cO(e=Cc){const t=e===Cc?lO:gD(e),i=()=>{const{store:s}=t();return s};return Object.assign(i,{withTypes:()=>i}),i}var v5=cO();function C5(e=Cc){const t=e===Cc?v5:cO(e),i=()=>t().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var sh=C5(),x5=(e,t)=>e===t;function b5(e=Cc){const t=e===Cc?lO:gD(e),i=(s,n={})=>{const{equalityFn:r=x5}=typeof n=="function"?{equalityFn:n}:n,o=t(),{store:a,subscription:l,getServerState:u}=o;B.useRef(!0);const h=B.useCallback({[s.name](g){return s(g)}}[s.name],[s]),f=r5.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,h,r);return B.useDebugValue(f),f};return Object.assign(i,{withTypes:()=>i}),i}var rf=b5();function Os(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var S5=typeof Symbol=="function"&&Symbol.observable||"@@observable",dL=S5,yw=()=>Math.random().toString(36).substring(7).split("").join("."),w5={INIT:`@@redux/INIT${yw()}`,REPLACE:`@@redux/REPLACE${yw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${yw()}`},Sv=w5;function pD(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function uO(e,t,i){if(typeof e!="function")throw new Error(Os(2));if(typeof t=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Os(0));if(typeof t=="function"&&typeof i>"u"&&(i=t,t=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(Os(1));return i(uO)(e,t)}let s=e,n=t,r=new Map,o=r,a=0,l=!1;function u(){o===r&&(o=new Map,r.forEach((x,b)=>{o.set(b,x)}))}function h(){if(l)throw new Error(Os(3));return n}function f(x){if(typeof x!="function")throw new Error(Os(4));if(l)throw new Error(Os(5));let b=!0;u();const w=a++;return o.set(w,x),function(){if(b){if(l)throw new Error(Os(6));b=!1,u(),o.delete(w),r=null}}}function g(x){if(!pD(x))throw new Error(Os(7));if(typeof x.type>"u")throw new Error(Os(8));if(typeof x.type!="string")throw new Error(Os(17));if(l)throw new Error(Os(9));try{l=!0,n=s(n,x)}finally{l=!1}return(r=o).forEach(w=>{w()}),x}function m(x){if(typeof x!="function")throw new Error(Os(10));s=x,g({type:Sv.REPLACE})}function y(){const x=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Os(11));function w(){const A=b;A.next&&A.next(h())}return w(),{unsubscribe:x(w)}},[dL](){return this}}}return g({type:Sv.INIT}),{dispatch:g,subscribe:f,getState:h,replaceReducer:m,[dL]:y}}function M5(e){Object.keys(e).forEach(t=>{const i=e[t];if(typeof i(void 0,{type:Sv.INIT})>"u")throw new Error(Os(12));if(typeof i(void 0,{type:Sv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Os(13))})}function D5(e){const t=Object.keys(e),i={};for(let r=0;r<t.length;r++){const o=t[r];typeof e[o]=="function"&&(i[o]=e[o])}const s=Object.keys(i);let n;try{M5(i)}catch(r){n=r}return function(o={},a){if(n)throw n;let l=!1;const u={};for(let h=0;h<s.length;h++){const f=s[h],g=i[f],m=o[f],y=g(m,a);if(typeof y>"u")throw a&&a.type,new Error(Os(14));u[f]=y,l=l||y!==m}return l=l||s.length!==Object.keys(o).length,l?u:o}}function wv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,i)=>(...s)=>t(i(...s)))}function A5(...e){return t=>(i,s)=>{const n=t(i,s);let r=()=>{throw new Error(Os(15))};const o={getState:n.getState,dispatch:(l,...u)=>r(l,...u)},a=e.map(l=>l(o));return r=wv(...a)(n.dispatch),{...n,dispatch:r}}}function E5(e){return pD(e)&&"type"in e&&typeof e.type=="string"}var hO=Symbol.for("immer-nothing"),fL=Symbol.for("immer-draftable"),or=Symbol.for("immer-state");function mo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Hd=Object.getPrototypeOf;function ju(e){return!!e&&!!e[or]}function tl(e){var t;return e?dO(e)||Array.isArray(e)||!!e[fL]||!!((t=e.constructor)!=null&&t[fL])||zC(e)||HC(e):!1}var T5=Object.prototype.constructor.toString();function dO(e){if(!e||typeof e!="object")return!1;const t=Hd(e);if(t===null)return!0;const i=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===T5}function Mv(e,t){GC(e)===0?Reflect.ownKeys(e).forEach(i=>{t(i,e[i],e)}):e.forEach((i,s)=>t(s,i,e))}function GC(e){const t=e[or];return t?t.type_:Array.isArray(e)?1:zC(e)?2:HC(e)?3:0}function G1(e,t){return GC(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function fO(e,t,i){const s=GC(e);s===2?e.set(t,i):s===3?e.add(i):e[t]=i}function R5(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function zC(e){return e instanceof Map}function HC(e){return e instanceof Set}function vu(e){return e.copy_||e.base_}function z1(e,t){if(zC(e))return new Map(e);if(HC(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const i=dO(e);if(t===!0||t==="class_only"&&!i){const s=Object.getOwnPropertyDescriptors(e);delete s[or];let n=Reflect.ownKeys(s);for(let r=0;r<n.length;r++){const o=n[r],a=s[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(s[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Hd(e),s)}else{const s=Hd(e);if(s!==null&&i)return{...e};const n=Object.create(s);return Object.assign(n,e)}}function mD(e,t=!1){return VC(e)||ju(e)||!tl(e)||(GC(e)>1&&(e.set=e.add=e.clear=e.delete=k5),Object.freeze(e),t&&Object.entries(e).forEach(([i,s])=>mD(s,!0))),e}function k5(){mo(2)}function VC(e){return Object.isFrozen(e)}var I5={};function Yu(e){const t=I5[e];return t||mo(0,e),t}var Dp;function gO(){return Dp}function L5(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gL(e,t){t&&(Yu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function H1(e){V1(e),e.drafts_.forEach(F5),e.drafts_=null}function V1(e){e===Dp&&(Dp=e.parent_)}function pL(e){return Dp=L5(Dp,e)}function F5(e){const t=e[or];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const i=t.drafts_[0];return e!==void 0&&e!==i?(i[or].modified_&&(H1(t),mo(4)),tl(e)&&(e=Dv(t,e),t.parent_||Av(t,e)),t.patches_&&Yu("Patches").generateReplacementPatches_(i[or].base_,e,t.patches_,t.inversePatches_)):e=Dv(t,i,[]),H1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hO?e:void 0}function Dv(e,t,i){if(VC(t))return t;const s=t[or];if(!s)return Mv(t,(n,r)=>yL(e,s,t,n,r,i)),t;if(s.scope_!==e)return t;if(!s.modified_)return Av(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const n=s.copy_;let r=n,o=!1;s.type_===3&&(r=new Set(n),n.clear(),o=!0),Mv(r,(a,l)=>yL(e,s,n,a,l,i,o)),Av(e,n,!1),i&&e.patches_&&Yu("Patches").generatePatches_(s,i,e.patches_,e.inversePatches_)}return s.copy_}function yL(e,t,i,s,n,r,o){if(ju(n)){const a=r&&t&&t.type_!==3&&!G1(t.assigned_,s)?r.concat(s):void 0,l=Dv(e,n,a);if(fO(i,s,l),ju(l))e.canAutoFreeze_=!1;else return}else o&&i.add(n);if(tl(n)&&!VC(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Dv(e,n),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(i,s)&&Av(e,n)}}function Av(e,t,i=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mD(t,i)}function P5(e,t){const i=Array.isArray(e),s={type_:i?1:0,scope_:t?t.scope_:gO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=s,r=yD;i&&(n=[s],r=Ap);const{revoke:o,proxy:a}=Proxy.revocable(n,r);return s.draft_=a,s.revoke_=o,a}var yD={get(e,t){if(t===or)return e;const i=vu(e);if(!G1(i,t))return O5(e,i,t);const s=i[t];return e.finalized_||!tl(s)?s:s===vw(e.base_,t)?(Cw(e),e.copy_[t]=U1(s,e)):s},has(e,t){return t in vu(e)},ownKeys(e){return Reflect.ownKeys(vu(e))},set(e,t,i){const s=pO(vu(e),t);if(s!=null&&s.set)return s.set.call(e.draft_,i),!0;if(!e.modified_){const n=vw(vu(e),t),r=n==null?void 0:n[or];if(r&&r.base_===i)return e.copy_[t]=i,e.assigned_[t]=!1,!0;if(R5(i,n)&&(i!==void 0||G1(e.base_,t)))return!0;Cw(e),W1(e)}return e.copy_[t]===i&&(i!==void 0||t in e.copy_)||Number.isNaN(i)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=i,e.assigned_[t]=!0),!0},deleteProperty(e,t){return vw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Cw(e),W1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const i=vu(e),s=Reflect.getOwnPropertyDescriptor(i,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:i[t]}},defineProperty(){mo(11)},getPrototypeOf(e){return Hd(e.base_)},setPrototypeOf(){mo(12)}},Ap={};Mv(yD,(e,t)=>{Ap[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ap.deleteProperty=function(e,t){return Ap.set.call(this,e,t,void 0)};Ap.set=function(e,t,i){return yD.set.call(this,e[0],t,i,e[0])};function vw(e,t){const i=e[or];return(i?vu(i):e)[t]}function O5(e,t,i){var n;const s=pO(t,i);return s?"value"in s?s.value:(n=s.get)==null?void 0:n.call(e.draft_):void 0}function pO(e,t){if(!(t in e))return;let i=Hd(e);for(;i;){const s=Object.getOwnPropertyDescriptor(i,t);if(s)return s;i=Hd(i)}}function W1(e){e.modified_||(e.modified_=!0,e.parent_&&W1(e.parent_))}function Cw(e){e.copy_||(e.copy_=z1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var N5=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,i,s)=>{if(typeof t=="function"&&typeof i!="function"){const r=i;i=t;const o=this;return function(l=r,...u){return o.produce(l,h=>i.call(this,h,...u))}}typeof i!="function"&&mo(6),s!==void 0&&typeof s!="function"&&mo(7);let n;if(tl(t)){const r=pL(this),o=U1(t,void 0);let a=!0;try{n=i(o),a=!1}finally{a?H1(r):V1(r)}return gL(r,s),mL(n,r)}else if(!t||typeof t!="object"){if(n=i(t),n===void 0&&(n=t),n===hO&&(n=void 0),this.autoFreeze_&&mD(n,!0),s){const r=[],o=[];Yu("Patches").generateReplacementPatches_(t,n,r,o),s(r,o)}return n}else mo(1,t)},this.produceWithPatches=(t,i)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let s,n;return[this.produce(t,i,(o,a)=>{s=o,n=a}),s,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){tl(e)||mo(8),ju(e)&&(e=_5(e));const t=pL(this),i=U1(e,void 0);return i[or].isManual_=!0,V1(t),i}finishDraft(e,t){const i=e&&e[or];(!i||!i.isManual_)&&mo(9);const{scope_:s}=i;return gL(s,t),mL(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const n=t[i];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}i>-1&&(t=t.slice(i+1));const s=Yu("Patches").applyPatches_;return ju(e)?s(e,t):this.produce(e,n=>s(n,t))}};function U1(e,t){const i=zC(e)?Yu("MapSet").proxyMap_(e,t):HC(e)?Yu("MapSet").proxySet_(e,t):P5(e,t);return(t?t.scope_:gO()).drafts_.push(i),i}function _5(e){return ju(e)||mo(10,e),mO(e)}function mO(e){if(!tl(e)||VC(e))return e;const t=e[or];let i;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,i=z1(e,t.scope_.immer_.useStrictShallowCopy_)}else i=z1(e,!0);return Mv(i,(s,n)=>{fO(i,s,mO(n))}),t&&(t.finalized_=!1),i}var ar=new N5,yO=ar.produce;ar.produceWithPatches.bind(ar);ar.setAutoFreeze.bind(ar);ar.setUseStrictShallowCopy.bind(ar);ar.applyPatches.bind(ar);ar.createDraft.bind(ar);ar.finishDraft.bind(ar);function vO(e){return({dispatch:i,getState:s})=>n=>r=>typeof r=="function"?r(i,s,e):n(r)}var B5=vO(),G5=vO,z5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?wv:wv.apply(null,arguments)};function vL(e,t){function i(...s){if(t){let n=t(...s);if(!n)throw new Error(ja(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:s[0]}}return i.toString=()=>`${e}`,i.type=e,i.match=s=>E5(s)&&s.type===e,i}var CO=class zg extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,zg.prototype)}static get[Symbol.species](){return zg}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new zg(...t[0].concat(this)):new zg(...t.concat(this))}};function CL(e){return tl(e)?yO(e,()=>{}):e}function xL(e,t,i){return e.has(t)?e.get(t):e.set(t,i(t)).get(t)}function H5(e){return typeof e=="boolean"}var V5=()=>function(t){const{thunk:i=!0,immutableCheck:s=!0,serializableCheck:n=!0,actionCreatorCheck:r=!0}=t??{};let o=new CO;return i&&(H5(i)?o.push(B5):o.push(G5(i.extraArgument))),o},W5="RTK_autoBatch",bL=e=>t=>{setTimeout(t,e)},U5=(e={type:"raf"})=>t=>(...i)=>{const s=t(...i);let n=!0,r=!1,o=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bL(10):e.type==="callback"?e.queueNotification:bL(e.timeout),u=()=>{o=!1,r&&(r=!1,a.forEach(h=>h()))};return Object.assign({},s,{subscribe(h){const f=()=>n&&h(),g=s.subscribe(f);return a.add(h),()=>{g(),a.delete(h)}},dispatch(h){var f;try{return n=!((f=h==null?void 0:h.meta)!=null&&f[W5]),r=!n,r&&(o||(o=!0,l(u))),s.dispatch(h)}finally{n=!0}}})},j5=e=>function(i){const{autoBatch:s=!0}=i??{};let n=new CO(e);return s&&n.push(U5(typeof s=="object"?s:void 0)),n};function Y5(e){const t=V5(),{reducer:i=void 0,middleware:s,devTools:n=!0,preloadedState:r=void 0,enhancers:o=void 0}=e||{};let a;if(typeof i=="function")a=i;else if(pD(i))a=D5(i);else throw new Error(ja(1));let l;typeof s=="function"?l=s(t):l=t();let u=wv;n&&(u=z5({trace:!1,...typeof n=="object"&&n}));const h=A5(...l),f=j5(h);let g=typeof o=="function"?o(f):f();const m=u(...g);return uO(a,r,m)}function xO(e){const t={},i=[];let s;const n={addCase(r,o){const a=typeof r=="string"?r:r.type;if(!a)throw new Error(ja(28));if(a in t)throw new Error(ja(29));return t[a]=o,n},addMatcher(r,o){return i.push({matcher:r,reducer:o}),n},addDefaultCase(r){return s=r,n}};return e(n),[t,i,s]}function K5(e){return typeof e=="function"}function $5(e,t){let[i,s,n]=xO(t),r;if(K5(e))r=()=>CL(e());else{const a=CL(e);r=()=>a}function o(a=r(),l){let u=[i[l.type],...s.filter(({matcher:h})=>h(l)).map(({reducer:h})=>h)];return u.filter(h=>!!h).length===0&&(u=[n]),u.reduce((h,f)=>{if(f)if(ju(h)){const m=f(h,l);return m===void 0?h:m}else{if(tl(h))return yO(h,g=>f(g,l));{const g=f(h,l);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},a)}return o.getInitialState=r,o}var X5=Symbol.for("rtk-slice-createasyncthunk");function Z5(e,t){return`${e}/${t}`}function q5({creators:e}={}){var i;const t=(i=e==null?void 0:e.asyncThunk)==null?void 0:i[X5];return function(n){const{name:r,reducerPath:o=r}=n;if(!r)throw new Error(ja(11));const a=(typeof n.reducers=="function"?n.reducers(J5()):n.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(M,A){const T=typeof M=="string"?M:M.type;if(!T)throw new Error(ja(12));if(T in u.sliceCaseReducersByType)throw new Error(ja(13));return u.sliceCaseReducersByType[T]=A,h},addMatcher(M,A){return u.sliceMatchers.push({matcher:M,reducer:A}),h},exposeAction(M,A){return u.actionCreators[M]=A,h},exposeCaseReducer(M,A){return u.sliceCaseReducersByName[M]=A,h}};l.forEach(M=>{const A=a[M],T={reducerName:M,type:Z5(r,M),createNotation:typeof n.reducers=="function"};tU(A)?sU(T,A,h,t):eU(T,A,h)});function f(){const[M={},A=[],T=void 0]=typeof n.extraReducers=="function"?xO(n.extraReducers):[n.extraReducers],k={...M,...u.sliceCaseReducersByType};return $5(n.initialState,R=>{for(let F in k)R.addCase(F,k[F]);for(let F of u.sliceMatchers)R.addMatcher(F.matcher,F.reducer);for(let F of A)R.addMatcher(F.matcher,F.reducer);T&&R.addDefaultCase(T)})}const g=M=>M,m=new Map;let y;function C(M,A){return y||(y=f()),y(M,A)}function x(){return y||(y=f()),y.getInitialState()}function b(M,A=!1){function T(R){let F=R[M];return typeof F>"u"&&A&&(F=x()),F}function k(R=g){const F=xL(m,A,()=>new WeakMap);return xL(F,R,()=>{const I={};for(const[N,G]of Object.entries(n.selectors??{}))I[N]=Q5(G,R,x,A);return I})}return{reducerPath:M,getSelectors:k,get selectors(){return k(T)},selectSlice:T}}const w={name:r,reducer:C,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...b(o),injectInto(M,{reducerPath:A,...T}={}){const k=A??o;return M.inject({reducerPath:k,reducer:C},T),{...w,...b(k,!0)}}};return w}}function Q5(e,t,i,s){function n(r,...o){let a=t(r);return typeof a>"u"&&s&&(a=i()),e(a,...o)}return n.unwrapped=e,n}var bO=q5();function J5(){function e(t,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...i}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...i){return t(...i)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:i}},asyncThunk:e}}function eU({type:e,reducerName:t,createNotation:i},s,n){let r,o;if("reducer"in s){if(i&&!iU(s))throw new Error(ja(17));r=s.reducer,o=s.prepare}else r=s;n.addCase(e,r).exposeCaseReducer(t,r).exposeAction(t,o?vL(e,o):vL(e))}function tU(e){return e._reducerDefinitionType==="asyncThunk"}function iU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function sU({type:e,reducerName:t},i,s,n){if(!n)throw new Error(ja(18));const{payloadCreator:r,fulfilled:o,pending:a,rejected:l,settled:u,options:h}=i,f=n(e,r,h);s.exposeAction(t,f),o&&s.addCase(f.fulfilled,o),a&&s.addCase(f.pending,a),l&&s.addCase(f.rejected,l),u&&s.addMatcher(f.settled,u),s.exposeCaseReducer(t,{fulfilled:o||Cy,pending:a||Cy,rejected:l||Cy,settled:u||Cy})}function Cy(){}function ja(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ku=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const s=t?this.allAsyncListeners:this.allSyncListeners;let n=s.get(e);return!n&&i&&(n=new Set,s.set(e,n)),n}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const s=this.getListeners(e,i,!1);s&&(s.delete(t),s.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const i=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const s=(a,l)=>a.forEach(u=>{if(!l.has(u))return;const h=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>u(e)):()=>u(e);t?this.dispatchAsync(h):h()}),n=this.getListeners(i,t,!1)??new Set,r=new Set(n);r.size>0&&s(r,n),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(i,e)):()=>a(i,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function nU(e,t){return t}function SO(e){return(e==null?void 0:e.getLocaleTextFunc())??nU}function ul(e,t,i){i==null||typeof i=="string"&&i==""?wO(e,t):Io(e,t,i)}function Io(e,t,i){e.setAttribute(MO(t),i.toString())}function wO(e,t){e.removeAttribute(MO(t))}function MO(e){return`aria-${e}`}function To(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function rU(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function oU(e){return e.getAttribute("aria-label")}function WC(e,t){ul(e,"label",t)}function j1(e,t){ul(e,"labelledby",t)}function DO(e,t){ul(e,"live",t)}function aU(e,t){ul(e,"atomic",t)}function lU(e,t){ul(e,"relevant",t)}function cU(e,t){ul(e,"disabled",t)}function AO(e,t){ul(e,"hidden",t)}function Y1(e,t){Io(e,"expanded",t)}function uU(e,t){Io(e,"setsize",t)}function hU(e,t){Io(e,"posinset",t)}function dU(e,t){Io(e,"rowcount",t)}function EO(e,t){Io(e,"rowindex",t)}function fU(e,t){Io(e,"rowspan",t)}function gU(e,t){Io(e,"colcount",t)}function TO(e,t){Io(e,"colindex",t)}function pU(e,t){Io(e,"colspan",t)}function mU(e,t){Io(e,"sort",t)}function yU(e){wO(e,"sort")}function K1(e,t){ul(e,"selected",t)}function vU(e,t){ul(e,"controls",t.id),j1(t,e.id)}function vD(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var xw,bw,Sw,ww,Mw,$1,X1,Dw;function Dc(){return xw===void 0&&(xw=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),xw}function RO(){if(bw===void 0){const e=window;bw=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return bw}function kO(){return Sw===void 0&&(Sw=/(firefox)/i.test(navigator.userAgent)),Sw}function IO(){return ww===void 0&&(ww=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),ww}function Iu(){return Mw===void 0&&(Mw=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Mw}function Z1(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return t===-1&&(i===null||i===""&&!kO())?null:t.toString()}function CU(){if(Dw!==void 0)return Dw;if(!document.body)return-1;let e=1e6;const t=kO()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const s=e*2;if(i.style.height=s+"px",s>t||i.clientHeight!==s)break;e=s}return document.body.removeChild(i),Dw=e,e}function xU(){return X1==null&&LO(),X1}function LO(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;i===0&&t.clientWidth===0&&(i=null),t.parentNode&&t.parentNode.removeChild(t),i!=null&&(X1=i,$1=i===0)}function FO(){return $1==null&&LO(),$1}var xy,bU="[tabindex], input, select, button, textarea, [href]",PO="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function CD(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,s=t.call(e,"input, select, button, textarea"),n=t.call(e,PO),r=sa(e);return s&&!n&&r}function Ri(e,t,i={}){const{skipAriaHidden:s}=i;e.classList.toggle("ag-hidden",!t),s||AO(e,!t)}function SU(e,t,i={}){const{skipAriaHidden:s}=i;e.classList.toggle("ag-invisible",!t),s||AO(e,!t)}function Ep(e,t){const i="disabled",s=t?n=>n.setAttribute(i,""):n=>n.removeAttribute(i);s(e),BO(e.querySelectorAll("input"),n=>s(n))}function Lu(e,t,i){let s=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof i=="number"){if(++s>i)break}else if(e===i)break}return!1}function nh(e){const{height:t,width:i,borderTopWidth:s,borderRightWidth:n,borderBottomWidth:r,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:h,marginTop:f,marginRight:g,marginBottom:m,marginLeft:y,boxSizing:C}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(s||"0"),borderRightWidth:parseFloat(n||"0"),borderBottomWidth:parseFloat(r||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(h||"0"),marginTop:parseFloat(f||"0"),marginRight:parseFloat(g||"0"),marginBottom:parseFloat(m||"0"),marginLeft:parseFloat(y||"0"),boxSizing:C}}function xD(e){const t=nh(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Tp(e){const t=nh(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function OO(e){const{height:t,marginBottom:i,marginTop:s}=nh(e);return Math.floor(t+i+s)}function Ev(e){const{width:t,marginLeft:i,marginRight:s}=nh(e);return Math.floor(t+i+s)}function NO(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:s,borderRightWidth:n,borderBottomWidth:r}=nh(e);return{top:t.top+(i||0),left:t.left+(s||0),right:t.right+(n||0),bottom:t.bottom+(r||0)}}function Tv(){if(typeof xy=="boolean")return xy;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,xy=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),xy}function Rv(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),RO()&&!Tv()&&(i=e.scrollWidth-e.getBoundingClientRect().width-i)),i}function kv(e,t,i){i&&(Tv()?t*=-1:(Dc()||RO())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function lr(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function $u(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function _O(e){return!!e.offsetParent}function sa(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!_O(e)||window.getComputedStyle(e).visibility!=="visible")}function Rp(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function wU(e){return e.clientWidth<e.scrollWidth}function MU(e){return e.clientHeight<e.scrollHeight}function Iv(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Jo(e,t)}function Jo(e,t){t=bD(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Qg(e,t){t=bD(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function bD(e){return typeof e=="number"?`${e}px`:e}function SD(e){return e instanceof Node||e instanceof HTMLElement}function DU(e){if(e==null)return[];const t=[];return BO(e,i=>t.push(i)),t}function AU(e,t){if(e)for(let i=0;i<e.length;i++){const s=e[i];t(s.name,s.value)}}function Ur(e,t,i){i==null||i===""?e.removeAttribute(t):e.setAttribute(t,i.toString())}function BO(e,t){if(e!=null)for(let i=0;i<e.length;i++)t(e[i])}function hl(e,t,i){const n=YO(e).ResizeObserver,r=n?new n(i):null;return r==null||r.observe(t),()=>r==null?void 0:r.disconnect()}function Ya(e){return e==null||e===""?null:e}function He(e){return e!=null&&e!==""}function vi(e){return!He(e)}function q1(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function kp(e,t){const i=e?JSON.stringify(e):null,s=t?JSON.stringify(t):null;return i===s}function EU(e,t,i=!1){const s=e==null,n=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),s&&n)return 0;if(s)return-1;if(n)return 1;function r(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!i)return r(e,t);try{return e.localeCompare(t)}catch{return r(e,t)}}var GO="https://www.ag-grid.com",SL={};function zO(e,t){SL[t]||(e(),SL[t]=!0)}function Xu(e,t,...i){e.get("debug")&&console.log("AG Grid: "+t,...i)}function Jg(e,...t){zO(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Dd(e,...t){zO(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}var Aw=[],Ew=!1;function wL(e){Aw.push(e),!Ew&&(Ew=!0,window.setTimeout(()=>{const t=Aw.slice();Aw.length=0,Ew=!1,t.forEach(i=>i())},0))}function _s(e,t,i){let s;return function(...n){const r=this;window.clearTimeout(s),s=window.setTimeout(function(){e.isAlive()&&t.apply(r,n)},i)}}function ML(e,t){let i=0;return function(...s){const n=this,r=new Date().getTime();r-i<t||(i=r,e.apply(n,s))}}function TU(e,t,i=100,s){const n=new Date().getTime();let r=null,o=!1;const a=()=>{const l=new Date().getTime()-n>i;(e()||l)&&(t(),o=!0,r!=null&&(window.clearInterval(r),r=null))};a(),o||(r=window.setInterval(a,10))}var We="33.1.1",DL=2e3,AL=100,HO="_version_",nv=null,Fu=`${GO}/javascript-data-grid`;function RU(e){nv=e}function kU(e){Fu=e}function VO(e,t,i){return(nv==null?void 0:nv.getConsoleMessage(e,t))??[PU(e,t,i)]}function wD(e,t,i,s){e(`error #${t}`,...VO(t,i,s))}function IU(e){if(!e)return String(e);const t={};for(const i of Object.keys(e))typeof e[i]!="object"&&typeof e[i]!="function"&&(t[i]=e[i]);return JSON.stringify(t)}function LU(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=IU(e)),t}function Lv(e){return e===void 0?"undefined":e===null?"null":e}function Q1(e,t){return`${e}?${t.toString()}`}function FU(e,t,i){const s=Array.from(t.entries()).sort((r,o)=>o[1].length-r[1].length);let n=Q1(e,t);for(const[r,o]of s){if(r===HO)continue;const a=n.length-i;if(a<=0)break;const l="...",u=a+l.length,h=o.length-u>AL?o.slice(0,o.length-u)+l:o.slice(0,AL)+l;t.set(r,h),n=Q1(e,t)}return n}function WO(e,t){const i=new URLSearchParams;if(i.append(HO,We),t)for(const r of Object.keys(t))i.append(r,LU(t[r]));const s=`${Fu}/errors/${e}`,n=Q1(s,i);return n.length<=DL?n:FU(s,i,DL)}var PU=(e,t,i)=>{const s=WO(e,t);return`${i?i+` 
`:""}Visit ${s}${i?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function Pe(...e){wD(Jg,e[0],e[1])}function $t(...e){wD(Dd,e[0],e[1])}function J1(e,t,i){wD(Dd,e,t,i)}function OU(e,t){const i=t[0];return`error #${i} `+VO(i,t[1],e).join(" ")}function gc(...e){return OU(void 0,e)}function UO(e,t){return e.get("rowModelType")===t}function $s(e,t){return UO(e,"clientSide")}function rh(e,t){return UO(e,"serverSide")}function Gs(e,t){return e.get("domLayout")===t}function Pu(e){return Pv(e)!==void 0}function jO(e){return typeof e.get("getRowHeight")=="function"}function NU(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Vd(e,t,i=!1,s){const{gos:n,environment:r}=e;if(s==null&&(s=r.getDefaultRowHeight()),jO(n)){if(i)return{height:s,estimated:!0};const l={node:t,data:t.data},u=n.getCallback("getRowHeight")(l);if(eM(u))return u===0&&Pe(23),{height:Math.max(1,u),estimated:!1}}if(t.detail&&n.get("masterDetail"))return _U(n);const o=n.get("rowHeight");return{height:o&&eM(o)?o:s,estimated:!1}}function _U(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return eM(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Ou(e){const{environment:t,gos:i}=e,s=i.get("rowHeight");if(!s||vi(s))return t.getDefaultRowHeight();const n=t.refreshRowHeightVariable();return n!==-1?n:(Pe(24),t.getDefaultRowHeight())}function eM(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Fv(e,t,i){const s=t[e.getDomDataKey()];return s?s[i]:void 0}function Zu(e,t,i,s){const n=e.getDomDataKey();let r=t[n];vi(r)&&(r={},t[n]=r),r[i]=s}function Gi(e){const{gos:t,eGridDiv:i}=e;let s=null;const n=t.get("getDocument");return n&&He(n)?s=n():i&&(s=i.ownerDocument),s&&He(s)?s:document}function YO(e){return Gi(e).defaultView||window}function Ip(e){return e.eGridDiv.getRootNode()}function Fi(e){return Ip(e).activeElement}function MD(e){let t=null,i=null;try{t=Gi(e).fullscreenElement}catch{}finally{t||(t=Ip(e));const s=t.querySelector("body");s?i=s:t instanceof ShadowRoot?i=t:t instanceof Document?i=t==null?void 0:t.documentElement:i=t}return i}function BU(e){const t=MD(e);return(t==null?void 0:t.clientWidth)??(window.innerHeight||-1)}function GU(e){const t=MD(e);return(t==null?void 0:t.clientHeight)??(window.innerHeight||-1)}function zU(e,t,i){const n=e.getBoundingClientRect().height,r=BU(i)-2,o=GU(i)-2;if(!e.offsetParent)return;const l=NO(e.offsetParent),{clientY:u,clientX:h}=t;let f=u-l.top-n/2,g=h-l.left-10;const m=Gi(i),y=m.defaultView||window,C=y.pageYOffset||m.documentElement.scrollTop,x=y.pageXOffset||m.documentElement.scrollLeft;r>0&&g+e.clientWidth>r+x&&(g=r+x-e.clientWidth),g<0&&(g=0),o>0&&f+e.clientHeight>o+C&&(f=o+C-e.clientHeight),f<0&&(f=0),e.style.left=`${g}px`,e.style.top=`${f}px`}function KO(e){const t=Gi(e),i=Fi(e);return i===null||i===t.body}function Ad(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function $O(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Gs(e,"print"))}function Zo(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function tM(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function HU(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function DD(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function Wd(e){const t=e.getCallback("getRowId");return t===void 0?t:i=>{let s=t(i);return typeof s!="string"&&(Pe(25,{id:s}),s=String(s)),s}}function VU(e,t){const i=e.get("groupHideParentOfSingleChild");return!!(i===!0||i==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function WU(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Ed(e){return(e==null?void 0:e.checkboxes)??!0}function rv(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function iM(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function Tw(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function UU(e){return typeof e.get("rowSelection")!="string"}function xc(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function XO(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const i=e.get("suppressRowClickSelection"),s=e.get("suppressRowDeselection");return i&&s?!1:i?"enableDeselection":s?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function jU(e){const t=XO(e);return t===!0||t==="enableSelection"}function YU(e){const t=XO(e);return t===!0||t==="enableDeselection"}function sM(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function Pv(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t==null?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function Ov(e){return Pv(e)==="multiRow"}function KU(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function Nv(e){const t=e.get("rowSelection");if(typeof t=="string"){const i=e.get("groupSelectsChildren"),s=e.get("groupSelectsFiltered");return i&&s?"filteredDescendants":i?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function ZO(e,t=!0){const i=e.get("rowSelection");return typeof i!="object"?t?"all":void 0:i.mode==="multiRow"?i.selectAll:"all"}function Lp(e){const t=Nv(e);return t==="descendants"||t==="filteredDescendants"}function EL(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function Rw(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function sr(e){return e.get("columnMenu")==="legacy"}function $U(e){return!sr(e)}function qO(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function XU(e,t,i){typeof e!="object"&&(e={});const s={...e};return i.forEach(n=>{const r=t[n];typeof r<"u"&&(s[n]=r)}),s}function ZU(e,t){if(!e)return;const i={};let s=!1;if(Object.keys(e).forEach(o=>{i[o]=e[o],s=!0}),!s)return;const n={type:"gridOptionsChanged",options:i};t.dispatchEvent(n);const r={type:"componentStateChanged",...i};t.dispatchEvent(r)}function nt(e,t){return e.addGridCommonParams(t)}var QO="__ag_Grid_Stop_Propagation",qU=["touchstart","touchend","touchmove","touchcancel","scroll"],QU=["wheel"],kw={};function Ud(e){e[QO]=!0}function Ka(e){return e[QO]===!0}var JO=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof kw[i]=="boolean")return kw[i];const s=document.createElement(e[i]||"div");return i="on"+i,kw[i]=i in s}})();function eN(e,t,i){let s=t;for(;s;){const n=Fv(e,s,i);if(n)return n;s=s.parentElement}return null}function JU(e,t){return!t||!e?!1:t6(t).indexOf(e)>=0}function e6(e){const t=[];let i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function t6(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():e6(t)}function i6(e,t,i,s){const n=tN(i);let r;n!=null&&(r={passive:n}),e&&e.addEventListener&&e.addEventListener(t,i,s,r)}var tN=e=>{const t=qU.includes(e),i=QU.includes(e);if(t)return!0;if(i)return!1},Me=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new Ku),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){var s;(s=this.localEventService)==null||s.removeEventListener(e,t,i)}dispatchLocalEvent(e){var t;(t=this.localEventService)==null||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const i=[];for(const s of Object.keys(t)){const n=t[s];n&&i.push(this._setupListener(e,s,n))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;let s;return s6(e)?(e.__addEventListener(t,i),s=()=>(e.__removeEventListener(t,i),null)):(e instanceof HTMLElement?i6(this.beans.frameworkOverrides,e,t,i):e.addEventListener(t,i),s=()=>(e.removeEventListener(t,i),null)),this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==s),null)}setupGridOptionListener(e,t){const{gos:i}=this;i.addPropertyEventListener(e,t);const s=()=>(i.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==s),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,s=n=>{if(n.changeSet){if(n.changeSet&&n.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=n.changeSet.id}const r={type:"gridPropertyChanged",changeSet:n.changeSet,source:n.source};t(r)};e.forEach(n=>this.setupGridOptionListener(n,s))}getLocaleTextFunc(){return SO(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function s6(e){return e.__addEventListener!==void 0}var iN=new Set(["__proto__","constructor","prototype"]);function n6(e,t){if(e!=null){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(const i of Object.keys(e))t(i,e[i])}}function Wn(e,t,i=!0,s=!1){He(t)&&n6(t,(n,r)=>{if(iN.has(n))return;let o=e[n];o!==r&&(s&&o==null&&r!=null&&typeof r=="object"&&r.constructor===Object&&(o={},e[n]=o),TL(r)&&TL(o)&&!Array.isArray(o)?Wn(o,r,i,s):(i||r!==void 0)&&(e[n]=r))})}function ep(e,t,i){if(!t||!e)return;if(!i)return e[t];const s=t.split(".");let n=e;for(let r=0;r<s.length;r++){if(n==null)return;n=n[s[r]]}return n}function TL(e){return typeof e=="object"&&e!==null}var r6=/[&<>"']/g,o6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function $a(e,t){if(e==null)return null;const i=e.toString().toString();return t?i:i.replace(r6,s=>o6[s])}var a6={resizable:!0,sortable:!0},l6=0;function sN(){return l6++}function bc(e){return e instanceof AD}var AD=class extends Me{constructor(e,t,i,s){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=s,this.isColumn=!0,this.instanceId=sN(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Ku,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=$a(i)}destroy(){var e;super.destroy(),(e=this.beans.rowSpanSvc)==null||e.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:i,colFlex:s}}=this;t==null||t.initCol(this);const n=e.hide;n!==void 0?this.visible=!n:this.visible=!e.initialHide,i==null||i.initCol(this),s==null||s.initCol(this)}setColDef(e,t,i){var n;const s=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),s&&((n=this.beans.rowSpanSvc)==null||n.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",i)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:i}}=this,s=e.get("suppressFieldDotNotation");this.fieldContainsDots=He(t)&&t.indexOf(".")>=0&&!s,this.tooltipFieldContainsDots=He(i)&&i.indexOf(".")>=0&&!s}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;(e=this.beans.tooltipSvc)==null||e.initCol(this)}initRowSpan(){var e;this.colDef.spanRows&&((e=this.beans.rowSpanSvc)==null||e.register(this))}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const i=e.width,s=e.initialWidth;return i!=null?t=i:s!=null?t=s:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return((t=this.beans.showRowGroupCols)==null?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){var s,n,r;this.frameworkEventListenerService=(n=(s=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:n.call(s,this.frameworkEventListenerService,this.colEventSvc);const i=((r=this.frameworkEventListenerService)==null?void 0:r.wrap(t))??t;this.colEventSvc.addEventListener(e,i)}removeEventListener(e,t){var s;const i=((s=this.frameworkEventListenerService)==null?void 0:s.unwrap(t))??t;this.colEventSvc.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return nt(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return((t=this.beans.cellNavigation)==null?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return((t=this.beans.editSvc)==null?void 0:t.isCellEditable(this,e))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return((t=this.beans.selectionSvc)==null?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,((t=this.colDef)==null?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??a6[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const i=this.createColumnFunctionCallbackParams(e);return t(i)}return!1}createColumnEvent(e,t){return nt(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return vi(this.sort)}isSorting(){return He(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return Pe(261),!!((e=this.beans.colHover)!=null&&e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const i=e===!0;this.visible!==i&&(this.visible=i,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return nt(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(vi(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(vi(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,i){const s=this.createColumnEvent(e,t);i&&Wn(s,i),this.colEventSvc.dispatchEvent(s)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function wn(e){return e instanceof ov}var ov=class extends Me{constructor(e,t,i,s){super(),this.colGroupDef=e,this.groupId=t,this.padding=i,this.level=s,this.isColumn=!1,this.expandable=!1,this.instanceId=sN(),this.expandableListenerRemoveCallback=null,this.expanded=!!(e!=null&&e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{bc(t)?e.push(t):wn(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1;const s=this.findChildrenRemovingPadding();for(let r=0,o=s.length;r<o;r++){const a=s[r];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,i=!0):l==="closed"?(t=!0,i=!0):(e=!0,t=!0)}const n=e&&t&&i;this.expandable!==n&&(this.expandable=n,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=i=>{i.forEach(s=>{wn(s)&&s.isPadding()?t(s.children):e.push(s)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},c6={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},u6=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=q1(e);let i=0;for(;;){let s=e??t;if(s?i!==0&&(s+="_"+i):s=i,!this.existingKeys[s])return this.existingKeys[s]=!0,String(s);i++}}},RL=Object.freeze([]);function Kt(e){if(e!=null&&e.length)return e[e.length-1]}function oh(e,t,i){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((s,n)=>i?i(s,t[n]):t[n]===s)}function h6(e){return e.sort((t,i)=>t-i)}function Ro(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function kL(e,t,i){for(let s=0;s<t.length;s++)Ro(e,t[s]);for(let s=t.length-1;s>=0;s--)e.splice(i,0,t[s])}var UC="ag-Grid-AutoColumn",nN="ag-Grid-SelectionColumn",d6="ag-Grid-RowNumbersColumn";function rN(e){const t=[],i=s=>{for(let n=0;n<s.length;n++){const r=s[n];bc(r)?t.push(r):wn(r)&&i(r.getChildren())}};return i(e),t}function Ba(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function _v(e,t,i){const s={};if(!t)return;Xa(null,t,r=>{s[r.getInstanceId()]=r}),i&&Xa(null,i,r=>{s[r.getInstanceId()]=null});const n=Object.values(s).filter(r=>r!=null);e.context.destroyBeans(n)}function ED(e){return e.getId().startsWith(UC)}function il(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(nN))??!1}function fm(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(d6))??!1}function Bv(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function f6(e,t){return oh(e,t,(i,s)=>i.getColId()===s.getColId())}function g6(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function Td(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function oN(e,t){const i=e===t,s=e.getColDef()===t,n=e.getColId()==t;return i||s||n}var p6=(e,t)=>(i,s)=>{const n={value1:void 0,value2:void 0};let r=!1;return e&&(e[i]!==void 0&&(n.value1=e[i],r=!0),He(s)&&e[s]!==void 0&&(n.value2=e[s],r=!0)),!r&&t&&(t[i]!==void 0&&(n.value1=t[i]),He(s)&&t[s]!==void 0&&(n.value2=t[s])),n};function m6(e,t=null,i,s,n){const r=new u6,{existingCols:o,existingGroups:a,existingColKeys:l}=y6(s);r.addExistingKeys(l);const u=aN(e,t,0,i,o,r,a,n),{colGroupSvc:h}=e,f=(h==null?void 0:h.findMaxDepth(u,0))??0,g=h?h.balanceColumnTree(u,0,f,r):u;return Xa(null,g,(y,C)=>{wn(y)&&y.setupExpandable(),y.originalParent=C}),{columnTree:g,treeDept:f}}function y6(e){const t=[],i=[],s=[];return e&&Xa(null,e,n=>{if(wn(n)){const r=n;i.push(r)}else{const r=n;s.push(r.getId()),t.push(r)}}),{existingCols:t,existingGroups:i,existingColKeys:s}}function aN(e,t,i,s,n,r,o,a){if(!t)return[];const{colGroupSvc:l}=e,u=new Array(t.length);for(let h=0;h<u.length;h++){const f=t[h];l&&w6(f)?u[h]=l.createProvidedColumnGroup(s,f,i,n,r,o,a):u[h]=v6(e,s,f,n,r,a)}return u}function v6(e,t,i,s,n,r){var l;const o=x6(i,s);o&&(s==null||s.splice(o.idx,1));let a=o==null?void 0:o.column;if(a){const u=nM(e,i,a.getColId());a.setColDef(u,i,r),C6(e,a,u,r)}else{const u=n.getUniqueKey(i.colId,i.field),h=nM(e,i,u);a=new AD(h,i,u,t),e.context.createBean(a)}return(l=e.dataTypeSvc)==null||l.addColumnListeners(a),a}function lN(e,t,i,s,n,r,o,a){const{sortSvc:l,pinnedCols:u,colFlex:h}=e;i!==void 0&&t.setVisible(!i,a),l&&(l.updateColSort(t,s,a),n!==void 0&&l.setColSortIndex(t,n)),r!==void 0&&(u==null||u.setColPinned(t,r)),o!==void 0&&(h==null||h.setColFlex(t,o))}function C6(e,t,i,s){lN(e,t,i.hide,i.sort,i.sortIndex,i.pinned,i.flex,s);const n=t.getFlex();if(!(n!=null&&n>0))if(i.width!=null)t.setActualWidth(i.width,s);else{const r=t.getActualWidth();t.setActualWidth(r,s)}}function x6(e,t){if(t)for(let i=0;i<t.length;i++){const s=t[i].getUserProvidedColDef();if(!s)continue;if(e.colId!=null){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(e.field!=null){if(s.field===e.field)return{idx:i,column:t[i]};continue}if(s===e)return{idx:i,column:t[i]}}}function nM(e,t,i,s){const{gos:n,dataTypeSvc:r,validation:o}=e,a={},l=n.get("defaultColDef");Wn(a,l,!1,!0);const u=b6(e,a,t,i);u&&S6(e,u,a),Wn(a,t,!1,!0);const h=n.get("autoGroupColumnDef"),f=Zo(n);return t.rowGroup&&h&&f&&Wn(a,{sort:h.sort,initialSort:h.initialSort},!1,!0),r==null||r.validateColDef(a),o==null||o.validateColDef(a,i,s),a}function b6(e,t,i,s){var o;const n=(o=e.dataTypeSvc)==null?void 0:o.updateColDefAndGetColumnType(t,i,s),r=i.type??n??t.type;return t.type=r,r?Bv(r):void 0}function S6(e,t,i){if(!t.length)return;const s=Object.assign({},c6),n=e.gos.get("columnTypes")||{};for(const r of Object.keys(n)){const o=n[r];r in s?Pe(34,{key:r}):(o.type&&Pe(35),s[r]=o)}t.forEach(r=>{const o=s[r.trim()];o?Wn(i,o,!1,!0):Pe(36,{t:r})})}function w6(e){return e.children!==void 0}function Xa(e,t,i){if(t)for(let s=0;s<t.length;s++){const n=t[s];wn(n)&&Xa(n,n.getChildren(),i),i(n,e)}}function cN(e,t){const i=[],s=[],n=[];return e.forEach(o=>{const a=o.getColDef().lockPosition;a==="right"?n.push(o):a==="left"||a===!0?i.push(o):s.push(o)}),t.get("enableRtl")?[...n,...s,...i]:[...i,...s,...n]}function uN(e,t){let i=!0;return Xa(null,t,s=>{if(!wn(s))return;const n=s,r=n.getColGroupDef();if(!(r&&r.marryChildren))return;const a=[];n.getLeafColumns().forEach(g=>{const m=e.indexOf(g);a.push(m)});const l=Math.max.apply(Math,a),u=Math.min.apply(Math,a),h=l-u,f=n.getLeafColumns().length-1;h>f&&(i=!1)}),i}function hN(e,t){if(!e||e.length==0)return;const i=t(e[0]);for(let s=1;s<e.length;s++)if(i!==t(e[s]))return;return i}function dN(e,t,i){if(!t.length)return;const s=t.length===1?t[0]:null,n=hN(t,r=>r.getPinned());e.dispatchEvent({type:"columnPinned",pinned:n??null,columns:t,column:s,source:i})}function M6(e,t,i){if(!t.length)return;const s=t.length===1?t[0]:null,n=hN(t,r=>r.isVisible());e.dispatchEvent({type:"columnVisible",visible:n,columns:t,column:s,source:i})}function D6(e,t,i,s){e.dispatchEvent({type:t,columns:i,column:i&&i.length==1?i[0]:null,source:s})}function jd(e,t,i,s,n=null){t!=null&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:n,finished:i,source:s})}function jr(e,t,i){var A;const{colModel:s,rowGroupColsSvc:n,pivotColsSvc:r,autoColSvc:o,selectionColSvc:a,colAnimation:l,visibleCols:u,pivotResultCols:h,environment:f,valueColsSvc:g,eventSvc:m,gos:y}=e,C=s.getColDefCols()||[];if(!(C!=null&&C.length))return!1;if(t!=null&&t.state&&!t.state.forEach)return Pe(32),!1;const x=(T,k,R,F,I)=>{if(!T)return;const N=p6(k,t.defaultState),G=N("flex").value1;if(lN(e,T,N("hide").value1,N("sort").value1,N("sortIndex").value1,N("pinned").value1,G,i),G==null){const V=N("width").value1;if(V!=null){const Q=T.getColDef().minWidth??f.getDefaultColumnMinWidth();Q!=null&&V>=Q&&T.setActualWidth(V,i)}}I||!T.isPrimary()||(g==null||g.syncColumnWithState(T,i,N),n==null||n.syncColumnWithState(T,i,N,R),r==null||r.syncColumnWithState(T,i,N,F))},b=(T,k,R)=>{var z,ee;const F=fN(e,i),I=k.slice(),N={},G={},V=[],Q=[],pe=[];let ae=0;const se=(n==null?void 0:n.columns.slice())??[],le=(r==null?void 0:r.columns.slice())??[];T.forEach(O=>{const j=O.colId;if(j.startsWith(UC)){V.push(O),pe.push(O);return}if(il(j)){Q.push(O),pe.push(O);return}const K=R(j);K?(x(K,O,N,G,!1),Ro(I,K)):(pe.push(O),ae+=1)});const re=O=>x(O,null,N,G,!1);I.forEach(re),n==null||n.sortColumns(IL.bind(n,N,se)),r==null||r.sortColumns(IL.bind(r,G,le)),s.refreshCols(!1);const J=(O,j,H=[])=>{j.forEach(K=>{const ne=O(K.colId);Ro(H,ne),x(ne,K,null,null,!0)}),H.forEach(re)};return J(O=>(o==null?void 0:o.getColumn(O))??null,V,(z=o==null?void 0:o.getColumns())==null?void 0:z.slice()),J(O=>(a==null?void 0:a.getColumn(O))??null,Q,(ee=a==null?void 0:a.getColumns())==null?void 0:ee.slice()),E6(t,s,y),u.refresh(i),m.dispatchEvent({type:"columnEverythingChanged",source:i}),F(),{unmatchedAndAutoStates:pe,unmatchedCount:ae}};l==null||l.start();let{unmatchedAndAutoStates:w,unmatchedCount:M}=b(t.state||[],C,T=>s.getColDefCol(T));if(w.length>0||He(t.defaultState)){const T=((A=h==null?void 0:h.getPivotResultCols())==null?void 0:A.list)??[];M=b(w,T,k=>(h==null?void 0:h.getPivotResultCol(k))??null).unmatchedCount}return l==null||l.finish(),M===0}function A6(e,t){const{colModel:i,autoColSvc:s}=e,n=i.getColDefCols();if(!(n!=null&&n.length))return;const r=i.getColDefColTree(),o=rN(r),a=[];let l=1e3,u=1e3,h=[];const f=s==null?void 0:s.getColumns();f&&(h=h.concat(f)),o&&(h=h.concat(o)),h.forEach(g=>{const m=gN(g);vi(m.rowGroupIndex)&&m.rowGroup&&(m.rowGroupIndex=l++),vi(m.pivotIndex)&&m.pivot&&(m.pivotIndex=u++),a.push(m)}),jr(e,{state:a,applyOrder:!0},t)}function fN(e,t){const{rowGroupColsSvc:i,pivotColsSvc:s,valueColsSvc:n,colModel:r,sortSvc:o,eventSvc:a}=e,l={rowGroupColumns:(i==null?void 0:i.columns.slice())??[],pivotColumns:(s==null?void 0:s.columns.slice())??[],valueColumns:(n==null?void 0:n.columns.slice())??[]},u=Fp(e),h={};return u.forEach(f=>{h[f.colId]=f}),()=>{const f=r.getAllCols(),g=(R,F,I,N)=>{const G=F.map(N),V=I.map(N);if(oh(G,V))return;const pe=new Set(F);I.forEach(se=>{pe.delete(se)||pe.add(se)});const ae=[...pe];a.dispatchEvent({type:R,columns:ae,column:ae.length===1?ae[0]:null,source:t})},m=R=>{const F=[];return f.forEach(I=>{const N=h[I.getColId()];N&&R(N,I)&&F.push(I)}),F},y=R=>R.getColId();g("columnRowGroupChanged",l.rowGroupColumns,(i==null?void 0:i.columns)??[],y),g("columnPivotChanged",l.pivotColumns,(s==null?void 0:s.columns)??[],y);const x=m((R,F)=>{const I=R.aggFunc!=null,N=I!=F.isValueActive(),G=I&&R.aggFunc!=F.getAggFunc();return N||G});x.length>0&&D6(a,"columnValueChanged",x,t),jd(a,m((R,F)=>R.width!=F.getActualWidth()),!0,t),dN(a,m((R,F)=>R.pinned!=F.getPinned()),t),M6(a,m((R,F)=>R.hide==F.isVisible()),t);const T=m((R,F)=>R.sort!=F.getSort()||R.sortIndex!=F.getSortIndex());T.length>0&&(o==null||o.dispatchSortChangedEvents(t,T));const k=Fp(e);R6(u,k,t,r,a)}}function Fp(e){const{colModel:t,rowGroupColsSvc:i,pivotColsSvc:s}=e,n=t.getColDefCols();if(vi(n)||!t.isAlive())return[];const r=t.getAllCols(),o=i==null?void 0:i.columns,a=s==null?void 0:s.columns,l=f=>{const g=f.isRowGroupActive()&&o?o.indexOf(f):null,m=f.isPivotActive()&&a?a.indexOf(f):null,y=f.isValueActive()?f.getAggFunc():null,C=f.getSort()!=null?f.getSort():null,x=f.getSortIndex()!=null?f.getSortIndex():null;return{colId:f.getColId(),width:f.getActualWidth(),hide:!f.isVisible(),pinned:f.getPinned(),sort:C,sortIndex:x,aggFunc:y,rowGroup:f.isRowGroupActive(),rowGroupIndex:g,pivot:f.isPivotActive(),pivotIndex:m,flex:f.getFlex()??null}},u=r.map(f=>l(f)),h=new Map(t.getCols().map((f,g)=>[f.getColId(),g]));return u.sort((f,g)=>{const m=h.has(f.colId)?h.get(f.colId):-1,y=h.has(g.colId)?h.get(g.colId):-1;return m-y}),u}function gN(e){const t=(y,C)=>y??C??null,i=e.getColDef(),s=t(i.sort,i.initialSort),n=t(i.sortIndex,i.initialSortIndex),r=t(i.hide,i.initialHide),o=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex);let u=t(i.rowGroupIndex,i.initialRowGroupIndex),h=t(i.rowGroup,i.initialRowGroup);u==null&&(h==null||h==!1)&&(u=null,h=null);let f=t(i.pivotIndex,i.initialPivotIndex),g=t(i.pivot,i.initialPivot);f==null&&(g==null||g==!1)&&(f=null,g=null);const m=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:s,sortIndex:n,hide:r,pinned:o,width:a,flex:l,rowGroup:h,rowGroupIndex:u,pivot:g,pivotIndex:f,aggFunc:m}}function E6(e,t,i){if(!e.applyOrder||!e.state)return;const s=[];e.state.forEach(n=>{n.colId!=null&&s.push(n.colId)}),T6(t.cols,s,t,i)}function T6(e,t,i,s){if(e==null)return;let n=[];const r={};t.forEach(a=>{if(r[a])return;const l=e.map[a];l&&(n.push(l),r[a]=!0)});let o=0;if(e.list.forEach(a=>{const l=a.getColId();if(r[l]!=null)return;l.startsWith(UC)?n.splice(o++,0,a):n.push(a)}),n=cN(n,s),!uN(n,i.getColTree())){Pe(39);return}e.list=n}function R6(e,t,i,s,n){const r={};t.forEach(h=>r[h.colId]=h);const o={};e.forEach(h=>{r[h.colId]&&(o[h.colId]=!0)});const a=e.filter(h=>o[h.colId]),l=t.filter(h=>o[h.colId]),u=[];l.forEach((h,f)=>{const g=a&&a[f];if(g&&g.colId!==h.colId){const m=s.getCol(g.colId);m&&u.push(m)}}),u.length&&n.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,finished:!0,source:i})}var IL=(e,t,i,s)=>{const n=e[i.getId()],r=e[s.getId()],o=n!=null,a=r!=null;if(o&&a)return n-r;if(o)return-1;if(a)return 1;const l=t.indexOf(i),u=t.indexOf(s),h=l>=0,f=u>=0;return h&&f?l-u:h?-1:1},k6=class extends Me{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(Td(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Td(e.source)))}createColsFromColDefs(e){var w,M,A;const{beans:t}=this,{valueCache:i,colAutosize:s,rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:o,visibleCols:a,colViewport:l,eventSvc:u}=t,h=this.colDefs?fN(t,e):void 0;i==null||i.expire();const f=(w=this.colDefCols)==null?void 0:w.list,g=(M=this.colDefCols)==null?void 0:M.tree,m=m6(t,this.colDefs,!0,g,e);_v(t,(A=this.colDefCols)==null?void 0:A.tree,m.columnTree);const y=m.columnTree,C=m.treeDept,x=rN(y),b={};x.forEach(T=>b[T.getId()]=T),this.colDefCols={tree:y,treeDepth:C,list:x,map:b},n==null||n.extractCols(e,f),r==null||r.extractCols(e,f),o==null||o.extractCols(e,f),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.checkViewportColumns(),u.dispatchEvent({type:"columnEverythingChanged",source:e}),h&&(this.changeEventsDispatching=!0,h(),this.changeEventsDispatching=!1),u.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&(s==null||s.applyAutosizeStrategy())}refreshCols(e){var C;if(!this.colDefCols)return;const t=(C=this.cols)==null?void 0:C.tree;this.saveColOrder();const{autoColSvc:i,selectionColSvc:s,rowNumbersSvc:n,quickFilter:r,pivotResultCols:o,showRowGroupCols:a,rowAutoHeight:l,visibleCols:u,colViewport:h,eventSvc:f}=this.beans,g=this.selectCols(o,this.colDefCols);this.createColumnsForService([i,s,n],g);const m=NU(this.gos,this.showingPivotResult);(!e||m)&&this.restoreColOrder(g),this.positionLockedCols(g),a==null||a.refresh(),r==null||r.refreshCols(),this.setColSpanActive(),l==null||l.setAutoHeightActive(g),u.clear(),h.clear(),!oh(t,this.cols.tree)&&f.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const i of e)i&&(i.createColumns(t,s=>{this.lastOrder=s(this.lastOrder),this.lastPivotOrder=s(this.lastPivotOrder)}),i.addColumns(t))}selectCols(e,t){const i=(e==null?void 0:e.getPivotResultCols())??null;this.showingPivotResult=i!=null;const{map:s,list:n,tree:r,treeDepth:o}=i??t;return this.cols={list:n.slice(),map:{...s},tree:r.slice(),treeDepth:o},i&&(i.list.some(l=>{var u;return((u=this.cols)==null?void 0:u.map[l.getColId()])!==void 0})||(this.lastPivotOrder=null)),this.cols}getColsToShow(){var s;if(!this.cols)return[];const e=this.isPivotMode()&&!this.showingPivotResult,t=(s=this.beans.valueColsSvc)==null?void 0:s.columns;return this.cols.list.filter(n=>{const r=ED(n);if(e){const o=t==null?void 0:t.includes(n);return r||o}else return r||n.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,i){jr(this.beans,{state:e.map(s=>({colId:typeof s=="string"?s:s.getColId(),hide:!t}))},i)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const i=new Map(t.map((u,h)=>[u,h]));if(!e.list.some(u=>i.has(u)))return;const n=new Map(e.list.map(u=>[u,!0])),r=t.filter(u=>n.has(u)),o=new Map(r.map(u=>[u,!0])),a=e.list.filter(u=>!o.has(u)),l=r.slice();a.forEach(u=>{let h=u.getOriginalParent();if(!h){l.push(u);return}const f=[];for(;!f.length&&h;)h.getLeafColumns().forEach(C=>{const x=l.indexOf(C)>=0,b=f.indexOf(C)<0;x&&b&&f.push(C)}),h=h.getOriginalParent();if(!f.length){l.push(u);return}const g=f.map(y=>l.indexOf(y)),m=Math.max(...g);l.splice(m+1,0,u)}),e.list=l}positionLockedCols(e){e.list=cN(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=((e=this.cols)==null?void 0:e.list)??null:this.lastOrder=((t=this.cols)==null?void 0:t.list)??null}getColumnDefs(){var e,t;return this.colDefCols?(t=this.beans.colDefFactory)==null?void 0:t.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,((e=this.cols)==null?void 0:e.list)??[]):void 0}setColSpanActive(){var e;this.colSpanActive=!!((e=this.cols)!=null&&e.list.some(t=>t.getColDef().colSpan!=null))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:i,eventSvc:s}=this.beans;i.refresh(t),s.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var t;const e=(t=this.beans.pivotColsSvc)==null?void 0:t.columns;return this.pivotMode&&!!(e!=null&&e.length)}recreateColumnDefs(e){var i;if(!this.cols)return;(i=this.beans.autoColSvc)==null||i.updateColumns(e);const t=Td(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;_v(this.beans,(e=this.colDefCols)==null?void 0:e.tree),super.destroy()}getColTree(){var e;return((e=this.cols)==null?void 0:e.tree)??[]}getColDefColTree(){var e;return((e=this.colDefCols)==null?void 0:e.tree)??[]}getColDefCols(){var e;return((e=this.colDefCols)==null?void 0:e.list)??null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var n,r,o,a;const{pivotResultCols:e,autoColSvc:t,selectionColSvc:i}=this.beans,s=(n=e==null?void 0:e.getPivotResultCols())==null?void 0:n.list;return[((r=this.colDefCols)==null?void 0:r.list)??[],((o=t==null?void 0:t.columns)==null?void 0:o.list)??[],((a=i==null?void 0:i.columns)==null?void 0:a.list)??[],s??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){var n,r;if(t==null)return null;const{map:i,list:s}=t;if(typeof e=="string"&&i[e])return i[e];for(let o=0;o<s.length;o++)if(oN(s[o],e))return s[o];return((n=this.beans.autoColSvc)==null?void 0:n.getColumn(e))??((r=this.beans.selectionColSvc)==null?void 0:r.getColumn(e))??null}},pN=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}},of=class extends Me{};function gm(e,t,i){return i&&e.addDestroyFunc(()=>t.destroyBean(i)),i??e}var pm=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){this.addOrRemoveCssClass(e,!0)}removeCssClass(e){this.addOrRemoveCssClass(e,!1)}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const s=(e||"").split(" ");if(s.length>1){s.forEach(n=>this.addOrRemoveCssClass(n,t));return}}if(this.cssClassStates[e]!==t&&e.length){const s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}},I6=0,tt=null,Ci=class extends Me{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=I6++,this.cssClassManager=new pm(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(i=>[i.selector,i])),e&&this.setTemplate(e)}preConstruct(){var t,i,s;this.wireTemplate(this.getGui());const e="component-"+((i=(t=Object.getPrototypeOf(this))==null?void 0:t.constructor)==null?void 0:i.name);(s=this.css)==null||s.forEach(n=>this.beans.environment.addGlobalCSS(n,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null}applyElementsToComponent(e,t,i,s=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const n=this[t];if(n===tt)this[t]=s??e;else{const r=i&&i[t];if(!this.suppressDataRefValidation&&!r)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${n}`)}}}createChildComponentsFromTags(e,t){DU(e.childNodes).forEach(s=>{if(!(s instanceof HTMLElement))return;const n=this.createComponentFromElement(s,r=>{r.getGui()&&this.copyAttributesFromNode(s,r.getGui())},t);if(n){if(n.addItems&&s.children.length){this.createChildComponentsFromTags(s,t);const r=Array.prototype.slice.call(s.children);n.addItems(r)}this.swapComponentForNode(n,e,s)}else s.childNodes&&this.createChildComponentsFromTags(s,t)})}createComponentFromElement(e,t,i){const s=e.nodeName,n=this.getDataRefAttribute(e),r=s.indexOf("AG-")===0,o=r?this.componentSelectors.get(s):null;let a=null;if(o){const l=i&&n?i[n]:void 0;a=new o.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(r)throw new Error(`selector: ${s}`);return this.applyElementsToComponent(e,n,i,a),a}copyAttributesFromNode(e,t){AU(e.attributes,(i,s)=>t.setAttribute(i,s))}swapComponentForNode(e,t,i){const s=e.getGui();t.replaceChild(s,i),t.insertBefore(document.createComment(i.nodeName),s),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(i=>i.setAttribute("tabindex",t.toString()))}setTemplate(e,t,i){const s=Rp(e);this.setTemplateFromElement(s,t,i)}setTemplateFromElement(e,t,i,s=!1){if(this.eGui=e,this.suppressDataRefValidation=s,t)for(let n=0;n<t.length;n++){const r=t[n];this.componentSelectors.set(r.selector,r)}this.wireTemplate(e,i)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let i=t;return e==null?null:(i||(i=this.eGui),SD(e)?{element:e,parent:i}:{element:e.getGui(),parent:i})}prependChild(e,t){const{element:i,parent:s}=this.getContainerAndElement(e,t)||{};!i||!s||s.insertAdjacentElement("afterbegin",i)}appendChild(e,t){const{element:i,parent:s}=this.getContainerAndElement(e,t)||{};!i||!s||s.appendChild(i)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:i}=t;SU(this.eGui,e,{skipAriaHidden:i})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:i}=t;Ri(this.eGui,e,{skipAriaHidden:i});const s={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(s)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,i){this.eGui.addEventListener(e,t,i),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},yi=class Hg{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new Hg(i=>{let s=t.length;const n=new Array(s);t.forEach((r,o)=>{r.then(a=>{n[o]=a,s--,s===0&&i(n)})})}):Hg.resolve()}static resolve(t=null){return new Hg(i=>i(t))}then(t){return new Hg(i=>{this.status===1?i(t(this.resolution)):this.waiters.push(s=>i(t(s)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}};function L6(e){return e?e.prototype&&"getGui"in e.prototype:!1}function mN(e,t,i,s){const{name:n}=i;let r,o,a,l,u,h;if(t){const f=t,g=f[n+"Selector"],m=g?g(s):null,y=C=>{typeof C=="string"?r=C:C!=null&&C!==!0&&(e.isFrameworkComponent(C)?a=C:o=C)};m?(y(m.component),l=m.params,u=m.popup,h=m.popupPosition):y(f[n])}return{compName:r,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:u,popupPositionFromSelector:h}}var F6=class extends Me{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,i,s=!1){return this.getCompDetails(this.gridOptions,e,t,i,s)}getCompDetails(e,t,i,s,n=!1){var w;const{name:r,cellRenderer:o}=t;let{compName:a,jsComp:l,fwComp:u,paramsFromSelector:h,popupFromSelector:f,popupPositionFromSelector:g}=mN(this.beans.frameworkOverrides,e,t,s),m;const y=M=>{const A=this.registry.getUserComponent(r,M);A&&(l=A.componentFromFramework?void 0:A.component,u=A.componentFromFramework?A.component:void 0,m=A.params)};if(a!=null&&y(a),l==null&&u==null&&i!=null&&y(i),l&&o&&!L6(l)&&(l=(w=this.agCompUtils)==null?void 0:w.adaptFunction(t,l)),!l&&!u){const{validation:M}=this.beans;n&&(a!==i||!i)?a?M!=null&&M.isProvidedUserComp(a)||$t(50,{compName:a}):i?M||$t(260,{...this.gos.getModuleErrorParams(),propName:r,compName:i}):$t(216,{name:r}):i&&!M&&$t(146,{comp:i});return}const C=this.mergeParams(e,t,s,h,m),x=l==null,b=l??u;return{componentFromFramework:x,componentClass:b,params:C,type:t,popupFromSelector:f,popupPositionFromSelector:g,newAgStackInstance:()=>this.newAgStackInstance(b,x,C,t)}}newAgStackInstance(e,t,i,s){var a;const n=!t;let r;n?r=new e:r=this.frameworkCompWrapper.wrap(e,s.mandatoryMethods,s.optionalMethods,s),this.createBean(r);const o=(a=r.init)==null?void 0:a.call(r,i);return o==null?yi.resolve(r):o.then(()=>r)}mergeParams(e,t,i,s=null,n){const r={...i,...n},o=e,a=o&&o[t.name+"Params"];if(typeof a=="function"){const l=a(i);Wn(r,l)}else typeof a=="object"&&Wn(r,a);return Wn(r,s),r}},P6={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},O6={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},N6={name:"headerComponent",optionalMethods:["refresh"]},_6={name:"innerHeaderComponent"},B6={name:"innerHeaderGroupComponent"},G6={name:"headerGroupComponent"},z6={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},H6={name:"loadingCellRenderer",cellRenderer:!0},V6={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},W6={name:"loadingOverlayComponent",optionalMethods:["refresh"]},U6={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},j6={name:"tooltipComponent"},TD={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},Y6={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},K6={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},$6={name:"loadingCellRenderer",cellRenderer:!0},X6={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},Z6={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function q6(e,t){return e.getCompDetailsFromGridOptions(O6,"agDragAndDropImage",t,!0)}function Q6(e,t,i){return e.getCompDetails(t,N6,"agColumnHeader",i)}function J6(e,t,i){return e.getCompDetails(t,_6,void 0,i)}function ej(e,t){const i=t.columnGroup.getColGroupDef();return e.getCompDetails(i,G6,"agColumnGroupHeader",t)}function tj(e,t,i){return e.getCompDetails(t,B6,void 0,i)}function ij(e,t){return e.getCompDetailsFromGridOptions(K6,void 0,t,!0)}function sj(e,t){return e.getCompDetailsFromGridOptions($6,"agLoadingCellRenderer",t,!0)}function nj(e,t){return e.getCompDetailsFromGridOptions(X6,"agGroupRowRenderer",t,!0)}function rj(e,t){return e.getCompDetailsFromGridOptions(Z6,"agDetailCellRenderer",t,!0)}function oj(e,t,i){return e.getCompDetails(t,z6,void 0,i)}function aj(e,t,i){return e.getCompDetails(t,H6,"agSkeletonCellRenderer",i,!0)}function LL(e,t,i){return e.getCompDetails(t,V6,"agCellEditor",i,!0)}function lj(e,t,i,s){return e.getCompDetails(t,TD,s,i,!0)}function cj(e,t){return e.getCompDetailsFromGridOptions(P6,"agDateInput",t,!0)}function uj(e,t){return e.getCompDetailsFromGridOptions(W6,"agLoadingOverlay",t,!0)}function hj(e,t){return e.getCompDetailsFromGridOptions(U6,"agNoRowsOverlay",t,!0)}function dj(e,t){return e.getCompDetails(t.colDef,j6,"agTooltipComponent",t,!0)}function fj(e,t,i,s){return e.getCompDetails(t,Y6,s,i)}function gj(e,t){return mN(e,t,TD)}function pj(e,t,i){return e.mergeParams(t,TD,i)}function Pp(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var yN=new Set,Gv={},Nu={},av,vN=!1,mj=!1;function yj(e){const[t,i]=e.version.split(".")||[],[s,n]=av.split(".")||[];return t===s&&i===n}function vj(e){av||(av=e.version);const t=i=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${i} Please update all modules to the same version.`;if(e.version?yj(e)||Dd(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${av}.`)):Dd(t(`'${e.moduleName}' is incompatible.`)),e.validate){const i=e.validate();i.isValid||Dd(`${i.message}`)}}function Op(e,t){vj(e);const i=e.rowModels??["all"];yN.add(e);let s;t!==void 0?(vN=!0,Nu[t]===void 0&&(Nu[t]={}),s=Nu[t]):s=Gv,i.forEach(n=>{s[n]===void 0&&(s[n]={}),s[n][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(n=>Op(n,t))}function Cj(e){delete Nu[e]}function CN(e,t,i){const s=n=>{var r,o,a;return!!((r=Gv[n])!=null&&r[e])||!!((a=(o=Nu[t])==null?void 0:o[n])!=null&&a[e])};return s(i)||s("all")}function RD(){return vN}function xj(e,t){const i=Nu[e]??{};return[...Object.values(Gv.all??{}),...Object.values(i.all??{}),...Object.values(Gv[t]??{}),...Object.values(i[t]??{})]}function bj(){return new Set(yN)}function Sj(e,t){const i=Nu[e]??{};return[...Object.values(i.all??{}),...Object.values(i[t]??{})]}function wj(){return mj}var Mj=class{static register(t){Op(t,void 0)}static registerModules(t){t.forEach(i=>Op(i,void 0))}},Dj=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;for(const i of Object.keys(e.providedBeanInstances))this.beans[i]=e.providedBeanInstances[i];e.beanClasses.forEach(i=>{const s=new i;s.beanName?this.beans[s.beanName]=s:console.error(`Bean ${i.name} is missing beanName`),this.createdBeans.push(s)}),(t=e.derivedBeans)==null||t.forEach(i=>{const{beanName:s,bean:n}=i(this);this.beans[s]=n,this.createdBeans.push(n)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(i=>{var s,n;(s=i.preWireBeans)==null||s.call(i,this.beans),(n=i.wireBeans)==null||n.call(i,this.beans)}),e.forEach(i=>{var s;return(s=i.preConstruct)==null?void 0:s.call(i)}),t&&e.forEach(t),e.forEach(i=>{var s;return(s=i.postConstruct)==null?void 0:s.call(i)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},Aj=class extends Dj{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){var e;super.destroy(),Cj(this.gridId),(e=this.destroyCallback)==null||e.call(this)}getGridId(){return this.gridId}},Ej="ag-column-first",Tj="ag-column-last";function xN(e,t,i,s){return vi(e)?[]:kj(e.headerClass,e,t,i,s)}function bN(e,t,i){e.addOrRemoveCssClass(Ej,i.isColAtEdge(t,"first")),e.addOrRemoveCssClass(Tj,i.isColAtEdge(t,"last"))}function Rj(e,t,i,s){return nt(t,{colDef:e,column:i,columnGroup:s})}function kj(e,t,i,s,n){if(vi(e))return[];let r;if(typeof e=="function"){const o=Rj(t,i,s,n);r=e(o)}else r=e;return typeof r=="string"?[r]:Array.isArray(r)?[...r]:[]}function dl(e,t){const i=YO(e);i.requestAnimationFrame?i.requestAnimationFrame(t):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(t):i.setTimeout(t,0)}var Ij=class extends Me{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const{gos:t,pagination:i}=this.beans,s=t.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,s&&e===0){const n=(i==null?void 0:i.getCurrentPage())??0;n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame")}verifyAnimationFrameOn(e){this.active===!1&&Pe(92,{methodName:e})}createTask(e,t,i){this.verifyAnimationFrameOn(i);const s={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],s),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,s)=>i.index!==s.index?t*(s.index-i.index):s.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,s=this.createTasksP2,n=s.list,r=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const l=e<=0,u=this.beans.ctrlsSvc.getScrollFeature();for(;l||a<e;){if(!u.scrollGridIfNeeded()){let f;if(i.length)this.sortTaskList(t),f=i.pop().task;else if(n.length)this.sortTaskList(s),f=n.pop().task;else if(r.length)f=r.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(f)||f()}a=new Date().getTime()-o}i.length||n.length||r.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);dl(this.beans,e)}isQueueEmpty(){return!this.ticking}},Se={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},rM=!1,zv=0;function Lj(e){zv>0||(e.addEventListener("keydown",Hv),e.addEventListener("mousedown",Hv))}function Fj(e){zv>0||(e.removeEventListener("keydown",Hv),e.removeEventListener("mousedown",Hv))}function Hv(e){const t=rM,i=e.type==="keydown";i&&(e.ctrlKey||e.metaKey||e.altKey)||t!==i&&(rM=i)}function Pj(e){const t=Gi(e);return Lj(t),zv++,()=>{zv--,Fj(t)}}function Oj(){return rM}function Nj(e,t,i){t.addManagedElementListeners(i,{keydown:s=>{if(!s.defaultPrevented&&s.key===Se.TAB){const n=s.shiftKey;ah(e,i,!1,n)||Yd(e,n)&&s.preventDefault()}}})}function Rd(e,t,i=!1){const s=bU;let n=PO;t&&(n+=", "+t),i&&(n+=', [tabindex="-1"]');const r=Array.prototype.slice.apply(e.querySelectorAll(s)).filter(l=>sa(l)),o=Array.prototype.slice.apply(e.querySelectorAll(n));return o.length?((l,u)=>l.filter(h=>u.indexOf(h)===-1))(r,o):r}function qu(e,t=!1,i=!1,s=!1){const n=Rd(e,s?".ag-tab-guard":null,i),r=t?Kt(n):n[0];return r?(r.focus({preventScroll:!0}),!0):!1}function ah(e,t,i,s){const n=Rd(t,i?':not([tabindex="-1"])':null),r=Fi(e);let o;i?o=n.findIndex(l=>l.contains(r)):o=n.indexOf(r);const a=o+(s?-1:1);return a<0||a>=n.length?null:n[a]}function SN(e,t=5){let i=0;for(;e&&Z1(e)===null&&++i<=t;)e=e.parentElement;return Z1(e)===null?null:e}function _j(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function _u(e){var t;return e.gos.get("suppressHeaderFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function jC(e){var t;return e.gos.get("suppressCellFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function Yd(e,t,i=!1){const s=e.ctrlsSvc.get("gridCtrl");return!i&&s.focusNextInnerContainer(t)?!0:((i||!t&&!s.isDetailGrid())&&s.forceFocusOutOfContainer(t),!1)}function Bj(e,t=!1){return e===Se.DELETE?!0:!t&&e===Se.BACKSPACE?IO():!1}var Gj=class extends Me{constructor(e,t,i,s){super(),this.cellCtrl=e,this.rowNode=i,this.rowCtrl=s,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case Se.ENTER:this.onEnterKeyDown(e);break;case Se.F2:this.onF2KeyDown(e);break;case Se.ESCAPE:this.onEscapeKeyDown(e);break;case Se.TAB:this.onTabKeyDown(e);break;case Se.BACKSPACE:case Se.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Se.DOWN:case Se.UP:case Se.RIGHT:case Se.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){var i;if(!this.cellCtrl.editing){if(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const s=this.cellCtrl.getFocusedCellPosition();(i=this.beans.navigation)==null||i.navigateToNextCell(e,t,s,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:i}=this.beans;if(!t)return;const s=t.extendLatestRangeInDirection(e);s&&(i==null||i.ensureCellVisible(s))}onTabKeyDown(e){var t;(t=this.beans.navigation)==null||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var l;const{cellCtrl:i,beans:s,rowNode:n}=this,{gos:r,rangeSvc:o,eventSvc:a}=s;if(!i.editing){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),Bj(e,r.get("enableCellEditingOnBackspace"))){if(o&&xc(r))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){const{column:u}=i,h=this.beans.valueSvc.getDeleteValue(u,n);n.setDataValue(u,h,"cellClear")}}else(l=s.editSvc)==null||l.startRowOrCellEdit(i,e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){var s,n;const{cellCtrl:t,beans:i}=this;if(t.editing||this.rowCtrl.editing)t.stopEditingAndFocus(!1,e.shiftKey);else if(i.gos.get("enterNavigatesVertically")){const r=e.shiftKey?Se.UP:Se.DOWN;(s=i.navigation)==null||s.navigateToNextCell(null,r,t.cellPosition,!1)}else(n=i.editSvc)==null||n.startRowOrCellEdit(t,Se.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){var s;const{cellCtrl:t,beans:i}=this;t.editing||(s=i.editSvc)==null||s.startRowOrCellEdit(t,Se.F2,e)}onEscapeKeyDown(e){var s;const{cellCtrl:t,beans:i}=this;t.editing&&((s=i.editSvc)==null||s.stopRowOrCellEdit(t,!0),t.focusCell(!0))}processCharacter(e){var n;if(e.target!==this.eGui||this.cellCtrl.editing)return;const s=e.key;s===Se.SPACE?this.onSpaceKeyDown(e):(n=this.beans.editSvc)!=null&&n.startRowOrCellEdit(this.cellCtrl,s,e)&&e.preventDefault()}onSpaceKeyDown(e){var i;const{gos:t}=this.beans;!this.cellCtrl.editing&&Pu(t)&&((i=this.beans.selectionSvc)==null||i.handleSelectionEvent(e,this.rowNode,"spaceKey")),e.preventDefault()}destroy(){super.destroy()}},zj=class extends Me{constructor(e,t,i){super(),this.cellCtrl=e,this.column=i,this.beans=t}onMouseEvent(e,t){if(!Ka(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){var u;if((u=this.beans.touchSvc)!=null&&u.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:i,gos:s,editSvc:n}=this.beans,r=e.ctrlKey||e.metaKey;i&&r&&i.getCellRangeCount(this.cellCtrl.cellPosition)>1&&i.intersectLastRange(!0);const o=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(o);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellClicked(o)})},0),(s.get("singleClickEdit")||a.singleClickEdit)&&!s.get("suppressClickEdit")&&!(e.shiftKey&&(i==null?void 0:i.getCellRanges().length)!=0)&&(n==null||n.startRowOrCellEdit(this.cellCtrl,void 0,e))}onCellDoubleClicked(e){const{column:t,beans:i,cellCtrl:s}=this,{eventSvc:n,frameworkOverrides:r,gos:o,editSvc:a}=i,l=t.getColDef(),u=s.createEvent(e,"cellDoubleClicked");n.dispatchEvent(u),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{r.wrapOutgoing(()=>{l.onCellDoubleClicked(u)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&(a==null||a.startRowOrCellEdit(s,null,e))}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:s}=e,n=e.target,{cellCtrl:r,beans:o}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:u,focusSvc:h,gos:f}=o;if(this.isRightClickInExistingRange(e))return;const g=l&&!l.isEmpty(),m=this.containsWidget(n),{cellPosition:y}=r,C=fm(y.column);if(u&&C&&!u.handleMouseDownOnCell(y,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!s||!g){const b=f.get("enableCellTextSelection")&&e.defaultPrevented,w=(Dc()||b)&&!r.editing&&!CD(n)&&!m;r.focusCell(w)}if(s&&g&&!h.isCellFocused(y)){e.preventDefault();const x=h.getFocusedCell();if(x){const{column:b,rowIndex:w,rowPinned:M}=x,A=o.rowRenderer.getRowByPosition({rowIndex:w,rowPinned:M}),T=A==null?void 0:A.getCellCtrl(b);T!=null&&T.editing&&T.stopEditing(),h.setFocusedCell({column:b,rowIndex:w,rowPinned:M,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!m){if(l)if(C&&e.preventDefault(),s)l.extendLatestRangeToCell(y);else{const x=t||i;l.setRangeToCell(y,x)}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.cellPosition),s=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&s)return!0}return!1}containsWidget(e){return Lu(e,"ag-selection-checkbox",3)||Lu(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:i}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),i==null||i.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:i}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),i==null||i.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,i=t.contains(e.target),s=t.contains(e.relatedTarget);return i&&s}destroy(){super.destroy()}},Hj=class extends Me{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e&&(this.refreshSpanHeight(e),this.addManagedListeners(this.beans.eventSvc,{modelUpdated:this.refreshSpanHeight.bind(this,e),recalculateRowBounds:this.refreshSpanHeight.bind(this,e)}))}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();oh(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,i=e.getColSpan(t),s=[];if(i===1)s.push(e);else{let n=e;const r=e.getPinned();for(let o=0;n&&o<i&&(s.push(n),n=this.beans.visibleCols.getColAfter(n),!(!n||vi(n)||r!==n.getPinned()));o++);}return s}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Kt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,i=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const s=t.bodyWidth;return i+s+(e||0)}return i+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const i=Ou(this.beans)*this.rowSpan;this.eContent.style.height=`${i}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},Vj="ag-cell",Wj="ag-cell-auto-height",Uj="ag-cell-normal-height",jj="ag-cell-focus",Yj="ag-cell-first-right-pinned",Kj="ag-cell-last-left-pinned",$j="ag-cell-not-inline-editing",Xj="ag-cell-wrap-text",Vv="cellCtrl";function wN(e,t){return eN(e,t,Vv)}var Zj=0,tp=class extends Me{constructor(e,t,i,s){super(),this.column=e,this.rowNode=t,this.rowCtrl=s,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.beans=i;const{colId:n,colIdSanitised:r}=e;this.instanceId=n+"-"+Zj++,this.colIdSanitised=r,this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusSvc.clearRestoreFocus()}addFeatures(){var s;const{beans:e}=this;this.positionFeature=new Hj(this,e),this.customStyleFeature=(s=e.cellStyles)==null?void 0:s.createCellCustomStyleFeature(this,e),this.mouseListener=new zj(this,e,this.column),this.keyboardListener=new Gj(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();const{rangeSvc:t}=e;t&&xc(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var i;this.tooltipFeature=(i=this.beans.tooltipSvc)==null?void 0:i.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,i,s,n,r,o){var a,l,u,h,f,g;this.comp=e,this.eGui=t,this.printLayout=n,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(s,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.positionFeature)==null||a.init(),(l=this.customStyleFeature)==null||l.setComp(e),(u=this.tooltipFeature)==null||u.refreshTooltip(),(h=this.keyboardListener)==null||h.init(),(f=this.rangeFeature)==null||f.setComp(e),r&&this.isCellEditable()?(g=this.beans.editSvc)==null||g.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(m=>m()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){var i;this.isAutoHeight=((i=this.beans.rowAutoHeight)==null?void 0:i.setupCellAutoHeight(this,e,t))??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e,t){var h;const{beans:i,column:s,rowNode:n,rangeFeature:r}=this,{userCompFactory:o}=i,a=this.getValueToDisplay();let l;if(n.stub&&((h=n.groupData)==null?void 0:h[s.getId()])==null){const f=this.createCellRendererParams();l=aj(o,s.getColDef(),f)}else if(this.isCellRenderer()){const f=this.createCellRendererParams();l=oj(o,s.getColDef(),f)}this.comp.setRenderDetails(l,a,e),!t&&r&&dl(i,()=>r==null?void 0:r.refreshHandle())}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){const{rowSelection:t}=this.beans.gridOptions;return e.checkboxSelection||il(this.column)&&t&&typeof t!="string"&&Ed(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),s=this.includeDndSource!=this.isIncludeControl(e.dndSource),n=this.isAutoHeight!=this.column.isAutoHeight();return t||i||s||n}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(e=!1){var t;return((t=this.beans.editSvc)==null?void 0:t.stopEditing(this,e))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:i,rowNode:s,comp:n,eGui:r,beans:{valueSvc:o,gos:a}}=this;return nt(a,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(i,s),setValue:u=>o.setValue(s,i,u),formatValue:this.formatValue.bind(this),data:s.data,node:s,pinned:i.getPinned(),colDef:i.getColDef(),column:i,refreshCell:this.refreshCell.bind(this),eGridCell:r,eParentOfValue:n.getParentOfValue(),registerRowDragger:(u,h,f,g)=>this.registerRowDragger(u,h,g),setTooltip:(u,h)=>{var f;a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(u,h),(f=this.tooltipFeature)==null||f.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?(t=this.rowCtrl)==null||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var u,h,f,g,m,y;if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),i=e!=null&&!!e.newData,s=e!=null&&!!e.suppressFlash,n=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,r=e&&e.forceRefresh||n||i,o=!!this.comp,a=this.updateAndFormatValue(o),l=r||a;if(o){if(l){this.showValue(i,!1);const C=(u=this.beans.filterManager)==null?void 0:u.isSuppressFlashingCellsBecauseFiltering();!s&&!C&&t.enableCellChangeFlash&&((h=this.beans.cellFlashSvc)==null||h.flashCell(this)),(f=this.customStyleFeature)==null||f.applyUserStyles(),(g=this.customStyleFeature)==null||g.applyClassesFromColDef()}(m=this.tooltipFeature)==null||m.refreshTooltip(),(y=this.customStyleFeature)==null||y.applyCellClassRules()}}stopEditingAndFocus(e=!1,t=!1){var i;(i=this.beans.editSvc)==null||i.stopEditingAndFocus(this,e,t)}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,i=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=i:!0}valuesAreEqual(e,t){const i=this.column.getColDef();return i.equals?i.equals(e,t):e===t}addDomData(e){const t=this.eGui;Zu(this.beans.gos,t,Vv,this),e.addDestroyFunc(()=>Zu(this.beans.gos,t,Vv,null))}createEvent(e,t){const{rowNode:i,column:s,value:n,beans:r}=this;return nt(r.gos,{type:t,node:i,data:i.data,value:n,column:s,colDef:s.getColDef(),rowPinned:i.rowPinned,event:e,rowIndex:i.rowIndex})}processCharacter(e){var t;(t=this.keyboardListener)==null||t.processCharacter(e)}onKeyDown(e){var t;(t=this.keyboardListener)==null||t.onKeyDown(e)}onMouseEvent(e,t){var i;(i=this.mouseListener)==null||i.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){var e;this.comp&&((e=this.positionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:i}=this;bN(e,t,i.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);TO(this.eGui,e)}onWidthChanged(){var e;return(e=this.positionFeature)==null?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&((e=this.rangeFeature)==null||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&((e=this.rangeFeature)==null||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e})}onRowIndexChanged(){var e;this.createCellPosition(),this.onCellFocused(),(e=this.rangeFeature)==null||e.onCellSelectionChanged()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(fm(this.column)&&(e=!0),Ur(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(Yj,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass(Kj,e)}isCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}onCellFocused(e){var n;const{beans:t}=this;if(jC(t))return;const i=this.isCellFocused();if(!this.comp){i&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}if(this.focusEventToRestore=void 0,this.comp.addOrRemoveCssClass(jj,i),i&&e&&e.forceBrowserFocus){let r=this.comp.getFocusableElement();if(this.editing){const o=Rd(r,null,!0);o.length&&(r=o[0])}r.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const s=t.gos.get("editType")==="fullRow";!i&&!s&&this.editing&&((n=t.editSvc)==null||n.stopRowOrCellEdit(this)),i&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Ya(t),column:this.column}}setInlineEditingCss(){var e;(e=this.beans.editSvc)==null||e.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){const{comp:e}=this;e.addOrRemoveCssClass(Vj,!0),e.addOrRemoveCssClass($j,!0);const t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass(Wj,t),e.addOrRemoveCssClass(Uj,!t)}onColumnHover(){var e;(e=this.beans.colHover)==null||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(e=this.beans.editSvc)==null||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(Xj,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),i=this.createEvent(e,"cellContextMenu"),{beans:s}=this;s.eventSvc.dispatchEvent(i),t.onCellContextMenu&&window.setTimeout(()=>{s.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(i)})},0)}getCellRenderer(){var e;return((e=this.comp)==null?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){var t;const e=(t=this.beans.selectionSvc)==null?void 0:t.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,i){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const s=this.createRowDragComp(e,t,i);s&&(this.customRowDragComp=s,this.addDestroyFunc(()=>{this.beans.context.destroyBean(s),this.customRowDragComp=null}))}createRowDragComp(e,t,i){var n;const s=(n=this.beans.rowDragSvc)==null?void 0:n.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,i);if(s)return this.beans.context.createBean(s),s}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},MN="__ag_grid_instance";function DN(e,t){t[MN]=e.gridInstanceId}function Wv(e,t){return AN(e,t.target)}function AN(e,t){let i=t;for(;i;){const s=i[MN];if(He(s))return s===e.gridInstanceId;i=i.parentElement}return!1}function qj(e,t){var i;return((i=wN(e,t.target))==null?void 0:i.getFocusedCellPosition())??null}function Iw(e,t){const i=Gs(e.gos,"normal"),s=t;let n,r;if(s.clientX!=null||s.clientY!=null?(n=s.clientX,r=s.clientY):(n=s.x,r=s.y),i){const o=e.ctrlsSvc.getScrollFeature(),a=o.getVScrollPosition(),l=o.getHScrollPosition();n+=l.left,r+=a.top}return{x:n,y:r}}var Qj=class extends Me{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragSvc.addDragSource(i)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:i}=this,s=t.find(n=>n.dragSource===e);s&&(i.removeDragSource(s.params),Ro(t,s))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:i}=this;e.forEach(s=>t.removeDragSource(s.params)),e.length=0,i.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var i;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),(i=e.onDragStarted)==null||i.call(e),this.createDragAndDropImageComponent()}onDragStop(e){var i,s;(s=(i=this.dragSource)==null?void 0:i.onDragStopped)==null||s.call(i);const{lastDropTarget:t}=this;if(t!=null&&t.onDragStop){const n=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(n)}this.clearDragAndDropProperties()}onDragCancel(){var i;const{dragSource:e,lastDropTarget:t}=this;(i=e==null?void 0:e.onDragCancelled)==null||i.call(e),t!=null&&t.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var h,f;const i=this.getHorizontalDirection(e),s=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const n=this.dropTargets.filter(g=>this.isMouseOnDropTarget(e,g)),r=this.findCurrentDropTarget(e,n),{lastDropTarget:o,dragSource:a,dragAndDropImageComp:l,dragItem:u}=this;if(r!==o){if(this.leaveLastTargetIfExists(e,i,s,t),o!==null&&r===null&&((h=a==null?void 0:a.onGridExit)==null||h.call(a,u)),o===null&&r!==null&&((f=a==null?void 0:a.onGridEnter)==null||f.call(a,u)),this.enterDragTargetIfExists(r,e,i,s,t),r&&l){const{comp:g,promise:m}=l;g?g.setIcon(r.getIconName?r.getIconName():null,!1):m.then(y=>{y&&y.setIcon(r.getIconName?r.getIconName():null,!1)})}this.lastDropTarget=r}else if(r&&r.onDragging){const g=this.createDropTargetEvent(r,e,i,s,t);r.onDragging(g)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let s=!1;const n=(a,l)=>{for(const u of l){const{width:h,height:f,left:g,right:m,top:y,bottom:C}=u.getBoundingClientRect();if(h===0||f===0)return!1;const x=a.clientX>=g&&a.clientX<m,b=a.clientY>=y&&a.clientY<C;if(!x||!b)return!1}return!0};for(const a of i)if(n(e,a)){s=!0;break}const{eElement:r,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(r)?!1:s&&t.isInterestedIn(o,r)}findCurrentDropTarget(e,t){const i=t.length;if(i===0)return null;if(i===1)return t[0];const n=Ip(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const r of n)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(l=>l).indexOf(r)!==-1)return o;return null}enterDragTargetIfExists(e,t,i,s,n){if(e&&e.onDragEnter){const r=this.createDropTargetEvent(e,t,i,s,n);e.onDragEnter(r)}}leaveLastTargetIfExists(e,t,i,s){const{lastDropTarget:n}=this;if(!n)return;if(n.onDragLeave){const o=this.createDropTargetEvent(n,e,t,i,s);n.onDragLeave(o)}const r=this.getDragAndDropImageComponent();r&&r.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const i=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:s}=e;return i.contains(s)}getHorizontalDirection(e){var s;const t=(s=this.eventLastTime)==null?void 0:s.clientX,i=e.clientX;return t===i?null:t>i?"left":"right"}getVerticalDirection(e){var s;const t=(s=this.eventLastTime)==null?void 0:s.clientY,i=e.clientY;return t===i?null:t>i?"up":"down"}createDropTargetEvent(e,t,i,s,n){const r=e.getContainer(),o=r.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:u}=this,h=t.clientX-o.left,f=t.clientY-o.top;return nt(u,{event:t,x:h,y:f,vDirection:s,hDirection:i,dragSource:l,fromNudge:n,dragItem:a,dropZoneTarget:r})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&zU(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){var t;const{dragAndDropImageComp:e}=this;if(e){const{comp:i}=e;if(i){const s=i.getGui();(t=this.dragAndDropImageParent)==null||t.removeChild(s),this.destroyBean(i)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:i}=this;if(!e)return;const s=q6(i,nt(t,{dragSource:e}));if(!s)return;const n=s.newAgStackInstance();this.dragAndDropImageComp={promise:n},n.then(r=>{!r||!this.isAlive()||(this.processDragAndDropImageComponent(r),this.dragAndDropImageComp.comp=r)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:i}=this;if(!t)return;const s=e.getGui();s.style.setProperty("position","absolute"),s.style.setProperty("z-index","9999"),DN(this.gos,s),i.applyThemeClasses(s),e.setIcon(null,!1);let{dragItemName:n}=t;typeof n=="function"&&(n=n()),e.setLabel(n||""),s.style.top="20px",s.style.left="20px";const r=MD(this.beans);this.dragAndDropImageParent=r,r?r.appendChild(s):Pe(54)}registerGridDropTarget(e,t){const i={getContainer:e,isInterestedIn:s=>s===1||s===0,getIconName:()=>"notAllowed"};this.addDropTarget(i),t.addDestroyFunc(()=>this.removeDropTarget(i))}},Jj=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const s=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=e.clientX<s.left+n,this.tickRight=e.clientX>s.right-n,this.tickUp=e.clientY<s.top+n&&!i,this.tickDown=e.clientY>s.bottom-n&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function e8(e){const{rowIndex:t,rowPinned:i,column:s}=e;return`${t}.${i??"null"}.${s.getId()}`}function oM(e,t){const i=e.column===t.column,s=e.rowPinned===t.rowPinned,n=e.rowIndex===t.rowIndex;return i&&s&&n}function t8(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(He(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function i8(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function s8(e){let t=0,i;const{pinnedRowModel:s,rowModel:n,pageBounds:r}=e;return s!=null&&s.getPinnedTopRowCount()?i="top":n.getRowCount()?(i=null,t=r.getFirstRow()):s!=null&&s.getPinnedBottomRowCount()&&(i="bottom"),i===void 0?null:{rowIndex:t,rowPinned:i}}function n8(e){let t,i=null;const{pinnedRowModel:s,pageBounds:n}=e,r=s==null?void 0:s.getPinnedBottomRowCount(),o=s==null?void 0:s.getPinnedTopRowCount();return r?(i="bottom",t=r-1):e.rowModel.getRowCount()?(i=null,t=n.getLastRow()):o&&(i="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:i}}function Uv(e,t){var i,s;switch(t.rowPinned){case"top":return(i=e.pinnedRowModel)==null?void 0:i.getPinnedTopRow(t.rowIndex);case"bottom":return(s=e.pinnedRowModel)==null?void 0:s.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function yd(e,t){var n;const i=(n=e.spannedRowRenderer)==null?void 0:n.getCellByPosition(t);if(i)return i;const s=e.rowRenderer.getRowByPosition(t);return s?s.getCellCtrl(t.column):null}var r8=class extends Me{constructor(e){super(),this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:i}=this.beans;$s(t)&&(this.clientSideRowModel=e),i.whenReady(this,s=>{const n=s.gridBodyCtrl;this.autoScrollService=new Jj({scrollContainer:n.eBodyViewport,scrollAxis:"y",getVerticalPosition:()=>n.scrollFeature.getVScrollPosition().top,setVerticalPosition:r=>n.scrollFeature.setVerticalScrollPosition(r),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:i}=this.beans;return!!(((e==null?void 0:e.columns)??[]).length||(t==null?void 0:t.isAnyFilterPresent())||(i==null?void 0:i.isSortActive()))}getRowNodes(e){var s;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=[...((s=this.beans.selectionSvc)==null?void 0:s.getSelectedNodes())??[]].sort((r,o)=>r.rowIndex==null||o.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(o));if(n.indexOf(t)!==-1)return n}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=Iw(this.beans,e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const{dragAndDrop:i,gos:s}=this.beans,n=this.isFromThisGrid(e),r=s.get("rowDragManaged"),o=e.dragItem.rowNodes;r&&this.shouldPreventRowMove()||(s.get("suppressMoveWhenRowDragging")||!n?i.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(o[0],t):this.moveRows(o,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Kt(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel,i=t.getLastHighlightedRowNode(),s=i&&i.highlighted==="Below",n=Iw(this.beans,e).y,r=e.dragItem.rowNodes;let o=s?1:0;if(this.isFromThisGrid(e))r.forEach(a=>{a.rowTop<n&&(o-=1)}),this.moveRows(r,n,o);else{const a=Wd(this.gos);let l=t.getRowIndexAtPixel(n)+1;t.getHighlightPosition(n)==="Above"&&l--,t.updateRowData({add:r.filter(u=>!t.getRowNode((a==null?void 0:a({data:u.data,level:0,rowPinned:u.rowPinned}))??u.data.id)).map(u=>u.data),addIndex:l})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){const s=this.beans.focusSvc,n=s.getFocusedCell(),r=n&&yd(this.beans,n);this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(r?r.focusCell():s.clearFocusedCell())}addRowDropZone(e){if(!e.getContainer()){Pe(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){Pe(56);return}let i={getContainer:e.getContainer};e.fromGrid?i=e:(e.onDragEnter&&(i.onDragEnter=n=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",n))}),e.onDragLeave&&(i.onDragLeave=n=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",n))}),e.onDragging&&(i.onDragging=n=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",n))}),e.onDragStop&&(i.onDragStop=n=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",n))}),e.onDragCancel&&(i.onDragCancel=n=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",n))}));const s={isInterestedIn:n=>n===2,getIconName:()=>"move",external:!0,...i};t.addDropTarget(s),this.addDestroyFunc(()=>t.removeDropTarget(s))}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),n=this.onDragging.bind(this),r=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{i(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:i,onDragLeave:e.onDragLeave?l=>{s(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:s,onDragging:e.onDragging?l=>{n(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:n,onDragStop:e.onDragStop?l=>{r(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:r,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:i,onDragLeave:s,onDragging:n,onDragStop:r,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const i=this.beans,{pageBounds:s,rowModel:n,gos:r}=i,o=Iw(i,t).y,a=o>s.getCurrentPageHeight();let l=-1,u;return a||(l=n.getRowIndexAtPixel(o),u=n.getRow(l)),nt(r,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:u,y:o,vDirection:t.vDirection})}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:i}=this.beans;i.get("rowDragManaged")&&(i.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:i}=this.beans;i.get("rowDragManaged")&&(i.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}};function EN(e,t,i){if(i===0)return!1;const s=Math.abs(e.clientX-t.clientX),n=Math.abs(e.clientY-t.clientY);return Math.max(s,n)<=i}var o8=class extends Me{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){const s=e.touchStartListener;t.removeEventListener("touchstart",s,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,i=t.find(s=>s.dragSource===e);i&&(this.removeListener(i),Ro(t,i))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:s,stopPropagationForTouch:n}=e;i.addEventListener("mousedown",t);let r=null;const o=this.gos.get("suppressTouch");s&&!o&&(r=a=>{CD(a.target)||(n&&a.stopPropagation(),this.onTouchStart(e,a))},i.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:r,touchEnabled:!!s})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const s=l=>this.onTouchMove(l,e.eElement),n=l=>this.onTouchUp(l,e.eElement),r=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:Ip(this.beans),type:"touchmove",listener:r,options:{passive:!1}},{target:o,type:"touchmove",listener:s,options:{passive:!0}},{target:o,type:"touchend",listener:n,options:{passive:!0}},{target:o,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const s=u=>this.onMouseMove(u,e.eElement),n=u=>this.onMouseUp(u,e.eElement),r=u=>u.preventDefault(),o=u=>{u.key===Se.ESCAPE&&this.cancelDrag(e.eElement)},a=Ip(this.beans),l=[{target:a,type:"mousemove",listener:s},{target:a,type:"mouseup",listener:n},{target:a,type:"contextmenu",listener:r},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:s,listener:n,options:r}=t;i.addEventListener(s,n,r)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:s,listener:n,options:r}=t;i.removeEventListener(s,n,r)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams,s=He(i)?i:4;return EN(e,t,s)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){var s;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(s=this.currentDragParams)==null||s.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){var i;Dc()&&((i=Gi(this.beans).getSelection())==null||i.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,i=t.get("enableCellTextSelection"),s=e.type==="mousemove",n=r=>{const o=r.target,a=o==null?void 0:o.tagName.toLocaleLowerCase();return!!(a!=null&&a.match("^a$|textarea|input|select|button"))};return i&&s&&e.cancelable&&Wv(t,e)&&!n(e)}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,i;this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),(i=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||i.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function TN(e,t){return e+"_"+t}function Ti(e){return e instanceof RN}var RN=class extends Me{constructor(e,t,i,s){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=i,this.pinned=s,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return TN(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Ti(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Kt(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){var t;let e=0;return(t=this.displayedChildren)==null||t.forEach(i=>{e+=i.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{bc(t)?e.push(t):Ti(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{bc(t)?e.push(t):Ti(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(i=>{if(Ti(i)&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},aM="row-group-",kN="t-",IN="b-",a8=0,Kd=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=a8++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var a;const{valueCache:i,selectionSvc:s,rowSpanSvc:n}=this.beans,r=this.data;this.data=e,i==null||i.onDataChanged(),this.updateDataOnDetailNode(),s==null||s.updateRowSelectable(this),this.resetQuickFilterAggregateText();const o=this.createDataChangedEvent(e,r,t);(a=this.__localEventService)==null||a.dispatchEvent(o),n==null||n.onRowDataUpdated(this)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,i){return{type:"dataChanged",node:this,oldData:t,newData:e,update:i}}getRowIndexString(){return this.rowIndex==null?($t(13),null):this.rowPinned==="top"?kN+this.rowIndex:this.rowPinned==="bottom"?IN+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){var o,a;const{selectionSvc:i}=this.beans,s=(o=i==null?void 0:i.createDaemonNode)==null?void 0:o.call(i,this),n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),i&&(i.updateRowSelectable(this),i.syncInRowNode(this,s));const r=this.createDataChangedEvent(e,n,!1);(a=this.__localEventService)==null||a.dispatchEvent(r)}setId(e){var i;const t=Wd(this.beans.gos);if(t)if(this.data){const s=((i=this.parent)==null?void 0:i.getRoute())??[];this.id=t({data:this.data,parentKeys:s.length>0?s:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(aM)&&$t(14,{groupPrefix:aM})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,i){var s;(s=this.beans.expansionSvc)==null||s.setExpanded(this,e,t,i)}setDataValue(e,t,i){const{colModel:s,valueSvc:n,gos:r,selectionSvc:o,rowSpanSvc:a}=this.beans,l=typeof e!="string"?e:s.getCol(e)??s.getColDefCol(e);if(!l)return!1;const u=n.getValueForDisplay(l,this);if(r.get("readOnlyEdit")){const{beans:{eventSvc:f},data:g,rowIndex:m,rowPinned:y}=this;return f.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:m,rowPinned:y,column:l,colDef:l.colDef,data:g,node:this,oldValue:u,newValue:t,value:t,source:i}),!1}const h=n.setValue(this,l,t,i);return this.dispatchCellChangedEvent(l,t,u),o==null||o.updateRowSelectable(this),a==null||a.onRowDataUpdated(this),h}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,i){var n;const s={type:"cellChanged",node:this,column:e,newValue:t,oldValue:i};(n=this.__localEventService)==null||n.dispatchEvent(s)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){var e;return((e=this.beans.expansionSvc)==null?void 0:e.isExpandable(this))??!1}isSelected(){return this.footer?this.sibling.isSelected():this.__selected}depthFirstSearch(e){var t;(t=this.childrenAfterGroup)==null||t.forEach(i=>i.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){var t;(t=this.__localEventService)==null||t.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,i="api"){var s;(s=this.beans.selectionSvc)==null||s.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:i})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new Ku),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){var s,n,r,o;(s=this.beans.validation)==null||s.checkRowEvents(e),this.__localEventService||(this.__localEventService=new Ku),this.frameworkEventListenerService=(r=(n=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:r.call(n,this.frameworkEventListenerService,this.__localEventService);const i=((o=this.frameworkEventListenerService)==null?void 0:o.wrap(t))??t;this.__localEventService.addEventListener(e,i)}removeEventListener(e,t){var s;const i=((s=this.frameworkEventListenerService)==null?void 0:s.unwrap(t))??t;this.removeLocalListener(e,i)}removeLocalListener(e,t){var i,s;(i=this.__localEventService)==null||i.removeEventListener(e,t),(s=this.__localEventService)!=null&&s.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(Pe(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};function l8(e,t,i){return nt(t,{type:i,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var c8=class extends Ci{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??yi.resolve()}afterGuiAttached(e){var t,i;(i=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||i.then(s=>{var n;(n=s==null?void 0:s.afterGuiAttached)==null||n.call(s,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(i=>{var s;(s=i==null?void 0:i.afterGuiDetached)==null||s.call(i)})}createFilter(e){var s,n;const{column:t,source:i}=this;this.filterWrapper=((s=this.beans.filterManager)==null?void 0:s.getOrCreateFilterWrapper(t))??null,(n=this.filterWrapper)!=null&&n.filterPromise&&this.filterWrapper.filterPromise.then(r=>{const o=r.getGui();He(o)||Pe(69,{guiFromFilter:o}),this.appendChild(o),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:i,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(lr(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},LN="ag-resizer-wrapper",Zl=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,u8=`<div class="${LN}">
        ${Zl("eTopLeft","topLeft")}
        ${Zl("eTop","top")}
        ${Zl("eTopRight","topRight")}
        ${Zl("eRight","right")}
        ${Zl("eBottomRight","bottomRight")}
        ${Zl("eBottom","bottom")}
        ${Zl("eBottomLeft","bottomLeft")}
        ${Zl("eLeft","left")}
    </div>`,h8=class extends Me{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,s=e/2-this.getHeight()/2;this.offsetElement(i,s)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:s,minHeight:n,height:r,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0;const h=sa(this.element);if(h){const f=this.findBoundaryElement(),g=window.getComputedStyle(f);if(g.minWidth!=null){const m=f.offsetWidth-this.element.offsetWidth;u=parseInt(g.minWidth,10)-m}if(g.minHeight!=null){const m=f.offsetHeight-this.element.offsetHeight;l=parseInt(g.minHeight,10)-m}}if(this.minHeight=n||l,this.minWidth=i||u,s&&this.setWidth(s),r&&this.setHeight(r),(!s||!r)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(h&&t){let f=this.boundaryEl,g=!0;if(f||(f=this.findBoundaryElement(),g=!1),f){const m=parseFloat(f.style.top),y=parseFloat(f.style.left);g?this.offsetElement(isNaN(y)?0:y,isNaN(m)?0:m):this.setPosition(y,m)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){var s,n;if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?((s=this.dragSvc)==null||s.addDragSource(i),this.moveElementDragListener=i):((n=this.dragSvc)==null||n.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{var o;const s=!!e[t],n=this.getResizerElement(t),r={dragStartPixels:0,eElement:n,onDragStart:a=>this.onResizeStart(a,t),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,t)};(s||!this.isAlive()&&!s)&&(s?((o=this.dragSvc)==null||o.addDragSource(r),this.resizeListeners.push(r),n.style.pointerEvents="all"):n.style.pointerEvents="none",this.resizable[t]=s)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Qg(i,e),e=OO(i),s=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const n=this.getAvailableHeight();n&&e>n&&(e=n)}this.getHeight()!==e&&(s?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?Qg(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const s=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),r=e?this.position.y:s.top,o=e?0:n.top;let a=0;if(t){const u=this.element.parentElement;if(u){const{bottom:h}=u.getBoundingClientRect();a=h-s.bottom}}return i+o-r-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Jo(t,e),e=Ev(t),s=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:n}=this.offsetParent,r=i?this.position.x:this.element.getBoundingClientRect().left;n&&e+r>n&&(e=n-r)}this.getWidth()!==e&&(s?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Jo(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){var n;const{forcePopupParentAsOffsetParent:i}=this.config,s=i?this.boundaryEl:this.element;s&&((n=this.popupSvc)==null||n.positionPopup({ePopup:s,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(s.style.left),parseFloat(s.style.top)))}constrainSizeToAvailableHeight(e){var i;if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const s=this.getAvailableHeight();this.element.style.setProperty("max-height",`${s}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=hl(this.beans,(i=this.popupSvc)==null?void 0:i.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:s,anywhereWithin:n,topBuffer:r}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!i,!!n,o)?0:o,u=this.shouldSkipY(t,!!s,r,a)?0:a;return{movementX:l,movementY:u}}shouldSkipX(e,t,i,s){const n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:n.left;let l=a<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=o.right;return l?!0:(t?l=s<0&&e.clientX>a+r.left||s>0&&e.clientX<a+r.left:i?l=s<0&&e.clientX>o.right||s>0&&e.clientX<a+r.left:l=s<0&&e.clientX>o.right||s>0&&e.clientX<o.right,l)}shouldSkipY(e,t,i=0,s){const n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:n.top;let l=a<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=o.bottom;return l?!0:(t?l=s<0&&e.clientY>a+r.top+i||s>0&&e.clientY<a+r.top:l=s<0&&e.clientY>o.bottom||s>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const i=new DOMParser().parseFromString(u8,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${LN}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:s}=this.config;!i&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let s=0;s<e.length;s++){const n=e[s],r=!!n.style.flex&&n.style.flex!=="0 0 auto";if(n===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(r){const l=window.getComputedStyle(n);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=n.offsetHeight,a=n.offsetWidth;t+=o,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let s=0;s<i.length;s++){const n=i[s];n!==t&&(e?n.style.height=`${n.offsetHeight}px`:n.style.width=`${n.offsetWidth}px`,n.style.flex="0 0 auto",n===this.element&&(t=i[s+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:s,isRight:n,isBottom:r,isLeft:o}=this.currentResizer,a=n||o,l=r||s,{movementX:u,movementY:h}=this.calculateMouseMovement({e,isLeft:o,isTop:s}),f=this.position.x,g=this.position.y;let m=0,y=0;if(a&&u){const C=o?-1:1,x=this.getWidth(),b=x+u*C;let w=!1;o&&(m=x-b,(f+m<=0||b<=this.minWidth)&&(w=!0,m=0)),w||this.setWidth(b)}if(l&&h){const C=s?-1:1,x=this.getHeight(),b=x+h*C;let w=!1;s?(y=x-b,(g+y<=0||b<=this.minHeight)&&(w=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&x<b&&this.getMinSizeOfSiblings().height+b>this.element.parentElement.offsetHeight&&(w=!0),w||this.setHeight(b)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&m||y)&&this.offsetElement(f+m,g+y)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());const{movementX:n,movementY:r}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(t+n,i+r),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){var e;for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();(e=this.dragSvc)==null||e.removeDragSource(t)}}destroy(){var e;super.destroy(),this.moveElementDragListener&&((e=this.dragSvc)==null||e.removeDragSource(this.moveElementDragListener)),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},d8="ag-focus-managed",af=class extends Me{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:i=>{if(i.defaultPrevented)return;const s=ah(this.beans,this.eFocusable,!1,i.shiftKey);s&&(s.focus(),i.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:i}}=this;e.classList.add(d8),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),i&&this.addManagedElementListeners(e,{focusout:i})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Ka(t))return;const{callbacks:i}=this;if(i.shouldStopEventPropagation(t)){Ud(t);return}t.key===Se.TAB?i.onTabKeyDown(t):i.handleKeyDown&&i.handleKeyDown(t)}})}},FN={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function kD(e,t){const{debounceMs:i}=e;return jv(e)?(i!=null&&Pe(71),0):i??t}function jv(e){var t;return(((t=e.buttons)==null?void 0:t.indexOf("apply"))??-1)>=0}var f8=class extends Ci{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=tt,this.buttonListeners=[],this.defaultDebounceMs=0}postConstruct(){this.resetTemplate(),this.createManagedBean(new af(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new h8(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(i,this.getAgComponents(),e),t=this.getGui(),t==null||t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.params.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.params=e,this.applyActive=jv(e),this.resetButtonsPanel(e)}updateParams(e){this.params=e,this.applyActive=jv(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:i,readOnly:s}=t??{},{buttons:n,readOnly:r}=e;if(s===r&&kp(i,n))return;const o=n&&n.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(lr(this.eButtonsPanel),this.buttonListeners.forEach(u=>u()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&$u(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=u=>{let h;const f=u?this.translate(`${u}Filter`):void 0;switch(u){case"apply":h=y=>this.onBtApply(!1,!1,y);break;case"clear":h=()=>this.onBtClear();break;case"reset":h=()=>this.onBtReset();break;case"cancel":h=y=>{this.onBtCancel(y)};break;default:Pe(75);return}const m=Rp(`<button
                    type="${u==="apply"?"submit":"button"}"
                    data-ref="${u}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${f}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(m,{click:h})),a.append(m)};n.forEach(u=>l(u)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}setupOnBtApplyDebounce(){const e=kD(this.params,this.defaultDebounceMs),t=_s(this,this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel??null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.params.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const i=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.params.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:s}=this.params;s&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,i=t&&t.key;let s;(i==="Enter"||i==="Space")&&(s={keyboardEvent:t}),this.hidePopup(s),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi()),s=this.queryForHtmlElement('[data-ref="applyFilterButton"]');s&&Ep(s,!i)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:i}=this;if(!t||e==="toolPanel")return;e==="floatingFilter"||e==="columnFilter"?(t.restoreLastSize(),t.setResizable(i.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){var e;this.checkApplyDebounce(),(e=this.positionableFeature)==null||e.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.params;return this.params=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.getLocaleTextFunc()(e,FN[e])}getCellValue(e){return this.params.getValue(e)}getPositionableElement(){return this.eFilterBody}};function g8(e,t,i){if(t==null)return null;let s=null;const{compName:n,jsComp:r,fwComp:o}=gj(e,t);return n?s={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[n]:r==null&&o==null&&t.filter===!0&&(s=i()),s}var lv={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},ID=class extends Me{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=t.autoHeight?lv.AUTO_HEIGHT:t.print?lv.PRINT:lv.NORMAL;this.view.updateLayoutClasses(i,t)}},ql="Viewport",FL="fakeVScrollComp",PL=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],OL=100,Lw=150,p8=class extends Me{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.scrollTimer=0,this.needsRefreshedScrollPosition=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=_s(this,()=>this.lastScrollSource[1]=null,Lw),this.resetLastVScrollDebounced=_s(this,()=>this.lastScrollSource[0]=null,Lw)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.requireUpdatedScrollPosition.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,t=>{this.centerRowsCtrl=t.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}requireUpdatedScrollPosition(){this.needsRefreshedScrollPosition=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,ql)});for(const e of PL){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),i=t?_s(this,this.onVScroll.bind(this,ql),OL):this.onVScroll.bind(this,ql),s=t?_s(this,this.onVScroll.bind(this,FL),OL):this.onVScroll.bind(this,FL);this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e,s)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...PL,ql]){if(this.lastScrollSource[1]===t)continue;const i=this.getViewportForSource(t);kv(i,e,this.enableRtl)}}getViewportForSource(e){return e===ql?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;const s=Rv(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(s),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===ql?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:i}=this;i==null||i.setScrollTop(t),this.nextScrollTop=t,e===ql?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,!i||this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded(!0):i.schedule(),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},Lw)}shouldBlockScrollUpdate(e,t,i=!1){return i&&!Iu()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=xD(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.eViewport;if(this.enableRtl&&Tv()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(ql)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.requireUpdatedScrollPosition(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const s=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&Tv()?e=e>0?0:s:e=Math.min(Math.max(e,0),s)),kv(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.requireUpdatedScrollPosition(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.needsRefreshedScrollPosition){const{lastOffsetHeight:i,lastScrollTop:s}=this;return{top:s,bottom:s+i}}this.needsRefreshedScrollPosition=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:i}=this.beans,s=i.getRowCount();let n=-1;for(let r=0;r<s;r++){const o=i.getRow(r);if(typeof e=="function"){if(o&&e(o)){n=r;break}}else if(e===o||e===o.data){n=r;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(Gs(this.gos,"print"))return;const{rowModel:i}=this.beans,s=i.getRowCount();if(typeof e!="number"||e<0||e>=s){Pe(88,{index:e});return}const r=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel"),{frameworkOverrides:o,pagination:a,pageBounds:l,rowContainerHeight:u,rowRenderer:h}=this.beans;o.wrapIncoming(()=>{var x;r||a==null||a.goToPageWithIndex(e);const f=this.ctrlsSvc.getGridBodyCtrl(),g=f.stickyTopHeight,m=f.stickyBottomHeight,y=i.getRow(e);let C;do{const b=y.rowTop,w=y.rowHeight,M=l.getPixelOffset(),A=y.rowTop-M,T=A+y.rowHeight,k=this.getVScrollPosition(),R=u.divStretchOffset,F=k.top+R,I=k.bottom+R,N=I-F,G=u.getScrollPositionForPixel(A),V=u.getScrollPositionForPixel(T-N),Q=Math.min((G+V)/2,A),pe=F+g>A,ae=I-m<T;let se=null;t==="top"?se=G:t==="bottom"?se=V:t==="middle"?se=Q:pe?se=G-g:ae&&(se=V+m),se!==null&&(this.setVerticalScrollPosition(se),h.redraw({afterScroll:!0})),C=b!==y.rowTop||w!==y.rowHeight}while(C);(x=this.animationFrameSvc)==null||x.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const{colModel:i,frameworkOverrides:s}=this.beans,n=i.getCol(e);if(!n||n.isPinned()||!this.visibleCols.isColDisplayed(n))return;const r=this.getPositionedHorizontalScroll(n,t);s.wrapIncoming(()=>{var o;r!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(r),this.centerRowsCtrl.onHorizontalViewportChanged(),(o=this.animationFrameSvc)==null||o.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:s}=this.isColumnOutsideViewport(e),n=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?i:s)||n,l=o?s:i;t!=="auto"&&(a=t==="start",l=t==="end");const u=t==="middle";if(a||l||u){const{colLeft:h,colMiddle:f,colRight:g}=this.getColumnBounds(e);return u?f-r/2:a?o?g:h:o?h-r:g-r}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:s,colRight:n}=this.getColumnBounds(e),r=this.enableRtl,o=r?t>n:i<n,a=r?i<s:t>s;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,i=this.visibleCols.bodyWidth,s=e.getActualWidth(),n=e.getLeft(),r=t?-1:1,o=t?i-n:n,a=o+s*r,l=o+s/2*r;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=t,s=e+t;return{start:i,end:s,width:e}}},LD=class extends Me{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Gs(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:i}=this.beans,s=t.bodyWidth,n=t.getColsLeftWidth(),r=t.getDisplayedColumnsRightWidth();let o;e?o=s+n+r:(o=s,this.addSpacer&&(this.gos.get("enableRtl")?n:r)===0&&i.verticalScrollShowing&&(o+=i.getScrollbarWidth())),this.callback(o)}},m8=class extends Me{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:i}=this,s=()=>{dl(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(s),i.registerBodyViewportResizeListener(s)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e==null||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const i=this.centerContainerCtrl.getCenterWidth();i!==this.centerWidth&&(this.centerWidth=i,t==null||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=xD(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function FD(e,t,i,s,n,r){if(i==null&&t==null)return;const o={},a={},l=(u,h)=>{u.split(" ").forEach(f=>{f.trim()!=""&&h(f)})};if(i){const u=Object.keys(i);for(let h=0;h<u.length;h++){const f=u[h],g=i[f];let m;typeof g=="string"?m=e?e.evaluate(g,s):!0:typeof g=="function"&&(m=g(s)),l(f,y=>{m?o[y]=!0:a[y]=!0})}}t&&r&&Object.keys(t).forEach(u=>l(u,h=>{o[h]||(a[h]=!0)})),r&&Object.keys(a).forEach(r),Object.keys(o).forEach(n)}function NL(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var y8=class extends Me{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const i=this.gos,s=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(a=>e.push(a))},n=i.get("rowClass");n&&s(n);const r=i.getCallback("getRowClass");if(r){const o={data:t.data,node:t,rowIndex:t.rowIndex},a=r(o);s(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,i=>{e.push(i)},()=>{})}processRowClassRules(e,t,i){const{gos:s,expressionSvc:n}=this.beans,r=nt(s,{data:e.data,node:e,rowIndex:e.rowIndex});FD(n,void 0,s.get("rowClassRules"),r,t,i)}processStylesFromGridOptions(e){const t=this.gos,i=t.get("rowStyle"),s=t.getCallback("getRowStyle");let n;if(s){const r={data:e.data,node:e,rowIndex:e.rowIndex};n=s(r)}if(n||i)return Object.assign({},i,n)}},v8=0,Np="renderedRow",Yv=class extends Me{constructor(e,t,i,s,n){var r;super(),this.rowNode=e,this.useAnimationFrameForCreate=s,this.printLayout=n,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=((r=t.pagination)==null?void 0:r.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+v8++,this.rowId=$a(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=NL(this.rowNode),this.setRowType(),this.setAnimateFlags(i),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=$a(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,i,s){s=gm(this,this.beans.context,s);const n={rowComp:e,element:t,containerType:i,compBean:s};this.allRowGuis.push(n),this.updateGui(i,n),this.initialiseRowComp(n),!(this.rowType==="FullWidthLoading"||this.rowNode.stub)&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(i=>i.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Pu(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const i=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(n=>i.addOrRemoveCssClass(n,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Y1(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(i),this.setRowCompRowBusinessKey(i),Zu(t,e.element,Np,this),e.compBean.addDestroyFunc(()=>Zu(t,e.element,Np,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=$a(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(wL(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(wL(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var s;const t=(s=this.beans.rowDragSvc)==null?void 0:s.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const i=this.createBean(t,this.beans.context);this.rowDragComps.push(i),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(n=>n!==i),this.destroyBean(i,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),i=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(i)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(i=>{var s;return(s=i==null?void 0:i.rowComp)==null?void 0:s.getFullWidthCellRenderer()}):[(t=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:i,beans:{visibleCols:s}}=this,n=!!e||!s.isPinningLeft(),r=!!t,o=!!i||!s.isPinningRight();return n&&r&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),i=this.gos.get("masterDetail")&&this.rowNode.detail,s=this.beans.colModel.isPivotMode(),r=!!this.rowNode.group&&!this.rowNode.footer&&DD(this.gos,s);e?this.rowType="FullWidthLoading":i?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":r?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:i}=this.beans;if(!i||e||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(i.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}getNewCellCtrl(e){var i;if(!((i=this.beans.rowSpanSvc)!=null&&i.isCellSpanning(e,this.rowNode)))return new tp(e,this.rowNode,this.beans,this)}shouldRecreateCellCtrl(e){var t;return!!((t=this.beans.rowSpanSvc)!=null&&t.isCellSpanning(e.column,this.rowNode))}createCellCtrls(e,t,i=null){const s={list:[],map:{}},n=(o,a,l)=>{l!=null?s.list.splice(l,0,a):s.list.push(a),s.map[o]=a},r=[];for(const o of t){const a=o.getInstanceId();let l=e.map[a];l&&this.shouldRecreateCellCtrl(l)&&(l.destroy(),l=void 0),l||(l=this.getNewCellCtrl(o)),l&&n(a,l)}for(const o of e.list){const a=o.column.getInstanceId();if(s.map[a]!=null)continue;!this.isCellEligibleToBeRemoved(o,i)?r.push([a,o]):o.destroy()}if(r.length)for(const[o,a]of r){const l=s.list.findIndex(h=>h.column.getLeft()>a.column.getLeft()),u=l===-1?void 0:Math.max(l-1,0);n(o,a,u)}return s}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const i=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(i,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const i=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);const s=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,s,"left");const n=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,"right")}}isCellEligibleToBeRemoved(e,t){const{column:n}=e;if(n.getPinned()!=t)return!0;const{editing:r,cellPosition:o}=e,{focusSvc:a,visibleCols:l}=this.beans,u=a.isCellFocused(o);return r||u?!(l.allCols.indexOf(n)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Gs(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=He(this.rowNode.oldRowTop),{visibleCols:i}=this.beans,s=i.isPinningLeft(),n=i.isPinningRight();if(t){const{slideInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=s,r.right=n}else{const{fadeInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=s,r.right=n}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),i=e(this.centerGui,null),s=e(this.leftGui,"left"),n=e(this.rightGui,"right");return t&&i&&s&&n}addListeners(){var e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...((e=this.beans.expansionSvc)==null?void 0:e.getRowExpandedListeners(this))??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned:t})=>{t&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(i=>{this.addRowDraggerToRow(i)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(i=>i.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(i=>{this.setRowCompRowId(i.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(i.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const i=e==="Above",s=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",s)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}verifyCells(){this.onDisplayedColumnsChanged()}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),(e=this.beans.rowAutoHeight)==null||e.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Ya(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:i,column:s}=t;if(!(i.element===e.target))return;const o=this.rowNode,{focusSvc:a,navigation:l}=this.beans,u=a.getFocusedCell(),h={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:(u==null?void 0:u.column)??s};l==null||l.navigateToNextCell(e,e.key,h,!0),e.preventDefault()}onTabKeyDown(e){var a;if(e.defaultPrevented||Ka(e))return;const t=this.allRowGuis.find(l=>l.element.contains(e.target)),i=t?t.element:null,s=i===e.target,n=Fi(this.beans);let r=!1;i&&n&&(r=i.contains(n)&&n.classList.contains("ag-cell"));let o=null;!s&&!r&&(o=ah(this.beans,i,!1,e.shiftKey)),(this.isFullWidth()&&s||!o)&&((a=this.beans.navigation)==null||a.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const e=(t=this.allRowGuis.find(i=>sa(i.element)))==null?void 0:t.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(i=>{Ur(i.element,"tabindex",t)})}onFullWidthRowFocused(e){var n;const t=this.rowNode,i=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(n=this.centerGui)==null?void 0:n.element;s&&(s.classList.toggle("ag-full-width-focus",i),i&&(e!=null&&e.forceBrowserFocus)&&s.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const i={list:[],map:{}};return e.list.forEach(s=>{s!==t&&(i.list.push(s),i.map[s.column.getInstanceId()]=s)}),i}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:i}=this;return nt(this.gos,{type:e,node:i,data:i.data,rowIndex:i.rowIndex,rowPinned:i.rowPinned,event:t})}createRowEventWithSource(e,t){const i=this.createRowEvent(e,t);return i.source=this,i}onRowDblClick(e){Ka(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),i=this.getColumnForFullWidth(t);if(!(!t||!i))return{rowGui:t,column:i}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e==null?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Lu(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:i,focusSvc:s}=this.beans;i==null||i.removeAllCellRanges();const n=this.findFullWidthInfoForEvent(e);if(!n)return;const{rowGui:r,column:o}=n,a=r.element,l=e.target;let u=e.defaultPrevented||Dc();a&&a.contains(l)&&CD(l)&&(u=!1),s.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:u})}onRowClick(e){if(Ka(e)||this.lastMouseDownOnDragger)return;const{eventSvc:i,selectionSvc:s}=this.beans;i.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),s==null||s.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;this.rowType==="FullWidthDetail"&&((t=this.beans.masterDetailSvc)==null||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:i,rowNode:s}=this,n=nt(i,{fullWidth:!0,data:s.data,node:s,value:s.key,valueFormatted:s.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,l,u)=>this.addFullWidthRowDragging(o,a,l,u),setTooltip:(o,a)=>{i.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(o,a)}}),r=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return rj(r,n);case"FullWidthGroup":return nj(r,n);case"FullWidthLoading":return sj(r,n);default:return ij(r,n)}}refreshRowTooltip(e,t){var i;this.fullWidthGui&&(this.tooltipFeature=(i=this.beans.tooltipSvc)==null?void 0:i.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,i="",s){const{rowDragSvc:n,context:r}=this.beans;if(!n||!this.isFullWidth())return;const o=n.createRowDragComp(()=>i,this.rowNode,void 0,e,t,s);this.createBean(o,r),this.addDestroyFunc(()=>{this.destroyBean(o,r)})}onUiLevelChanged(){const e=NL(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass(t,!0),s.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var t;const e=[];(t=this.beans.rowStyleSvc)==null||t.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(i=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){var e;(e=this.beans.rowStyleSvc)==null||e.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,i=>i.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){var a;const t=this.getPinnedForContainer(e),i=this.isFullWidth(),{rowNode:s,beans:n}=this,r=[];r.push("ag-row"),r.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&r.push("ag-opacity-zero"),r.push(s.rowIndex%2===0?"ag-row-even":"ag-row-odd"),s.isRowPinned()&&r.push("ag-row-pinned"),s.isSelected()&&r.push("ag-row-selected"),s.footer&&r.push("ag-row-footer"),r.push("ag-row-level-"+this.rowLevel),s.stub&&r.push("ag-row-loading"),i&&r.push("ag-full-width-row"),(a=n.expansionSvc)==null||a.addExpandedCss(r,s),s.dragging&&r.push("ag-row-dragging");const{rowStyleSvc:o}=n;return o&&(o.processClassesFromGridOptions(r,s),o.preProcessRowClassRules(r,s)),r.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&r.push("ag-row-first"),this.isLastRowOnPage()&&r.push("ag-row-last"),i&&(t==="left"&&r.push("ag-cell-last-left-pinned"),t==="right"&&r.push("ag-cell-first-right-pinned")),r}processStylesFromGridOptions(){var e;return((e=this.beans.rowStyleSvc)==null?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;(t=this.beans.selectionSvc)==null||t.onRowCtrlSelected(this,i=>{(i===this.centerGui||i===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){var e;(e=this.beans.selectionSvc)==null||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:i}=e,{rowNode:s,beans:n,gos:r}=this;i.addManagedListeners(t,{mouseenter:()=>s.dispatchRowEvent("mouseEnter"),mouseleave:()=>s.dispatchRowEvent("mouseLeave")}),i.addManagedListeners(s,{mouseEnter:()=>{var o;!((o=n.dragSvc)!=null&&o.dragging)&&!r.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),s.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(i=>i.element);for(const i of t)i.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(t.top,!0)-100,s=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(i,e),s)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),n=jO(this.gos)?Vd(this.beans,this.rowNode).height:void 0,r=n?`${Math.min(i,n)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,r&&o.element.style.setProperty("--ag-line-height",r)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&Ad(this.gos)&&!t.sticky)if(t.rowTop!=null){const n=this.roundRowTopToBounds(t.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));t.setHovered(!1);const i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventSvc.dispatchEvent(i),super.destroy()}destroySecondPass(){var t;this.allRowGuis.length=0,(t=this.beans.editSvc)==null||t.stopRowEditing(this);const e=i=>(i.list.forEach(s=>s.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e,editSvc:t}=this.beans,i=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);i!==this.rowFocused&&(this.rowFocused=i,this.setFocusedClasses()),!i&&this.editing&&(t==null||t.stopRowEditing(this,!1))}onPaginationChanged(){var t;const e=((t=this.beans.pagination)==null?void 0:t.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const i=this.beans.pageBounds.getPixelOffset();return e+i*(t?1:-1)}setRowTop(e){if(!this.printLayout&&He(e)){const t=this.applyPaginationOffset(e),n=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(n)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let i;if(t.sticky)i=t.stickyRowTop;else{const s=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,n=this.applyPaginationOffset(s);i=t.isRowPinned()?n:this.beans.rowContainerHeight.getRealPixelPosition(n)}return i+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let i=null;return this.getAllCellCtrls().forEach(s=>{s.column==e&&(i=s)}),i!=null||t||this.getAllCellCtrls().forEach(s=>{s.getColSpanningList().indexOf(e)>=0&&(i=s)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var r,o;const t=this.rowNode.getRowIndexString();if(t===null)return;const i=(((r=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:r.getRowCount())??0)+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),s=this.rowNode.rowIndex%2===0,n=i+this.rowNode.rowIndex+1;this.forEachGui(e,a=>{a.rowComp.setRowIndex(t),a.rowComp.addOrRemoveCssClass("ag-row-even",s),a.rowComp.addOrRemoveCssClass("ag-row-odd",!s),EO(a.element,n)})}};function PN(e){var i;return e.altKey||e.ctrlKey||e.metaKey?!1:((i=e.key)==null?void 0:i.length)===1}function lM(e,t,i,s,n){const r=s?s.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const o=nt(e,{event:t,editing:n,column:s,node:i,data:i.data,colDef:s.getColDef()});return!!(r&&r(o))}function C8(e){const{pinnedRowModel:t,rowModel:i}=e,[s,n]=[(t==null?void 0:t.isEmpty("top"))??!0,(t==null?void 0:t.isEmpty("bottom"))??!0],r=s?null:"top";let o,a;n?(o=null,a=i.getRowCount()-1):(o="bottom",a=(t==null?void 0:t.getPinnedBottomRowCount())??-1);const{visibleCols:l,rangeSvc:u}=e,h=l.allCols;!u||!(h!=null&&h.length)||u.setCellRange({rowStartIndex:0,rowStartPinned:r,rowEndIndex:a,rowEndPinned:o})}var x8=65,b8=67,S8=86,w8=68,M8=90,D8=89;function A8(e){const{keyCode:t}=e;let i;switch(t){case x8:i=Se.A;break;case b8:i=Se.C;break;case S8:i=Se.V;break;case w8:i=Se.D;break;case M8:i=Se.Z;break;case D8:i=Se.Y;break;default:i=e.code}return i}var E8=class extends Me{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),(e=this.beans.touchSvc)==null||e.mockRowContextMenu(this)}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",JO("touchstart")?"touchstart":"mousedown"].forEach(i=>{const s=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:s})})}processMouseEvent(e,t){var n;if(!Wv(this.gos,t)||Ka(t))return;const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(i!=null&&i.column&&i.dispatchCellContextMenuEvent(t),(n=this.beans.contextMenuSvc)==null||n.handleContextMenuMouseEvent(t,void 0,s,i)):(i&&i.onMouseEvent(e,t),s&&s.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:wN(t,e),rowCtrl:eN(t,e,Np)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,t))}processCellKeyboardEvent(e,t,i){var a;const{rowNode:s,column:n,editing:r}=e;!lM(this.gos,i,s,n,r)&&t==="keydown"&&(!r&&((a=this.beans.navigation)!=null&&a.handlePageScrollingKey(i))||e.onKeyDown(i),this.doGridOperations(i,e.editing),PN(i)&&e.processCharacter(i)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){const{rowNode:s}=e,{focusSvc:n,navigation:r}=this.beans,o=n.getFocusedCell(),a=o&&o.column;if(!lM(this.gos,i,s,a,!1)){const u=i.key;if(t==="keydown")switch(u){case Se.PAGE_HOME:case Se.PAGE_END:case Se.PAGE_UP:case Se.PAGE_DOWN:r==null||r.handlePageScrollingKey(i,!0);break;case Se.UP:case Se.DOWN:e.onKeyboardNavigate(i);break;case Se.TAB:e.onTabKeyDown(i);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Wv(this.gos,e))return;const i=A8(e),{clipboardSvc:s,undoRedo:n}=this.beans;if(i===Se.A)return this.onCtrlAndA(e);if(i===Se.C)return this.onCtrlAndC(s,e);if(i===Se.D)return this.onCtrlAndD(s,e);if(i===Se.V)return this.onCtrlAndV(s,e);if(i===Se.X)return this.onCtrlAndX(s,e);if(i===Se.Y)return this.onCtrlAndY(n);if(i===Se.Z)return this.onCtrlAndZ(n,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:i,selectionSvc:s},gos:n}=this;i&&xc(n)&&t.isRowsToRender()?C8(this.beans):s&&(s==null||s.selectAllRowNodes({source:"keyboardSelectAll",selectAll:ZO(n)})),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);i!=null&&i.editing||s!=null&&s.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);i!=null&&i.editing||s!=null&&s.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);i!=null&&i.editing||s!=null&&s.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e==null||e.redo("ui")}},ON=class extends Me{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,i=t!=null?`${t}px`:"";this.eContainer.style.height=i,this.eViewport&&(this.eViewport.style.height=i)}},by=e=>e.topRowCtrls,Sy=e=>e.getStickyTopRowCtrls(),wy=e=>e.getStickyBottomRowCtrls(),My=e=>e.bottomRowCtrls,Dy=e=>e.allRowCtrls,Fw=e=>e.getCtrls("top"),Pw=e=>e.getCtrls("center"),Ow=e=>e.getCtrls("bottom"),T8={center:{type:"center",name:"center-cols",getRowCtrls:Dy,getSpannedRowCtrls:Pw},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:Dy,getSpannedRowCtrls:Pw},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:Dy,getSpannedRowCtrls:Pw},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:Dy},topCenter:{type:"center",name:"floating-top",getRowCtrls:by,getSpannedRowCtrls:Fw},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:by,getSpannedRowCtrls:Fw},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:by,getSpannedRowCtrls:Fw},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:by},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:Sy},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Sy},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Sy},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:Sy},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:wy},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:wy},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:wy},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:wy},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:My,getSpannedRowCtrls:Ow},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:My,getSpannedRowCtrls:Ow},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:My,getSpannedRowCtrls:Ow},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:My}};function NN(e){return`ag-${mm(e).name}-viewport`}function cv(e){const t=mm(e);return t.container??`ag-${t.name}-container`}function R8(e){return`ag-${mm(e).name}-spanned-cells-container`}function mm(e){return T8[e]}var k8=["topCenter","topLeft","topRight"],I8=["bottomCenter","bottomLeft","bottomRight"],L8=["center","left","right"],F8=["center","left","right","fullWidth"],P8=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],O8=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],N8=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],_N=["stickyTopCenter","stickyTopLeft","stickyTopRight"],BN=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],_8=[..._N,"stickyTopFullWidth",...BN,"stickyBottomFullWidth"],B8=[...k8,...I8,...L8,..._N,...BN],G8=class extends Me{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=mm(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new m8(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,i,s){this.comp=e,this.eContainer=t,this.eSpannedContainer=i,this.eViewport=s,this.createManagedBean(new E8(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:n,rangeSvc:r}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(O8,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(n==null?void 0:n.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(N8,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(n==null?void 0:n.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(F8,()=>this.createManagedBean(new ON(this.eContainer,this.name==="center"?s:void 0))),r&&this.forContainers(B8,()=>this.createManagedBean(r.createDragListenerFeature(this.eContainer))),this.forContainers(P8,()=>this.createManagedBean(new LD(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans;this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:i=>this.onDisplayedRowsChanged(i.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const i=this.options.getSpannedRowCtrls(e);i&&this.comp.setSpannedRowCtrls(i,!1)}})}listenOnDomOrder(){if(_8.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const i=this.gos.get("ensureDomOrder"),s=Gs(this.gos,"print");this.comp.setDomOrder(i||s)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=i=>{e.dragging&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,i,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Tp(this.eViewport)}getCenterViewportScrollLeft(){return Rv(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=hl(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return _O(this.eViewport)}getViewportScrollLeft(){return Rv(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||wU(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){kv(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const i=Gs(this.gos,"print"),n=this.gos.get("embedFullWidthRows")||i,r=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!n&&a:n||!a});this.comp.setRowCtrls({rowCtrls:r,useFlushSync:e})}},z8="ag-force-vertical-scroll",H8="ag-selectable",V8="ag-column-moving",W8=class extends Me{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,i,s,n,r,o){var a,l;this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=s,this.eBottom=n,this.eStickyTop=r,this.eStickyBottom=o,this.eCenterColsViewport=i.querySelector(`.${NN("center")}`),this.eFullWidthContainer=i.querySelector(`.${cv("fullWidth")}`),this.eStickyTopFullWidthContainer=r.querySelector(`.${cv("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${cv("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",u=>this.setCellTextSelection(u.currentValue)),this.createManagedBean(new ID(this.comp)),this.scrollFeature=this.createManagedBean(new p8(this.eBodyViewport)),(a=this.beans.rowDragSvc)==null||a.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([s,i,n,r,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(l=this.filterManager)==null||l.setupAdvFilterHeaderComp(s),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const i=t&&e.getScrollbarWidth()||0,s=FO()?16:0,n=`calc(100% + ${i+s}px)`;dl(this.beans,()=>this.comp.setBodyViewportWidth(n)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let i=this.gos.get("treeData");if(!i){const s=t.isPivotMode();i=(e?e.columns.length:0)>=(s?2:1)}this.comp.setGridRootRole(i?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:i=>{const{target:s}=i,n=Lu(s,"ag-root",t);t.classList.toggle("ag-has-focus",!n)},focusout:i=>{const{target:s,relatedTarget:n}=i,r=t.contains(n),o=Lu(n,"ag-root",t);Lu(s,"ag-root",t)||(!r||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(V8,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(H8,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;(e=this.beans.editSvc)==null||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var n,r;const e=(((n=this.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:n.getRowCount())??0)+(((r=this.filterManager)==null?void 0:r.getHeaderRowCount())??0),{rowModel:t}=this.beans,i=t.isLastRowIndexKnown()?t.getRowCount():-1,s=i===-1?-1:e+i;this.comp.setRowCount(s)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?z8:null,i=Gs(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&MU(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let i=t.sizesMeasured;const s=()=>{const n=i&&Ad(this.gos)&&!e.stretching,r=n?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(r,n)};s(),this.addManagedEventListeners({heightScaleChanged:s}),this.addManagedPropertyListener("animateRows",s),this.addManagedEventListeners({gridStylesChanged:()=>{!i&&t.sizesMeasured&&(i=!0,s())}})}addBodyViewportListener(){const{popupSvc:e,touchSvc:t}=this.beans,i=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:i}),t==null||t.mockBodyContextMenu(this,i),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:i,shiftKey:s}=e;(s||Math.abs(t)>Math.abs(i))&&Wv(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:i,shiftKey:s}=e,n=s||Math.abs(t)>Math.abs(i),r=e.target;n?(this.eStickyTopFullWidthContainer.contains(r)||this.eStickyBottomFullWidthContainer.contains(r))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){var n;if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:s}=e||t;(s===this.eBodyViewport||s===this.ctrlsSvc.get("center").eViewport)&&((n=this.beans.contextMenuSvc)==null||n.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody,source:"ui"}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e!=null&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e}=this,t=(e==null?void 0:e.getPinnedTopTotalHeight())??0,i=(e==null?void 0:e.getPinnedBottomTotalHeight())??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){var n,r;const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(((n=this.filterManager)==null?void 0:n.getHeaderHeight())??0),i=((r=this.pinnedRowModel)==null?void 0:r.getPinnedTopTotalHeight())??0;let s=0;t>0&&(s+=t),i>0&&(s+=i),s>0&&(s+=1),this.comp.setStickyTopTop(`${s}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:i}=this,s=(e==null?void 0:e.getPinnedBottomTotalHeight())??0,r=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=s+r;i.setStickyBottomBottom(`${o}px`)}},GN=class extends Ci{constructor(e,t){super(),this.direction=t,this.eViewport=tt,this.eContainer=tt,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",IO()||Iu())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=FO(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),dl(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;TU(()=>sa(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},U8=class extends GN{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=tt,this.eRightSpacer=tt,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new LD(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var t;if(!this.invisibleScrollbar)return;const e=((t=this.beans.pinnedRowModel)==null?void 0:t.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,s=this.scrollVisibleSvc.getScrollbarWidth();i&&(t+=s),Jo(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=s);let n=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(n+=s),Jo(this.eLeftSpacer,n),this.eLeftSpacer.classList.toggle("ag-scroller-corner",n<=s)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),s=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,r=i?0:s===0&&t?16:s,o=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Qg(this.getGui(),r),Qg(this.eViewport,r),Qg(this.eContainer,r),this.setDisplayed(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return Rv(this.eViewport,this.enableRtl)}setScrollPosition(e){sa(this.eViewport)||this.attemptSettingScrollPosition(e),kv(this.eViewport,e,this.enableRtl)}},j8=class extends GN{constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new ON(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,i=this.invisibleScrollbar,s=t&&e.getScrollbarWidth()||0,n=s===0&&i?16:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),Jo(this.getGui(),n),Jo(this.eViewport,n),Jo(this.eContainer,n),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const i=e.getGridBodyCtrl().eBodyViewport,s=this.getScrollPosition(),n=i.scrollTop;s!=n&&this.setScrollPosition(n,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!sa(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function Y8(e){return e.cols?e.cols.treeDepth+1:-1}function Ha(e){var t;return((t=e.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}function PD(e){const t=[],i=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const s of i){if(!s)continue;const n=s.getGroupRowCount()||0;for(let r=0;r<n;r++){const o=s.getGroupRowCtrlAtIndex(r),a=t[r];if(o){const l=K8(e,o);(a==null||l>a)&&(t[r]=l)}}}return t}function K8(e,t){const i=e.colModel.isPivotMode()?X8(e):HN(e);let s=0;const n=t.getHeaderCtrls();for(const r of n){const{column:o}=r;if(o.isAutoHeaderHeight()){const a=o.getAutoHeaderHeight();a!=null&&a>s&&(s=a)}}return Math.max(i,s)}function OD(e){const t=e.colModel.isPivotMode()?$8(e):ym(e),s=e.visibleCols.allCols.filter(n=>n.isAutoHeaderHeight()).map(n=>n.getAutoHeaderHeight()||0);return Math.max(t,...s)}function ym(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function zN(e){return e.gos.get("floatingFiltersHeight")??ym(e)}function HN(e){return e.gos.get("groupHeaderHeight")??ym(e)}function $8(e){return e.gos.get("pivotHeaderHeight")??ym(e)}function X8(e){return e.gos.get("pivotGroupHeaderHeight")??HN(e)}var Z8=class extends Me{setComp(e,t,i){this.comp=e,this.eGui=t;const{beans:s}=this,{headerNavigation:n,touchSvc:r,ctrlsSvc:o}=s;n&&this.createManagedBean(new af(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,s),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,s)}),this.onPivotModeChanged(s),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),r==null||r.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>dl(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var r;const{beans:e}=this;let t=0;const i=PD(e).reduce((o,a)=>o+a,0),s=OD(e);if((r=e.filterManager)!=null&&r.hasFloatingFilters()&&(t+=zN(e)),t+=i,t+=s,this.headerHeight===t)return;this.headerHeight=t;const n=`${t+1}px`;this.comp.setHeightAndMinHeight(n),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const i=e.visibleCols.allCols.some(s=>s.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",i)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),i=e.shiftKey,s=i!==t?"LEFT":"RIGHT",{beans:n}=this,{headerNavigation:r,focusSvc:o}=n;(r.navigateHorizontally(s,!0,e)||!i&&o.focusOverlay(!1)||Yd(n,i,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:i}=this.beans;switch(e.key){case Se.LEFT:t="LEFT";case Se.RIGHT:{He(t)||(t="RIGHT"),i.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case Se.UP:t="UP";case Se.DOWN:{He(t)||(t="DOWN"),i.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:i,beans:s}=this;!t&&i.contains(Fi(s))||i.contains(t)||(s.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,i){var o;const{menuSvc:s,ctrlsSvc:n}=this.beans;if(!e&&!i||!(s!=null&&s.isHeaderContextMenuEnabled()))return;const{target:r}=e??t;(r===this.eGui||r===((o=n.getHeaderRowContainerCtrl())==null?void 0:o.eViewport))&&s.showHeaderContextMenu(void 0,e,i)}},ND=class extends Me{constructor(e,t,i,s){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=s,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Kt(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,i=e.get("suppressColumnMoveAnimation"),s=He(this.columnOrGroup.getOldLeft());(t==null?void 0:t.isActive())&&s&&!i?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),i=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=i,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===i&&this.setLeft(i)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:i,visibleCols:s}=this.beans;if(!Gs(i,"print")||e.getPinned()==="left")return t;const r=s.getColsLeftWidth();if(e.getPinned()==="right"){const o=s.bodyWidth;return r+o+t}return r+t}setLeft(e){if(He(e)&&(this.eCell.style.left=`${e}px`),Ti(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&pU(this.ariaEl,t.length)}}},q8=0,VN="headerCtrl",_D=class extends Me{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+q8++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:i}=this.beans.focusSvc.focusedHeader,s=i.getDefinition(),n=s&&s.suppressHeaderKeyboardEvent;if(!He(n))return!1;const r=nt(this.gos,{colDef:s,column:i,headerRowIndex:t,event:e});return!!n(r)}getWrapperHasFocus(){return Fi(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let i;if(typeof t=="function"){const s=this.getHeaderClassParams();i=t(s)}else i=t;i&&this.comp.setUserStyles(i)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:i,compBean:s}=e,{beans:n}=this,r=f=>{if(!this.isAlive()||!s.isAlive())return;const{paddingTop:g,paddingBottom:m,borderBottomWidth:y,borderTopWidth:C}=nh(this.eGui),x=g+m+y+C,w=t.offsetHeight+x;if(f<5){const M=Gi(n),A=!M||!M.contains(t),T=w==0;if(A||T){dl(n,()=>r(f+1));return}}this.setColHeaderHeight(this.column,w)};let o=!1,a;const l=()=>{const f=this.column.isAutoHeaderHeight();f&&!o&&u(),!f&&o&&h()},u=()=>{o=!0,r(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),a=hl(this.beans,t,()=>r(0))},h=()=>{o=!1,a&&a(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),a=void 0};l(),s.addDestroyFunc(()=>h()),s.addManagedListeners(this.column,{widthChanged:()=>o&&r(0)}),s.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>r(0))}}),i&&i(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:i,eGui:s}=this;!e||!t||!s||(bN(e,t,i.visibleCols),TO(s,i.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=_u(this.beans);this.eGui&&Ur(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var r;const t=Fi(this.beans),i=e.key===Se.LEFT||e.key===Se.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||i)&&(e.preventDefault(),e.stopImmediatePropagation()),!i))return;const n=e.key===Se.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const o=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(o,e.shiftKey),(r=this.resizeFeature)==null||r.toggleColumnResizing(!0)}else this.moveHeader(n)}moveHeader(e){var t;(t=this.beans.colMoves)==null||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:i}=this.beans;return i?i.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:i}=this;let s=e.key===Se.LEFT!==t.get("enableRtl");const n=i.getPinned(),r=t.get("enableRtl");return n&&r!==(n==="right")&&(s=!s),(s?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case Se.PAGE_DOWN:case Se.PAGE_UP:case Se.PAGE_HOME:case Se.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=VN,{eGui:i,gos:s}=this;Zu(s,i,t,this),e.addDestroyFunc(()=>Zu(s,i,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&((e=this.beans.dragAndDrop)==null||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,i){const s=e??t,{menuSvc:n,gos:r}=this.beans;r.get("preventDefaultOnContextMenu")&&s.preventDefault(),n!=null&&n.isHeaderContextMenuEnabled(i)&&n.showHeaderContextMenu(i,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",i)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:i}=this;e.isColumn?i.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):i.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},Q8=class extends _D{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,i,s,n){this.comp=e;const{rowCtrl:r,column:o,beans:a}=this,{colResize:l,context:u,colHover:h,rangeSvc:f}=a,g=gm(this,u,n);this.setGui(t,g),this.updateState(),this.setupWidth(g),this.setupMovingCss(g),this.setupMenuClass(g),this.setupSortableClass(g),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:s,checkMeasuringCallback:y=>this.setRefreshFunction("measuring",y),compBean:g}),this.addColumnHoverListener(g),this.setupFilterClass(g),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(g),this.setupSelectAll(g),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=g.createManagedBean(l.createResizeFeature(r.pinned,o,i,e,this)):Ri(i,!1),h==null||h.createHoverFeature(g,[o],t),f==null||f.createRangeHighlightFeature(g,o,e),g.createManagedBean(new ND(o,t,a)),g.createManagedBean(new af(t,{shouldStopEventPropagation:y=>this.shouldStopEventPropagation(y),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(g),g.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),g.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),g.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const m=()=>this.checkDisplayName();g.addManagedEventListeners({columnValueChanged:m,columnRowGroupChanged:m,columnPivotChanged:m,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),g.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var i;(i=this.beans.colResize)==null||i.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,i=e.colDef;return nt(t.gos,{colDef:i,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return Q6(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:i,gos:s}=this.beans;return nt(s,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(e!=null&&e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!i&&(!this.openFilterEnabled||sr(this.gos)),showColumnMenu:(r,o)=>{e==null||e.showColumnMenu({column:this.column,buttonElement:r,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(r,o)=>{e==null||e.showColumnMenu({column:this.column,mouseEvent:r,positionBy:"mouse",onClosedCallback:o})},showFilter:r=>{e==null||e.showFilterMenu({column:this.column,buttonElement:r,containerType:"columnFilter",positionBy:"button"})},progressSort:r=>{t==null||t.progressSort(this.column,!!r,"uiColumnSorted")},setSort:(r,o)=>{t==null||t.setSortForColumn(this.column,r,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(r,o)=>{s.assertModuleRegistered("Tooltip",3),this.setupTooltip(r,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){var e;return(e=this.selectAllFeature)==null?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===Se.SPACE&&((t=this.selectAllFeature)==null||t.onSpaceKeyDown(e)),e.key===Se.ENTER&&this.onEnterKeyDown(e),e.key===Se.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var t;e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&((t=this.beans.sortSvc)==null||t.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();_L(i)&&i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),Oj()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var i;this.tooltipFeature=(i=this.beans.tooltipSvc)==null?void 0:i.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),i=xN(t,this.gos,this.column,null),s=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(n=>{s.has(n)?s.delete(n):this.comp.addOrRemoveCssClass(n,!0)}),s.forEach(n=>this.comp.addOrRemoveCssClass(n,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(e!=null&&e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(e!=null&&e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{var i;(i=this.comp)==null||i.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const i=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,i=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:s}=this,n=PD(this.beans),r=n.reduce((h,f)=>h+=f,0)===0;if(i.addOrRemoveCssClass("ag-header-parent-hidden",r),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",o>0);const l=OD(s);if(o===0){i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}i.addOrRemoveCssClass("ag-header-span-total",a);let u=0;for(let h=0;h<o;h++)u+=n[n.length-1-h];e.style.setProperty("top",`${-u}px`),e.style.setProperty("height",`${l+u}px`)}refreshAriaSort(){var e;if(this.sortable){const t=this.getLocaleTextFunc(),i=((e=this.beans.sortSvc)==null?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(rU(i)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!sr(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var t;if(!this.eGui.contains(Fi(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((i,s)=>i==="filter"?-1:s.charCodeAt(0)-i.charCodeAt(0)).map(i=>this.ariaDescriptionProperties.get(i)).join(". ");(t=this.beans.ariaAnnounce)==null||t.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;(t=this.beans.colHover)==null||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=n=>this.handleMouseOverChange(n.type==="mouseenter"),i=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},s=n=>this.handleContextMenuMouseEvent(n,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:i,contextmenu:s})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return _L(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function _L(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var J8=0,Nw=class extends Me{constructor(e,t,i){super(),this.rowIndex=e,this.pinned=t,this.type=i,this.instanceId=J8++;const s=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${s}`}postConstruct(){this.isPrintLayout=Gs(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.eGui!=null):!1}setComp(e,t,i=!0){this.comp=e,t=gm(this,this.beans.context,t),i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),i=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:i,virtualColumnsChanged:s=>this.onVirtualColumnsChanged(s.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",i),e.addManagedPropertyListener("ensureDomOrder",s=>this.isEnsureDomOrder=s.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls){for(const t of this.headerCellCtrls.values())if(t.column===e)return t}}onDisplayedColumnsChanged(){this.isPrintLayout=Gs(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{filterManager:e}=this.beans,t=[],i=PD(this.beans),s=OD(this.beans);t.push(...i),t.push(s),e!=null&&e.hasFloatingFilters()&&t.push(zN(this.beans));let n=0;for(let o=0;o<this.rowIndex;o++)n+=t[o];const r=t[this.rowIndex];return{topOffset:n,rowHeight:r}}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const s of t)this.recycleAndCreateHeaderCtrls(s,e);const i=s=>{const{focusSvc:n,visibleCols:r}=this.beans;return n.isHeaderWrapperFocused(s)?r.isVisible(s.column):!1};if(e)for(const[s,n]of e)i(n)?this.headerCellCtrls.set(s,n):this.destroyBean(n);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const i=e.getUniqueId();let s;if(t&&(s=t.get(i),t.delete(i)),s&&s.column!=e&&(this.destroyBean(s),s=void 0),s==null)switch(this.type){case"filter":{s=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":s=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:s=this.createBean(new Q8(e,this));break}this.headerCellCtrls.set(i,s)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{colViewport:i}=this.beans;return["left",null,"right"].forEach(s=>{const n=i.getHeadersToRender(s,t);e=e.concat(n)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let i;return typeof e=="function"?i=t.find(e):i=t.find(s=>s.column==e),i}focusHeader(e,t){const i=this.findHeaderCellCtrl(e);return i?i.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},e9=class extends Me{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:i,ctrlsSvc:s,colModel:n,colMoves:r,filterManager:o}=this.beans;this.setupCenterWidth(),i==null||i.setupHeaderPinnedWidth(this),this.setupDragAndDrop(r,this.eViewport);const a=this.onDisplayedColumnsChanged.bind(this,o);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});const l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;s.register(l,this),n.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,colModel:i,filterManager:s}=this.beans;let n=0;const r=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const h=Y8(i)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let f=0;f<h;f++){const g=this.createBean(new Nw(n++,this.pinned,"group"));this.groupsRowCtrls.push(g)}},a=()=>{const h=n++,f=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==h);(f||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),f&&(this.columnsRowCtrl=this.createBean(new Nw(h,this.pinned,"column")))},l=()=>{this.includeFloatingFilter=!!(s!=null&&s.hasFloatingFilters())&&!this.hidden;const h=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){h();return}const f=n++;if(this.filtersRowCtrl){const g=this.filtersRowCtrl.rowIndex!==f;(!e||g)&&h()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new Nw(f,this.pinned,"filter")))};o(),a(),l();const u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(t,r)}getHeaderCtrlForColumn(e){var t;if(bc(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let i=0;i<this.groupsRowCtrls.length;i++){const s=this.groupsRowCtrls[i].getHeaderCellCtrl(e);if(s)return s}}getHtmlElementForColumnHeader(e){var t;return((t=this.getHeaderCtrlForColumn(e))==null?void 0:t.eGui)??null}getRowType(e){var t;return(t=this.getAllCtrls()[e])==null?void 0:t.type}focusHeader(e,t,i){const n=this.getAllCtrls()[e];return n?n.focusHeader(t,i):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const i=e==null?void 0:e.createBodyDropTarget(this.pinned,t);i&&this.createManagedBean(i)}restoreFocusOnHeader(e,t){if(!t)return;const{column:i}=t;i.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){const t=!!(e!=null&&e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new LD(e=>this.comp.setCenterWidth(`${e}px`),!0))}},t9=class extends Me{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const{enterpriseMenuFactory:t,filterMenuFactory:i}=this.beans,s=t&&sr(this.gos)?t:i;this.showColumnMenuCommon(s,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){var s;(s=this.activeMenuFactory)==null||s.showMenuAfterContextMenuEvent(e,t,i)}hidePopupMenu(){var e,t;(e=this.beans.contextMenuSvc)==null||e.hideActiveMenu(),(t=this.activeMenuFactory)==null||t.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){var i;const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!((i=this.activeMenuFactory)!=null&&i.isMenuEnabled(e))&&(sr(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&bc(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Iu()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!sr(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))&&!sr(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return sr(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,i,s){const{positionBy:n,onClosedCallback:r}=t,o=t.column;if(n==="button"){const{buttonElement:a}=t;e==null||e.showMenuAfterButtonClick(o,a,i,r,s)}else if(n==="mouse"){const{mouseEvent:a}=t;e==null||e.showMenuAfterMouseEvent(o,a,i,r,s)}else if(o){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(o,"auto"),dl(a,()=>{var h;const u=(h=l.getHeaderRowContainerCtrl(o.getPinned()))==null?void 0:h.getHeaderCtrlForColumn(o);u&&(e==null||e.showMenuAfterButtonClick(o,u.getAnchorElementForMenu(s),i,r,!0))})}}};function BL(e,t,i){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",i))}var WN=class extends Ci{constructor(){super()}},i9=class extends WN{init(){var t;const e=Ya((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const i=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("loadingOoo","Loading...")})}}},s9=class extends WN{init(){var t;const e=Ya((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const i=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("noRowsToShow","No Rows To Show")})}}};function n9(e,t,i){const s=Gr(e,t,i);if(s){const{className:r}=s;if(typeof r=="string"&&r.indexOf("ag-icon")>-1||typeof r=="object"&&r["ag-icon"])return s}const n=document.createElement("span");return n.appendChild(s),n}function Gr(e,t,i){var r;let s=null;e==="smallDown"?Pe(262):e==="smallLeft"?Pe(263):e==="smallRight"&&Pe(264);const n=i&&i.getColDef().icons;if(n&&(s=n[e]),t.gos&&!s){const o=t.gos.get("icons");o&&(s=o[e])}if(s){let o;if(typeof s=="function")o=s();else if(typeof s=="string")o=s;else{Pe(38,{iconName:e});return}if(typeof o=="string")return Rp(o);if(SD(o))return o;Pe(133,{iconName:e});return}else{const o=document.createElement("span"),a=t.registry.getIcon(e);a||(r=t.validation)==null||r.validateIcon(e);const l=a??e;return o.setAttribute("class",`ag-icon ag-icon-${l}`),o.setAttribute("unselectable","on"),To(o,"presentation"),o}}var r9=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",o9=class extends Ci{constructor(){super(),this.dragSource=null,this.eIcon=tt,this.eLabel=tt,this.registerCSS(r9)}postConstruct(){const e=t=>n9(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:i,dragSource:s,dropIconMap:n,gos:r}=this;lr(i);let o=null;e||(e=s!=null&&s.getDefaultIconName?s.getDefaultIconName():"notAllowed"),o=n[e],i.classList.toggle("ag-shake-left-to-right",t),!(o===n.hide&&r.get("suppressDragLeaveHidesColumns"))&&o&&i.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},a9=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",l9=class extends Ci{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(a9)}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:s,disabled:n}=this.config;n!=null&&this.setDisabled(n),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;lr(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Ri(t,!1),To(t,"presentation")):(Ri(t,!0),To(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Iv(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Ep(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},UN=class extends l9{constructor(e,t,i,s){super(e,t,i),this.className=s}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();i==null||i==""||oU(e)!==null?j1(e,""):j1(e,t??"")}setAriaLabel(e){return WC(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Jo(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},Au=class extends UN{constructor(e,t,i="text",s="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${s} data-ref="eInput" class="ag-input-field-input"></${s}>
                </div>
            </div>`,[],t),this.inputType=i,this.displayFieldTag=s,this.eLabel=tt,this.eWrapper=tt,this.eInput=tt}postConstruct(){super.postConstruct(),this.setInputType();const{eLabel:e,eWrapper:t,eInput:i,className:s}=this;e.classList.add(`${s}-label`),t.classList.add(`${s}-input-wrapper`),i.classList.add(`${s}-input`),this.addCssClass("ag-input-field"),i.id=i.id||`ag-${this.getCompId()}-input`;const{inputName:n,inputWidth:r}=this.config;n!=null&&this.setInputName(n),r!=null&&this.setInputWidth(r),this.addInputListeners(),this.activateTabIndex([i])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Iv(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Ur(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return WC(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Ep(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Ur(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Ur(this.eInput,"autocomplete",t)}return this}},BD=class extends Au{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const i=this.eInput;i.checked=e,i.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});const s=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:s.id,name:s.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},GD={selector:"AG-CHECKBOX",component:BD},c9=".ag-checkbox-cell{height:100%}",u9=class extends Ci{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[GD]),this.eCheckbox=tt,this.registerCSS(c9)}init(e){this.refresh(e);const{eCheckbox:t,beans:i}=this,s=t.getInputElement();s.setAttribute("tabindex","-1"),DO(s,"polite"),this.addManagedListeners(s,{click:n=>{if(Ud(n),t.isDisabled())return;const r=t.getValue();this.onCheckboxChanged(r)},dblclick:n=>{Ud(n)}}),this.addManagedElementListeners(e.eGridCell,{keydown:n=>{if(n.key===Se.SPACE&&!t.isDisabled()){e.eGridCell===Fi(i)&&t.toggle();const r=t.getValue();this.onCheckboxChanged(r),n.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,i=!0;const{value:s,column:n,node:r}=e;if(r.group&&n)if(typeof s=="boolean")t=s;else{const f=n.getColId();f.startsWith(UC)?t=s==null||s===""?void 0:s==="true":r.aggData&&r.aggData[f]!==void 0?t=s??void 0:i=!1}else t=s??void 0;const{eCheckbox:o}=this;if(!i){o.setDisplayed(!1);return}o.setValue(t);const a=e.disabled??!(n!=null&&n.isCellEditable(r));o.setDisabled(a);const l=this.getLocaleTextFunc(),u=vD(l,t),h=a?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;o.setInputAriaLabel(h)}onCheckboxChanged(e){const{eventSvc:t,params:i}=this,{column:s,node:n,value:r}=i,o={column:s,colDef:s.getColDef(),data:n.data,node:n,rowIndex:n.rowIndex,rowPinned:n.rowPinned,value:r};t.dispatchEvent({type:"cellEditingStarted",...o});const a=n.setDataValue(s,e,"edit");t.dispatchEvent({type:"cellEditingStopped",...o,oldValue:r,newValue:e,valueChanged:a}),a||this.updateCheckbox(i)}},h9="ROOT_NODE_ID",d9=class extends Me{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){var e,t;return(t=(e=this.rootNode)==null?void 0:e.allLeafChildren)==null?void 0:t.map(i=>i.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=h9,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=(e==null?void 0:e.map((t,i)=>this.createRowNode(t,i)))??[]}setImmutableRowData(e,t){const i=Wd(this.gos),s=!this.gos.get("suppressMaintainUnsortedOrder"),n=e.changedRowNodes,r=new Set,o=this.rootNode,a=o.allLeafChildren,l=a.length;let u=!1,h=!1,f=!1,g=!1;for(let y=0,C=-1,x=t.length;y<x;y++){const b=t[y];let w=this.getRowNode(i({data:b,level:0}));if(!w)u=!0,w=this.createRowNode(b,-1),n.add(w);else{if(s){const M=w.sourceRowIndex;g||(g=M<=C||u),C=M}w.data!==b&&(f=!0,w.updateData(b),n.update(w))}r.add(w)}const m=[];for(let y=0;y<l;y++){const C=a[y];r.has(C)||(h=!0,C.isSelected()&&m.push(C),this.rowNodeDeleted(C),n.remove(C))}if(u||h||g){const y=new Array(r.size);let C=0;if(!s)for(let b=0;b<l;++b){const w=a[b];r.delete(w)&&(w.sourceRowIndex=C,y[C++]=w)}for(const b of r)b.sourceRowIndex=C,y[C++]=b;o.allLeafChildren=y;const x=o.sibling;x&&(x.allLeafChildren=y),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=g)}(u||h||g||f)&&(this.deselectNodes(m),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,i=this.allNodesMap;i[t]===e&&delete i[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const i={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},s=[],n=Wd(this.gos);return this.executeRemove(n,e,i,s),this.executeUpdate(n,e,i,s),this.executeAdd(e,i),this.deselectNodes(s),i}executeAdd(e,t){const i=e.add;if(!(i!=null&&i.length))return;let s=this.rootNode.allLeafChildren,n=s.length;if(typeof e.addIndex=="number"&&(n=this.sanitizeAddIndex(e.addIndex),n>0&&this.gos.get("treeData")&&this.gos.get("getDataPath")))for(let f=0;f<s.length;f++){const g=s[f];if((g==null?void 0:g.rowIndex)==n-1){n=f+1;break}}const r=i.length,o=t.changedRowNodes,a=new Array(r);for(let h=0;h<r;h++){const f=this.createRowNode(i[h],n+h);o.add(f),a[h]=f}const l=this.rootNode;if(n<s.length){const h=s.slice(0,n),f=s.slice(n,s.length),g=h.length+a.length;for(let m=0,y=f.length;m<y;++m)f[m].sourceRowIndex=g+m;s=[...h,...a,...f],t.rowsInserted=!0}else s=s.concat(a);l.allLeafChildren=s;const u=l.sibling;u&&(u.allLeafChildren=s),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:i,rowNodeTransaction:s},n){var u,h;const{remove:r}=t;if(!(r!=null&&r.length))return;const o={};r.forEach(f=>{const g=this.lookupRowNode(e,f);g&&(g.isSelected()&&n.push(g),g.clearRowTopAndRowIndex(),o[g.id]=!0,delete this.allNodesMap[g.id],s.remove.push(g),i.remove(g))});const a=this.rootNode;a.allLeafChildren=((u=a.allLeafChildren)==null?void 0:u.filter(f=>!o[f.id]))??null,(h=a.allLeafChildren)==null||h.forEach((f,g)=>{f.sourceRowIndex=g});const l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:i,rowNodeTransaction:s},n){const{update:r}=t;r!=null&&r.length&&r.forEach(o=>{const a=this.lookupRowNode(e,o);a&&(a.updateData(o),!a.selectable&&a.isSelected()&&n.push(a),s.update.push(a),i.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}deselectNodes(e){var n;const t="rowDataChanged",i=this.beans.selectionSvc,s=e.length>0;s&&(i==null||i.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t})),(n=i==null?void 0:i.updateGroupsFromChildrenSelections)==null||n.call(i,t),s&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t})}sanitizeAddIndex(e){var i;const t=((i=this.rootNode.allLeafChildren)==null?void 0:i.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const i=new Kd(this.beans);return i.parent=this.rootNode,i.level=0,i.group=!1,i.expanded=!1,i.sourceRowIndex=t,i.setDataAndId(e,String(this.nextId)),this.allNodesMap[i.id]&&Pe(2,{nodeId:i.id}),this.allNodesMap[i.id]=i,this.nextId++,i}lookupRowNode(e,t){var s,n;let i;if(e){const r=e({data:t,level:0});if(i=this.allNodesMap[r],!i)return $t(4,{id:r}),null}else if(i=(n=(s=this.rootNode)==null?void 0:s.allLeafChildren)==null?void 0:n.find(r=>r.data===t),!i)return $t(5,{data:t}),null;return i||null}},f9=class extends Ci{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[GD]),this.eCheckbox=tt}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:i}=this,s=t.isSelected(),n=vD(e,s),[r,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(r,o);i.setValue(s,!0),i.setInputAriaLabel(`${a} (${n})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:Ud,click:s=>{var n;Ud(s),(n=this.beans.selectionSvc)==null||n.handleSelectionEvent(s,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:s,previousValue:n})=>{const r=typeof s=="object"?Tw(s):void 0,o=typeof n=="object"?Tw(n):void 0;r!==o&&this.onSelectableChanged()}),sM(this.gos)||typeof this.getIsVisible()=="function"){const s=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:s}),this.addManagedListeners(this.rowNode,{dataChanged:s,cellChanged:s}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:i,gos:s}=this;let n=t.selectable;const r=this.getIsVisible();if(n)if(typeof r=="function"){const l=i==null?void 0:i.callbackParams;if(!e)n=r({...l,node:t,data:t.data});else{const u=e.createColumnFunctionCallbackParams(t);n=r({...l,...u})}}else n=r??!1;const o=s.get("rowSelection");if(o&&typeof o!="string"?!Tw(o):e==null?void 0:e.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!n),this.setVisible(!0),this.setDisplayed(!0);return}if(i!=null&&i.removeHidden){this.setDisplayed(n);return}this.setVisible(n)}getIsVisible(){var i,s;const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Ed(t):(s=(i=this.column)==null?void 0:i.getColDef())==null?void 0:s.checkboxSelection}},g9=class{constructor(e){this.rowModel=e,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){return this.rootId?this.rowModel.getRowNode(this.rootId)??null:e?(this.setRoot(e),e):null}getEnd(){return this.endId?this.rowModel.getRowNode(this.endId)??null:null}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const i=t[0].id===this.rootId,s=t.findIndex(n=>n.id===e.id);if(s>-1){const n=t.slice(0,s),r=t.slice(s+1);return this.setEndRange(e),i?{keep:n,discard:r}:{keep:r,discard:n}}else return{keep:t,discard:[]}}extend(e,t=!1){const i=this.getRoot();if(i==null){const n=this.getRange().slice();return t&&e.depthFirstSearch(r=>!r.group&&n.push(r)),n.push(e),this.setRoot(e),{keep:n,discard:[]}}const s=this.rowModel.getNodesInRangeForSelection(i,e);if(!s)return this.setRoot(e),{keep:[e],discard:[]};if(s.find(n=>n.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const n=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:n}}}},p9=class extends Me{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Fi(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new BD);this.cbSelectAll=t,t.addCssClass("ag-header-select-all"),To(t.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:s})=>{const n=r=>typeof r=="string"||!r||r.mode==="singleRow"?void 0:r.selectAll;n(i)!==n(s)&&this.showOrHideSelectAll()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,i=this.cbSelectAll,s=t.getSelectAllState(e);i.setValue(s);const n=t.hasNodesToSelect(e);i.setDisabled(!n),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:i,cbSelectAll:s,cbSelectAllVisible:n}=this,o=s.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");i.setAriaDescriptionProperty("selectAll",n?`${a} (${o})`:null),s.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||i.announceAriaDescription()}checkSelectionType(e){return Ov(this.gos)?!0:(Pe(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:i}=this.beans;return $s(t)||rh(t)?!0:(Pe(129,{feature:e,rowModel:i.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let i="uiSelectAll";t==="currentPage"?i="uiSelectAllCurrentPage":t==="filtered"&&(i="uiSelectAllFiltered");const s={source:i,selectAll:t},n=this.beans.selectionSvc;e?n.selectAllRowNodes(s):n.deselectAllRowNodes(s)}isCheckboxSelection(){var u;const{column:e,gos:t,beans:i}=this,s=t.get("rowSelection"),n=e.getColDef(),{headerCheckboxSelection:r}=n;let o=!1;const a=typeof s=="object";if(a){const h=il(e),f=ED(e);(iM(s)==="autoGroupColumn"&&f||h&&((u=i.selectionColSvc)!=null&&u.isSelectionColumnEnabled()))&&(o=rv(s))}else typeof r=="function"?o=r(nt(t,{column:e,colDef:n})):o=!!r;const l=a?"headerCheckbox":"headerCheckboxSelection";return o&&this.checkRightRowModelType(l)&&this.checkSelectionType(l)}getSelectAllMode(){const e=ZO(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:i}=this.column.getColDef();return t?"currentPage":i?"filtered":"all"}},m9=class extends Me{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new g9(t.rowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const i=sM(e);i!==this.isRowSelectable&&(this.isRowSelectable=i,this.updateSelectable())}),this.isRowSelectable=sM(e)}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new f9}createSelectAllFeature(e){return new p9(e)}isMultiSelect(){return Ov(this.gos)}onRowCtrlSelected(e,t,i){const s=!!e.rowNode.isSelected();e.forEachGui(i,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",s);const r=n.element;K1(r,s),r.contains(Fi(this.beans))&&t(n)})}announceAriaRowSelection(e){var n;if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const s=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);(n=this.beans.ariaAnnounce)==null||n.announceValue(s,"rowSelection")}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e})}isRowSelectionBlocked(e){return!e.selectable||!!e.rowPinned||!Pu(this.gos)}updateRowSelectable(e,t){var s;const i=((s=this.isRowSelectable)==null?void 0:s.call(this,e))??!0;return this.setRowSelectable(e,i,t),i}setRowSelectable(e,t,i){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),i)return;if(Lp(this.gos)){const n=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:n??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){var s;let t=!1,i=!1;if(!((s=e.childrenAfterGroup)!=null&&s.length))return e.selectable?e.__selected:null;for(let n=0;n<e.childrenAfterGroup.length;n++){const r=e.childrenAfterGroup[n];let o=r.isSelected();if(!r.selectable){const a=this.calculateSelectedFromChildren(r);if(a===null)continue;o=a}switch(o){case!0:t=!0;break;case!1:i=!0;break;default:return}}if(!(t&&i))return t?!0:i?!1:e.selectable?e.__selected:null}selectRowNode(e,t,i,s="api"){const n=!e.selectable&&t,r=e.__selected===t;if(n||r)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;return o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...l8(e,this.gos,"rowSelected"),event:i||null,source:s}),!0}isCellCheckboxSelection(e,t){const i=this.gos.get("rowSelection");if(i&&typeof i!="string"){const s=il(e)&&Ed(i);return e.isColumnFunc(t,s)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,i,s){const{gos:n,selectionCtx:r}=this,o=e.isSelected(),a=Lp(n),l=jU(n),u=YU(n),h=this.isMultiSelect(),f=s==="rowClicked";if(f&&a&&e.group||f&&!(l||u))return null;if(t&&i&&h){const g=r.getRoot();if(g)if(g.isSelected()){const m=r.isInRange(e)?r.truncate(e):r.extend(e,a);return{deselect:m.discard,select:m.keep,reset:!1}}else{const m=r.extend(e,a);return{select:[],deselect:m.keep,reset:!1}}else return null}else if(t&&h){const g=r.selectAll?this.beans.rowModel.getRow(0):void 0,m=r.getRoot(g),y=r.isInRange(e)?r.truncate(e):r.extend(e,a);return{select:y.keep,deselect:y.discard,reset:r.selectAll||!!(m&&!m.isSelected())}}else{if(i)return r.setRoot(e),f&&o&&!u?null:{node:e,newValue:!o,clearSelection:!h};{r.setRoot(e);const g=KU(n),m=Nv(n)==="filteredDescendants",y=f&&(!g||!l);if(m&&o===void 0&&$s(n))return{node:e,newValue:!1,clearSelection:!h||y};if(f){const C=o?!g:l;return C===o&&!y||C&&!l||!C&&!u?null:{node:e,newValue:C,clearSelection:!h||y}}return{node:e,newValue:!o,clearSelection:!h||y}}}}},y9=class extends BD{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},lh=class extends Au{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const i=this.eInput;return i.value!==e&&(i.value=He(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=i=>{PN(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:i=>{var n;const s=(n=i.clipboardData)==null?void 0:n.getData("text");s&&s.split("").some(r=>!e.test(r))&&i.preventDefault()}})}},YC={selector:"AG-INPUT-TEXT-FIELD",component:lh},v9=class extends Au{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},C9={selector:"AG-INPUT-TEXT-AREA",component:v9},zD=class extends lh{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const r=parseFloat(e.value),o=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:i,max:s,step:n}=this.config;typeof t=="number"&&this.setPrecision(t),typeof i=="number"&&this.setMin(i),typeof s=="number"&&this.setMax(s),typeof n=="number"&&this.setStep(n)}onWheel(e){Fi(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e),{min:i,max:s}=this;return i!=null&&t<i?e=i.toString():s!=null&&t>s&&(e=s.toString()),e}adjustPrecision(e,t){const i=this.precision;if(i==null)return e;if(t){const n=parseFloat(e).toFixed(i);return parseFloat(n).toString()}const s=String(e).split(".");if(s.length>1){if(s[1].length<=i)return e;if(i>0)return`${s[0]}.${s[1].slice(0,i)}`}return s[0]}setMin(e){return this.min===e?this:(this.min=e,Ur(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Ur(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Ur(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(He(i)){let s=this.isScientificNotation(i);if(s&&this.eInput.validity.valid)return e(i);if(!s){i=this.adjustPrecision(i);const n=this.normalizeValue(i);s=i!=n}if(s)return t(i)}return e(i)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},x9={selector:"AG-INPUT-NUMBER-FIELD",component:zD};function ip(e,t){return e.toString().padStart(t,"0")}function Yr(e,t=!0,i="-"){if(!e)return null;let s=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(n=>ip(n,2)).join(i);return t&&(s+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(n=>ip(n,2)).join(":")),s}var _w=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function sp(e,t="YYYY-MM-DD"){const i=ip(e.getFullYear(),4),s=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>s[e.getMonth()],MMM:()=>s[e.getMonth()].slice(0,3),MM:()=>ip(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${_w(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${_w(e.getDate())}`,DD:()=>ip(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>n[e.getDay()],ddd:()=>n[e.getDay()].slice(0,3),dd:()=>n[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${_w(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(r).join("|"),"g");return t.replace(o,a=>a in r?r[a]():a)}function Vn(e){if(!e)return null;const[t,i]=e.split(" ");if(!t)return null;const s=t.split("-").map(f=>parseInt(f,10));if(s.filter(f=>!isNaN(f)).length!==3)return null;const[n,r,o]=s,a=new Date(n,r-1,o);if(a.getFullYear()!==n||a.getMonth()!==r-1||a.getDate()!==o)return null;if(!i||i==="00:00:00")return a;const[l,u,h]=i.split(":").map(f=>parseInt(f,10));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),h>=0&&h<60&&a.setSeconds(h),a}var b9=class extends lh{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Dc();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Fi(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Yr(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,Ur(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Yr(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,Ur(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Ur(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return Vn(this.getValue())??void 0}setDate(e,t){this.setValue(Yr(e??null,!1),t)}},jN={selector:"AG-INPUT-DATE-FIELD",component:b9},S9=1e3,w9=1e3,GL=100,zL,Ay=!1,M9=class extends Me{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){var t,i,s,n;return e==="show"?((i=(t=this.tooltipCtrl).getTooltipShowDelayOverride)==null?void 0:i.call(t))??this.getGridOptionsTooltipDelay("tooltipShowDelay"):((n=(s=this.tooltipCtrl).getTooltipHideDelayOverride)==null?void 0:n.call(s))??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Iu()&&(Ay?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},GL):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var n;const t=e.relatedTarget,i=this.tooltipCtrl.getGui(),s=(n=this.tooltipComp)==null?void 0:n.getGui();this.isInteractingWithTooltip||i.contains(t)||this.interactionEnabled&&(s!=null&&s.contains(t))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||Ay)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return new Date().getTime()-zL<S9}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){var o,a,l,u,h,f,g;const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!He(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const i=(o=t.getRowNode)==null?void 0:o.call(t),s=nt(this.gos,{location:((a=t.getLocation)==null?void 0:a.call(t))??"UNKNOWN",colDef:(l=t.getColDef)==null?void 0:l.call(t),column:(u=t.getColumn)==null?void 0:u.call(t),rowIndex:(h=t.getRowIndex)==null?void 0:h.call(t),node:i,data:i==null?void 0:i.data,value:e,valueFormatted:(f=t.getValueFormatted)==null?void 0:f.call(t),hideTooltipCallback:()=>this.hideTooltip(!0),...((g=t.getAdditionalParams)==null?void 0:g.call(t))??{}});this.state=2,this.tooltipInstanceCount++;const n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),r=dj(this.userCompFactory,s);r==null||r.newAgStackInstance().then(n)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),zL=new Date().getTime()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){var o;if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const s=t.getGui();this.tooltipComp=t,s.classList.contains("ag-tooltip")||s.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&s.classList.add("ag-tooltip-animate"),this.interactionEnabled&&s.classList.add("ag-tooltip-interactive");const n=this.getLocaleTextFunc(),r=(o=this.popupSvc)==null?void 0:o.addPopup({eChild:s,ariaLabel:n("ariaLabelTooltip","Tooltip")});if(r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(s,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Gi(this.beans),{keydown:a=>{s.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(s,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:s,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var i;const e=(i=this.tooltipComp)==null?void 0:i.getGui(),t=Fi(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){var t,i;const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?(t=this.popupSvc)==null||t.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):(i=this.popupSvc)==null||i.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,i=this.tooltipTrigger===0?w9:0;window.setTimeout(()=>{e(),this.destroyBean(t)},i),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Ay=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},GL)}unlockService(){Ay=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function Bw(e){return e.get("tooltipShowMode")==="whenTruncated"}function uv(e){return()=>{const t=e();return t?t.scrollWidth>t.clientWidth:!0}}var D9=class extends Me{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e){const t="title",i=this.ctrl.getGui();i&&(e!=null&&e!=""?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new M9(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},A9=class extends Ci{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case Se.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case Se.DOWN:case Se.UP:e.preventDefault(),this.navigate(t);break;case Se.PAGE_DOWN:case Se.PAGE_UP:case Se.PAGE_HOME:case Se.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===Se.DOWN;let i;const{itemEls:s,highlightedEl:n}=this;if(!n)i=s[t?0:s.length-1];else{let o=s.indexOf(n)+(t?1:-1);o=Math.min(Math.max(o,0),s.length-1),i=s[o]}this.highlightItem(i)}navigateToPage(e){const{itemEls:t,highlightedEl:i}=this;if(!i||t.length===0)return;const s=t.indexOf(i),n=this.options.length-1,r=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/r);let a=-1;e===Se.PAGE_HOME?a=0:e===Se.PAGE_END?a=n:e===Se.PAGE_DOWN?a=Math.min(s+o,n):e===Se.PAGE_UP&&(a=Math.max(s-o,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:i}=e,s=i||t;return this.options.push({value:t,text:s}),this.renderOption(t,s),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{$u(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,i)=>{hU(t,i+1),uU(t,e.length)})}renderOption(e,t){const i=Gi(this.beans),s=i.createElement("div");To(s,"option"),s.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const n=i.createElement("span");s.appendChild(n),n.textContent=t,this.unFocusable||(s.tabIndex=-1),this.itemEls.push(s),this.addManagedListeners(s,{mouseover:()=>this.highlightItem(s),mousedown:r=>{r.preventDefault(),r.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>s,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>n.scrollWidth>n.clientWidth})),this.getGui().appendChild(s)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const i=this.options.findIndex(s=>s.value===e);if(i!==-1){const s=this.options[i];this.value=s.value,this.displayValue=s.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!sa(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),K1(e,!0);const t=this.getGui(),{scrollTop:i,clientHeight:s}=t,{offsetTop:n,offsetHeight:r}=e;(n+r>i+s||n<i)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!sa(e)||(e.classList.remove(this.activeClass),K1(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},E9=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}}",T9=class extends UN{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=tt,this.eWrapper=tt,this.eDisplayField=tt,this.eIcon=tt,this.registerCSS(E9),this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:s,minPickerWidth:n,maxPickerWidth:r}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!s,i!=null&&this.setPickerMaxHeight(i),n!=null&&this.setPickerMinWidth(n),r!=null&&this.setPickerMaxWidth(r)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:i,inputWidth:s}=this.config;if(i){const n=Gr(i,this.beans);n&&this.eIcon.appendChild(n)}s!=null&&this.setInputWidth(s)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Y1(e,!1),this.ariaRole&&To(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Se.UP:case Se.DOWN:case Se.ENTER:case Se.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Se.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:i,pickerAriaLabelValue:s,modalPicker:n=!0},maxPickerHeight:r,minPickerWidth:o,maxPickerWidth:a,variableWidth:l,beans:u,eWrapper:h}=this,f={modal:n,eChild:e,closeOnEsc:!0,closedCallback:()=>{const C=KO(u);this.beforeHidePicker(),C&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(i,s),anchorToElement:h};e.style.position="absolute";const g=u.popupSvc,m=g.addPopup(f);l?(o&&(e.style.minWidth=o),e.style.width=bD(Ev(h)),a&&(e.style.maxWidth=a)):Iv(e,a??Ev(h));const y=r??`${xD(g.getPopupParent())}px`;return e.style.setProperty("max-height",y),this.alignPickerToComponent(),m.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:i,gos:s},eWrapper:n,pickerComponent:r}=this,o=s.get("enableRtl")?"right":"left";i.positionPopupByComponent({type:t,eventSource:n,ePopup:r.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Y1(t,e);const i=this.eWrapper.classList;i.toggle("ag-picker-expanded",e),i.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){var e;(e=this.hideCurrentPicker)==null||e.call(this)}setInputWidth(e){return Iv(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},R9=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",HD=class extends T9{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(R9)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:uv(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:i}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),i&&t==null&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new A9("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),i=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",i),vU(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:s=>{s==null||s.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var i;const{key:t}=e;switch(t===Se.TAB&&this.hidePicker(),t){case Se.ENTER:case Se.UP:case Se.DOWN:case Se.PAGE_UP:case Se.PAGE_DOWN:case Se.PAGE_HOME:case Se.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(i=this.listComponent)==null||i.handleKeyDown(e):super.onKeyDown(e);break;case Se.ESCAPE:super.onKeyDown(e);break;case Se.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,i){const{listComponent:s,config:{placeholder:n},eDisplayField:r,tooltipFeature:o}=this;if(this.value===e||!s)return this;if(i||s.setValue(e,!0),s.getValue()===this.getValue())return this;let l=s.getDisplayValue();return l==null&&n&&(l=n),r.textContent=l,o==null||o.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},k9={selector:"AG-SELECT",component:HD},kd={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},YN=class extends Me{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:s,focusTrapActive:n,forceFocusOutWhenTabGuardsAreEmpty:r,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:h,onTabKeyDown:f,handleKeyDown:g,isEmpty:m,eFocusableElement:y}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=s,this.providedFocusInnerElement=a,this.eFocusableElement=y,this.focusTrapActive=!!n,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=h,this.providedOnTabKeyDown=f,this.providedHandleKeyDown=g,this.providedIsEmpty=m}postConstruct(){this.createManagedBean(new af(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Rd(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){var l;const t=Gi(this.beans),i=Rd(t.body,null,!0),s=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(s===-1)return;let n,r;e?(n=0,r=s):(n=s+1,r=i.length);const o=i.slice(n,r),a=this.gos.get("tabIndex");o.sort((u,h)=>{const f=parseInt(u.getAttribute("tabindex")||"0"),g=parseInt(h.getAttribute("tabindex")||"0");return g===a?1:f===a?-1:f===0?1:g===0?-1:f-g}),(l=o[e?o.length-1:0])==null||l.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=Rd(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return ah(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},I9=class extends Me{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:i,eFocusableElement:s}=this,n=[t,i],r={setTabIndex:x=>{n.forEach(b=>x!=null?b.setAttribute("tabindex",x):b.removeAttribute("tabindex"))}};this.addTabGuards(t,i);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:h,onTabKeyDown:f,shouldStopEventPropagation:g,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:C}=e;this.tabGuardCtrl=this.createManagedBean(new YN({comp:r,focusTrapActive:o,eTopGuard:t,eBottomGuard:i,eFocusableElement:s,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:h,onTabKeyDown:f,shouldStopEventPropagation:g,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:C}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Gi(this.beans).createElement("div"),i=e==="top"?kd.TAB_GUARD_TOP:kd.TAB_GUARD_BOTTOM;return t.classList.add(kd.TAB_GUARD,i),To(t,"presentation"),t}addTabGuards(e,t){const i=this.eFocusableElement;i.insertAdjacentElement("afterbegin",e),i.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];lr(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){SD(t)||(t=t.getGui());const{eBottomGuard:s}=this;s?s.insertAdjacentElement("beforebegin",t):e(t,i)}destroy(){const{eFocusableElement:e,eTopGuard:t,eBottomGuard:i}=this;e.removeChild(t),e.removeChild(i),super.destroy()}},L9=class extends Ci{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new I9(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,i){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,i)}},lf=class extends Ci{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},dd=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Ku,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),s=this.onTouchMove.bind(this),n=this.onTouchEnd.bind(this);e.addEventListener("touchstart",i,{passive:!0}),e.addEventListener("touchmove",s,{passive:!0}),e.addEventListener("touchend",n,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",i,{passive:!0}),e.removeEventListener("touchmove",s,{passive:!0}),e.removeEventListener("touchend",n,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const i=this.touchStart===t;if(this.touching&&i&&!this.moved){this.moved=!0;const s={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(s)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!EN(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const i={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},KN=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${GO}/${this.frameworkName}-data-grid`,kU(this.baseDocLink)}setInterval(e,t){return new yi(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,s){let n={};if(typeof s=="object"?n=s:typeof s=="boolean"&&(n={capture:s}),n.passive==null){const r=tN(t);r!=null&&(n.passive=r)}e.addEventListener(t,i,n)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function F9(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var P9=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","rowSpanSvc","pageBoundsListener","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],HL=Object.fromEntries(P9.map((e,t)=>[e,t]));function O9(e,t){const i=(e.beanName?HL[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,s=(t.beanName?HL[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-s}function N9(e,t){return(e==null?void 0:e.beanName)==="gridDestroySvc"?-1:0}var _9=class extends Me{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:s,ctrlsSvc:n}=this.beans;s==null||s.registerGridDropTarget(()=>this.eGui,this),DN(this.gos,t),this.createManagedBean(new ID(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const r=hl(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>r()),n.register("gridCtrl",this)}isDetailGrid(){var t;const e=SN(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,i,s,n;const e=this.beans;return{paginationSelector:(t=e.pagination)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:(i=e.sideBar)==null?void 0:i.getSelector(),statusBarSelector:(s=e.registry)==null?void 0:s.getSelector("AG-STATUS-BAR"),watermarkSelector:(n=e.licenseManager)==null?void 0:n.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:s}=this.getNextFocusableIndex(t,e);if(s<0||s>=t.length)return!1;if(s===0){if(i>0){const{visibleCols:n,focusSvc:r}=this.beans,o=n.allCols,a=Kt(o);if(r.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[s],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const i=this.getFocusableContainers(),{focusSvc:s,visibleCols:n}=this.beans,r=n.allCols;if(e){if(i.length>1)return this.focusContainer(Kt(i),e);const o=Kt(r);if(s.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||_u(this.beans)){if(s.focusGridView({column:r[0],backwards:e}))return!0;for(let o=1;o<i.length;o++)if(qu(i[o].getGui(),e))return!0;return!1}return s.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var r;const t=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:s}=this.getNextFocusableIndex(t,e);if(s===-1||i<0||i>=t.length)return;const n=t[i];(r=n.setAllowFocus)==null||r.call(n,!0),setTimeout(()=>{var o;(o=n.setAllowFocus)==null||o.call(n,!1)})}isFocusable(){var t,i;const e=this.beans;return!jC(e)||!_u(e)||!!((i=(t=e.sideBar)==null?void 0:t.comp)!=null&&i.isDisplayed())}getNextFocusableIndex(e,t){const i=Fi(this.beans),s=e.findIndex(r=>r.getGui().contains(i)),n=s+(t?-1:1);return{indexWithFocus:s,nextIndex:n}}focusContainer(e,t){var s,n;(s=e.setAllowFocus)==null||s.call(e,!0);const i=qu(e.getGui(),t,!1,!0);return(n=e.setAllowFocus)==null||n.call(e,!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},dt=(e,t)=>{for(const i of Object.keys(t))t[i]=e;return t},VL={dispatchEvent:"CommunityCore",...dt("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0}),...dt("GridState",{getState:0}),...dt("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...dt("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...dt("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...dt("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...dt("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...dt("ValueCache",{expireValueCache:0}),...dt("CellApi",{getCellValue:0}),...dt("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...dt("Sort",{onSortChanged:0}),...dt("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0}),...dt("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...dt("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...dt("HighlightChanges",{flashCells:0}),...dt("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),...dt("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...dt("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...dt("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...dt("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...dt("ColumnResize",{setColumnWidths:0}),...dt("ColumnHover",{isColumnHovered:0}),...dt("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),...dt("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...dt("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...dt("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),...dt("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...dt("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...dt("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...dt("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...dt("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...dt("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...dt("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...dt("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...dt("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...dt("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...dt("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...dt("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...dt("ContextMenu",{showContextMenu:0}),...dt("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...dt("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...dt("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...dt("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...dt("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...dt("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...dt("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...dt("StatusBar",{getStatusPanel:0})},Gw={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},B9=(e,t)=>e.eventSvc.dispatchEvent(t),$N=class{};Reflect.defineProperty($N,"name",{value:"GridApi"});var G9=class extends Me{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new $N,this.fns={...Gw,dispatchEvent:B9},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(VL))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var n;const{fns:i,beans:s}=this;i!==Gw&&(i[e]=((n=s==null?void 0:s.validation)==null?void 0:n.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:i,fns:{[e]:s}}=this;return s?s(i,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:i,preDestroyLink:s}=this;if(!t)Pe(26,{fnName:e,preDestroyLink:s});else{const n=VL[e];i.assertModuleRegistered(n,`api.${e}`)&&Pe(27,{fnName:e,module:n})}}destroy(){super.destroy(),this.fns=Gw,this.beans=null}};function z9(e){return e.context.getGridId()}function H9(e){e.gridDestroySvc.destroy()}function V9(e){return e.gridDestroySvc.destroyCalled}function W9(e,t){return e.gos.get(t)}function U9(e,t,i){XN(e,{[t]:i})}function XN(e,t){e.gos.updateGridOptions({options:t})}var j9=class extends Ci{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(Gr("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:i,eCell:s,gos:n}=this,r=i.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(s,0,0),r){const a=nt(n,{rowNode:t,dragEvent:e});r(a)}else try{const a=JSON.stringify(t.data);o.setData("application/json",a),o.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function Y9(e,t){var i,s;(s=(i=e.rowDragSvc)==null?void 0:i.rowDragFeature)==null||s.addRowDropZone(t)}function K9(e,t){var s,n;const i=(s=e.dragAndDrop)==null?void 0:s.findExternalZone(t);i&&((n=e.dragAndDrop)==null||n.removeDropTarget(i))}function $9(e,t){var i,s;return(s=(i=e.rowDragSvc)==null?void 0:i.rowDragFeature)==null?void 0:s.getRowDropZone(t)}var X9=class extends Me{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:i}=this.beans;return i.addDragSource(t),()=>i.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(i)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},Z9=class extends Ci{constructor(e,t,i,s,n,r){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=s,this.dragStartPixels=n,this.suppressVisibilityChange=r,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:i,gos:s}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Gr("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const n=s.get("rowDragManaged")?new Q9(this,t,i):new q9(this,t,i);this.createManagedBean(n,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){var s;const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const i=((s=this.beans.selectionSvc)==null?void 0:s.getSelectedNodes())??[];return i.indexOf(e)!==-1?i:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:s=>{s==null||s.preventDefault()}})[0]);const i=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var o;const s=this.getDragItem(),n=((o=s.rowNodes)==null?void 0:o.length)||1,r=this.getRowDragText(this.column);return r?r(s,n):n===1?this.cellValueFn():`${n} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},ZN=class extends Me{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,s=!1;const{column:n,rowNode:r,parent:o}=this;n&&(i=n.isRowDrag(r)||o.isCustomGui(),s=typeof n.getColDef().rowDrag=="function"),s?(o.setDisplayed(!0,t),o.setVisible(i,t)):(o.setDisplayed(i,t),o.setVisible(!0,t))}}},q9=class extends ZN{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},Q9=class extends ZN{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:i}=this.beans,s=e.rowDragFeature,n=s&&s.shouldPreventRowMove(),r=i.get("suppressRowDrag"),o=t.hasExternalDropZones(),a=n&&!o||r;this.setDisplayedOrVisible(a)}},J9=class extends Me{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const i=t.createManagedBean(new r8(e)),s=this.beans.dragAndDrop;s.addDropTarget(i),t.addDestroyFunc(()=>s.removeDropTarget(i)),this.rowDragFeature=i}createRowDragComp(e,t,i,s,n,r){return new Z9(e,t,i,s,n,r)}createRowDragCompForRow(e,t){if(xc(this.gos))return;const i=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${i("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,i,s,n,r){const o=this.gos;return o.get("rowDragManaged")&&(!$s(o)||o.get("pagination"))?void 0:this.createRowDragComp(i,e,t,s,n,r)}},qN={moduleName:"Drag",version:We,beans:[o8]},e7={moduleName:"DragAndDrop",version:We,dynamicBeans:{dndSourceComp:j9},icons:{rowDrag:"grip"}},QN={moduleName:"SharedDragAndDrop",version:We,beans:[Qj],dependsOn:[qN],userComponents:{agDragAndDropImage:o9},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},t7={moduleName:"RowDrag",version:We,beans:[J9],apiFunctions:{addRowDropZone:Y9,removeRowDropZone:K9,getRowDropZoneParams:$9},dependsOn:[QN]},i7={moduleName:"HorizontalResize",version:We,beans:[X9],dependsOn:[qN]},s7=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",n7=class extends Me{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:i,executeLaterFuncs:s}=this;if(i.length===0&&s.length===0){e(),t();return}const n=r=>{for(;r.length;){const o=r.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),n(i)},0),window.setTimeout(()=>{t(),n(s)},200)})}};function r7(e,t,i){var s;(s=e.colMoves)==null||s.moveColumnByIndex(t,i,"api")}function o7(e,t,i){var s;(s=e.colMoves)==null||s.moveColumns(t,i,"api")}var a7=class extends Me{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:i,pivotColsSvc:s}=this.beans;this.columnsToAggregate.length>0&&(t==null||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(i==null||i.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(s==null||s.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function l7(e,t){!t||t.length<=1||t.filter(s=>e.indexOf(s)<0).length>0||t.sort((s,n)=>{const r=e.indexOf(s),o=e.indexOf(n);return r-o})}function JN(e){const{isFromHeader:t,fromLeft:i,xPosition:s,fromEnter:n,fakeEvent:r,pinned:o,gos:a,colModel:l,colMoves:u,visibleCols:h}=e;let{allMovingColumns:f}=e;if(t){const T=[];f.forEach(k=>{var I;let R=null,F=k.getParent();for(;F!=null&&F.getDisplayedLeafColumns().length===1;)R=F,F=F.getParent();R!=null?(!!((I=R.getColGroupDef())!=null&&I.marryChildren)?R.getProvidedColumnGroup().getLeafColumns():R.getLeafColumns()).forEach(V=>{T.includes(V)||T.push(V)}):T.includes(k)||T.push(k)}),f=T}const g=f.slice();l7(l.getCols(),g);const m=d7({movingCols:g,draggingRight:i,xPosition:s,pinned:o,gos:a,colModel:l,visibleCols:h}),y=c7(g,l);if(m.length===0)return;const C=m[0];let x=y!==null&&!n;if(t&&(x=y!==null),x&&!r&&(!i&&C>=y||i&&C<=y))return;const b=h.allCols,w=[];let M=null;for(let T=0;T<m.length;T++){const k=m[T],R=u.getProposedColumnOrder(g,k);if(!u.doesOrderPassRules(R))continue;const F=R.filter(N=>b.includes(N));if(M===null)M=F;else if(!oh(F,M))break;const I=u7(R);w.push({move:k,fragCount:I})}if(w.length===0)return;w.sort((T,k)=>T.fragCount-k.fragCount);const A=w[0].move;if(!(A>l.getCols().length-f.length))return{columns:f,toIndex:A}}function e_(e){const{columns:t,toIndex:i}=JN(e)||{},{finished:s,colMoves:n}=e;return!t||i==null?null:(n.moveColumns(t,i,"uiColumnMoved",s),s?null:{columns:t,toIndex:i})}function c7(e,t){const i=t.getCols(),s=h6(e.map(l=>i.indexOf(l))),n=s[0];return Kt(s)-n!==s.length-1?null:n}function u7(e){function t(s){const n=[];let r=s.getOriginalParent();for(;r!=null;)n.push(r),r=r.getOriginalParent();return n}let i=0;for(let s=0;s<e.length-1;s++){let n=t(e[s]),r=t(e[s+1]);[n,r]=n.length>r.length?[n,r]:[r,n],n.forEach(o=>{r.indexOf(o)===-1&&i++})}return i}function h7(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function d7(e){const{movingCols:t,draggingRight:i,xPosition:s,pinned:n,gos:r,colModel:o,visibleCols:a}=e;if(r.get("suppressMovableColumns")||t.some(M=>M.getColDef().suppressMovable))return[];const u=h7(a,n),h=o.getCols(),f=u.filter(M=>t.includes(M)),g=u.filter(M=>!t.includes(M)),m=h.filter(M=>!t.includes(M));let y=0,C=s;if(i){let M=0;f.forEach(A=>M+=A.getActualWidth()),C-=M}if(C>0){for(let M=0;M<g.length;M++){const A=g[M];if(C-=A.getActualWidth(),C<0)break;y++}i&&y++}let x;if(y>0){const M=g[y-1];x=m.indexOf(M)+1}else x=m.indexOf(g[0]),x===-1&&(x=0);const b=[x],w=(M,A)=>M-A;if(i){let M=x+1;const A=h.length-1;for(;M<=A;)b.push(M),M++;b.sort(w)}else{let M=x;const A=h.length-1;let T=h[M];for(;M<=A&&u.indexOf(T)<0;)M++,b.push(M),T=h[M];M=x-1;const k=0;for(;M>=k;)b.push(M),M--;b.sort(w).reverse()}return b}function cM(e){var u;const{pinned:t,fromKeyboard:i,gos:s,ctrlsSvc:n,useHeaderRow:r,skipScrollPadding:o}=e;let a=(u=n.getHeaderRowContainerCtrl(t))==null?void 0:u.eViewport,{x:l}=e;return a?(i&&(l-=a.getBoundingClientRect().left),s.get("enableRtl")&&(r&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=n.get("center").getCenterViewportScrollLeft()),l):0}function zw(e,t){for(const i of e)i.moving=t,i.dispatchColEvent("movingChanged","uiColumnMoved")}var WL=7,uM=100,Ey=uM/2,f7=5,g7=100,p7=class extends Me{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!He(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,i=(t==null?void 0:t.dragItem.columns)??[];for(const s of i){const n=s.getPinned();if(s.getColDef().lockPinned){if(n==e)return"move";continue}if(n===e||!e)return"move";if(!n&&e)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,i=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(i,!0,"uiColumnDragged");else{const n=t.visibleState,r=(i||[]).filter(o=>n[o.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(i,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,s=!1){const{gos:n,ctrlsSvc:r}=this.beans,o=n.get("suppressMoveWhenColumnDragging");if(s&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!s&&vi(e.hDirection))return;const a=cM({x:e.x,pinned:this.pinned,gos:n,ctrlsSvc:r});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,i,a,s):this.handleColumnDragWhileAllowingMovement(e,t,i,a,s)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(!e)return;const s=e.filter(n=>!n.getColDef().lockVisible);this.beans.colModel.setColsVisible(s,t,i)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:i}=e;this.beans.colMoves.moveColumns(t,i,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,i,s,n){const r=this.getAllMovingColumns(e,!0);if(n){const o=this.isAttemptingToPin(r);o&&this.attemptToPinColumns(r,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(r,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:r,xPosition:l,fromEnter:t,fakeEvent:i,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(r,s)}}handleColumnDragWhileAllowingMovement(e,t,i,s,n){const r=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:r,isFromHeader:a,xPosition:s,fromLeft:o,fromEnter:t,fakeEvent:i}),u=e_({...l,finished:n});u&&(this.lastMovedInfo=u)}getAllMovingColumns(e,t=!1){const i=e.dragSource.getDragItem();let s=null;t?(s=i.columnsInSplit,s||(s=i.columns)):s=i.columns;const n=r=>r.getColDef().lockPinned?r.getPinned()==this.pinned:!0;return s?s.filter(n):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:i,xPosition:s,fromLeft:n,fromEnter:r,fakeEvent:o}=e,{gos:a,colModel:l,colMoves:u,visibleCols:h}=this.beans;return{allMovingColumns:t,isFromHeader:i,fromLeft:n,xPosition:s,pinned:this.pinned,fromEnter:r,fakeEvent:o,gos:a,colModel:l,colMoves:u,visibleCols:h}}highlightHoveredColumn(e,t){var h;const{gos:i,colModel:s}=this.beans,n=i.get("enableRtl"),r=s.getCols().filter(f=>f.isVisible()&&f.getPinned()===this.pinned);let o=null,a=null,l=null;for(const f of r){if(a=f.getActualWidth(),o=this.getNormalisedColumnLeft(f,0,n),o!=null){const g=o+a;if(o<=t&&g>=t){l=f;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let f=r.length-1;f>=0;f--){const g=r[f],m=r[f].getParent();if(!m){l=g;break}const y=m==null?void 0:m.getDisplayedLeafColumns();if(y.length){l=Kt(y);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,n),a=l.getActualWidth()}if(((h=this.lastHighlightedColumn)==null?void 0:h.column)!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let u;t-o<a/2!==n?u=0:u=1,UL(l,u),this.lastHighlightedColumn={column:l,position:u}}getNormalisedXPositionInfo(e,t){const{gos:i,visibleCols:s}=this.beans,n=i.get("enableRtl"),{firstMovingCol:r,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,n);if(!r||!o||a==null)return;const l=s.allCols,u=l.indexOf(r),h=l.indexOf(o),f=a===0!==n,g=u<h||u===h&&!f;let m=0;if(f?g&&(m-=1):g||(m+=1),h+m===u)return;const y=l[h+m];if(!y)return;const C=this.getNormalisedColumnLeft(y,20,n);return{fromLeft:g,xPosition:C}}getColumnMoveAndTargetInfo(e,t,i){const s=this.lastHighlightedColumn||{},{firstMovingCol:n,lastMovingCol:r}=m7(e);if(!n||!r||s.column||!t)return{firstMovingCol:n,...s};const a=this.getPinDirection()==="left";return{firstMovingCol:n,position:a?1:0,column:a!==i?n:r}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,i){const{gos:s,ctrlsSvc:n}=this.beans,r=e.getLeft();if(r==null)return null;const o=e.getActualWidth();return cM({x:i?r+o-t:r+t,pinned:e.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:s,ctrlsSvc:n})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,i=this.failedMoveAttempts>WL;return t&&i||e.some(s=>s.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:i,fromEnter:s,fakeEvent:n,fromLeft:r}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:i,fromLeft:r,fromEnter:s,fakeEvent:n}),{columns:a,toIndex:l}=JN(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(UL(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),i=t.getCenterViewportScrollLeft(),s=i+t.getCenterWidth();let n,r;this.gos.get("enableRtl")?(n=e<i+Ey,r=e>s-Ey):(r=e<i+Ey,n=e>s-Ey),this.needToMoveRight=n,this.needToMoveLeft=r,r||n?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),g7),(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName(),!1))}moveInterval(){var s,n;let e;this.intervalCount++,e=10+this.intervalCount*f7,e>uM&&(e=uM);let t=null;const i=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:r,dragAndDrop:o,gos:a}=this.beans;if(this.failedMoveAttempts<=WL+1||!r)return;if((s=o.getDragAndDropImageComponent())==null||s.setIcon("pinned",!1),!a.get("suppressMoveWhenColumnDragging")){const l=(n=this.lastDraggingEvent)==null?void 0:n.dragItem.columns;this.attemptToPinColumns(l,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,i=!1){const s=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!s.length)return 0;i&&(t=this.getPinDirection());const{pinnedCols:n,dragAndDrop:r}=this.beans;return n==null||n.setColsPinned(s,t,"uiColumnDragged"),i&&r.nudge(),s.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function UL(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function m7(e){const t=e.length;let i,s;for(let n=0;n<t;n++){if(!i){const r=e[n];r.getLeft()!=null&&(i=r)}if(!s){const r=e[t-1-n];r.getLeft()!=null&&(s=r)}if(i&&s)break}return{firstMovingCol:i,lastMovingCol:s}}var y7=class extends Me{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,i=this.pinned;e.whenReady(this,s=>{let n;const r=s.gridBodyCtrl.eBodyViewport;switch(i){case"left":n=[[r,s.left.eContainer],[s.bottomLeft.eContainer],[s.topLeft.eContainer]];break;case"right":n=[[r,s.right.eContainer],[s.bottomRight.eContainer],[s.topRight.eContainer]];break;default:n=[[r,s.center.eViewport],[s.bottomCenter.eViewport],[s.topCenter.eViewport]];break}this.eSecondaryContainers=n}),this.moveColumnFeature=this.createManagedBean(new p7(i)),this.bodyDropPivotTarget=this.createManagedBean(new a7(i)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},v7=class extends Me{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,i){const s=this.beans.colModel.getCols();if(!s)return;const n=s[e];this.moveColumns([n],t,i)}moveColumns(e,t,i,s=!0){const{colModel:n,colAnimation:r,visibleCols:o,eventSvc:a}=this.beans,l=n.getCols();if(!l)return;if(t>l.length-e.length){Pe(30,{toIndex:t});return}r==null||r.start();const u=n.getColsForKeys(e);this.doesMovePassRules(u,t)&&(kL(n.getCols(),u,t),o.refresh(i),a.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,toIndex:t,finished:s,source:i})),r==null||r.finish()}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){const{colModel:t,gos:i}=this.beans;return!(!uN(e,t.getColTree())||!(n=>{const r=u=>u?u==="left"||u===!0?-1:1:0,o=i.get("enableRtl");let a=o?1:-1,l=!0;return n.forEach(u=>{const h=r(u.getColDef().lockPosition);o?h>a&&(l=!1):h<a&&(l=!1),a=h}),l})(e))}getProposedColumnOrder(e,t){const s=this.beans.colModel.getCols().slice();return kL(s,e,t),s}createBodyDropTarget(e,t){return new y7(e,t)}moveHeader(e,t,i,s,n){const{ctrlsSvc:r,gos:o,colModel:a,visibleCols:l,focusSvc:u}=this.beans,h=t.getBoundingClientRect(),f=h.left,g=Ti(i),m=g?h.width:i.getActualWidth(),y=e==="left"!==o.get("enableRtl"),C=cM({x:y?f-20:f+m+20,pinned:s,fromKeyboard:!0,gos:o,ctrlsSvc:r}),x=u.focusedHeader;e_({allMovingColumns:g?i.getLeafColumns():[i],isFromHeader:!0,fromLeft:e==="right",xPosition:C,pinned:s,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:l,finished:!0});let b;if(g){const w=i.getDisplayedLeafColumns();b=y?w[0]:Kt(w)}else b=i;if(r.getScrollFeature().ensureColumnVisible(b,"auto"),(!n.isAlive()||o.get("ensureDomOrder"))&&x){let w;if(g){const M=i.getGroupId(),A=i.getLeafColumns();if(!A.length)return;const T=A[0].getParent();if(!T)return;w=C7(T,M)}else w=i;w&&u.focusHeaderPosition({headerPosition:{...x,column:w}})}}setDragSourceForHeader(e,t,i){const{gos:s,colModel:n,dragAndDrop:r,visibleCols:o}=this.beans;let a=!s.get("suppressDragLeaveHidesColumns");const l=Ti(t),u=l?t.getProvidedColumnGroup().getLeafColumns():[t],f={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>b7(t,o.allCols):()=>x7(t),dragItemName:i,onDragStarted:()=>{a=!s.get("suppressDragLeaveHidesColumns"),zw(u,!0)},onDragStopped:()=>zw(u,!1),onDragCancelled:()=>zw(u,!1),onGridEnter:g=>{if(a){const{columns:m=[],visibleState:y}=g??{},C=l?b=>!y||y[b.getColId()]:()=>!0,x=m.filter(b=>!b.getColDef().lockVisible&&C(b));n.setColsVisible(x,!0,"uiColumnMoved")}},onGridExit:g=>{var m;if(a){const y=((m=g==null?void 0:g.columns)==null?void 0:m.filter(C=>!C.getColDef().lockVisible))||[];n.setColsVisible(y,!1,"uiColumnMoved")}}};return r.addDragSource(f,!0),f}};function C7(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function x7(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}function b7(e,t){const i=e.getProvidedColumnGroup().getLeafColumns(),s={};i.forEach(a=>s[a.getId()]=a.isVisible());const n=[];t.forEach(a=>{i.indexOf(a)>=0&&(n.push(a),Ro(i,a))}),i.forEach(a=>n.push(a));const r=[],o=e.getLeafColumns();for(const a of n)o.indexOf(a)!==-1&&r.push(a);return{columns:n,columnsInSplit:r,visibleState:s}}var S7={moduleName:"ColumnMove",version:We,beans:[v7,n7],apiFunctions:{moveColumnByIndex:r7,moveColumns:o7},dependsOn:[QN],css:[s7]},w7=class extends Me{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const s=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||s.push(i),this.getPreferredWidthForElements(s)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const i=document.createElement("form");i.style.position="fixed";const s=this.centerRowContainerCtrl.eContainer;e.forEach(r=>this.cloneItemIntoDummy(r,i)),s.appendChild(i);const n=i.offsetWidth;return s.removeChild(i),t=t??this.gos.get("autoSizePadding"),n+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(i=>{const s=i.getHtmlElementForColumnHeader(e);s!=null&&(t=s)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const s=document.createElement("div"),n=s.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(n.add("ag-header","ag-header-row"),s.style.position="static"):n.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const u=o.classList[l];u!="ag-row-position-absolute"&&n.add(u)}break}o=o.parentElement}s.appendChild(i),t.appendChild(s)}},t_={moduleName:"AutoWidth",version:We,beans:[w7]};function M7(e,t,i=!0,s="api"){var n;(n=e.colResize)==null||n.setColumnWidths(t,!1,i,s)}var D7=class extends Me{constructor(e,t,i,s){super(),this.comp=e,this.eResize=t,this.pinned=i,this.columnGroup=s}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:i}=this.beans,s=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(s),!t.get("suppressAutoSize")&&i&&this.addDestroyFunc(i.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:s,groupAfterColumns:n,groupAfterStartWidth:r,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=s,this.resizeTakeFromCols=n,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){const s=this.normaliseDragChange(t),n=this.resizeStartWidth+s;this.resizeColumnsFromLocalValues(n,i,e)}getInitialValues(e){var l;const t=u=>u.reduce((h,f)=>h+f.getActualWidth(),0),i=(u,h)=>u.map(f=>f.getActualWidth()/h),s=this.getColumnsToResize(),n=t(s),r=i(s,n),o={columnsToResize:s,resizeStartWidth:n,resizeRatios:r};let a=null;if(e&&(a=((l=this.beans.colGroupSvc)==null?void 0:l.getGroupAtDirection(this.columnGroup,"After"))??null),a){const u=a.getDisplayedLeafColumns(),h=o.groupAfterColumns=u.filter(g=>g.isResizable()),f=o.groupAfterStartWidth=t(h);o.groupAfterRatios=i(h,f)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){if(!this.resizeCols||!this.resizeRatios)return;const s={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(s,e,t,i)}resizeColumns(e,t,i,s=!0){var f;const{columnsToResize:n,resizeStartWidth:r,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=e,h=[];if(h.push({columns:n,ratios:o,width:t}),a){const g=t-r;h.push({columns:a,ratios:u,width:l-g})}(f=this.beans.colResize)==null||f.resizeColumnSets({resizeSets:h,finished:s,source:i}),s&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},A7=class extends Me{constructor(e,t,i,s,n){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=s,this.ctrl=n}postConstruct(){const e=[];let t,i;const s=()=>{if(Ri(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:a}=this.beans,l=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),i&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},n=()=>{e.forEach(o=>o()),e.length=0},r=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==i)&&(t=o,i=a,n(),s())};r(),this.addDestroyFunc(n),this.ctrl.setRefreshFunction("resize",r)}onResizing(e,t){const{column:i,lastResizeAmount:s,resizeStartWidth:n,beans:r}=this,o=this.normaliseResizeAmount(t),a=n+o,l=[{key:i,newWidth:a}],{pinnedCols:u,ctrlsSvc:h,colResize:f}=r;if(this.column.getPinned()){const g=(u==null?void 0:u.leftWidth)??0,m=(u==null?void 0:u.rightWidth)??0,y=Tp(h.getGridBodyCtrl().eBodyViewport)-50;if(g+m+(o-s)>y)return}this.lastResizeAmount=o,f==null||f.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i=this.pinned!=="left",s=this.pinned==="right";return this.gos.get("enableRtl")?i&&(t*=-1):s&&(t*=-1),t}},E7=class extends Me{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,i,s){const n=[],{colModel:r,gos:o,visibleCols:a}=this.beans;e.forEach(l=>{const u=r.getColDefCol(l.key)||r.getCol(l.key);if(!u)return;if(n.push({width:l.newWidth,ratios:[1],columns:[u]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const f=a.getColAfter(u);if(!f)return;const g=u.getActualWidth()-l.newWidth,m=f.getActualWidth()+g;n.push({width:m,ratios:[1],columns:[f]})}}),n.length!==0&&this.resizeColumnSets({resizeSets:n,finished:i,source:s})}resizeColumnSets(e){const{resizeSets:t,finished:i,source:s}=e;if(!(!t||t.every(h=>T7(h)))){if(i){const h=t&&t.length>0?t[0].columns:null;jd(this.eventSvc,h,i,s)}return}const r=[],o=[];t.forEach(h=>{const{width:f,columns:g,ratios:m}=h,y={},C={};g.forEach(w=>o.push(w));let x=!0,b=0;for(;x;){if(b++,b>1e3){$t(31);break}x=!1;const w=[];let M=0,A=f;g.forEach((k,R)=>{if(C[k.getId()])A-=y[k.getId()];else{w.push(k);const I=m[R];M+=I}});const T=1/M;w.forEach((k,R)=>{const F=R===w.length-1;let I;F?I=A:(I=Math.round(m[R]*f*T),A-=I);const N=k.getMinWidth(),G=k.getMaxWidth();I<N?(I=N,C[k.getId()]=!0,x=!0):G>0&&I>G&&(I=G,C[k.getId()]=!0,x=!0),y[k.getId()]=I})}g.forEach(w=>{const M=y[w.getId()];w.getActualWidth()!==M&&(w.setActualWidth(M,s),r.push(w))})});const a=r.length>0;let l=[];if(a){const{colFlex:h,visibleCols:f,colViewport:g}=this.beans;l=(h==null?void 0:h.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}))??[],f.setLeftValues(s),f.updateBodyWidths(),g.checkViewportColumns()}const u=o.concat(l);(a||i)&&jd(this.eventSvc,u,i,s,l)}resizeHeader(e,t,i){if(!e.isResizable())return;const s=e.getActualWidth(),n=e.getMinWidth(),r=e.getMaxWidth(),o=Math.min(Math.max(s+t,n),r);this.setColumnWidths([{key:e,newWidth:o}],i,!0,"uiColumnResized")}createResizeFeature(e,t,i,s,n){return new A7(e,t,i,s,n)}createGroupResizeFeature(e,t,i,s){return new D7(e,t,i,s)}};function T7(e){const{columns:t,width:i}=e;let s=0,n=0,r=!0;t.forEach(l=>{const u=l.getMinWidth();s+=u||0;const h=l.getMaxWidth();h>0?n+=h:r=!1});const o=i>=s,a=!r||i<=n;return o&&a}var R7={moduleName:"ColumnResize",version:We,beans:[E7],apiFunctions:{setColumnWidths:M7},dependsOn:[i7,t_]},k7=class extends Me{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},I7=class extends _D{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,i,s,n){const{column:r,beans:o}=this,{context:a,colNames:l,colHover:u,rangeSvc:h,colResize:f}=o;this.comp=e,n=gm(this,a,n),this.setGui(t,n),this.displayName=l.getDisplayNameForColumnGroup(r,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(n),this.setupExpandable(n),this.setupTooltip(),this.setupAutoHeight({wrapperElement:s,compBean:n}),this.setupUserComp(),this.addHeaderMouseListeners(n),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const g=this.rowCtrl.pinned,m=r.getProvidedColumnGroup().getLeafColumns();u==null||u.createHoverFeature(n,m,t),h==null||h.createRangeHighlightFeature(n,r,e),n.createManagedBean(new ND(r,t,o)),n.createManagedBean(new k7(e,r)),f?this.resizeFeature=n.createManagedBean(f.createGroupResizeFeature(e,i,g,r)):e.setResizableDisplayed(!1),n.createManagedBean(new af(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(n,m),n.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(n),n.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,i=e.getDefinition();return nt(t.gos,{colDef:i,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,i=e.get("groupHeaderHeight");i!=null?i===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(i):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const i of t)e.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),i=t[0]===e,s=Kt(t)===e;if(!i&&!s)return;const n=e.getHighlighted(),r=!!this.rowCtrl.findHeaderCellCtrl(l=>l.column.isMoving());let o=!1,a=!1;if(r){const l=this.beans.gos.get("enableRtl"),u=n===1,h=n===0;i&&(l?a=u:o=h),s&&(l?o=h:a=u)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:i}=this;if(!i)return;const s=i.getInitialValues(t);i.resizeColumns(s,s.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;(t=this.resizeFeature)==null||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:i}=this.beans,s=nt(i,{displayName:this.displayName,columnGroup:this.column,setExpanded:r=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),r,"gridInitializing")},setTooltip:(r,o)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(r,o)}}),n=ej(t,s);n&&this.comp.setUserCompDetails(n)}addHeaderMouseListeners(e){const t=n=>this.handleMouseOverChange(n.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),s=n=>this.handleContextMenuMouseEvent(n,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:i,contextmenu:s})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var i;this.tooltipFeature=(i=this.beans.tooltipSvc)==null?void 0:i.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const i=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),i=xN(t,this.gos,null,e);e.isPadding()?(i.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&i.push("ag-header-span-height")):(i.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&i.push("ag-header-cell-wrap-text")),i.forEach(s=>this.comp.addOrRemoveCssClass(s,!0))}setupMovingCss(e){const{column:t}=this,s=t.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());s.forEach(r=>{e.addManagedListeners(r,{movingChanged:n})}),n()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===Se.ENTER){const i=this.column,s=!i.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(i.getProvidedColumnGroup(),s,"uiColumnExpanded")}}setDragSource(e){var t;!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function L7(e,t,i){var s;(s=e.colGroupSvc)==null||s.setColumnGroupOpened(t,i,"api")}function F7(e,t,i){var s;return((s=e.colGroupSvc)==null?void 0:s.getColumnGroup(t,i))??null}function P7(e,t){var i;return((i=e.colGroupSvc)==null?void 0:i.getProvidedColGroup(t))??null}function O7(e,t,i){return e.colNames.getDisplayNameForColumnGroup(t,i)||""}function N7(e){var t;return((t=e.colGroupSvc)==null?void 0:t.getColumnGroupState())??[]}function _7(e,t){var i;(i=e.colGroupSvc)==null||i.setColumnGroupState(t,"api")}function B7(e){var t;(t=e.colGroupSvc)==null||t.resetColumnGroupState("api")}function G7(e){return e.visibleCols.treeLeft}function z7(e){return e.visibleCols.treeCenter}function H7(e){return e.visibleCols.treeRight}function V7(e){return e.visibleCols.getAllTrees()}function W7(e,t){for(let i=0;i<t.length;i++){const s=e.indexOf(t[i]);s>=0&&(e[s]=e[e.length-1],e.pop())}}var U7=class extends Me{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){var a;const{colModel:i,colGroupSvc:s,colViewport:n}=this.beans;t||this.buildTrees(i,s),s==null||s.updateOpenClosedVisibility();const r=Hw(this.treeLeft);this.leftCols=r,this.centerCols=Hw(this.treeCenter);const o=Hw(this.treeRight);this.rightCols=o,this.joinColsAriaOrder(i),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(l=>l.isAutoHeight()),(a=this.beans.colFlex)==null||a.refreshFlexedColumns(),this.updateBodyWidths(),n.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(i,r,o,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){const e=Ba(this.centerCols),t=Ba(this.leftCols),i=Ba(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,i,s){let n,r;this.gos.get("enableRtl")?(n=t?t[0]:null,r=i?Kt(i):null):(n=t?Kt(t):null,r=i?i[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===n,s),o.setFirstRightPinned(o===r,s)})}buildTrees(e,t){const i=e.getColsToShow(),s=i.filter(l=>l.getPinned()=="left"),n=i.filter(l=>l.getPinned()=="right"),r=i.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),o=new pN,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:s,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:n,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:r,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),i=[],s=[],n=[];for(const r of t){const o=r.getPinned();o?o===!0||o==="left"?i.push(r):n.push(r):s.push(r)}this.ariaOrderColumns=i.concat(s).concat(n)}getAriaColIndex(e){let t;return Ti(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Ti(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const s=t.getCols().slice(0),n=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(r=>{if(n){let o=Ba(r);r.forEach(a=>{o-=a.getActualWidth(),a.setLeft(o,e)})}else{let o=0;r.forEach(a=>{a.setLeft(o,e),o+=a.getActualWidth()})}W7(s,r)}),s.forEach(r=>{r.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:i}}=this;return i.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:i}}=this;return i.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,i,s){const n=[];let r=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,u=Math.min(a.getColSpan(e),l),h=[a];if(u>1){const g=u-1;for(let m=1;m<=g;m++)h.push(t[o+m]);o+=g}let f;i?(f=!1,h.forEach(g=>{i(g)&&(f=!0)})):f=!0,f&&(n.length===0&&r&&(s&&s(a))&&n.push(r),n.push(a)),r=a}return n}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,i=t.indexOf(e);return i>0?t[i-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Bu(this.treeCenter,!1,e),Bu(this.treeLeft,!1,e),Bu(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){const s=this[t[i]];if(s.length)return e?Kt(s):s[0]}return null}getColAfter(e){const t=this.allCols,i=t.indexOf(e);return i<t.length-1?t[i+1]:null}getColsLeftWidth(){return Ba(this.leftCols)}getDisplayedColumnsRightWidth(){return Ba(this.rightCols)}isColAtEdge(e,t){const i=this.allCols;if(!i.length)return!1;const s=t==="first";let n;if(Ti(e)){const r=e.getDisplayedLeafColumns();if(!r.length)return!1;n=s?r[0]:Kt(r)}else n=e;return(s?i[0]:Kt(i))===n}};function Bu(e,t,i){if(e)for(let s=0;s<e.length;s++){const n=e[s];if(Ti(n)){const r=t?n.getDisplayedChildren():n.getChildren();Bu(r,t,i)}i(n)}}function Hw(e){const t=[];return Bu(e,!0,i=>{bc(i)&&t.push(i)}),t}var j7=class extends Me{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return Xa(null,t,i=>{wn(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const i=[];Xa(null,t,s=>{if(wn(s)){const n=s.getColGroupDef(),r={groupId:s.getGroupId(),open:n?n.openByDefault:void 0};i.push(r)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){const{colModel:i,colAnimation:s,visibleCols:n,eventSvc:r}=this.beans;if(!i.getColTree().length)return;s==null||s.start();const a=[];e.forEach(l=>{const u=l.groupId,h=l.open,f=this.getProvidedColGroup(u);f&&f.isExpanded()!==h&&(f.setExpanded(h),a.push(f))}),n.refresh(t,!0),a.length&&r.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),s==null||s.finish()}setColumnGroupOpened(e,t,i){let s;wn(e)?s=e.getId():s=e||"",this.setColumnGroupState([{groupId:s,open:t}],i)}getProvidedColGroup(e){let t=null;return Xa(null,this.beans.colModel.getColTree(),i=>{wn(i)&&i.getId()===e&&(t=i)}),t}getGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),s=e.getDisplayedLeafColumns(),n=t==="After"?Kt(s):s[0],r=`getCol${t}`;for(;;){const o=this.beans.visibleCols[r](n);if(!o)return null;const a=this.getColGroupAtLevel(o,i);if(a!==e)return a}}getColGroupAtLevel(e,t){let i=e.getParent(),s,n;for(;s=i.getProvidedColumnGroup().getLevel(),n=i.getPaddingLevel(),!(s+n<=t);)i=i.getParent();return i}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();Bu(e,!1,t=>{Ti(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Ti(e))return e;const i=this.beans.visibleCols.getAllTrees(),s=typeof t=="number";let n=null;return Bu(i,!1,r=>{if(Ti(r)){const o=r;let a;s?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(n=o)}}),n}createColumnGroups(e){const{columns:t,idCreator:i,pinned:s,oldDisplayedGroups:n,isStandaloneStructure:r}=e,o=this.mapOldGroupsById(n),a=[];let l=t;for(;l.length;){const u=l;l=[];let h=0;const f=g=>{const m=h;h=g;const y=u[m],x=(Ti(y)?y.getProvidedColumnGroup():y).getOriginalParent();if(x==null){for(let w=m;w<g;w++)a.push(u[w]);return}const b=this.createColumnGroup(x,i,o,s,r);for(let w=m;w<g;w++)b.addChild(u[w]);l.push(b)};for(let g=1;g<u.length;g++){const m=u[g],C=(Ti(m)?m.getProvidedColumnGroup():m).getOriginalParent(),x=u[h],w=(Ti(x)?x.getProvidedColumnGroup():x).getOriginalParent();C!==w&&f(g)}h<u.length&&f(u.length)}return r||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,i,s,n,r,o){const a=n.getUniqueKey(t.groupId||null,null),l=this.createMergedColGroupDef(t,a),u=new ov(l,a,!1,i);this.createBean(u);const h=this.findExistingGroup(t,r);h&&r.splice(h.idx,1);const f=h==null?void 0:h.group;f&&u.setExpanded(f.isExpanded());const g=aN(this.beans,l.children,i+1,e,s,n,r,o);return u.setChildren(g),u}balanceColumnTree(e,t,i,s){const n=[];for(let r=0;r<e.length;r++){const o=e[r];if(wn(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,i,s);a.setChildren(l),n.push(a)}else{let a,l;for(let u=i-1;u>=t;u--){const h=s.getUniqueKey(null,null),f=this.createMergedColGroupDef(null,h),g=new ov(f,h,!0,t);this.createBean(g),l&&l.setChildren([g]),l=g,a||(a=l)}if(a&&l)if(n.push(a),e.some(h=>wn(h))){l.setChildren([o]);continue}else{l.setChildren(e);break}n.push(o)}}return n}findDepth(e){let t=0,i=e;for(;i&&i[0]&&wn(i[0]);)t++,i=i[0].getChildren();return t}findMaxDepth(e,t){let i=t;for(let s=0;s<e.length;s++){const n=e[s];if(wn(n)){const r=n,o=this.findMaxDepth(r.getChildren(),t+1);i<o&&(i=o)}}return i}balanceTreeForAutoCols(e,t){const i=[];return e.forEach(s=>{let n=s;for(let r=t-1;r>=0;r--){const o=new ov(null,`FAKE_PATH_${s.getId()}}_${r}`,!0,r);this.createBean(o),o.setChildren([n]),n.originalParent=o,n=o}t===0&&(s.originalParent=null),i.push(n)}),i}createMergedColGroupDef(e,t){const i={},{gos:s,validation:n}=this.beans;return Object.assign(i,s.get("defaultColGroupDef")),Object.assign(i,e),n==null||n.validateColDef(i,t),i}findExistingGroup(e,t){if(e.groupId!=null)for(let s=0;s<t.length;s++){const n=t[s];if(n.getColGroupDef()&&n.getId()===e.groupId)return{idx:s,group:n}}}createColumnGroup(e,t,i,s,n){const r=e.getGroupId(),o=t.getInstanceIdForKey(r),a=TN(r,o);let l=i[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),He(l)?l.reset():(l=new RN(e,r,o,s),n||this.createBean(l)),l}mapOldGroupsById(e){const t={},i=s=>{s.forEach(n=>{if(Ti(n)){const r=n;t[n.getUniqueId()]=r,i(r.getChildren())}})};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach(i=>{if(i.parent=t,Ti(i)){const s=i;this.setupParentsIntoCols(s.getChildren(),s)}})}},Y7={moduleName:"ColumnGroup",version:We,dynamicBeans:{headerGroupCellCtrl:I7},beans:[j7],apiFunctions:{getAllDisplayedColumnGroups:V7,getCenterDisplayedColumnGroups:z7,getColumnGroup:F7,getColumnGroupState:N7,getDisplayNameForColumnGroup:O7,getLeftDisplayedColumnGroups:G7,getProvidedColumnGroup:P7,getRightDisplayedColumnGroups:H7,resetColumnGroupState:B7,setColumnGroupOpened:L7,setColumnGroupState:_7}},K7={moduleName:"CheckboxCellRenderer",version:We,userComponents:{agCheckboxCellRenderer:u9}};function $7(e,t){const i=e.colModel.getColDefCol(t);return i?i.getColDef():null}function X7(e){return e.colModel.getColumnDefs()}function Z7(e,t,i){return e.colNames.getDisplayNameForColumn(t,i)||""}function q7(e,t){return e.colModel.getColDefCol(t)}function Q7(e){return e.colModel.getColDefCols()}function J7(e,t){return jr(e,t,"api")}function eY(e){return Fp(e)}function tY(e){A6(e,"api")}function iY(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function sY(e){return e.visibleCols.isPinningLeft()}function nY(e){return e.visibleCols.isPinningRight()}function rY(e,t){return e.visibleCols.getColAfter(t)}function oY(e,t){return e.visibleCols.getColBefore(t)}function aY(e,t,i){e.colModel.setColsVisible(t,i,"api")}function lY(e,t,i){var s;(s=e.pinnedCols)==null||s.setColsPinned(t,i,"api")}function cY(e){return e.colModel.getCols()}function uY(e){return e.visibleCols.leftCols}function hY(e){return e.visibleCols.centerCols}function dY(e){return e.visibleCols.rightCols}function fY(e){return e.visibleCols.allCols}function gY(e){return e.colViewport.getViewportColumns()}function hM(e,t){if(!e)return;const i=e,s={};return Object.keys(i).forEach(n=>{if(t&&t.indexOf(n)>=0||iN.has(n))return;const r=i[n];typeof r=="object"&&r!==null&&r.constructor===Object?s[n]=hM(r):s[n]=r}),s}var pY=class extends Me{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,i,s){var a,l;const n=e.slice();t?n.sort((u,h)=>i.indexOf(u)-i.indexOf(h)):i&&n.sort((u,h)=>s.indexOf(u)-s.indexOf(h));const r=(a=this.rowGroupColsSvc)==null?void 0:a.columns,o=(l=this.pivotColsSvc)==null?void 0:l.columns;return this.buildColumnDefs(n,r,o)}buildColumnDefs(e,t=[],i=[]){const s=[],n={};return e.forEach(r=>{const o=this.createDefFromColumn(r,t,i);let a=!0,l=o,u=r.getOriginalParent(),h=null;for(;u;){let f=null;if(u.isPadding()){u=u.getOriginalParent();continue}const g=n[u.getGroupId()];if(g){g.children.push(l),a=!1;break}if(f=this.createDefFromGroup(u),f&&(f.children=[l],n[f.groupId]=f,l=f,u=u.getOriginalParent()),u!=null&&h===u){a=!1;break}h=u}a&&s.push(l)}),s}createDefFromGroup(e){const t=hM(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const s=hM(e.getColDef());return s.colId=e.getColId(),s.width=e.getActualWidth(),s.rowGroup=e.isRowGroupActive(),s.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,s.pivot=e.isPivotActive(),s.pivotIndex=e.isPivotActive()?i.indexOf(e):null,s.aggFunc=e.isValueActive()?e.getAggFunc():null,s.hide=e.isVisible()?void 0:!0,s.pinned=e.isPinned()?e.getPinned():null,s.sort=e.getSort()?e.getSort():null,s.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,s}},mY=class extends Me{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const i=this.flexViewportWidth;if(!i)return[];const{visibleCols:s}=this.beans,n=s.centerCols;let r=-1;if(e.resizingCols){const y=new Set(e.resizingCols);for(let C=n.length-1;C>=0;C--)if(y.has(n[C])){r=C;break}}let o=!1;const a=n.map((y,C)=>{const x=y.getFlex(),b=x!=null&&x>0&&C>r;return o||(o=b),{col:y,isFlex:b,flex:Math.max(0,x??0),initialSize:y.getActualWidth(),min:y.getMinWidth(),max:y.getMaxWidth(),targetSize:0}});if(!o)return[];let l=a.length,u=a.reduce((y,C)=>y+C.flex,0),h=i;const f=(y,C)=>{y.frozenSize=C,y.col.setActualWidth(C,t),h-=C,u-=y.flex,l-=1},g=y=>y.frozenSize!=null;for(const y of a)y.isFlex||f(y,y.initialSize);for(;l>0;){const y=Math.round(u<1?h*u:h);let C,x=0,b=0;for(const A of a){if(g(A))continue;C=A,b+=y*(A.flex/u);const T=b-x,k=Math.round(T);A.targetSize=k,x+=k}C&&(C.targetSize+=y-x);let w=0;for(const A of a){if(g(A))continue;const T=A.targetSize,k=Math.min(Math.max(T,A.min),A.max);w+=k-T,A.violationType=k===T?void 0:k<T?"max":"min",A.targetSize=k}const M=w===0?"all":w>0?"min":"max";for(const A of a)g(A)||(M==="all"||A.violationType===M)&&f(A,A.targetSize)}e.skipSetLeft||s.setLeftValues(t),e.updateBodyWidths&&s.updateBodyWidths();const m=a.filter(y=>y.isFlex&&!y.violationType).map(y=>y.col);if(e.fireResizedEvent){const y=a.filter(x=>x.initialSize!==x.frozenSize).map(x=>x.col),C=a.filter(x=>x.flex).map(x=>x.col);jd(this.eventSvc,y,!0,t,C)}return m}initCol(e){const{flex:t,initialFlex:i}=e.colDef;t!==void 0?e.flex=t:i!==void 0&&(e.flex=i)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},yY=class extends Me{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;const i={};this.formatValueFuncs=i;const s=o=>a=>{const{column:l,node:u,value:h}=a;let f=l.getColDef().valueFormatter;return f===o.groupSafeValueFormatter&&(f=o.valueFormatter),this.beans.valueSvc.formatValue(l,u,h,f)};for(const o of Object.keys(e)){const a=e[o],l={...a,groupSafeValueFormatter:KL(a,this.gos)};t[o]=l,i[o]=s(l)}const n=this.gos.get("dataTypeDefinitions")??{},r={};this.dataTypeMatchers=r;for(const o of Object.keys(n)){const a=n[o],l=this.processDataTypeDefinition(a,n,[o],e);l&&(t[o]=l,a.dataTypeMatcher&&(r[o]=a.dataTypeMatcher),i[o]=s(l))}this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(o=>{const a=r[o];a&&delete r[o],r[o]=a??e[o].dataTypeMatcher})}processDataTypeDefinition(e,t,i,s){let n;const r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=s[r];const a=t[r];if(o&&a&&(o=a),!YL(e,o,r))return;n=jL(o,e)}else{if(i.includes(r)){Pe(44);return}const o=t[r];if(!YL(e,o,r))return;const a=this.processDataTypeDefinition(o,t,[...i,r],s);if(!a)return;n=jL(a,e)}return{...n,groupSafeValueFormatter:KL(n,this.gos)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:s}=t;const{field:n}=t;if(s===void 0&&(s=e.cellDataType),(s==null||s===!0)&&(s=this.canInferCellDataType(e,t)?this.inferCellDataType(n,i):!1),!s){e.cellDataType=!1;return}const r=this.dataTypeDefinitions[s];if(!r){Pe(47,{cellDataType:s});return}return e.cellDataType=s,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,r,i),r.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=s=>{t.add(s.key)};e.__addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){const{gos:i}=this;if(!$s(i))return!1;const s={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(Vw(t,s))return!1;const n=t.type===null?e.type:t.type;if(n){const r=i.get("columnTypes")??{};if(Bv(n).some(a=>{const l=r[a.trim()];return l&&Vw(l,s)}))return!1}return!Vw(e,s)}inferCellDataType(e,t){if(!e)return;let i;const s=this.getInitialData();if(s){const n=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=ep(s,e,n)}else this.initWaitForRowData(t);if(i!=null)return Object.keys(this.dataTypeMatchers).find(n=>this.dataTypeMatchers[n](i))??"object"}getInitialData(){var t;const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const i=(t=this.beans.rowModel.rootNode)==null?void 0:t.allLeafChildren;if(i!=null&&i.length)return i[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:i,eventSvc:s}=this.beans;t&&i&&(i.shouldQueueResizeOperations=!0);const[n]=this.addManagedEventListeners({rowDataUpdateStarted:r=>{const{firstRowData:o}=r;o&&(n==null||n(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&(i==null||i.processResizeOperations()),s.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.destroyColumnStateUpdateListeners();const s={},n={};for(const r of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[r],a=this.colModel.getCol(r);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const u=a.getColDef();if(t&&u.type&&u.type!==l.type){const h=CY(a,o);h.rowGroup&&h.rowGroupIndex==null&&(s[r]=h),h.pivot&&h.pivotIndex==null&&(n[r]=h),i.push(h)}}t&&i.push(...this.generateColumnStateForRowGroupAndPivotIndexes(s,n)),i.length&&jr(this.beans,{state:i},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const i={},{rowGroupColsSvc:s,pivotColsSvc:n}=this.beans;return s==null||s.restoreColumnOrder(i,e),n==null||n.restoreColumnOrder(i,t),Object.values(i)}resetColDefIntoCol(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const s=nM(this.beans,i,e.getColId());return e.setColDef(s,i,t),!0}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var s;if(t==null)return!0;const i=(s=this.getDataTypeDefinition(e))==null?void 0:s.dataTypeMatcher;return i?i(t):!0}validateColDef(e){const t=i=>Pe(48,{property:i});if(e.cellDataType==="object"){const{object:i}=this.dataTypeDefinitions;e.valueFormatter===i.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===i.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,i,s){var r;const n=this.formatValueFuncs[t];switch(i.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===Se.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=n;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=n;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(o,a)=>{const l=this.colModel.getColDefCol(s),u=l==null?void 0:l.getColDef();if(!l||!u)return 0;const h=o==null?"":n({column:l,node:null,value:o}),f=a==null?"":n({column:l,node:null,value:a});return h===f?0:h>f?1:-1},e.keyCreator=n;break}}(r=this.beans.filterManager)==null||r.setColDefPropertiesForDataType(e,i,n)}getDefaultDataTypes(){const e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>{var s,n;return((n=(s=i.newValue)==null?void 0:s.trim)==null?void 0:n.call(s))===""?null:Number(i.newValue)},valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:q1(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>{var s,n;return i.newValue==null?i.newValue:((n=(s=i.newValue)==null?void 0:s.trim)==null?void 0:n.call(s))===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>Vn(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):Yr(i.value,!1)??"",dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>Vn(i)??void 0,dateFormatter:i=>Yr(i??null,!1)??void 0,valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>q1(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function jL(e,t){const i={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...Bv(e.columnTypes),...Bv(t.columnTypes)]),i}function YL(e,t,i){return t?t.baseDataType!==e.baseDataType?(Pe(46),!1):!0:(Pe(45,{parentCellDataType:i}),!1)}function KL(e,t){if(e.valueFormatter)return i=>{var s,n;if((s=i.node)!=null&&s.group){const r=(i.colDef.pivotValueColumn??i.column).getAggFunc();if(r){if(r==="first"||r==="last")return e.valueFormatter(i);if(e.baseDataType==="number"&&r!=="count"){if(typeof i.value=="number")return e.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter({...i,value:i.value.toNumber()});if("value"in i.value)return e.valueFormatter({...i,value:i.value.value})}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&i.column.isRowGroupActive()&&typeof i.value=="string"&&!((n=e.dataTypeMatcher)!=null&&n.call(e,i.value)))return;return e.valueFormatter(i)}}function vY(e,t,i,s){if(!t[i])return!1;const n=e[i];return n===null?(t[i]=!1,!1):s===void 0?!!n:n===s}function Vw(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,s])=>vY(e,t,i,s))}function CY(e,t){const i=gN(e);return t.forEach(s=>{delete i[s],s==="rowGroup"?delete i.rowGroupIndex:s==="pivot"&&delete i.pivotIndex}),i}var xY={moduleName:"DataType",version:We,beans:[yY],dependsOn:[K7]},bY={moduleName:"ColumnFlex",version:We,beans:[mY]},SY={moduleName:"ColumnApi",version:We,beans:[pY],apiFunctions:{getColumnDef:$7,getDisplayNameForColumn:Z7,getColumn:q7,getColumns:Q7,applyColumnState:J7,getColumnState:eY,resetColumnState:tY,isPinning:iY,isPinningLeft:sY,isPinningRight:nY,getDisplayedColAfter:rY,getDisplayedColBefore:oY,setColumnsVisible:aY,setColumnsPinned:lY,getAllGridColumns:cY,getDisplayedLeftColumns:uY,getDisplayedCenterColumns:hY,getDisplayedRightColumns:dY,getAllDisplayedColumns:fY,getAllDisplayedVirtualColumns:gY,getColumnDefs:X7}};function wY(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(n=>n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")).join(" ")}var MY=class extends Me{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const s=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:n}=this.beans;return i&&n?n.getHeaderName(e,s):s}getDisplayNameForProvidedColumnGroup(e,t,i){const s=t==null?void 0:t.getColGroupDef();return s?this.getHeaderName(s,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,s,n){var o;const r=e.headerValueGetter;if(r){const a=nt(this.gos,{colDef:e,column:t,columnGroup:i,providedColumnGroup:s,location:n});return typeof r=="function"?r(a):typeof r=="string"?((o=this.beans.expressionSvc)==null?void 0:o.evaluate(r,a))??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return wY(e.field)}return""}},DY=class extends Me{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){const{visibleCols:s}=this,n=s.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!n)){if(this.scrollWidth=e,this.scrollPosition=t,s.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=s.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t];break}return i||[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||AY(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),s=this.viewportLeft-200,n=this.viewportRight+200,r=t<s&&i<s,o=t>n&&i>n;return!r&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=r=>{const o=r.getLeft();return He(o)&&o>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:s}=this,n=s.centerCols;return s.getColsForRow(e,n,i,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);const e={},{leftCols:t,rightCols:i,treeLeft:s,treeRight:n,treeCenter:r}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(i).forEach(l=>e[l.getId()]=!0);const a=(l,u,h)=>{let f=!1;for(let g=0;g<l.length;g++){const m=l[g];let y=!1;if(bc(m))y=e[m.getId()]===!0;else{const x=m.getDisplayedChildren();x&&(y=a(x,u,h+1))}y&&(f=!0,u[h]||(u[h]=[]),u[h].push(m))}return f};a(s,this.rowsOfHeadersToRenderLeft,0),a(n,this.rowsOfHeadersToRenderRight,0),a(r,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=s=>`${s.getId()}-${s.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}};function AY(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var EY=class extends Me{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class i{refresh(){return!1}getGui(){return this.eGui}init(n){const r=t(n),o=typeof r;if(o==="string"||o==="number"||o==="boolean"){this.eGui=Rp("<span>"+r+"</span>");return}if(r==null){this.eGui=Rp("<span></span>");return}this.eGui=r}}return i}},TY={moduleName:"CellRendererFunction",version:We,beans:[EY]},RY=class extends Me{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:i,dynamicBeans:s,selectors:n}=e;if(i){const r=(o,a,l)=>{this.agGridDefaults[o]=a,l&&(this.agGridDefaultParams[o]=l)};for(const o of Object.keys(i)){const a=i[o];typeof a=="object"?r(o,a.classImp,a.params):r(o,a)}}if(s)for(const r of Object.keys(s))this.dynamicBeans[r]=s[r];if(n==null||n.forEach(r=>{this.selectors[r.selector]=r}),t)for(const r of Object.keys(t))this.icons[r]=t[r]}getUserComponent(e,t){var a;const i=(l,u,h)=>({componentFromFramework:u,component:l,params:h}),{frameworkOverrides:s}=this.beans,n=s.frameworkComponent(t,this.gos.get("components"));if(n!=null)return i(n,!0);const r=this.jsComps[t];if(r){const l=s.isFrameworkComponent(r);return i(r,l)}const o=this.agGridDefaults[t];return o?i(o,!1,this.agGridDefaultParams[t]):((a=this.beans.validation)==null||a.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...i){const s=this.dynamicBeans[e];if(s==null){if(t)throw new Error(gc(256));return}return new s(...i)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},kY=23,IY=class extends Me{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(i=>i(this.params)),this.readyCallbacks.length=0)},((t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)==null?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===kY&&e.every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const i=this.readyCallbacks.indexOf(t);i>=0&&this.readyCallbacks.splice(i,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},LY=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row-hover.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',sO,nO,VD=typeof window!="object"||!((nO=(sO=window==null?void 0:window.document)==null?void 0:sO.fonts)!=null&&nO.forEach),dM=new WeakMap,$d=(e,t,i,s,n)=>{if(VD)return;s&&(e=`@layer ${CSS.escape(s)} { ${e} }`);let r=dM.get(t);if(r||(r=[],dM.set(t,r)),r.find(u=>u.css===e))return;const o=document.createElement("style");o.dataset.agGlobalCss=i,o.textContent=e;const a={css:e,el:o,priority:n};let l;for(const u of r){if(u.priority>n)break;l=u}if(l){l.el.insertAdjacentElement("afterend",o);const u=r.indexOf(l);r.splice(u+1,0,a)}else t.insertBefore(o,t.querySelector(":not(title, meta)")),r.push(a)},i_=(e,t)=>{$d(LY,e,"core",t,0),Array.from(bj()).sort((i,s)=>i.moduleName.localeCompare(s.moduleName)).forEach(i=>{var s;return(s=i.css)==null?void 0:s.forEach(n=>$d(n,e,`module-${i.moduleName}`,t,0))})},fM=new Set,FY=e=>{fM.add(e)},PY=e=>{if(fM.delete(e),fM.size===0){dM=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},sl=e=>new s_(e),sc="$default",OY=0,s_=class{constructor({feature:e,params:t,modeParams:i={},css:s,cssImports:n}){this.feature=e,this.css=s,this.cssImports=n,this.modeParams={[sc]:{...i[sc]??{},...t??{}},...i}}use(e,t){let i=this._inject;if(i==null){let{css:s}=this;if(s){const n=`ag-theme-${this.feature??"part"}-${++OY}`;typeof s=="function"&&(s=s()),s=`:where(.${n}) {
${s}
}
`;for(const r of this.cssImports??[])s=`@import url(${JSON.stringify(r)});
${s}`;i={css:s,class:n}}else i=!1;this._inject=i}return i&&e&&$d(i.css,e,i.class,t,1),i?i.class:!1}},NY=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),n_=e=>`--ag-${NY(e)}`,na=e=>`var(${n_(e)})`,_Y=(e,t,i)=>Math.max(t,Math.min(i,e)),BY=e=>{const t=new Map;return i=>{const s=i;return t.has(s)||t.set(s,e(i)),t.get(s)}},$o=e=>({ref:"accentColor",mix:e}),Pr=e=>({ref:"foregroundColor",mix:e}),Co=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),GY=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),yo={ref:"backgroundColor"},Ww={ref:"foregroundColor"},nc={ref:"accentColor"},Kv={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:Pr(.15),chromeBackgroundColor:Co(.02),browserColorScheme:"light"},zY={...Kv,textColor:Ww,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:yo,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:nc,rangeSelectionBackgroundColor:$o(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:$o(.5),rangeHeaderHighlightColor:GY(.08),rowNumbersSelectedColor:$o(.5),rowHoverColor:$o(.08),columnHoverColor:$o(.05),selectedRowBackgroundColor:$o(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:yo,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:yo,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:Pr(.7),focusShadow:{spread:3,color:$o(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:Pr(.1),iconButtonActiveColor:nc,iconButtonActiveBackgroundColor:$o(.28),iconButtonActiveIndicatorColor:nc,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:nc,toggleButtonOffBackgroundColor:Co(.3),toggleButtonSwitchBackgroundColor:yo,toggleButtonSwitchInset:2,menuBorder:{color:Pr(.2)},menuBackgroundColor:Co(.03),menuTextColor:Co(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:Pr(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:nc},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:Pr(.2)},panelBackgroundColor:yo,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:Pr(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:Pr(.13)},selectCellBackgroundColor:Pr(.07),selectCellBorder:{color:Pr(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:Pr(.15),statusBarLabelColor:Ww,statusBarLabelFontWeight:500,statusBarValueColor:Ww,statusBarValueFontWeight:500},HY=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",VY={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},WY=()=>sl({feature:"buttonStyle",params:{...VY,buttonBackgroundColor:yo,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:nc}},css:HY}),UY=WY(),jY=".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",YY=()=>sl({feature:"columnDropStyle",css:jY}),r_=YY(),KY=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],$Y=BY(e=>(e=e.toLowerCase(),KY.find(t=>e.endsWith(t.toLowerCase()))??"length")),KC=e=>typeof e=="object"&&(e!=null&&e.ref)?na(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,WD=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=na(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?na(e.onto):"transparent"}, ${t} ${_Y(e.mix*100,0,100)}%)`}return!1},XY=KC,vd=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,i=>i[0]==="-"?i:` ${na(i)} `)})`:e&&"ref"in e?na(e.ref):!1,ZY=KC,qY=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?na(e.ref):o_(e.style??"solid")+" "+vd(e.width??1)+" "+WD(e.color??{ref:"borderColor"}),QY=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?na(e.ref):[vd(e.offsetX??0),vd(e.offsetY??0),vd(e.radius??0),vd(e.spread??0),WD(e.color??{ref:"foregroundColor"})].join(" "),o_=KC,a_=e=>typeof e=="string"?e:e&&"googleFont"in e?a_(e.googleFont):e&&"ref"in e?na(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),JY(t))).join(", "):!1,JY=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),eK=KC,l_=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?l_({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?na(e.ref):!1,tK=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&$t(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?na(e.ref):!1,iK={color:WD,colorScheme:XY,length:vd,scale:ZY,border:qY,borderStyle:o_,shadow:QY,image:l_,fontFamily:a_,fontWeight:eK,duration:tK},sK=(e,t)=>{const i=$Y(e);return iK[i](t,e)},nK=()=>new c_().withPart(UY).withPart(r_),c_=class u_{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof s_?new u_([...this.parts,t]):(J1(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(sl({feature:t}))}withParams(t,i=sc){return this.withPart(sl({modeParams:{[i]:t}}))}_startUse({styleContainer:t,cssLayer:i,loadThemeGoogleFonts:s}){if(VD)return;oK(),i_(t,i);const n=rK(this);if(n.length>0)for(const r of n)s&&lK(r);for(const r of this.parts)r.use(t,i)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=$L(this.parts).map(t=>t.use(void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const i={[sc]:{...zY}};for(const s of $L(this.parts))for(const n of Object.keys(s.modeParams)){const r=s.modeParams[n];if(r){const o=i[n]??(i[n]={}),a=new Set;for(const l of Object.keys(r)){const u=r[l];u!==void 0&&(o[l]=u,a.add(l))}if(n===sc)for(const l of Object.keys(i)){const u=i[l];if(l!==sc)for(const h of a)delete u[h]}}}this._paramsCache=t=i}return t}_getPerGridCss(t){const i="##SELECTOR##";let s=this._paramsCssCache;if(!s){let n="",r="";const o=this._getModeParams();for(const l of Object.keys(o)){const u=o[l];if(l!==sc){const f=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;n+=f,r+=f}for(const h of Object.keys(u).sort()){const f=u[h],g=sK(h,f);if(g===!1)$t(107,{key:h,value:f});else{const m=n_(h),y=m.replace("--ag-","--ag-inherited-");n+=`	${m}: var(${y}, ${g});
`,r+=`	${y}: var(${m});
`}}l!==sc&&(n+=`}
`,r+=`}
`)}let a=`${i} {
${n}}
`;a+=`:has(> ${i}):not(${i}) {
${r}}
`,this._paramsCssCache=s=a}return s.replaceAll(i,`:where(.${t})`)}},$L=e=>{const t=new Map;for(const s of e)t.set(s.feature,s);const i=[];for(const s of e)(!s.feature||t.get(s.feature)===s)&&i.push(s);return i},rK=e=>{const t=new Set,i=r=>{if(Array.isArray(r))r.forEach(i);else{const o=r==null?void 0:r.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(r=>Object.values(r)).forEach(i),Array.from(t).sort()},XL=!1,oK=()=>{if(!XL){XL=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},aK=new Set,lK=async e=>{aK.add(e);const t=`@import url('https://${cK}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;$d(t,document.head,`googleFont:${e}`,void 0,0)},cK="fonts.googleapis.com",uK='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',hK=()=>sl({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:yo,checkboxUncheckedBorderColor:Co(.3),checkboxCheckedBackgroundColor:nc,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:yo,checkboxIndeterminateBackgroundColor:Co(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:yo,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:uK}),dK=hK(),h_=()=>({...Kv,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Co(.05),rowHoverColor:$o(.15),selectedRowBackgroundColor:$o(.2),menuBackgroundColor:Co(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",checkboxUncheckedBorderColor:Co(.4),toggleButtonOffBackgroundColor:Co(.4)}),fK=()=>({...h_(),backgroundColor:"#1f2836"}),gK=()=>sl({feature:"colorScheme",params:Kv,modeParams:{light:Kv,dark:h_(),"dark-blue":fK()}}),pK=gK(),d_={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},f_={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},mK=(e={})=>{let t="";for(const i of[...Object.keys(d_),...Object.keys(f_)]){const s=yK(i,e.strokeWidth);t+=`.ag-icon-${i}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(s)}'); }
`}return t},yK=(e,t=1.5)=>{const i=f_[e];if(i)return i;const s=d_[e];if(!s)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+s+"</svg>"},vK=(e={})=>sl({feature:"iconSet",css:()=>mK(e)}),CK=vK(),xK=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',bK=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}",SK={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}},wK=()=>sl({feature:"inputStyle",params:{...SK,inputBackgroundColor:yo,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:nc},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Co(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>xK+bK}),MK=wK(),DK='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',AK={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},EK=()=>sl({feature:"tabStyle",params:{...AK,tabBarBorder:!0,tabBarBackgroundColor:Pr(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:yo},css:DK}),TK=EK(),RK=()=>nK().withPart(dK).withPart(pK).withPart(CK).withPart(TK).withPart(MK).withPart(r_).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),kK=RK(),ZL={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},qL={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},QL={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Uw={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},IK=0,LK=class extends Me{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++IK}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:i}=e;this.eGridDiv=t,this.eStyleContainer=i.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=i.themeCssLayer}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(ZL),this.getSizeEl(qL),this.getSizeEl(QL),this.getSizeEl(Uw),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>PY(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getDefaultRowHeight(){return this.getCSSVariablePixelValue(ZL)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(qL)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(QL)}getRowBorderWidth(){return this.getCSSVariablePixelValue(Uw)}applyThemeClasses(e){const{gridTheme:t}=this;let i="";if(t)i=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let s=this.eGridDiv;for(;s;){let n=!1;for(const r of Array.from(s.classList))r.startsWith("ag-theme-")&&(n=!0,i=i?`${i} ${r}`:r);n&&this.mutationObserver.observe(s,{attributes:!0,attributeFilter:["class"]}),s=s.parentElement}}for(const s of Array.from(e.classList))s.startsWith("ag-theme-")&&e.classList.remove(s);if(i){const s=e.className;e.className=s+(s?" ":"")+i}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),i=this.gos.get("rowHeight");if(i==null||isNaN(i)||!isFinite(i))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const s=`${i}px`;return t!=s?(e.style.setProperty("--ag-line-height",s),i):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?$d(e,this.eStyleContainer,t,this.cssLayer,0):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const i=this.measureSizeEl(e);return i==="detached"||i==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const i=t.offsetWidth;return i===jw?"no-styles":(this.sizesMeasured=!0,i)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=document.createElement("div"),e.className="ag-measurement-container",this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const i=this.getMeasurementContainer();t=document.createElement("div");const{border:s}=e;s?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${jw}px`)):t.style.width=`var(${e.cssName}, ${jw}px)`,i.appendChild(t),this.sizeEls.set(e,t);let n=this.measureSizeEl(e);n==="no-styles"&&Pe(9,{variable:e});const r=hl(this.beans,t,()=>{const o=this.measureSizeEl(e);o==="detached"||o==="no-styles"||(this.lastKnownValues.set(e,o),o!==n&&(n=o,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>r()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(Uw);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:i,gridTheme:s}=this,n=e.get("theme");let r;if(n==="legacy")r=void 0;else{const o=n??kK;o instanceof c_?r=o:$t(240,{theme:o})}if(r!==s){if(r){FY(this),i_(this.eStyleContainer,this.cssLayer);for(const[a,l]of i)$d(a,this.eStyleContainer,l,this.cssLayer,0);i.length=0}this.gridTheme=r,r==null||r._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer});let o=this.eParamsStyle;o||(o=this.eParamsStyle=document.createElement("style"),t.appendChild(o)),VD||(o.textContent=(r==null?void 0:r._getPerGridCss(this.paramsClass))||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}r&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&$t(n?106:239)}},jw=15538,FK=class extends Me{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new Ku}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(nt(this.gos,e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(nt(this.gos,e))}};function g_(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function gM(e,t){let i;if(Ti(e)&&g_(e)&&e.isPadding()){const s=e;i=s.getLeafColumns()[0];let n=i;for(;n!==s;)t++,n=n.getParent()}return{column:i||e,headerRowIndex:t}}var PK=class extends Me{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,i=>{this.gridBodyCon=i.gridBodyCtrl});const t=Gi(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let i;const{colModel:s,colGroupSvc:n,ctrlsSvc:r}=this.beans;if(typeof e=="string"?(i=s.getCol(e),i||(i=(n==null?void 0:n.getColumnGroup(e))??null)):i=e,!i)return null;const o=r.getHeaderRowContainerCtrl(),a=o==null?void 0:o.getAllCtrls(),l=Kt(a||[]).type==="filter",u=Ha(this.beans)-1;let h=-1,f=i;for(;f;)h++,f=f.getParent();let g=h;return t&&l&&g===u-1&&g++,g===-1?null:{headerRowIndex:g,column:i}}navigateVertically(e,t,i){const s=this.beans.focusSvc;if(t||(t=s.focusedHeader),!t)return!1;const{headerRowIndex:n}=t,r=t.column,o=Ha(this.beans),a=e==="UP",l=this.getHeaderRowType(n);let{headerRowIndex:u,column:h,headerRowIndexWithoutSpan:f}=a?OK(l,r,n):NK(l,r,n),g=!1;return u<0&&(u=0,h=r,g=!0),u>=o?(u=-1,this.currentHeaderRowWithoutSpan=-1):f!==void 0&&(this.currentHeaderRowWithoutSpan=f),!g&&!h?!1:s.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:h},allowUserOverride:!0,event:i})}navigateHorizontally(e,t=!1,i){const{focusSvc:s,gos:n}=this.beans,r=s.focusedHeader;let o,a;if(this.currentHeaderRowWithoutSpan!==-1?r.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=r.headerRowIndex,e==="LEFT"!==n.get("enableRtl")?(a="Before",o=this.findHeader(r,a)):(a="After",o=this.findHeader(r,a)),o||!t)return s.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:i});if(t){const l=n.getCallback("tabToNextHeader");if(l)return s.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a})}return this.focusNextHeaderRow(r,a,i)}focusNextHeaderRow(e,t,i){const s=e.headerRowIndex;let n=null,r;const o=this.beans;if(t==="Before"?s>0&&(r=s-1,this.currentHeaderRowWithoutSpan-=1,n=this.findColAtEdgeForHeaderRow(r,"end")):(r=s+1,this.currentHeaderRowWithoutSpan<Ha(o)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,n=this.findColAtEdgeForHeaderRow(r,"start")),!n)return!1;const{column:a,headerRowIndex:l}=gM(n.column,n==null?void 0:n.headerRowIndex);return o.focusSvc.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:l},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(Ti(e)){const s=e.getDisplayedLeafColumns();i=t==="Before"?Kt(s):s[0]}else i=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(i)}findHeader(e,t){let i,s;const{colGroupSvc:n,visibleCols:r}=this.beans;if(Ti(e.column)?i=(n==null?void 0:n.getGroupAtDirection(e.column,t))??void 0:(s=`getCol${t}`,i=r[s](e.column)),!i)return;const{headerRowIndex:o}=e;if(this.getHeaderRowType(o)!=="filter"){const u=[i];for(;i.getParent();)i=i.getParent(),u.push(i);i=u[Math.max(0,u.length-1-o)]}const{column:a,headerRowIndex:l}=gM(i,o);return{column:a,headerRowIndex:l}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const{visibleCols:i,ctrlsSvc:s,colGroupSvc:n}=this.beans,r=i.allCols,o=r[t==="start"?0:r.length-1];if(!o)return;const a=s.getHeaderRowContainerCtrl(o.getPinned()),l=a==null?void 0:a.getRowType(e);if(l=="group"){const u=n==null?void 0:n.getColGroupAtLevel(o,e);return{headerRowIndex:e,column:u}}return{headerRowIndex:l==null?-1:e,column:o}}};function OK(e,t,i){const s=e==="filter",n=e==="column";let r=s?t:t.getParent(),o=i-1,a=o;if(n&&g_(t.getParent())){for(;r&&r.isPadding();)r=r.getParent(),o--;a=o,o<0&&(r=t,o=i,a=void 0)}return{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:a}}function NK(e,t,i,s="After"){let n=t,r=i+1;const o=r;if(e==="group"){const a=t.getDisplayedLeafColumns(),l=s==="After"?a[0]:Kt(a),u=[];let h=l;for(;h.getParent()!==t;)h=h.getParent(),u.push(h);if(n=l,l.isSpanHeaderHeight())for(let f=u.length-1;f>=0;f--){const g=u[f];if(!g.isPadding()){n=g;break}r++}else n=Kt(u),n||(n=l)}return{column:n,headerRowIndex:r,headerRowIndexWithoutSpan:o}}var _K=class extends Me{constructor(){super(...arguments),this.beanName="focusSvc"}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(Pj(this.beans))}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCell||this.isDomDataMissingInHierarchy(Fi(this.beans),Np)?null:this.focusedCell}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||this.isDomDataMissingInHierarchy(Fi(this.beans),VN)?null:this.focusedHeader}isDomDataMissingInHierarchy(e,t){let i=e;for(;i;){if(Fv(this.gos,i,t))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCell}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCell=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCell=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(e,t){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(e),t())})}isCellRestoreFocused(e){return this.restoredFocusedCell==null?!1:"cellSpan"in e?e.doesSpanContain(this.restoredFocusedCell):oM(e,this.restoredFocusedCell)}setRestoreFocusedCell(e){this.beans.frameworkOverrides.renderingEngine==="react"&&(this.restoredFocusedCell=e)}getFocusEventParams(e){const{rowIndex:t,rowPinned:i,column:s}=e,n={rowIndex:t,rowPinned:i,column:s,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i});return r&&(n.isFullWidthCell=r.isFullWidth()),n}clearFocusedCell(){if(this.restoredFocusedCell=null,this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){const{column:t,rowIndex:i,rowPinned:s,forceBrowserFocus:n=!1,preventScrollOnBrowserFocus:r=!1}=e,o=this.colModel.getCol(t);if(!o){this.focusedCell=null;return}this.focusedCell={rowIndex:i,rowPinned:Ya(s),column:o},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus:n,preventScrollOnBrowserFocus:r})}isCellFocused(e){return this.focusedCell==null?!1:oM(e,this.focusedCell)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:i,pinned:s}}=e,{column:n,headerRowIndex:r}=this.focusedHeader;return t===n&&i===r&&s==n.getPinned()}focusHeaderPosition(e){var l;if(_u(this.beans))return!1;const{direction:t,fromTab:i,allowUserOverride:s,event:n,fromCell:r,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(r&&((l=this.filterManager)!=null&&l.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(a);if(s){const u=this.focusedHeader,h=Ha(this.beans);if(i){const f=this.gos.getCallback("tabToNextHeader");f&&(a=this.getHeaderPositionFromUserFunc({userFunc:f,direction:t,currentPosition:u,headerPosition:a,headerRowCount:h}))}else{const f=this.gos.getCallback("navigateToNextHeader");if(f&&n){const g={key:n.key,previousHeaderPosition:u,nextHeaderPosition:a,headerRowCount:h,event:n};a=f(g)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:n,fromCell:r,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(_u(this.beans))return!1;const{userFunc:t,headerPosition:i,direction:s,event:n}=e,r=this.focusedHeader,o=Ha(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:s,currentPosition:r,headerPosition:i,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:s,event:n})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:i,currentPosition:s,headerPosition:n,headerRowCount:r}=e,a=t({backwards:i==="Before",previousHeaderPosition:s,nextHeaderPosition:n,headerRowCount:r});return a===!0?s:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:i,fromCell:s,rowWithoutSpanValue:n,event:r}=e,{column:o,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:u,headerNavigation:h}=this.beans;if(a===-1)return l!=null&&l.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:r});h==null||h.scrollToColumn(o,i);const f=u.getHeaderRowContainerCtrl(o.getPinned()),g=(f==null?void 0:f.focusHeader(t.headerRowIndex,o,r))||!1;return h&&g&&(n!=null||s)&&(h.currentHeaderRowWithoutSpan=n??-1),g}focusFirstHeader(){var s;if((s=this.overlays)!=null&&s.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;const{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));const i=gM(e,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})}focusLastHeader(e){var s;if((s=this.overlays)!=null&&s.isExclusive()&&this.focusOverlay(!0))return!0;const t=Ha(this.beans)-1,i=Kt(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(t=this.filterManager)!=null&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Ya(t)}focusOverlay(e){var i,s;const t=((i=this.overlays)==null?void 0:i.isVisible())&&((s=this.overlays.eWrapper)==null?void 0:s.getGui());return!!t&&qu(t,e)}focusGridView(e){var r,o,a,l,u,h;const{backwards:t=!1,canFocusOverlay:i=!0,event:s}=e;if((r=this.overlays)!=null&&r.isExclusive())return i&&this.focusOverlay(t);if(jC(this.beans))return t&&!_u(this.beans)?this.focusLastHeader():i&&this.focusOverlay(t)?!0:t?!1:Yd(this.beans,t);const n=t?n8(this.beans):s8(this.beans);if(n){const f=e.column??((o=this.focusedHeader)==null?void 0:o.column),{rowIndex:g,rowPinned:m}=n,y=Uv(this.beans,n);if(!f||!y||g==null)return!1;if(f.isSuppressNavigable(y)){const C=this.gos.get("enableRtl");let x;return!s||s.key===Se.TAB?x=C?Se.LEFT:Se.RIGHT:x=s.key,(a=this.beans.navigation)==null||a.navigateToNextCell(null,x,{rowIndex:g,column:f,rowPinned:m||null},!0),!0}if((l=this.navigation)==null||l.ensureCellVisible({rowIndex:g,column:f,rowPinned:m}),t){const C=this.rowRenderer.getRowByPosition(n);if(C!=null&&C.isFullWidth()&&((u=this.navigation)!=null&&u.tryToFocusFullWidthRow(n,t)))return!0}return this.setFocusedCell({rowIndex:g,column:f,rowPinned:Ya(m),forceBrowserFocus:!0}),(h=this.beans.rangeSvc)==null||h.setRangeToCell({rowIndex:g,rowPinned:m,column:f}),!0}return!!(i&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=e==null?void 0:e.column,((t=this.beans.advancedFilter)==null?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var s;const i=(t?void 0:this.advFilterFocusColumn)??((s=this.visibleCols.allCols)==null?void 0:s[0]);return e?this.focusHeaderPosition({headerPosition:{column:i,headerRowIndex:Ha(this.beans)-1}}):this.focusGridView({column:i})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},BK=class extends Me{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e!=null&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var i;const e=this.ctrlsSvc.get("center");if(!e||(i=this.colAnimation)!=null&&i.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),i=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=t,this.verticalScrollGap=i,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),i=typeof e=="number"&&e>=0?e:xU();i!=null&&(this.scrollbarWidth=i,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},GK=class extends Me{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var s;if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:i}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(e==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(s=t.get("gridCtrl"))==null||s.destroyGridUi(),i.destroy(),super.destroy()}},hv=new Set(["gridPreDestroyed","fillStart","pasteStart"]),zK={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},HK=0,VK=0,WK=class extends Me{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=VK++,this.propEventSvc=new Ku,this.globalEventHandlerFactory=e=>(t,i)=>{if(!this.isAlive())return;const s=hv.has(t);if(s&&!e||!s&&e)return;const n=qO(t),r=this.gridOptions[n];typeof r=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{r(i)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??zK[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return He(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(i=>e(this.addGridCommonParams(i)))}updateGridOptions({options:e,force:t,source:i="api"}){const s={id:HK++,properties:[]},n=[],{gridOptions:r,validation:o}=this;for(const a of Object.keys(e)){const l=e[a];o==null||o.warnOnInitialPropertyUpdate(i,a);const u=t||typeof l=="object"&&i==="api",h=r[a];if(u||h!==l){r[a]=l;const f={type:a,currentValue:l,previousValue:h,changeSet:s,source:i};n.push(f)}}o==null||o.processGridOptions(this.gridOptions),s.properties=n.map(a=>a.type),n.forEach(a=>{Xu(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}assertModuleRegistered(e,t){const i=Array.isArray(e)?e.some(s=>this.isModuleRegistered(s)):this.isModuleRegistered(e);return i||$t(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),i}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:RD(),rowModelType:this.get("rowModelType"),isUmd:wj()}}isModuleRegistered(e){return CN(e,this.gridId,this.get("rowModelType"))}};function UK(e){return`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            ${e?'<ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>':""}
        </div>
    </div>`}var jK=class extends Ci{constructor(){super(...arguments),this.eFilter=tt,this.eFilterButton=tt,this.eSortIndicator=tt,this.eMenu=tt,this.eLabel=tt,this.eText=tt,this.eSortOrder=tt,this.eSortAsc=tt,this.eSortDesc=tt,this.eSortMixed=tt,this.eSortNone=tt,this.isLoadingInnerComponent=!1}refresh(e){var i,s;const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.innerHeaderComponent?(s=(i=this.innerHeaderComponent).refresh)==null||s.call(i,e):this.setDisplayName(e),!0)}workOutTemplate(){const{params:e,beans:t}=this,i=e.template??UK(!!t.sortSvc);return i!=null&&i.trim?i.trim():i}init(e){this.params=e;const{sortSvc:t,touchSvc:i,rowNumbersSvc:s,userCompFactory:n}=this.beans;this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,t?[t.getSortIndicatorSelector()]:void 0),i==null||i.setupForHeader(this),this.setMenu(),this.setupSort(),s==null||s.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(n,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const i=J6(e,t,t);i&&(this.isLoadingInnerComponent=!0,i.newAgStackInstance().then(s=>{this.isLoadingInnerComponent=!1,s&&(this.isAlive()?(this.innerHeaderComponent=s,this.eText.appendChild(s.getGui())):this.destroyBean(s))}))}setDisplayName(e){const{displayName:t}=e,i=this.currentDisplayName;if(this.currentDisplayName=t,i===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;const s=$a(t,!0);this.eText.textContent=s}addInIcon(e,t,i){if(t==null)return;const s=Gr(e,this.beans,i);s&&t.appendChild(s)}workOutShowMenu(){var e;return this.params.enableMenu&&!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){$u(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:i}=this,s=sr(e);this.addInIcon(s?"menu":"menuAlt",t,i.column),t.classList.toggle("ag-header-menu-icon",!s);const n=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=n,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(n)}toggleMenuAlwaysShow(e){var t;(t=this.eMenu)==null||t.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:i}=this;t||this.toggleMenuAlwaysShow(!0),i.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){var l;const{params:t,gos:i,beans:s,eMenu:n,eFilterButton:r}=this,o=t.column,a=sr(i);if(e&&!a){if((l=s.menuSvc)!=null&&l.isFilterMenuInHeaderEnabled(o))return t.showFilter(r??n??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(n??r??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:i}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:s,eSortOrder:n,eSortAsc:r,eSortDesc:o,eSortMixed:a,eSortNone:l}=this;s.attachCustomElements(n,r,o,a,l)}this.eSortIndicator.setupSort(i),this.currentSort&&e.setupHeader(this,i,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,i,s){if(!e)return $u(t),!1;const n=this.params.column;return this.addInIcon(s,t,n),this.addManagedListeners(n,{filterChanged:i}),i(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Ri(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:i}=this;return e?t??i??this.getGui():i??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},YK=class extends Ci{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=tt,this.agClosed=tt,this.agLabel=tt,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons()}checkWarnings(){this.params.template&&Pe(89)}workOutInnerHeaderGroupComponent(e,t){const i=tj(e,t,t);i&&(this.isLoadingInnerComponent=!0,i.newAgStackInstance().then(s=>{this.isLoadingInnerComponent=!1,s&&(this.isAlive()?(this.innerHeaderGroupComponent=s,this.agLabel.appendChild(s.getGui())):this.destroyBean(s))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:i},beans:s}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const n=l=>{if(Ka(l))return;const u=!i.isExpanded();s.colGroupSvc.setColumnGroupOpened(i.getProvidedColumnGroup(),u,"uiColumnExpanded")};this.addTouchAndClickListeners(s,t,n),this.addTouchAndClickListeners(s,e,n);const r=l=>{Ud(l)};this.addManagedElementListeners(t,{dblclick:r}),this.addManagedElementListeners(e,{dblclick:r}),this.addManagedElementListeners(this.getGui(),{dblclick:n}),this.updateIconVisibility();const o=i.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,i){var s;(s=e.touchSvc)==null||s.setupForHeaderGroup(this,t,i),this.addManagedElementListeners(t,{click:i})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:i}}=this;if(i.isExpandable()){const s=i.isExpanded();Ri(e,s),Ri(t,!s)}else Ri(e,!1),Ri(t,!1)}addInIcon(e,t){const i=Gr(e,this.beans,null);i&&t.appendChild(i)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:i}=this;Ri(t,!1),Ri(i,!1);return}}setupLabel(e){var n;const{displayName:t,columnGroup:i}=e,s=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(He(t)&&!s){const r=$a(t,!0);this.agLabel.textContent=r}this.addOrRemoveCssClass("ag-sticky-label",!((n=i.getColGroupDef())!=null&&n.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},KK={moduleName:"ColumnHeaderComp",version:We,userComponents:{agColumnHeader:jK},icons:{menu:"menu",menuAlt:"menu-alt"}},$K={moduleName:"ColumnGroupHeaderComp",version:We,userComponents:{agColumnGroupHeader:YK},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},XK={moduleName:"AnimationFrame",version:We,beans:[Ij]},ZK=class extends Me{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Iu())return;const t=(i,s,n)=>{var a;const{rowCtrl:r,cellCtrl:o}=e.getControlsForEventTarget((n==null?void 0:n.target)??null);o!=null&&o.column&&o.dispatchCellContextMenuEvent(n??null),(a=this.beans.contextMenuSvc)==null||a.handleContextMenuMouseEvent(void 0,n,r,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Iu()||JO("dblclick"))return!1;const s=new Date().getTime(),n=s-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=s,n})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:i}=this.beans;if(t.get("suppressTouch"))return;const{params:s,eMenu:n,eFilterButton:r}=e,o=new dd(e.getGui(),!0),a=e.shouldSuppressMenuHide(),l=a&&He(n),u=l?new dd(n,!0):o;if(s.enableMenu){const h=l?"tap":"longTap",f=g=>s.showColumnMenuAfterMouseClick(g.touchStart);e.addManagedListeners(u,{[h]:f})}if(s.enableSorting){const h=f=>{const g=f.touchStart.target;a&&(n!=null&&n.contains(g)||r!=null&&r.contains(g))||i==null||i.progressSort(s.column,!1,"uiColumnSorted")};e.addManagedListeners(o,{tap:h})}if(s.enableFilterButton&&r){const h=new dd(r,!0);e.addManagedListeners(h,{tap:()=>s.showFilter(r)}),e.addDestroyFunc(()=>h.destroy())}e.addDestroyFunc(()=>o.destroy()),l&&e.addDestroyFunc(()=>u.destroy())}setupForHeaderGroup(e,t,i){const s=new dd(t,!0);e.addManagedListeners(s,{tap:i}),e.addDestroyFunc(()=>s.destroy())}mockContextMenu(e,t,i){if(!Iu())return;const s=new dd(t),n=r=>{i(void 0,r.touchStart,r.touchEvent)};e.addManagedListeners(s,{longTap:n}),e.addDestroyFunc(()=>s.destroy())}},qK={moduleName:"Touch",version:We,beans:[ZK]},QK=class extends Me{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===Se.UP,s=e===Se.DOWN,n=e===Se.LEFT;let r,o;const{pageBounds:a,gos:l,visibleCols:u}=this.beans;if(i||s)o=i?a.getFirstRow():a.getLastRow(),r=t.column;else{const h=l.get("enableRtl");o=t.rowIndex,r=(n!==h?u.allCols:[...u.allCols].reverse()).find(g=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:g}))}return r?{rowIndex:o,rowPinned:null,column:r}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,s=!1;for(;!s;){switch(e){case Se.UP:i=this.getCellAbove(i);break;case Se.DOWN:i=this.getCellBelow(i);break;case Se.RIGHT:i=this.gos.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case Se.LEFT:i=this.gos.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,Pe(8,{key:e});break}i?s=this.isCellGoodToFocusOn(i):s=!0}return i}isCellGoodToFocusOn(e){const t=e.column;let i;const{pinnedRowModel:s,rowModel:n}=this.beans;switch(e.rowPinned){case"top":i=s==null?void 0:s.getPinnedTopRow(e.rowIndex);break;case"bottom":i=s==null?void 0:s.getPinnedBottomRow(e.rowIndex);break;default:i=n.getRow(e.rowIndex);break}return i?!this.isSuppressNavigable(t,i):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;let s=!1;const{pageBounds:n,pinnedRowModel:r,rowModel:o}=this.beans;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return o.isRowsToRender()?{rowIndex:n.getFirstRow(),rowPinned:null}:r!=null&&r.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return r!=null&&r.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else i&&(s=!0);const a=o.getRow(e.rowIndex),l=s?void 0:this.getNextStickyPosition(a);return l||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){const{gos:i,rowRenderer:s}=this.beans;if(!$O(i)||!e||!e.sticky)return;const n=s.getStickyTopRowCtrls().some(u=>u.rowNode.rowIndex===e.rowIndex);let r=[];n?r=[...s.getStickyTopRowCtrls()].sort((u,h)=>u.rowNode.rowIndex-h.rowNode.rowIndex):r=[...s.getStickyBottomRowCtrls()].sort((u,h)=>h.rowNode.rowIndex-u.rowNode.rowIndex);const o=t?-1:1,a=r.findIndex(u=>u.rowNode.rowIndex===e.rowIndex),l=r[a+o];if(l)return{rowIndex:l.rowNode.rowIndex,rowPinned:null}}getCellBelow(e){var s;if(!e)return null;const t=((s=this.rowSpanSvc)==null?void 0:s.getCellEnd(e))??e,i=this.getRowBelow(t);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex,{pinnedRowModel:s,pageBounds:n}=this.beans;return t==="top"?((s==null?void 0:s.getPinnedTopRowCount())??-1)<=i:t==="bottom"?((s==null?void 0:s.getPinnedBottomRowCount())??-1)<=i:n.getLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned,{pageBounds:s,pinnedRowModel:n,rowModel:r}=this.beans,o=i?t===0:t===s.getFirstRow();let a=!1;const l=()=>({rowIndex:(n==null?void 0:n.getPinnedTopRowCount())??-1,rowPinned:"top"});if(o)return i==="top"?null:i&&r.isRowsToRender()?{rowIndex:s.getLastRow(),rowPinned:null}:n!=null&&n.isRowsToRender("top")?l():null;i&&(a=!0);const u=r.getRow(e.rowIndex),h=a?void 0:this.getNextStickyPosition(u,!0);return h||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){var s;if(!e)return null;const t=((s=this.rowSpanSvc)==null?void 0:s.getCellStart(e))??e,i=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:i}=this.beans,s=t.allCols;let n=e.rowIndex,r=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=s[0];const a=this.getRowBelow(e);if(vi(a)||!a.rowPinned&&!((i==null?void 0:i.isRowInPage(a))??!0))return null;n=a?a.rowIndex:null,r=a?a.rowPinned:null}return{rowIndex:n,column:o,rowPinned:r}}getNextTabbedCellBackwards(e){const{visibleCols:t,pagination:i}=this.beans,s=t.allCols;let n=e.rowIndex,r=e.rowPinned,o=t.getColBefore(e.column);if(!o){o=Kt(s);const a=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(vi(a)||!a.rowPinned&&!((i==null?void 0:i.isRowInPage(a))??!0))return null;n=a?a.rowIndex:null,r=a?a.rowPinned:null}return{rowIndex:n,column:o,rowPinned:r}}isSuppressNavigable(e,t){const{suppressNavigable:i}=e.colDef;if(typeof i=="boolean")return i;if(typeof i=="function"){const s=e.createColumnFunctionCallbackParams(t);return i(s)}return!1}};function JK(e){return e.focusSvc.getFocusedCell()}function e$(e){return e.focusSvc.clearFocusedCell()}function t$(e,t,i,s){e.focusSvc.setFocusedCell({rowIndex:t,column:i,rowPinned:s,forceBrowserFocus:!0})}function i$(e,t){var i;return((i=e.navigation)==null?void 0:i.tabToNextCell(!1,t))??!1}function s$(e,t){var i;return((i=e.navigation)==null?void 0:i.tabToNextCell(!0,t))??!1}function n$(e,t,i=!1){var n;const s=(n=e.headerNavigation)==null?void 0:n.getHeaderPositionForColumn(t,i);s&&e.focusSvc.focusHeaderPosition({headerPosition:s})}var r$=class extends Me{constructor(){super(),this.beanName="navigation",this.onPageDown=ML(this.onPageDown,100),this.onPageUp=ML(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const i=e.key,s=e.altKey,n=e.ctrlKey||e.metaKey,r=!!this.beans.rangeSvc&&e.shiftKey,o=qj(this.gos,e);let a=!1;switch(i){case Se.PAGE_HOME:case Se.PAGE_END:!n&&!s&&(this.onHomeOrEndKey(i),a=!0);break;case Se.LEFT:case Se.RIGHT:case Se.UP:case Se.DOWN:if(!o)return!1;n&&!s&&!r&&(this.onCtrlUpDownLeftRight(i,o),a=!0);break;case Se.PAGE_DOWN:case Se.PAGE_UP:!n&&!s&&(a=this.handlePageUpDown(i,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===Se.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:i,scrollColumn:s,focusIndex:n,focusColumn:r}=e,{scrollFeature:o}=this.gridBodyCon;He(s)&&!s.isPinned()&&o.ensureColumnVisible(s),He(t)&&o.ensureIndexVisible(t,i),e.isAsync||o.ensureIndexVisible(n);const{focusSvc:a,rangeSvc:l}=this.beans;a.setFocusedCell({rowIndex:n,column:r,rowPinned:null,forceBrowserFocus:!0}),l==null||l.setRangeToCell({rowIndex:n,rowPinned:null,column:r})}onPageDown(e){const t=this.beans,i=Yw(t),s=this.getViewportHeight(),{pageBounds:n,rowModel:r,rowAutoHeight:o}=t,a=n.getPixelOffset(),l=i.top+s,u=r.getRowIndexAtPixel(l+a);o!=null&&o.active?this.navigateToNextPageWithAutoHeight(e,u):this.navigateToNextPage(e,u)}onPageUp(e){const t=this.beans,i=Yw(t),{pageBounds:s,rowModel:n,rowAutoHeight:r}=t,o=s.getPixelOffset(),a=i.top,l=n.getRowIndexAtPixel(a+o);r!=null&&r.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,i=!1){const{pageBounds:s,rowModel:n}=this.beans,r=this.getViewportHeight(),o=s.getFirstRow(),a=s.getLastRow(),l=s.getPixelOffset(),u=n.getRow(e.rowIndex),h=i?(u==null?void 0:u.rowHeight)-r-l:r-l,f=(u==null?void 0:u.rowTop)+h;let g=n.getRowIndexAtPixel(f+l);if(g===e.rowIndex){const y=i?-1:1;t=g=e.rowIndex+y}let m;i?(m="bottom",g<o&&(g=o),t<o&&(t=o)):(m="top",g>a&&(g=a),t>a&&(t=a)),this.isRowTallerThanView(n.getRow(g))&&(t=g,m="top"),this.navigateTo({scrollIndex:t,scrollType:m,scrollColumn:null,focusIndex:g,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const s=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const i=t?-1:1,s=this.getViewportHeight(),{pageBounds:n,rowModel:r}=this.beans,o=n.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=o;){const u=r.getRow(l);if(u){const h=u.rowHeight??0;if(a+h>s)break;a+=h}l+=i}return Math.max(0,Math.min(l,o))}getViewportHeight(){const e=this.beans,t=Yw(e),i=this.beans.scrollVisibleSvc.getScrollbarWidth();let s=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(s-=i),s}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:s}=i,n=i.column;this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:n,focusIndex:s,focusColumn:n})}onHomeOrEndKey(e){const t=e===Se.PAGE_HOME,{visibleCols:i,pageBounds:s,rowModel:n}=this.beans,r=i.allCols,o=t?s.getFirstRow():s.getLastRow(),a=n.getRow(o);if(!a)return;const l=(t?r:[...r].reverse()).find(u=>!u.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:l,focusIndex:o,focusColumn:l})}onTabKeyDown(e,t){const i=t.shiftKey,s=this.tabToNextCellCommon(e,i,t),n=this.beans,{ctrlsSvc:r,pageBounds:o,focusSvc:a,gos:l}=n;if(s!==!1){s?t.preventDefault():s===null&&r.get("gridCtrl").allowFocusForNextCoreContainer(i);return}if(i){const{rowIndex:u,rowPinned:h}=e.getRowPosition();(h?u===0:u===o.getFirstRow())&&(l.get("headerHeight")===0||_u(n)?Yd(n,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof tp&&e.focusCell(!0),(!i&&a.focusOverlay(!1)||Yd(n,i))&&t.preventDefault()}tabToNextCell(e,t){const i=this.beans,{focusSvc:s,rowRenderer:n}=i,r=s.getFocusedCell();if(!r)return!1;let o=yd(i,r);return!o&&(o=n.getRowByPosition(r),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t)}tabToNextCellCommon(e,t,i){let s=e.editing;if(!s&&e instanceof tp){const o=e.rowCtrl;o&&(s=o.editing)}let n;return s?this.gos.get("editType")==="fullRow"?n=this.moveToNextEditingRow(e,t,i):n=this.moveToNextEditingCell(e,t,i):n=this.moveToNextCellNotEditing(e,t),n===null?n:n||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,i=null){var r;const s=e.cellPosition;e.eGui.focus(),e.stopEditing();const n=this.findNextCellToFocusOn(s,t,!0);return n===!1?null:n==null?!1:((r=this.beans.editSvc)==null||r.startEditing(n,null,!0,i),n.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){const s=e.cellPosition,n=this.findNextCellToFocusOn(s,t,!0);if(n===!1)return null;if(n==null)return!1;const r=n.cellPosition,o=this.isCellEditable(s),a=this.isCellEditable(r),l=r&&s.rowIndex===r.rowIndex&&s.rowPinned===r.rowPinned,{editSvc:u,rowEditSvc:h}=this.beans;if(o&&(u==null||u.setFocusOutOnEditor(e)),!l){const f=e.rowCtrl;u==null||u.stopRowEditing(f);const g=n.rowCtrl;h==null||h.startEditing(g,void 0,void 0,i)}return a?(u==null||u.setFocusInOnEditor(n),n.focusCell()):n.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.beans.visibleCols.allCols;let s;e instanceof Yv?s={...e.getRowPosition(),column:t?i[0]:Kt(i)}:s=e.getFocusedCellPosition();const n=this.findNextCellToFocusOn(s,t,!1);if(n===!1)return null;if(n instanceof tp)n.focusCell(!0);else if(n)return this.tryToFocusFullWidthRow(n.getRowPosition(),t);return He(n)}findNextCellToFocusOn(e,t,i){let s=e;const n=this.beans,{cellNavigation:r,gos:o,focusSvc:a,rowRenderer:l,rangeSvc:u}=n;for(;;){e!==s&&(e=s),t||(s=this.getLastCellOfColSpan(s)),s=r.getNextTabbedCell(s,t);const h=o.getCallback("tabToNextCell");if(He(h)){const y=h({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:s||null});if(y===!0)s=e;else{if(y===!1)return!1;s={rowIndex:y.rowIndex,column:y.column,rowPinned:y.rowPinned}}}if(!s)return null;if(s.rowIndex<0){const m=Ha(n);return a.focusHeaderPosition({headerPosition:{headerRowIndex:m+s.rowIndex,column:s.column},fromCell:!0}),null}const f=o.get("editType")==="fullRow";if(i&&!f&&!this.isCellEditable(s))continue;this.ensureCellVisible(s);const g=yd(n,s);if(!g){const m=l.getRowByPosition(s);if(!m||!m.isFullWidth()||i)continue;return m}if(!r.isSuppressNavigable(g.column,g.rowNode))return g.setFocusedCellPosition(s),u==null||u.setRangeToCell(s),g}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:i,rowModel:s}=this.beans;return t==="top"?i==null?void 0:i.getPinnedTopRow(e):t==="bottom"?i==null?void 0:i.getPinnedBottomRow(e):s.getRow(e)}navigateToNextCell(e,t,i,s){let n=i,r=!1;const o=this.beans,{cellNavigation:a,focusSvc:l,gos:u}=o;for(;n&&(n===i||!this.isValidNavigateCell(n));)u.get("enableRtl")?t===Se.LEFT&&(n=this.getLastCellOfColSpan(n)):t===Se.RIGHT&&(n=this.getLastCellOfColSpan(n)),n=a.getNextCellToFocus(t,n),r=vi(n);if(r&&e&&e.key===Se.UP&&(n={rowIndex:-1,rowPinned:null,column:i.column}),s){const f=u.getCallback("navigateToNextCell");if(He(f)){const m=f({key:t,previousCellPosition:i,nextCellPosition:n||null,event:e});He(m)?n={rowPinned:m.rowPinned,rowIndex:m.rowIndex,column:m.column}:n=null}}if(!n)return;if(n.rowIndex<0){const f=Ha(o);l.focusHeaderPosition({headerPosition:{headerRowIndex:f+n.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}const h=this.getNormalisedPosition(n);h?this.focusPosition(h):this.tryToFocusFullWidthRow(n)}getNormalisedPosition(e){var s;if(!!((s=this.beans.spannedRowRenderer)!=null&&s.getCellByPosition(e)))return e;this.ensureCellVisible(e);const i=yd(this.beans,e);return i?(e=i.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:i,rowRenderer:s,focusSvc:n,eventSvc:r}=this.beans,o=i.allCols,a=s.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const l=n.getFocusedCell(),u={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Kt(o):o[0])};this.focusPosition(u);const h=t??(l!=null&&t8(u,l));return r.dispatchEvent({type:"fullWidthRowFocused",rowIndex:u.rowIndex,rowPinned:u.rowPinned,column:u.column,isFullWidthCell:!0,fromBelow:h}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:i}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),i==null||i.setRangeToCell(e)}isValidNavigateCell(e){return!!Uv(this.beans,e)}getLastCellOfColSpan(e){const t=yd(this.beans,e);if(!t)return e;const i=t.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:Kt(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=$O(this.gos),i=this.beans.rowModel.getRow(e.rowIndex),s=t&&(i==null?void 0:i.sticky),{scrollFeature:n}=this.gridBodyCon;!s&&vi(e.rowPinned)&&n.ensureIndexVisible(e.rowIndex),e.column.isPinned()||n.ensureColumnVisible(e.column)}};function Yw(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var o$={moduleName:"KeyboardNavigation",version:We,beans:[r$,QK,PK],apiFunctions:{getFocusedCell:JK,clearFocusedCell:e$,setFocusedCell:t$,setFocusedHeader:n$,tabToNextCell:i$,tabToPreviousCell:s$}},a$=class extends Me{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:i}=this.beans;t?t.calculatePages():e.calculateBounds(0,i.getRowCount()-1)}},l$=class extends Me{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return((e=this.topRowBounds)==null?void 0:e.rowIndex)??-1}getLastRow(){var e;return((e=this.bottomRowBounds)==null?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,i=(e==null?void 0:e.rowTop)??0,s=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:i,pageLastPixel:s}}calculateBounds(e,t){const{rowModel:i}=this.beans,s=i.getRowBounds(e);s&&(s.rowIndex=e),this.topRowBounds=s;const n=i.getRowBounds(t);n&&(n.rowIndex=t),this.bottomRowBounds=n,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var t;const e=((t=this.topRowBounds)==null?void 0:t.rowTop)??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},c$=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",u$=class extends Me{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const i of this.elements)i&&(Ri(i,t),Jo(i,e))}},h$=class extends Me{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:i}=this.beans,s=Gs(e,"print"),n=s?0:t.getColsLeftWidth(),r=s?0:t.getDisplayedColumnsRightWidth();n!=this.leftWidth&&(this.leftWidth=n,i.dispatchEvent({type:"leftPinnedWidthChanged"})),r!=this.rightWidth&&(this.rightWidth=r,i.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Tp(e);if(t<=50)return;const i=this.getPinnedColumnsOverflowingViewport(t-50),s=this.gos.getCallback("processUnpinnedColumns"),{columns:n,hasLockedPinned:r}=i;let o=n;!o.length&&!r||(s&&(o=s({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(a=>!fm(a)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new u$(e,t)}setColsPinned(e,t,i){const{colModel:s,colAnimation:n,visibleCols:r,gos:o}=this.beans;if(!s.cols||!(e!=null&&e.length))return;if(Gs(o,"print")){Pe(37);return}n==null||n.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];e.forEach(u=>{if(!u)return;const h=s.getCol(u);h&&h.getPinned()!==a&&(this.setColPinned(h,a),l.push(h))}),l.length&&(r.refresh(i),dN(this.eventSvc,l,i)),n==null||n.finish()}initCol(e){const{pinned:t,initialPinned:i}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,i)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const i=e.pinned==="left",s=e.pinned==="right";e.hidden=!0;const n=()=>{const r=i?this.leftWidth:this.rightWidth;if(r==null)return;const o=r==0,a=e.hidden!==o,l=this.gos.get("enableRtl"),u=t.getScrollbarWidth(),f=t.verticalScrollShowing&&(l&&i||!l&&s)?r+u:r;e.comp.setPinnedContainerWidth(`${f}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:n,rightPinnedWidthChanged:n,scrollVisibilityChanged:n,scrollbarWidthChanged:n})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:s,rightWidth:n}=this,r=Tp(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(s+n+e>r)if(r>s+n)e=r-s-n;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,i=this.leftWidth??0,s=t+i;let n=!1;if(s<e)return{columns:[],hasLockedPinned:n};const{visibleCols:r}=this.beans,o=[...r.leftCols],a=[...r.rightCols];let l=0,u=0;const h=0,f=[];let g=s-h-e;for(;(u<o.length||l<a.length)&&g>0;){if(l<a.length){const m=a[l++];if(m.colDef.lockPinned){n=!0;continue}g-=m.getActualWidth(),f.push(m)}if(u<o.length&&g>0){const m=o[u++];if(m.colDef.lockPinned){n=!0;continue}g-=m.getActualWidth(),f.push(m)}}return{columns:f,hasLockedPinned:n}}},d$={moduleName:"PinnedColumn",version:We,beans:[h$],css:[c$]},f$=class extends Me{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=_s(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=Gi(e),i=this.descriptionContainer=t.createElement("div");i.classList.add("ag-aria-description-container"),DO(i,"polite"),lU(i,"additions text"),aU(i,!0),e.eGridDiv.appendChild(i)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){var t;super.destroy();const{descriptionContainer:e}=this;e&&(lr(e),(t=e.parentElement)==null||t.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},g$={moduleName:"Aria",version:We,beans:[f$]};function p$(e){var t;(t=e.overlays)==null||t.showLoadingOverlay()}function m$(e){var t;(t=e.overlays)==null||t.showNoRowsOverlay()}function y$(e){var t;(t=e.overlays)==null||t.hideOverlay()}var v$=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",p_=class extends Ci{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=tt,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(v$)}handleKeyDown(e){if(e.key!==Se.TAB||e.defaultPrevented||Ka(e))return;const t=this.beans;if(ah(t,this.eOverlayWrapper,!1,e.shiftKey))return;let s=!1;e.shiftKey?s=t.focusSvc.focusGridView({column:Kt(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):s=Yd(t,!1),s&&e.preventDefault()}updateLayoutClasses(e,t){const i=this.eOverlayWrapper.classList,{AUTO_HEIGHT:s,NORMAL:n,PRINT:r}=lv;i.toggle(s,t.autoHeight),i.toggle(n,t.normal),i.toggle(r,t.print)}postConstruct(){this.createManagedBean(new ID(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i,s){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.isGridFocused()){const n=Fi(this.beans);n&&!KO(this.beans)&&(this.elToFocusAfter=n)}e.then(n=>{if(this.activePromise!==e){this.activeOverlay!==n&&(this.destroyBean(n),n=null);return}if(this.activePromise=null,!!n){if(this.activeOverlay!==n&&(this.eOverlayWrapper.appendChild(n.getGui()),this.activeOverlay=n,s)){const r=n;this.updateListenerDestroyFunc=this.addManagedPropertyListener(s,({currentValue:o})=>{var a;(a=r.refresh)==null||a.call(r,nt(this.gos,{...o??{}}))})}i&&this.isGridFocused()&&qu(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var s;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(e),lr(this.eOverlayWrapper),(s=t==null?void 0:t.focus)==null||s.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Fi(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},C$={selector:"AG-OVERLAY-WRAPPER",component:p_},x$=class extends Me{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=$s(this.gos),this.isServerSide=!this.isClientSide&&rh(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Pe(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return C$}getOverlayWrapperCompClass(){return p_}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:i,beans:{gos:s,colModel:n,rowModel:r}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!s.get("suppressLoadingOverlay")&&(o=!s.get("columnDefs")||!n.ready||!s.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&r.isEmpty()&&!s.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!i&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(uj(this.beans.userCompFactory,nt(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(hj(this.beans.userCompFactory,nt(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,i){var n;const s=(e==null?void 0:e.newAgStackInstance())??null;(n=this.eWrapper)==null||n.showOverlay(s,t,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(this.state===2){const i=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(i==null?void 0:i.headerHeight)||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},b$={moduleName:"Overlay",version:We,userComponents:{agLoadingOverlay:i9,agNoRowsOverlay:s9},apiFunctions:{showLoadingOverlay:p$,showNoRowsOverlay:m$,hideOverlay:y$},beans:[x$]},S$=class extends Me{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=CU(),Xu(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Xu(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),i=e/t;return this.maxScrollY*i}},w$=400,M$=class extends Me{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(r=>r.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(r=>r.updateRangeBordersIfRangeCount())},i=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},s=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>s()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{xc(this.gos)?i():s()}),xc(this.gos)&&i()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:s})=>{(!s&&i||s&&!i)&&this.redrawRows()});const{stickyRowSvc:e,gos:t}=this.beans;if(e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Gs(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new D$(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var s;const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),i=((s=this.cachedRowCtrls)==null?void 0:s.getEntries())??[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(i=>t.onFlashCells(i,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const i=l=>{this.getAllCellCtrls().forEach(u=>{u.column===t&&l(u)})},s=()=>{i(l=>l.onLeftChanged())},n=()=>{i(l=>l.onWidthChanged())},r=()=>{i(l=>l.onFirstRightPinnedChanged())},o=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",s),t.__addEventListener("widthChanged",n),t.__addEventListener("firstRightPinnedChanged",r),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",s),t.__removeEventListener("widthChanged",n),t.__removeEventListener("firstRightPinnedChanged",r),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=Gs(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{var n;const s=(n=i.getCellCtrl(e,!0))==null?void 0:n.eGui;s&&t.push(s)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(e,t){const{pinnedRowModel:i,beans:s,printLayout:n}=this,r=Object.fromEntries(e.map(a=>[a.rowNode.id,a]));i==null||i.forEachPinnedRow(t,(a,l)=>{const u=e[l];u&&i.getPinnedRowById(u.rowNode.id,t)===void 0&&(u.destroyFirstPass(),u.destroySecondPass()),a.id in r?(e[l]=r[a.id],delete r[a.id]):e[l]=new Yv(a,s,!1,!1,n)});const o=(t==="top"?i==null?void 0:i.getPinnedTopRowCount():i==null?void 0:i.getPinnedBottomRowCount())??0;e.length=o}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var i,s;if(e.sticky)(i=this.stickyRowFeature)==null||i.refreshStickyNode(e);else if((s=this.cachedRowCtrls)!=null&&s.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=r=>{const o=r[e.rowIndex];o&&o.rowNode===e&&(o.destroyFirstPass(),o.destroySecondPass(),r[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusSvc.getFocusCellToUseAfterRefresh();if(t==null)return null;const i=Fi(this.beans),s=Fv(this.gos,i,Vv),n=Fv(this.gos,i,Np);return s||n?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,s=e.animate&&Ad(this.gos),n=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:r}=this;if(r){r.checkStickyRows();const o=r.extraTopHeight+r.extraBottomHeight;o&&this.updateContainerHeights(o)}this.recycleRows(n,s),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var s;const t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),(s=this.stickyRowFeature)==null||s.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let i=this.pageBounds.getCurrentPageHeight();i===0&&(i=1),t.setModelHeight(i+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(gc(252));this.refreshInProgress=!0,(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusSvc.restoreFocusedCell(e,()=>{this.onCellFocusChanged(nt(this.gos,{rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let s=0;s<i;s++){const n=t[s].getAllCellCtrls(),r=n.length;for(let o=0;o<r;o++)e.push(n[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),i=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...i,...(e==null?void 0:e.getCtrls("top"))??[],...(e==null?void 0:e.getCtrls("bottom"))??[],...(e==null?void 0:e.getCtrls("center"))??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,i){const s=this.rowCtrlsByRowIndex[t];s&&s.addEventListener(e,i)}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const i of this.getRowCtrls(e)){if(!i.isFullWidth())continue;i.refreshFullWidth()||this.redrawRow(i.rowNode,!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getRowCtrls(e){const t=pM(e),i=this.getAllRowCtrls();return!e||!t?i:i.filter(s=>{const n=s.rowNode;return mM(n,t)})}getCellCtrls(e,t){let i;He(t)&&(i={},t.forEach(n=>{const r=this.colModel.getCol(n);He(r)&&(i[r.getId()]=!0)}));const s=[];return this.getRowCtrls(e).forEach(n=>{n.getAllCellCtrls().forEach(r=>{const o=r.column.getId();i&&!i[o]||s.push(r)})}),s}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var i;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),(i=this.stickyRowFeature)==null||i.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const i of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[i].rowNode.id==null&&e.push(i);this.removeRowCtrls(e);const t={};for(const i of Object.values(this.rowCtrlsByRowIndex)){const s=i.rowNode;t[s.id]=i}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{const s=this.rowCtrlsByRowIndex[i];s&&(s.destroyFirstPass(t),s.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){var l;const{afterScroll:t}=e;let i;const s=this.stickyRowFeature;s&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let o=!1;if(s){o=s.checkStickyRows();const u=s.extraTopHeight+s.extraBottomHeight;u&&this.updateContainerHeights(u)}const a=this.firstRenderedRow!==n||this.lastRenderedRow!==r;if(!(t&&!o&&!a)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!o),i!=null)){const u=this.getCellToRestoreFocusToAfterRefresh();i!=null&&u==null&&((l=this.beans.animationFrameSvc)==null||l.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach(r=>i[r]=!0);const n=Object.keys(this.rowCtrlsByRowIndex).filter(r=>!i[r]);this.removeRowCtrls(n,t)}calculateIndexesToDraw(e){const t=[];for(let n=this.firstRenderedRow;n<=this.lastRenderedRow;n++)t.push(n);const i=n=>{const r=n.rowNode.rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(n)&&t.push(r)};for(const n of Object.values(this.rowCtrlsByRowIndex))i(n);if(e)for(const n of Object.values(e))i(n);t.sort((n,r)=>n-r);const s=[];for(let n=0;n<t.length;n++){const r=t[n],o=this.rowModel.getRow(r);o&&!o.sticky&&s.push(r)}return s}recycleRows(e,t=!1,i=!1){const s=this.calculateIndexesToDraw(e);if((this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(s,!t),s.forEach(n=>{this.createOrUpdateRowCtrl(n,e,t,i)}),e){const{animationFrameSvc:n}=this.beans;n&&i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?n.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),i=e.isPinningRight();(this.pinningLeft!==t||i!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.rowNode.rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=pM(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const s=i.rowNode;return!(t!=null&&!mM(s,t))})}createOrUpdateRowCtrl(e,t,i,s){let n,r=this.rowCtrlsByRowIndex[e];if(r||(n=this.rowModel.getRow(e),He(n)&&He(t)&&t[n.id]&&n.alreadyRendered&&(r=t[n.id],t[n.id]=null)),!r)if(n||(n=this.rowModel.getRow(e)),He(n))r=this.createRowCon(n,i,s);else return;return n&&(n.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r}destroyRowCtrls(e,t){const i=[];if(e){for(const s of Object.values(e))if(s){if(this.cachedRowCtrls&&s.isCacheable()){this.cachedRowCtrls.addRow(s);continue}if(s.destroyFirstPass(!t),t){const n=s.instanceId;this.zombieRowCtrls[n]=s,i.push(()=>{s.destroySecondPass(),delete this.zombieRowCtrls[n]})}else s.destroySecondPass()}}t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>i.forEach(s=>s()),w$))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Ou(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:i}=this;e.updateOffset();let s,n;if(!i.isRowsToRender())s=0,n=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),s=t.getFirstRow(),n=t.getLastRow();else{const h=this.getRowBufferInPixels(),f=this.ctrlsSvc.getScrollFeature(),g=this.gos.get("suppressRowVirtualisation");let m=!1,y,C;do{const A=t.getPixelOffset(),{pageFirstPixel:T,pageLastPixel:k}=t.getCurrentPagePixelRange(),R=e.divStretchOffset,F=f.getVScrollPosition(),I=F.top,N=F.bottom;g?(y=T+R,C=k+R):(y=Math.max(I+A-h,T)+R,C=Math.min(N+A+h,k)+R),this.firstVisibleVPixel=Math.max(I+A,T)+R,this.lastVisibleVPixel=Math.min(N+A,k)+R,m=this.ensureAllRowsInRangeHaveHeightsCalculated(y,C)}while(m);let x=i.getRowIndexAtPixel(y),b=i.getRowIndexAtPixel(C);const w=t.getFirstRow(),M=t.getLastRow();x<w&&(x=w),b>M&&(b=M),s=x,n=b}const r=Gs(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);r&&!o&&n-s>a&&(n=s+a);const l=s!==this.firstRenderedRow,u=n!==this.lastRenderedRow;(l||u)&&(this.firstRenderedRow=s,this.lastRenderedRow=n,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:s,lastRow:n}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,dl(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var a,l;const i=(a=this.pinnedRowModel)==null?void 0:a.ensureRowHeightsValid(),s=(l=this.stickyRowFeature)==null?void 0:l.ensureRowHeightsValid(),{pageBounds:n,rowModel:r}=this,o=r.ensureRowHeightsValid(e,t,n.getFirstRow(),n.getLastRow());return(o||s)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),s||o||i?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const s=e.rowNode,n=this.focusSvc.isRowNodeFocused(s),r=e.editing,o=s.detail;return n||r||o?!!this.isRowPresent(s):!1}isRowPresent(e){var t;return this.rowModel.isRowPresent(e)?((t=this.beans.pagination)==null?void 0:t.isRowPresent(e))??!0:!1}createRowCon(e,t,i){var a;const s=((a=this.cachedRowCtrls)==null?void 0:a.getRow(e))??null;if(s)return s;const n=this.gos.get("suppressAnimationFrame"),r=i&&!n&&!this.printLayout&&!!this.beans.animationFrameSvc;return new Yv(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(s=>s.rowNode),t=this.getStickyTopRowCtrls().map(s=>s.rowNode),i=this.getStickyBottomRowCtrls().map(s=>s.rowNode);return[...t,...e,...i]}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(s=>s.rowNode.rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(s=>s.rowNode.rowIndex===i)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const s=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!s}},D$=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],Ro(this.entriesList,i)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],Ro(this.entriesList,e)}getEntries(){return this.entriesList}};function pM(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const s=i.id;switch(i.rowPinned){case"top":t.top[s]=i;break;case"bottom":t.bottom[s]=i;break;default:t.normal[s]=i;break}}),t}function mM(e,t){const i=e.id;switch(e.rowPinned){case"top":return t.top[i]!=null;case"bottom":return t.bottom[i]!=null;default:return t.normal[i]!=null}}var A$=class extends Me{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Zo(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Zo(e))}doFullSort(e,t){const i=e.map((s,n)=>({currentPos:n,rowNode:s}));return i.sort(this.compareRowNodes.bind(this,t)),i.map(s=>s.rowNode)}compareRowNodes(e,t,i){const s=t.rowNode,n=i.rowNode;for(let r=0,o=e.length;r<o;r++){const a=e[r],l=a.sort==="desc",u=this.getValue(s,a.column),h=this.getValue(n,a.column);let f;const g=this.getComparator(a,s);if(g?f=g(u,h,s,n,l):f=EU(u,h,this.isAccentedSort),!isNaN(f)&&f!==0)return a.sort==="asc"?f:f*-1}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,s=i.getColDef().comparator;if(s!=null)return s;if(!i.getColDef().showRowGroup)return;const n=!t.group&&i.getColDef().field;if(!n)return;const r=this.beans.colModel.getColDefCol(n);if(r)return r.getColDef().comparator}getValue(e,t){var a,l;const{valueSvc:i,colModel:s,showRowGroupCols:n,gos:r}=this.beans;if(!this.primaryColumnsSortGroups)return i.getValue(t,e,!1);if(e.rowGroupColumn===t){if(DD(r,s.isPivotActive())){const f=(a=e.allLeafChildren)==null?void 0:a[0];return f?i.getValue(t,f,!1):void 0}const h=n==null?void 0:n.getShowRowGroupCol(t.getId());return h?(l=e.groupData)==null?void 0:l[h.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return i.getValue(t,e,!1)}};function E$(e){var t;(t=e.sortSvc)==null||t.onSortChanged("api")}function kg(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var T$=`<span class="ag-sort-indicator-container">
        ${kg("Order","order")}
        ${kg("Asc","ascending-icon")}
        ${kg("Desc","descending-icon")}
        ${kg("Mixed","mixed-icon")}
        ${kg("None","none-icon")}
    </span>`,UD=class extends Ci{constructor(e){super(),this.eSortOrder=tt,this.eSortAsc=tt,this.eSortDesc=tt,this.eSortMixed=tt,this.eSortNone=tt,e||this.setTemplate(T$)}attachCustomElements(e,t,i,s,n){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=s,this.eSortNone=n}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const i=this.updateIcons.bind(this),s=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:s,columnRowGroupChanged:s}),this.onSortChanged()}addInIcon(e,t,i){if(t==null)return;const s=Gr(e,this.beans,i);s&&t.appendChild(s)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:i,column:s,gos:n,beans:r}=this,o=r.sortSvc.getDisplaySortForColumn(s);if(e&&Ri(e,o==="asc",{skipAriaHidden:!0}),t&&Ri(t,o==="desc",{skipAriaHidden:!0}),i){const a=!s.getColDef().unSortIcon&&!n.get("unSortIcon"),l=o==null;Ri(i,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:i}=this;this.addInIcon("sortUnSort",e,t);const s=t.getColDef().showRowGroup;Zo(i)&&s&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:i}=this;if(e){const s=t.sortSvc.getDisplaySortForColumn(i)==="mixed";Ri(e,s,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:i}}=this;if(!e)return;const s=i.getColumnsWithSortingOrdered(),n=i.getDisplaySortIndexForColumn(t)??-1,r=s.some(a=>i.getDisplaySortIndexForColumn(a)??!1),o=n>=0&&r;Ri(e,o,{skipAriaHidden:!0}),n>=0?e.textContent=(n+1).toString():lr(e)}},R$={selector:"AG-SORT-INDICATOR",component:UD},_p=["asc","desc",null],k$=class extends Me{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,i){const s=this.getNextSortDirection(e);this.setSortForColumn(e,s,t,i)}progressSortFromEvent(e,t){const s=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,s,"uiColumnSorted")}setSortForColumn(e,t,i,s){var h;t!=="asc"&&t!=="desc"&&(t=null);const{gos:n,showRowGroupCols:r}=this.beans,o=Zo(n);let a=[e];if(o&&e.getColDef().showRowGroup){const f=(h=r==null?void 0:r.getSourceColumnsForGroupColumn)==null?void 0:h.call(r,e),g=f==null?void 0:f.filter(m=>m.isSortable());g&&(a=[e,...g])}a.forEach(f=>this.setColSort(f,t,s));const l=(i||n.get("alwaysMultiSort"))&&!n.get("suppressMultiSort"),u=[];if(!l){const f=this.clearSortBarTheseColumns(a,s);u.push(...f)}this.updateSortIndex(e),u.push(...a),this.dispatchSortChangedEvents(s,u)}updateSortIndex(e){const{gos:t,colModel:i,showRowGroupCols:s}=this.beans,n=Zo(t),r=s==null?void 0:s.getShowRowGroupCol(e.getId()),o=n&&r||e,a=this.getColumnsWithSortingOrdered();i.getAllCols().forEach(h=>this.setColSortIndex(h,null));const l=a.filter(h=>n&&h.getColDef().showRowGroup?!1:h!==o);(o.getSort()?[...l,o]:l).forEach((h,f)=>this.setColSortIndex(h,f))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.beans.colModel.getAllCols().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventSvc.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.beans.colModel.getAllCols().forEach(s=>{e.includes(s)||(s.getSort()&&i.push(s),this.setColSort(s,void 0,t))}),i}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??_p,i=t.indexOf(e.getSort()),s=i<0,n=i==t.length-1;return s||n?t[0]:t[i+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:i,rowGroupColsSvc:s}=this.beans;let n=t.getAllCols().filter(u=>!!u.getSort());if(t.isPivotMode()){const u=Zo(e);n=n.filter(h=>{const f=!!h.getAggFunc(),g=!h.isPrimary(),m=u?i==null?void 0:i.getShowRowGroupCol(h.getId()):h.getColDef().showRowGroup;return f||g||m})}const r=(s==null?void 0:s.columns.filter(u=>!!u.getSort()))??[],o={};n.forEach((u,h)=>o[u.getId()]=h),n.sort((u,h)=>{const f=u.getSortIndex(),g=h.getSortIndex();if(f!=null&&g!=null)return f-g;if(f==null&&g==null){const m=o[u.getId()],y=o[h.getId()];return m>y?1:-1}else return g==null?-1:1});const a=Zo(e)&&!!r.length;a&&(n=[...new Set(n.map(u=>(i==null?void 0:i.getShowRowGroupCol(u.getId()))??u))]);const l=new Map;return n.forEach((u,h)=>l.set(u,h)),a&&r.forEach(u=>{const h=i.getShowRowGroupCol(u.getId());l.set(u,l.get(h))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,s])=>t-s).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Zo(this.gos),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){var o;const t=(o=this.beans.showRowGroupCols)==null?void 0:o.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const s=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,n=s[0].getSort();return s.every(a=>a.getSort()==n)?n:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,i){let s=0;e.addManagedListeners(t,{movingChanged:()=>{s=new Date().getTime()}}),i&&e.addManagedElementListeners(i,{click:r=>{const o=t.isMoving(),l=new Date().getTime()-s<50;o||l||this.progressSortFromEvent(t,r)}});const n=()=>{var o;const r=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",r==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",r==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!r),t.getColDef().showRowGroup){const a=(o=this.beans.showRowGroupCols)==null?void 0:o.getSourceColumnsForGroupColumn(t),u=!(a==null?void 0:a.every(h=>t.getSort()==h.getSort()));e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",u)}};e.addManagedEventListeners({sortChanged:n,columnRowGroupChanged:n})}initCol(e){const{sort:t,initialSort:i,sortIndex:s,initialSortIndex:n}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(i==="asc"||i==="desc")&&(e.sort=i),s!==void 0?s!==null&&(e.sortIndex=s):n!==null&&(e.sortIndex=n)}updateColSort(e,t,i){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,i):this.setColSort(e,void 0,i))}setColSort(e,t,i){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",i)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new UD(e)}getSortIndicatorSelector(){return R$}},m_={moduleName:"Sort",version:We,beans:[k$,A$],apiFunctions:{onSortChanged:E$},userComponents:{agSortIndicator:UD},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},I$=class extends Me{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:i}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),i.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Xu(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,Td(e.source))}}};function L$(e){var t;(t=e.valueCache)==null||t.expire()}function F$(e,t){const{colKey:i,rowNode:s,useFormatter:n}=t,r=e.colModel.getColDefCol(i)??e.colModel.getCol(i);if(vi(r))return null;const o=e.valueSvc.getValueForDisplay(r,s);return n?e.valueSvc.formatValue(r,s,o)??$a(o,!0):o}var $v=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:i,children:s}=e;if(s)for(let n=0;n<s.length;++n)this.depthFirstSearchChangedPath(s[n],t);t(i)}depthFirstSearchEverything(e,t,i){const s=e.childrenAfterGroup;if(s)for(let n=0,r=s.length;n<r;++n){const o=s[n];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,i):i&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){const s={rowNode:t,children:null};this.mapToItems[t.id]=s,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(s=>this.nodeIdsToColumns[i.id][s.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let s=0;s<t;s++){const n=this.mapToItems[i.id],r=this.mapToItems[i.parent.id];r.children||(r.children=[]),r.children.push(n),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(n=>i[n.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(n=>!i[n.getId()])}},P$="paste",O$=class extends Me{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;$s(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:i}=this.beans;if(e.source===P$||t.get("suppressChangeDetection"))return;const s=e.node,n=[s],r=this.clientSideRowModel,o=r==null?void 0:r.rootNode;if(o&&!s.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new $v(a,o);l.addParentNode(s.parent,[e.column]),r.doAggregate(l),l.forEachChangedNodeDepthFirst(u=>{n.push(u)})}i.refreshCells({rowNodes:n})}},N$=class extends Me{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);$t(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return $t(16,{expression:e,params:t,e:i}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const i=this.createFunctionBody(e),s=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",i);return t[e]=s,s}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},_$=class extends Me{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){if(this.active){const s=this.cacheVersion;e.__cacheVersion!==s&&(e.__cacheVersion=s,e.__cacheData={}),e.__cacheData[t]=i}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},B$={moduleName:"ValueCache",version:We,beans:[_$],apiFunctions:{expireValueCache:L$}},G$={moduleName:"Expression",version:We,beans:[N$]},z$={moduleName:"ChangeDetection",version:We,beans:[O$]},H$={moduleName:"CellApi",version:We,apiFunctions:{getCellValue:F$}},V$=class extends Me{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=rh(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t){const i=t.leafGroup&&this.colModel.isPivotMode(),s=t.group&&t.expanded&&!t.footer&&!i,n=this.gos.get("groupSuppressBlankHeader");if(!s||n)return this.getValue(e,t);let r=!1;const o=this.gos.get("groupTotalRow");typeof o!="function"?r=!!o:r=!!this.gos.getCallback("groupTotalRow")({node:this});const a=s&&r;return this.getValue(e,t,a)}getValue(e,t,i=!1){if(this.initialised||this.init(),!t)return;const s=e.getColDef(),n=s.field,r=e.getColId(),o=t.data;let a;const l=t.groupData&&t.groupData[r]!==void 0,u=!i&&t.aggData&&t.aggData[r]!==void 0,h=this.isSsrm&&i&&!!e.getColDef().aggFunc,f=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&u?a=t.aggData[r]:this.isTreeData&&s.valueGetter?a=this.executeValueGetter(s.valueGetter,o,e,t):this.isTreeData&&n&&o?a=ep(o,n,e.isFieldContainsDots()):l?a=t.groupData[r]:u?a=t.aggData[r]:s.valueGetter?a=this.executeValueGetter(s.valueGetter,o,e,t):f?a=ep(o,t.field,e.isFieldContainsDots()):n&&o&&!h&&(a=ep(o,n,e.isFieldContainsDots())),this.cellExpressions&&typeof a=="string"&&a.indexOf("=")===0){const g=a.substring(1);a=this.executeValueGetter(g,o,e,t)}if(a==null){const g=this.getOpenedGroup(t,e);if(g!=null)return g}return a}parseValue(e,t,i,s){var o;const n=e.getColDef(),r=n.valueParser;if(He(r)){const a=nt(this.gos,{node:t,data:t==null?void 0:t.data,oldValue:s,newValue:i,colDef:n,column:e});return typeof r=="function"?r(a):(o=this.expressionSvc)==null?void 0:o.evaluate(r,a)}return i}getDeleteValue(e,t){return He(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,i,s,n=!0){let r=null,o;const a=e.getColDef();if(s?o=s:n&&(o=a.valueFormatter),o){const l=nt(this.gos,{value:i,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?r=o(l):r=this.expressionSvc?this.expressionSvc.evaluate(o,l):null}else if(a.refData)return a.refData[i]||"";return r==null&&Array.isArray(i)&&(r=i.join(", ")),r}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const s=t.getColDef().showRowGroup;let n=e.parent;for(;n!=null;){if(n.rowGroupColumn&&(s===!0||s===n.rowGroupColumn.getColId()))return n.key;n=n.parent}}setValue(e,t,i,s){var h,f;const n=this.colModel.getColDefCol(t);if(!e||!n)return!1;vi(e.data)&&(e.data={});const{field:r,valueSetter:o}=n.getColDef();if(vi(r)&&vi(o))return Pe(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(n,i))return Pe(135),!1;const a=nt(this.gos,{node:e,data:e.data,oldValue:this.getValue(n,e),newValue:i,colDef:n.getColDef(),column:n});a.newValue=i;let l;if(He(o)?typeof o=="function"?l=o(a):l=(h=this.expressionSvc)==null?void 0:h.evaluate(o,a):l=this.setValueUsingField(e.data,r,i,n.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),(f=this.valueCache)==null||f.onDataChanged();const u=this.getValue(n,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:u,value:u,source:s}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,s){if(!t)return!1;let n=!1;if(!s)n=e[t]===i,n||(e[t]=i);else{const r=t.split(".");let o=e;for(;r.length>0&&o;){const a=r.shift();r.length===0?(n=o[a]===i,n||(o[a]=i)):o=o[a]}}return!n}executeValueGetterWithValueCache(e,t,i,s){const n=i.getColId(),r=this.valueCache.getValue(s,n);if(r!==void 0)return r;const o=this.executeValueGetterWithoutValueCache(e,t,i,s);return this.valueCache.setValue(s,n,o),o}executeValueGetterWithoutValueCache(e,t,i,s){var o;const n=nt(this.gos,{data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});let r;return typeof e=="function"?r=e(n):r=(o=this.expressionSvc)==null?void 0:o.evaluate(e,n),r}getValueCallback(e,t){const i=this.colModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),s=e.getColDef().keyCreator;let n=i;if(s){const r=nt(this.gos,{value:i,colDef:e.getColDef(),column:e,node:t,data:t.data});n=s(r)}return typeof n=="string"||n==null||(n=String(n),n==="[object Object]"&&Pe(121)),n}},W$={moduleName:"CommunityCore",version:We,beans:[GK,G9,RY,F6,S$,U7,FK,WK,k6,l$,a$,M$,V$,_K,LK,BK,IY,I$,MY,DY],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:z9,destroy:H9,isDestroyed:V9,getGridOption:W9,setGridOption:U9,updateGridOptions:XN},dependsOn:[xY,S7,R7,m_,KK,Y7,$K,b$,z$,XK,o$,d$,g$,qK,TY,bY,G$]},jD=class Cu{static applyGlobalGridOptions(t){if(!Cu.gridOptions)return{...t};let i={};return Wn(i,Cu.gridOptions,!0,!0),Cu.mergeStrategy==="deep"?Wn(i,t,!0,!0):i={...i,...t},Cu.gridOptions.context&&(i.context=Cu.gridOptions.context),t.context&&(Cu.mergeStrategy==="deep"&&i.context&&Wn(t.context,i.context,!0,!0),i.context=t.context),i}};jD.gridOptions=void 0;jD.mergeStrategy="shallow";var Xv=jD;function U$(e,t="shallow"){Xv.gridOptions=e,Xv.mergeStrategy=t}function j$(e){var t;return(t=Xv.gridOptions)==null?void 0:t[e]}var Y$=1,K$=class{create(e,t,i,s,n,r){const o=Xv.applyGlobalGridOptions(t),a=o.gridId??String(Y$++),l=o.rowModelType??"clientSide",u=this.getRegisteredModules(n,a,l),h=this.createBeansList(l,u,a),f=this.createProvidedBeans(e,o,n);if(!h)return;const g={providedBeanInstances:f,beanClasses:h,gridId:a,beanInitComparator:O9,beanDestroyComparator:N9,derivedBeans:[F9],destroyCallback:r},m=new Aj(g);return this.registerModuleFeatures(m,u),i(m),m.getBean("syncSvc").start(),s&&s(m),m.getBean("gridApi")}getRegisteredModules(e,t,i){var s;return Op(W$,void 0),(s=e==null?void 0:e.modules)==null||s.forEach(n=>Op(n,t)),xj(t,i)}registerModuleFeatures(e,t){const i=e.getBean("registry"),s=e.getBean("apiFunctionSvc");t.forEach(n=>{i.registerModule(n);const r=n.apiFunctions;r&&Object.keys(r).forEach(a=>{s==null||s.addFunction(a,r[a])})})}createProvidedBeans(e,t,i){let s=i?i.frameworkOverrides:null;vi(s)&&(s=new KN);const n={gridOptions:t,eGridDiv:e,globalListener:i?i.globalListener:null,globalSyncListener:i?i.globalSyncListener:null,frameworkOverrides:s};return i&&i.providedBeanInstances&&Object.assign(n,i.providedBeanInstances),n}createBeansList(e,t,i){const n={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!n){J1(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return}if(!CN(n,i,e)){J1(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:n,gridScoped:RD(),gridId:i,rowModelType:e},`Missing module ${n}Module for rowModelType ${e}. 
If upgrading from before v33, see ${Fu}/upgrading-to-ag-grid-33/#changes-to-modules/`);return}const r=new Set;return t.forEach(o=>{var a;return(a=o.beans)==null?void 0:a.forEach(l=>r.add(l))}),Array.from(r)}};function ca(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function $C(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function y_(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var $$=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],X$=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel"],Z$=[...$$,...X$],q$=class extends Me{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(s,n,r)=>t({key:s,defaultValue:n,variableValues:r});const i=e.get("localeText");return(s,n,r)=>{let o=i&&i[s];if(o&&r&&r.length){let a=0;for(;!(a>=r.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",r[a++])}return o??n}}},Q$=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow","themeCssLayer"],J$=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef"],eX=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],v_=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],tX=["theme","rowSelection"],iX=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild"],C_=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],sX=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter"],nX=[...eX,...J$,...Q$,...v_,...sX,...C_,...iX,...tX],rX=class{wrap(e,t,i,s){const n=this.createWrapper(e,s);return t==null||t.forEach(r=>{this.createMethod(n,r,!0)}),i==null||i.forEach(r=>{this.createMethod(n,r,!1)}),n}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&Pe(49,{methodName:t}),null)}}},oX=class extends lf{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=$a(t,!0)}};function x_(e){const{inputValue:t,allSuggestions:i,hideIrrelevant:s,filterByPercentageOfBestMatch:n,addSequentialWeight:r}=e;let o=i.map((u,h)=>({value:u,relevance:lX(t.toLowerCase(),u.toLocaleLowerCase(),r),idx:h}));if(o.sort((u,h)=>h.relevance-u.relevance),s&&(o=o.filter(u=>u.relevance!==0)),o.length>0&&n&&n>0){const h=o[0].relevance*n;o=o.filter(f=>h-f.relevance<0)}const a=[],l=[];for(const u of o)a.push(u.value),l.push(u.idx);return{values:a,indices:l}}function aX(e){const t=[],i=e.length;for(let s=1;s<=i;s++)for(let n=0;n<=i-s;n++){const r=n+s-1;t.push(e.slice(n,r+1))}return t}function lX(e,t,i=!1){const s=e.replace(/\s/g,""),n=t.replace(/\s/g,""),r=s.length,o=n.length,a=new Array(r+1).fill(null).map(()=>new Array(o+1).fill(0));for(let f=0;f<=r;f+=1)a[f][0]=f;for(let f=0;f<=o;f+=1)a[0][f]=f;for(let f=1;f<=r;f++)for(let g=1;g<=o;g++)s[f-1]===n[g-1]?a[f][g]=a[f-1][g-1]:a[f][g]=1+Math.min(a[f][g-1],Math.min(a[f-1][g],a[f-1][g-1]));const l=a[r][o];let h=Math.max(r,o)-l;if(i){const f=aX(s);for(let g=0;g<f.length;g++){const m=f[g];n.indexOf(m)!==-1&&(h+=1,h*=m.length)}}return h}function cX(e,t){if(typeof e!="number")return"";const i=t(),s=i("thousandSeparator",","),n=i("decimalSeparator",".");return e.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${s}`)}var uX=class extends Me{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},hX=class{constructor(e){this.groupColumns=[];const{colModel:t,rowGroupColsSvc:i,colNames:s,valueSvc:n,gos:r,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u}=e;this.colModel=t,this.rowGroupColsSvc=i,this.colNames=s,this.valueSvc=n,this.gos=r,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,i,s,n){const o=(!this.gos.get("groupHideOpenParents")||n.footer)&&this.shouldRenderGroupSummaryCell(n,e,t)?this.createValueForGroupNode(e,n):this.valueSvc.getValue(e,n);return this.processCell({accumulatedRowIndex:i,rowNode:n,column:e,value:o,processCellCallback:this.processCellCallback,type:s})}shouldRenderGroupSummaryCell(e,t,i){var o,a;if(!(e.group&&!this.gos.get("treeData")))return!1;if(this.groupColumns.indexOf(t)!==-1){if(((o=e.groupData)==null?void 0:o[t.getId()])!==void 0||rh(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const l=t.getColDef();return l==null||l.showRowGroup===!0||l.showRowGroup===((a=this.rowGroupColsSvc)==null?void 0:a.columns[0].getId())}}const r=DD(this.gos,this.colModel.isPivotMode());return i===0&&r}getHeaderName(e,t){return e?e(nt(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(nt(this.gos,{column:e,node:t}));const i=this.gos.get("treeData"),s=a=>{var u;if(i)return a.key;const l=(u=a.groupData)==null?void 0:u[e.getId()];return!l||!a.rowGroupColumn||a.rowGroupColumn.getColDef().useValueFormatterForExport===!1?l:this.valueSvc.formatValue(a.rowGroupColumn,a,l)??l},n=t.footer,r=[s(t)];if(!HU(this.gos))for(;t.parent;)t=t.parent,r.push(s(t));const o=r.reverse().join(" -> ");return n?`Total ${o}`:o}processCell(e){const{accumulatedRowIndex:t,rowNode:i,column:s,value:n,processCellCallback:r,type:o}=e;return r?{value:r(nt(this.gos,{accumulatedRowIndex:t,column:s,node:i,value:n,type:o,parseValue:a=>this.valueSvc.parseValue(s,i,a,this.valueSvc.getValue(s,i)),formatValue:a=>this.valueSvc.formatValue(s,i,a)??a}))??""}:s.getColDef().useValueFormatterForExport!==!1?{value:n??"",valueFormatted:this.valueSvc.formatValue(s,i,n)}:{value:n??""}}};function dX(e,t){const i=document.defaultView||window;if(!i){Pe(52);return}const s=document.createElement("a"),n=i.URL.createObjectURL(t);s.setAttribute("href",n),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(s),i.setTimeout(()=>{i.URL.revokeObjectURL(n)},0)}var fX={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0},Bn="clientSide",gn="serverSide",od="infinite",gX={onGroupExpandedOrCollapsed:[Bn],refreshClientSideRowModel:[Bn],isRowDataEmpty:[Bn],forEachLeafNode:[Bn],forEachNodeAfterFilter:[Bn],forEachNodeAfterFilterAndSort:[Bn],resetRowHeights:[Bn],applyTransaction:[Bn],applyTransactionAsync:[Bn],flushAsyncTransactions:[Bn],getBestCostNodeSelection:[Bn],getServerSideSelectionState:[gn],setServerSideSelectionState:[gn],applyServerSideTransaction:[gn],applyServerSideTransactionAsync:[gn],applyServerSideRowData:[gn],retryServerSideLoads:[gn],flushServerSideAsyncTransactions:[gn],refreshServerSide:[gn],getServerSideGroupLevelState:[gn],refreshInfiniteCache:[od],purgeInfiniteCache:[od],getInfiniteRowCount:[od],isLastRowIndexKnown:[od,gn],expandAll:[Bn,gn],collapseAll:[Bn,gn],onRowHeightChanged:[Bn,gn],setRowCount:[od,gn],getCacheBlockState:[od,gn]},pX={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function mX(e,t,i){const s=pX[e];if(s){const{version:r,new:o,old:a,message:l}=s,u=a??e;return(...h)=>{const f=o?`Please use ${o} instead. `:"";return Jg(`Since ${r} api.${u} is deprecated. ${f}${l??""}`),t.apply(t,h)}}const n=gX[e];return n?(...r)=>{const o=i.rowModel.getType();if(!n.includes(o)){Dd(`api.${e} can only be called when gridOptions.rowModelType is ${n.join(" or ")}`);return}return t.apply(t,r)}:t}var b_={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},Kw=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],yX={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:Kw,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...Kw,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...Kw,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},vX={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function CX(e,t){const i=[];return(Array.isArray(e)?e:[e]).forEach(s=>{const n=yX[s];n?n.forEach(r=>{const o=vX[r];(!o||o===t)&&i.push(r)}):i.push(s)}),i}var Id={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar"},xX=e=>{const t=e.map(s=>`import { ${np(s)} } from '${b_[s]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(s=>s==="IntegratedCharts"||s==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(s=>np(s,!0)).join(", ")} ]); 

For more info see: ${Fu}/modules/`};function np(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function bX(e,t){const i=t.filter(r=>r==="IntegratedCharts"||r==="Sparklines");let s="";return!(globalThis==null?void 0:globalThis.agCharts)&&i.length>0?s=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(r=>b_[r])&&(s=s+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),s}var JL=({reasonOrId:e,moduleName:t,gridScoped:i,gridId:s,rowModelType:n,additionalText:r,isUmd:o})=>{const a=CX(t,n),l=typeof e=="string"?e:DX[e];if(o)return bX(l,a);const u=a.filter(g=>g==="IntegratedCharts"||g==="Sparklines"),h=u.length>0?`${u.map(g=>np(g)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(g=>np(g)).join(", "):np(a[0])} is not registered${i?" for gridId: "+s:""}. ${h} Check if you have registered the module:
`}
${xX(a)}`+(r?` 

${r}`:"")},eF=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,SX=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,wX={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e==null?void 0:e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e==null?void 0:e.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:i})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",i],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${SX(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:({methodName:e})=>`AnimationFrameService.${e} called but animation frames are off`,93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:i,pageSizeOptions:s})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${i?"":" the default"} paginationPageSizeSelector=[${s==null?void 0:s.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType:e})=>`selectAll only available when rowModelType='clientSide', ie not ${e}`,101:({propertyName:e,componentName:t,agGridDefaults:i,jsComps:s})=>{const n=[],r=[...Object.keys(i??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(s??[])],o=x_({inputValue:t,allSuggestions:r,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return n.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&n.push(`         Did you mean: [${o.slice(0,3)}]?
`),n.push("If using a custom component check it has been registered correctly."),n},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${Fu}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:i})=>["duplicate group keys for row data, keys should be unique",e,t,...i??[]],187:({rowId:e,firstData:t,secondData:i})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",i],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:JL,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${Fu}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e==null?void 0:e.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>eF("IntegratedChartsModule"),258:()=>eF("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:i,gridId:s,rowModelType:n})=>JL({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:Id[t],gridId:s,gridScoped:i,rowModelType:n}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${Fu}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection"};function MX(e,t){const i=wX[e];if(!i)return[`Missing error text for error id ${e}!`];const s=i(t),r=`
See ${WO(e,t)}`;return Array.isArray(s)?s.concat(r):[s,r]}var DX={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},AX=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),EX=()=>({aggFunc:{module:"SharedAggregation"},autoHeight:{supportedRowModels:["clientSide","serverSide"],module:"RowAutoHeight"},cellClass:{module:"CellStyle"},cellClassRules:{module:"CellStyle"},cellEditor:({cellEditor:e,editable:t})=>{if(!t)return null;if(typeof e=="string"){const i=Id[e];if(i)return{module:i}}return{module:"CustomEditor"}},cellRenderer:({cellRenderer:e})=>{if(typeof e!="string")return null;const t=Id[e];return t?{module:t}:null},cellRendererParams:{validate:e=>(e.rowGroup!=null||e.rowGroupIndex!=null||e.cellRenderer==="agGroupCellRenderer")&&"checkbox"in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},cellStyle:{module:"CellStyle"},children:()=>S_(),columnChooserParams:{module:"ColumnMenu"},contextMenuItems:{module:"ContextMenu"},dndSource:{module:"DragAndDrop"},dndSourceOnRowDrag:{module:"DragAndDrop"},editable:({editable:e,cellEditor:t})=>e&&!t?{module:"TextEditor"}:null,enableCellChangeFlash:{module:"HighlightChanges"},enablePivot:{module:"SharedPivot"},enableRowGroup:{module:"SharedRowGrouping"},enableValue:{module:"SharedAggregation"},filter:({filter:e})=>{if(e&&typeof e!="string"&&typeof e!="boolean")return{module:"CustomFilter"};if(typeof e=="string"){const t=Id[e];if(t)return{module:t}}return{module:"ColumnFilter"}},floatingFilter:{module:"ColumnFilter"},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerTooltip:{module:"Tooltip"},headerValueGetter:{validate:e=>{const t=e.headerValueGetter;return typeof t=="function"||typeof t=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return gc(262);if(e.smallLeft)return gc(263);if(e.smallRight)return gc(264)}return null}},mainMenuItems:{module:"ColumnMenu"},menuTabs:e=>{var i;const t=["columnsMenuTab","generalMenuTab"];return(i=e.menuTabs)!=null&&i.some(s=>t.includes(s))?{module:"ColumnMenu"}:null},pivot:{module:"SharedPivot"},pivotIndex:{module:"SharedPivot"},rowDrag:{module:"RowDrag"},rowGroup:{module:"SharedRowGrouping"},rowGroupIndex:{module:"SharedRowGrouping"},sortingOrder:{validate:e=>{const t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){const i=t.filter(s=>!_p.includes(s));if(i.length>0)return`sortingOrder must be an array with elements from [${_p.map(Lv).join()}], currently it includes [${i.map(Lv).join()}]`}else if(!Array.isArray(t)||t.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null}},tooltipField:{module:"Tooltip"},tooltipValueGetter:{module:"Tooltip"},type:{validate:e=>{const t=e.type;return t instanceof Array?t.some(s=>typeof s!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof t=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(e,{suppressRowTransform:t})=>t?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{module:"CellSpan",dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[!1,void 0]},rowSpan:{required:[!1,void 0]}},validate:(e,{rowSelection:t,cellSelection:i,suppressRowTransform:s,enableCellSpan:n,pagination:r,rowDragEntireRow:o,enableCellTextSelection:a})=>typeof t=="object"&&(t==null?void 0:t.mode)==="singleRow"&&t!=null&&t.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":i?"colDef.spanRows is not supported with cellSelection.":s?"colDef.spanRows is not supported with suppressRowTransform.":n?r?"colDef.spanRows is not supported with pagination.":o?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),TX={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},RX=()=>Object.keys(TX),S_=()=>({objectName:"colDef",allProperties:RX(),docsUrl:"column-properties/",deprecations:AX(),validations:EX()}),kX=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}});function Wo(e,t,i,s=Number.MAX_VALUE){return typeof t=="number"||t==null?t==null||t>=i&&t<=s?null:s===Number.MAX_VALUE?`${e}: value should be greater than or equal to ${i}`:`${e}: value should be between ${i} and ${s}`:`${e}: value should be a number`}var IX=()=>{const e={alignedGrids:{module:"AlignedGrids"},allowContextMenuWithControlKey:{module:"ContextMenu"},autoSizePadding:{validate({autoSizePadding:i}){return Wo("autoSizePadding",i,0)}},autoSizeStrategy:{module:"ColumnAutoSize"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:i}){return Wo("cacheBlockSize",i,1)}},cacheOverflowSize:{validate({cacheOverflowSize:i}){return Wo("cacheOverflowSize",i,1)}},cellSelection:{module:"CellSelection"},columnHoverHighlight:{module:"ColumnHover"},datasource:{supportedRowModels:["infinite"],module:"InfiniteRowModel"},doesExternalFilterPass:{module:"ExternalFilter"},domLayout:{validate:i=>{const s=i.domLayout,n=["autoHeight","normal","print"];return s&&!n.includes(s)?`domLayout must be one of [${n.join()}], currently it's ${s}`:null}},editType:{module:"EditCore"},enableAdvancedFilter:{module:"AdvancedFilter"},enableCharts:{module:"IntegratedCharts"},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{module:"CellSelection",dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},rowNumbers:{module:"RowNumbers"},getContextMenuItems:{module:"ContextMenu"},getLocaleText:{module:"Locale"},getMainMenuItems:{module:"ColumnMenu"},getRowClass:{module:"RowStyle"},getRowStyle:{module:"RowStyle"},grandTotalRow:{module:"SharedRowGrouping"},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:i})=>{if(i){if(i.smallDown)return gc(262);if(i.smallLeft)return gc(263);if(i.smallRight)return gc(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:i}){return Wo("infiniteInitialRowCount",i,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},initialState:{module:"GridState"},isExternalFilterPresent:{module:"ExternalFilter"},keepDetailRowsCount:{validate({keepDetailRowsCount:i}){return Wo("keepDetailRowsCount",i,1)}},localeText:{module:"Locale"},masterDetail:{module:"SharedMasterDetail"},pagination:{module:"Pagination"},paginationPageSize:{validate({paginationPageSize:i}){return Wo("paginationPageSize",i,1)}},paginationPageSizeSelector:{validate:i=>{const s=i.paginationPageSizeSelector;return typeof s=="boolean"||s==null||s.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pinnedTopRowData:{module:"PinnedRow"},pinnedBottomRowData:{module:"PinnedRow"},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}},module:"SharedPivot"},pivotPanelShow:{module:"RowGroupingPanel"},quickFilterText:{supportedRowModels:["clientSide"],module:"QuickFilter"},rowBuffer:{validate({rowBuffer:i}){return Wo("rowBuffer",i,0)}},rowClass:{validate:i=>typeof i.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null,module:"RowStyle"},rowClassRules:{module:"RowStyle"},rowData:{supportedRowModels:["clientSide"],module:"ClientSideRowModel"},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}},module:"RowDrag"},rowGroupPanelShow:{module:"RowGroupingPanel"},rowSelection:{validate({rowSelection:i}){return i&&typeof i=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':i&&typeof i!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":i&&i.mode!=="multiRow"&&i.mode!=="singleRow"?`Selection mode "${i.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null},module:"SharedRowSelection"},rowStyle:{validate:i=>{const s=i.rowStyle;return s&&typeof s=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null},module:"RowStyle"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"ServerSideRowModel"},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:i}){return Wo("serverSideInitialRowCount",i,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sideBar:{module:"SideBar"},sortingOrder:{validate:i=>{const s=i.sortingOrder;if(Array.isArray(s)&&s.length>0){const n=s.filter(r=>!_p.includes(r));if(n.length>0)return`sortingOrder must be an array with elements from [${_p.map(Lv).join()}], currently it includes [${n.map(Lv).join()}]`}else if(!Array.isArray(s)||s.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${s}`;return null}},statusBar:{module:"StatusBar"},tooltipHideDelay:{validate:i=>i.tooltipHideDelay&&i.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:i=>i.tooltipShowDelay&&i.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],module:"SharedTreeData",validate:i=>{const s=i.rowModelType??"clientSide";switch(s){case"clientSide":{const{treeDataChildrenField:n,getDataPath:r}=i;return!n&&!r?"treeData requires either 'treeDataChildrenField' or 'getDataPath' in the clientSide row model.":n&&r?"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.":null}case"serverSide":{const n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${s} row model.`;return i.isServerSideGroup&&i.getServerSideGroupKey?null:n}}return null}},treeDataChildrenField:{module:"SharedTreeData"},undoRedoCellEditing:{module:"UndoRedoEdit"},valueCache:{module:"ValueCache"},viewportDatasource:{supportedRowModels:["viewport"],module:"ViewportRowModel"},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:i}){return Wo("viewportRowModelBufferSize",i,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:i}){return Wo("viewportRowModelPageSize",i,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},enableCellSpan:{module:"CellSpan"}},t={};return C_.forEach(i=>{t[i]={expectedType:"boolean"}}),v_.forEach(i=>{t[i]={expectedType:"number"}}),Wn(t,e),t},LX=()=>({objectName:"gridOptions",allProperties:[...nX,...Z$.map(e=>qO(e))],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:kX(),validations:IX()}),FX={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1},PX={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore"},OX=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),NX={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"},_X=class extends Me{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,RU(this)}postConstruct(){this.processGridOptions(this.gridOptions)}warnOnInitialPropertyUpdate(e,t){e==="api"&&fX[t]&&Pe(22,{key:t})}processGridOptions(e){this.processOptions(e,LX())}validateApiFunction(e,t){return mX(e,t,this.beans)}missingUserComponent(e,t,i,s){const n=Id[t];n?this.gos.assertModuleRegistered(n,`AG Grid '${e}' component: ${t}`):Pe(101,{propertyName:e,componentName:t,agGridDefaults:i,jsComps:s})}checkRowEvents(e){GX.has(e)&&Pe(10,{eventType:e})}validateIcon(e){if(OX.has(e)&&Pe(43,{iconName:e}),FX[e])return;const t=PX[e];if(t){$t(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:RD(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}Pe(134,{iconName:e})}validateMenuItem(e){const t=NX[e];t&&this.gos.assertModuleRegistered(t,`menu item '${e}'`)}isProvidedUserComp(e){return!!Id[e]}validateColDef(e,t,i){var s;(i||!((s=this.beans.dataTypeSvc)!=null&&s.isColPendingInference(t)))&&this.processOptions(e,S_())}processOptions(e,t){const{validations:i,deprecations:s,allProperties:n,propertyExceptions:r,objectName:o,docsUrl:a}=t;n&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...r??[],...Object.keys(s)],n,o,a);const l=new Set,u=f=>{const g=i[f];if(g)if(typeof g=="function"){const m=g(e,this.gridOptions,this.beans);if(!m)return;if("objectName"in m){const y=e[f];if(Array.isArray(y)){y.forEach(C=>{this.processOptions(C,m)});return}this.processOptions(e[f],m);return}return m}else return g;else return};Object.keys(e).forEach(f=>{const g=s[f];if(g){const{message:A,version:T}=g;l.add(`As of v${T}, ${String(f)} is deprecated. ${A??""}`)}const m=e[f];if(m==null||m===!1)return;const y=u(f);if(!y)return;const{module:C,dependencies:x,validate:b,supportedRowModels:w,expectedType:M}=y;if(M){const A=typeof m;if(A!==M){l.add(`${String(f)} should be of type '${M}' but received '${A}' (${m}).`);return}}if(w){const A=this.gridOptions.rowModelType??"clientSide";if(!w.includes(A)){l.add(`${String(f)} is not supported with the '${A}' row model. It is only valid with: ${w.join(", ")}.`);return}}if(C){const A=Array.isArray(C)?C:[C];let T=!0;if(A.forEach(k=>{this.gos.assertModuleRegistered(k,String(f))||(T=!1)}),!T)return}if(x){const A=this.checkForRequiredDependencies(f,x,e);if(A){l.add(A);return}}if(b){const A=b(e,this.gridOptions,this.beans);if(A){l.add(A);return}}}),l.size>0&&l.forEach(f=>{Jg(f)})}checkForRequiredDependencies(e,t,i){const n=Object.entries(t).filter(([r,o])=>{const a=i[r];return!o.required.includes(a)});return n.length===0?null:n.map(([r,o])=>`'${String(e)}' requires '${r}' to be one of [${o.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,i,s,n){const r=["__ob__","__v_skip","__metadata__"],o=BX(Object.getOwnPropertyNames(e),[...r,...t,...i],i),a=Object.keys(o);for(const l of a){const u=o[l];let h=`invalid ${s} property '${l}' did you mean any of these: ${u.slice(0,8).join(", ")}.`;i.includes("context")&&(h+=`
If you are trying to annotate ${s} with application data, use the '${s}.context' property instead.`),Jg(h)}if(a.length>0&&n){const l=this.beans.frameworkOverrides.getDocLink(n);Jg(`to see all the valid ${s} properties please check: ${l}`)}}getConsoleMessage(e,t){return MX(e,t)}};function BX(e,t,i){const s={},n=e.filter(r=>!t.some(o=>o===r));return n.length>0&&n.forEach(r=>s[r]=x_({inputValue:r,allSuggestions:i}).values),s}var GX=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),zX={moduleName:"Validation",version:We,beans:[_X]};function w_(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var HX=class extends Me{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var i;const t=!!((i=this.filterManager)!=null&&i.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const i=(s,n)=>{s.hasChildren()&&e&&!n?s.childrenAfterFilter=s.childrenAfterGroup.filter(r=>{const o=r.childrenAfterFilter&&r.childrenAfterFilter.length>0,a=r.data&&this.filterManager.doesRowPassFilter({rowNode:r});return o||a}):s.childrenAfterFilter=s.childrenAfterGroup,w_(s)};if(this.doingTreeDataFiltering()){const s=(r,o)=>{if(r.childrenAfterGroup)for(let a=0;a<r.childrenAfterGroup.length;a++){const l=r.childrenAfterGroup[a],u=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?s(r.childrenAfterGroup[a],u):i(l,u)}i(r,o)},n=r=>s(r,!1);t.executeFromRootNode(n)}else{const s=n=>i(n,!1);t.forEachChangedNodeDepthFirst(s,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},VX=class extends _D{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,i,s,n){this.comp=e;const r=gm(this,this.beans.context,n);this.eButtonShowMainFilter=i,this.eFloatingFilterBody=s,this.setGui(t,r),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r),r.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(r)}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,i=e.colDef;return nt(t.gos,{colDef:i,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Gr("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new af(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();WC(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){var o;const{beans:t}=this;if(Fi(t)===this.eGui)return;const n=ah(t,this.eGui,null,e.shiftKey);if(n){(o=t.headerNavigation)==null||o.scrollToColumn(this.column),e.preventDefault(),n.focus();return}const r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let i=this.column;do if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case Se.UP:case Se.DOWN:t||e.preventDefault();case Se.LEFT:case Se.RIGHT:if(t)return;e.stopPropagation();case Se.ENTER:t&&qu(this.eGui)&&e.preventDefault();break;case Se.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),s=!!e.relatedTarget&&Lu(e.relatedTarget,"ag-floating-filter");if(i&&s&&e.target===this.eGui){const n=this.lastFocusEvent,r=!!(n&&n.key===Se.TAB);if(n&&r){const o=n.shiftKey;qu(this.eGui,o)}}this.focusThis()}setupHover(e){var t;(t=this.beans.colHover)==null||t.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new ND(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){var e;this.suppressFilterButton=!((e=this.beans.menuSvc)!=null&&e.isFloatingFilterButtonEnabled(this.column)),this.highlightFilterButtonWhenActive=!sr(this.gos)}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){var t;const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;(t=this.beans.menuSvc)==null||t.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,i=s=>{if((s==null?void 0:s.source)==="filterDestroyed"&&!this.isAlive())return;const n=this.comp.getFloatingFilterComp();n&&n.then(r=>{if(r){const o=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),a=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;r.onParentModelChanged(o,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:i}),t!=null&&t.isFilterActive(this.column)&&i(null)}setupWidth(e){const t=()=>{const i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var r;const t=this.active;this.setupActive();const i=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const s=this.active?(r=this.beans.filterManager)==null?void 0:r.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,n=this.comp.getFloatingFilterComp();!n||!s?this.updateCompDetails(e,s,i):n.then(o=>{var a;!o||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,s)?this.updateCompDetails(e,s,i):this.updateFloatingFilterParams(s)})}updateCompDetails(e,t,i){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var i;if(!e)return;const t=e.params;(i=this.comp.getFloatingFilterComp())==null||i.then(s=>{s!=null&&s.refresh&&typeof s.refresh=="function"&&s.refresh(t)})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function WX(e,t){var s;const i=e.colModel.getCol(t);if(!i){$t(12,{colKey:t});return}(s=e.menuSvc)==null||s.showColumnMenu({column:i,positionBy:"auto"})}function UX(e){var t;(t=e.menuSvc)==null||t.hidePopupMenu()}var jX={moduleName:"SharedMenu",version:We,beans:[t9],apiFunctions:{showColumnMenu:WX,hidePopupMenu:UX}},YX=0,KX=200,$X=class extends Me{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:i,column:s,node:n,event:r}=e,o=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,i);let l=!1;const u=()=>{const h=this.keepXYWithinBounds(i,o.top-a.top,0),f=i.clientWidth>0?i.clientWidth:200;l||(i.style.minWidth=`${f}px`,l=!0);const m=a.right-a.left-f;let y;return this.gos.get("enableRtl")?(y=x(),y<0&&(y=C(),this.setAlignedStyles(i,"left")),y>m&&(y=0,this.setAlignedStyles(i,"right"))):(y=C(),y>m&&(y=x(),this.setAlignedStyles(i,"right")),y<0&&(y=0,this.setAlignedStyles(i,"left"))),{x:y,y:h};function C(){return o.right-a.left-2}function x(){return o.left-a.left-f}};this.positionPopup({ePopup:i,keepWithinBounds:!0,updatePosition:u,postProcessCallback:()=>this.callPostProcessPopup("subMenu",i,t,r instanceof MouseEvent?r:void 0,s,n)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:s,skipObserver:n}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:!0,skipObserver:n,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:n,eventSource:r,alignSide:o="left",position:a="over",column:l,rowNode:u,type:h}=e,f=r.getBoundingClientRect(),g=this.getParentRect();this.setAlignedTo(r,t);const m=()=>{let y=f.left-g.left;o==="right"&&(y-=t.offsetWidth-f.width);let C;return a==="over"?(C=f.top-g.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,f,g,e.nudgeY||0)==="under"?C=f.top-g.top+f.height:C=f.top-t.offsetHeight-(s||0)*2-g.top),{x:y,y:C}};this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:n,updatePosition:m,postProcessCallback:()=>this.callPostProcessPopup(h,t,r,null,l,u)})}shouldRenderUnderOrAbove(e,t,i,s){const n=i.bottom-t.bottom,r=t.top-i.top,o=e.offsetHeight+s;return n>o?"under":r>o||r>n?"above":"under"}setAlignedStyles(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const s=this.popupList[i],{alignedToElement:n}=s;!n||(["right","left","over","above","under"].forEach(o=>{n.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(n.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const i=this.getPopupIndex(t);if(i!==-1){const s=this.popupList[i];s.alignedToElement=e}}callPostProcessPopup(e,t,i,s,n,r){const o=this.gos.getCallback("postProcessPopup");o&&o({column:n,rowNode:r,ePopup:t,type:e,eventSource:i,mouseEvent:s})}positionPopup(e){const{ePopup:t,keepWithinBounds:i,nudgeX:s,nudgeY:n,skipObserver:r,updatePosition:o}=e,a={width:0,height:0},l=(u=!1)=>{let{x:h,y:f}=o();u&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,s&&(h+=s),n&&(f+=n),i&&(h=this.keepXYWithinBounds(t,h,1),f=this.keepXYWithinBounds(t,f,0)),t.style.left=`${h}px`,t.style.top=`${f}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!r){const u=hl(this.beans,t,()=>l(!0));setTimeout(()=>u(),KX)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=Gi(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),NO(t)}keepXYWithinBounds(e,t,i){const s=i===0,n=s?"clientHeight":"clientWidth",r=s?"top":"left",o=s?"height":"width",a=s?"scrollTop":"scrollLeft",l=Gi(this.beans),u=l.documentElement,h=this.getPopupParent(),f=e.getBoundingClientRect(),g=h.getBoundingClientRect(),m=l.documentElement.getBoundingClientRect(),y=h===l.body,C=Math.ceil(f[o]);let b=y?(s?OO:Ev)(u)+u[a]:h[n];y&&(b-=Math.abs(m[r]-g[r]));const w=b-C;return Math.min(Math.max(t,0),Math.abs(w))}addPopup(e){const t=Gi(this.beans),{eChild:i,ariaLabel:s,alwaysOnTop:n,positionCallback:r,anchorToElement:o}=e;if(!t)return Pe(122),{hideFunc:()=>{}};const a=this.getPopupIndex(i);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,s,!!n),u=this.addEventListenersToPopup({...e,wrapperEl:l});return r&&r(),this.addPopupToPopupList(i,l,u,o),{hideFunc:u}}initialisePopupPosition(e){const i=this.getPopupParent().getBoundingClientRect();He(e.style.top)||(e.style.top=`${i.top*-1}px`),He(e.style.left)||(e.style.left=`${i.left*-1}px`)}createPopupWrapper(e,t,i){const s=this.getPopupParent(),n=document.createElement("div"),{environment:r,gos:o}=this.beans;return r.applyThemeClasses(n),n.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||To(e,"dialog"),WC(e,t),n.appendChild(e),s.appendChild(n),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),n}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const i of this.popupList)t.applyThemeClasses(i.wrapper)}}addEventListenersToPopup(e){const t=this.beans,i=Gi(t),s=this.getPopupParent(),{wrapperEl:n,eChild:r,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:u}=e;let h=!1;const f=C=>{if(!n.contains(Fi(t)))return;C.key===Se.ESCAPE&&!Ka(C)&&y({keyboardEvent:C})},g=C=>y({mouseEvent:C}),m=C=>y({touchEvent:C}),y=(C={})=>{const{mouseEvent:x,touchEvent:b,keyboardEvent:w,forceHide:M}=C;!M&&(this.isEventFromCurrentPopup({mouseEvent:x,touchEvent:b},r)||h)||(h=!0,s.removeChild(n),i.removeEventListener("keydown",f),i.removeEventListener("mousedown",g),i.removeEventListener("touchstart",m),i.removeEventListener("contextmenu",g),this.eventSvc.removeEventListener("dragStarted",g),o&&o(x||b||w),this.removePopupFromPopupList(r))};return a&&a({hidePopup:y}),window.setTimeout(()=>{l&&i.addEventListener("keydown",f),u&&(i.addEventListener("mousedown",g),this.eventSvc.addEventListener("dragStarted",g),i.addEventListener("touchstart",m),i.addEventListener("contextmenu",g))},0),y}addPopupToPopupList(e,t,i,s){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:YX++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(e,s)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const s=this.popupList[i];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(r=>r&&r()),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!t)return;const n=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:s.hideFunc});return s.stopAnchoringPromise=n,s.isAnchored=!0,n}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:s,ePopup:n}=e,r=s.getBoundingClientRect(),o=f=>parseInt(f.substring(0,f.length-1),10),a=(f,g)=>{const m=i[f]-r[f],y=o(n.style[f]);return{initialDiff:m,lastDiff:m,initial:y,last:y,direction:g}},l=a("top",0),u=a("left",1),h=this.beans.frameworkOverrides;return new yi(f=>{h.wrapIncoming(()=>{h.setInterval(()=>{const g=t.getBoundingClientRect(),m=s.getBoundingClientRect();if(m.top==0&&m.left==0&&m.height==0&&m.width==0){e.hidePopup();return}const C=(x,b)=>{const w=o(n.style[b]);x.last!==w&&(x.initial=w,x.last=w);const M=g[b]-m[b];if(M!=x.lastDiff){const A=this.keepXYWithinBounds(n,x.initial+x.initialDiff-M,x.direction);n.style[b]=`${A}px`,x.last=A}x.lastDiff=M};C(l,"top"),C(u,"left")},200).then(g=>{f(()=>{g!=null&&window.clearInterval(g)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:s}=e,n=i||s;if(!n)return!1;const r=this.getPopupIndex(t);if(r===-1)return!1;for(let o=r;o<this.popupList.length;o++){const a=this.popupList[o];if(JU(a.element,n))return!0}return this.isElementWithinCustomPopup(n.target)}isElementWithinCustomPopup(e){const t=Gi(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),s=i.length,n=this.getWrapper(e);if(!n||s<=1||!t.contains(e))return;const r=[],o=[];for(const g of i)g!==n&&(g.classList.contains("ag-always-on-top")?o.push(g):r.push(g));const a=[],l=o.length,f=n.classList.contains("ag-always-on-top")||!l?[...r,...o,n]:[...r,n,...o];for(let g=0;g<=s;g++){const m=f[g];if(i[g]===f[g]||m===n)continue;m.querySelectorAll("div").forEach(C=>{C.scrollTop!==0&&a.push([C,C.scrollTop])}),g===0?t.insertAdjacentElement("afterbegin",m):f[g-1].insertAdjacentElement("afterend",m)}for(;a.length;){const g=a.pop();g[0].scrollTop=g[1]}}},XC={moduleName:"Popup",version:We,beans:[$X]},XX=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-set-floating-filter-input [disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function ZX(e){const t=e.filterManager;return!!(t!=null&&t.isColumnFilterPresent())||!!(t!=null&&t.isAggregateFilterPresent())}function qX(e,t){var i;return((i=e.filterManager)==null?void 0:i.getColumnFilterInstance(t))??Promise.resolve(void 0)}function QX(e,t){var s;const i=e.colModel.getColDefCol(t);if(i)return(s=e.filterManager)==null?void 0:s.destroyFilter(i,"api")}function JX(e,t){e.frameworkOverrides.wrapIncoming(()=>{var i;return(i=e.filterManager)==null?void 0:i.setFilterModel(t)})}function eZ(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function tZ(e,t){var i;return((i=e.filterManager)==null?void 0:i.getColumnFilterModel(t))??null}function iZ(e,t,i){var s;return((s=e.filterManager)==null?void 0:s.setColumnFilterModel(t,i))??Promise.resolve()}function sZ(e,t){var s;const i=e.colModel.getCol(t);if(!i){$t(12,{colKey:t});return}(s=e.menuSvc)==null||s.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}var tF={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},iF=["january","february","march","april","may","june","july","august","september","october","november","december"];function nZ(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}var rZ=class extends Me{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:i})=>{var s;(i.rowDataUpdated||(s=i.changedProps)!=null&&s.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){const{colModel:i,dataTypeSvc:s,filterManager:n}=this.beans;if(s!=null&&s.isPendingInference){this.filterModelUpdateQueue.push({model:e,source:t});return}const r=[],o=this.getFilterModel(!0);if(e){const a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,u)=>{const h=e[u];r.push(Ty(l.filterPromise,h)),a.delete(u)}),a.forEach(l=>{const u=i.getColDefCol(l)||i.getCol(l);if(!u){Pe(62,{colId:l});return}if(!u.isFilterAllowed()){Pe(63,{colId:l});return}const h=this.getOrCreateFilterWrapper(u);if(!h){Pe(64,{colId:l});return}r.push(Ty(h.filterPromise,e[l]))})}else this.allColumnFilters.forEach(a=>{r.push(Ty(a.filterPromise,null))});yi.all(r).then(()=>{const a=this.getFilterModel(!0),l=[];this.allColumnFilters.forEach((u,h)=>{const f=o?o[h]:null,g=a?a[h]:null;kp(f,g)||l.push(u.column)}),l.length>0&&(n==null||n.onFilterChanged({columns:l,source:t}))})}getFilterModel(e){var r;const t={},{allColumnFilters:i,initialFilterModel:s,beans:{colModel:n}}=this;if(i.forEach((o,a)=>{const l=this.getModelFromFilterWrapper(o);He(l)&&(t[a]=l)}),!e)for(const o of Object.keys(s)){const a=s[o];He(a)&&!i.has(o)&&((r=n.getCol(o))!=null&&r.isFilterAllowed())&&(t[o]=a)}return t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(Pe(66),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=a=>a?a.isFilterActive?a.isFilterActive():(Pe(67),!1):!1,{colModel:t,gos:i}=this.beans,s=!!tM(i),n=a=>{if(!a.isPrimary())return!0;const u=!t.isPivotActive();return!a.isValueActive()||!u?!1:t.isPivotMode()?!0:s},r=[],o=[];return this.forEachColumnFilter((a,l)=>{e(a)&&(n(l.column)?r.push(a):o.push(a))}).then(()=>{this.activeAggregateFilters=r,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((i,s)=>this.setColFilterActive(s.column,i.isFilterActive(),e,t))}forEachColumnFilter(e){const t=[];return this.allColumnFilters.forEach(i=>{const s=i.filterPromise;s&&t.push(s.then(n=>e(n,i)))}),yi.all(t)}doColumnFiltersPass(e,t,i){const{data:s,aggData:n}=e,r=i?this.activeAggregateFilters:this.activeColumnFilters,o=i?n:s;for(let a=0;a<r.length;a++){const l=r[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function"){$t(91);continue}if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:i}=this.beans,s=()=>{this.isAlive()&&(i==null||i.onFilterChanged(e))};t.isRefreshInProgress()?setTimeout(s,0):s()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:i}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(s=>{s.filterPromise&&s.filterPromise.then(n=>{n&&n!==t&&n.onAnyFilterChanged&&n.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{var i;(i=t.onNewRowsLoaded)==null||i.call(t)}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e){const{filterValueSvc:t,colModel:i}=this.beans;return(s,n)=>{const r=n?i.getCol(n):e;return r?t.getValue(r,s):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;const{gos:i,dataTypeSvc:s}=this.beans;if(Rw(i))t="agSetColumnFilter";else{const n=s==null?void 0:s.getBaseDataType(e);n==="number"?t="agNumberColumnFilter":n==="date"||n==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;const{gos:i,dataTypeSvc:s}=this.beans;if(Rw(i))t="agSetColumnFloatingFilter";else{const n=s==null?void 0:s.getBaseDataType(e);n==="number"?t="agNumberColumnFloatingFilter":n==="date"||n==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const i=this.getDefaultFilter(e),s=e.getColDef();let n;const r={...this.createFilterParams(e,s),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(n,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(n,e)(a),doesRowPassOtherFilter:a=>{var l;return((l=this.beans.filterManager)==null?void 0:l.doesRowPassOtherFilters(n,a))??!0}},o=lj(this.beans.userCompFactory,s,r,i);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a.then(l=>{n=l,t&&(t.filter=l??void 0)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return nt(this.gos,{column:e,colDef:t,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compDetails:null},{filterPromise:i,compDetails:s}=this.createFilterInstance(e,t);return t.filterPromise=(i==null?void 0:i())??null,t.compDetails=s,t}onColumnsChanged(){const e=[],{colModel:t,filterManager:i}=this.beans;this.allColumnFilters.forEach((n,r)=>{let o;n.column.isPrimary()?o=t.getColDefCol(r):o=t.getCol(r),!(o&&o===n.column)&&(e.push(n.column),this.disposeFilterWrapper(n,"columnChanged"),this.disposeColumnListener(r))});const s=e.every(sF);e.length>0&&!s?i==null||i.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){var e,t;(t=(e=this.beans.autoColSvc)==null?void 0:e.getColumns())==null||t.forEach(i=>{sF(i)&&this.getOrCreateFilterWrapper(i)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:i}=this.allColumnFilters.get(e.getColId())??{};return i&&typeof(i==null?void 0:i.isFilterAllowed)=="function"?i.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const i=h=>{var g;const f=(g=this.getOrCreateFilterWrapper(e))==null?void 0:g.filterPromise;f!=null&&f.then(m=>{h(Pp(m))})},s=e.getColDef(),n={...this.createFilterParams(e,s),filterChangedCallback:()=>i(h=>this.filterChangedCallbackFactory(h,e)())},{userCompFactory:r,frameworkOverrides:o}=this.beans,a=pj(r,s,n);let l=g8(o,s,()=>this.getDefaultFloatingFilter(e));l==null&&(l="agReadOnlyFloatingFilter");const u=nt(this.gos,{column:e,filterParams:a,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t});return fj(r,s,u,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){const i=e.getColId(),s=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],s&&this.disposeFilterWrapper(s,t).then(n=>{var r;n&&this.isAlive()&&((r=this.beans.filterManager)==null||r.onFilterChanged({columns:[e],source:"api"}))})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){var i;return((i=e.filterPromise)==null?void 0:i.then(s=>{const n=!!(s!=null&&s.isFilterActive());return this.destroyBean(s),this.setColFilterActive(e.column,!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:e.column}),n}))??yi.resolve(!1)}filterModifiedCallbackFactory(e,t){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return i=>{const s=(i==null?void 0:i.source)??"columnFilter",n={filter:e,additionalEventAttributes:i,columns:[t],source:s};this.callOnFilterChangedOutsideRenderCycle(n)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:s}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,s)){this.destroyFilter(i,"paramsUpdated");return}const n=i.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(i,"paramsUpdated");return}t.filterPromise.then(r=>{(r!=null&&r.refresh?r.refresh({...this.createFilterParams(i,i.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(r,i),filterChangedCallback:this.filterChangedCallbackFactory(r,i),doesRowPassOtherFilter:a=>{var l;return((l=this.beans.filterManager)==null?void 0:l.doesRowPassOtherFilters(r,a))??!0},...n}):!0)===!1&&this.destroyFilter(i,"paramsUpdated")})}setColumnFilterWrapper(e,t){const i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:i}=e,{componentClass:s}=t;return!(i===s||(i==null?void 0:i.render)&&(s==null?void 0:s.render)&&i.render===s.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(i=>{t(Pp(i))})})}getFilterInstanceImpl(e){var s;const t=this.beans.colModel.getColDefCol(e);return t?((s=this.getOrCreateFilterWrapper(t))==null?void 0:s.filterPromise)??yi.resolve(null):yi.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){const{colModel:i,dataTypeSvc:s}=this.beans;if(s!=null&&s.isPendingInference){let a=()=>{};const l=new Promise(u=>{a=u});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:a}),l}const n=i.getColDefCol(e),r=n?this.getOrCreateFilterWrapper(n):null;return r?(a=>new Promise(l=>{a.then(u=>l(u))}))(Ty(r.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.beans.colModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,i){const s=Rw(this.gos),n=this.getLocaleTextFunc(),r=o=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?{...a,...o}:o};switch(t.baseDataType){case"number":{s&&r({comparator:nZ});break}case"boolean":{r(s?{valueFormatter:o=>He(o.value)?n(String(o.value),o.value?"True":"False"):n("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break}case"date":{r(s?{valueFormatter:o=>{const a=i(o);return He(a)?a:n("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(o==="NaN")return n("invalidDate","Invalid Date");if(a===1&&o!=null){const l=iF[Number(o)-1];return n(l,tF[l])}return o??n("blanks","(Blanks)")}}:{isValidDate:nF});break}case"dateString":{const o=t.dateParser;r(s?{valueFormatter:a=>{const l=i(a);return He(l)?l:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=o(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){const u=iF[Number(a)-1];return n(u,tF[u])}return a??n("blanks","(Blanks)")}}:{comparator:(a,l)=>{const u=o(l);return l==null||u<a?-1:u>a?1:0},isValidDate:a=>typeof a=="string"&&nF(o(a))});break}case"object":{s?r({valueFormatter:o=>{const a=i(o);return He(a)?a:n("blanks","(Blanks)")}}):e.filterValueGetter=o=>i({column:o.column,node:o.node,value:this.beans.valueSvc.getValue(o.column,o.node)});break}}}setColFilterActive(e,t,i,s){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",i)),e.dispatchColEvent("filterChanged",i,s)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function Ty(e,t){return e?new yi(i=>{e.then(s=>{typeof s.setModel!="function"&&(Pe(65),i()),(s.setModel(t)||yi.resolve()).then(()=>i())})}):yi.resolve()}function sF(e){return e.getColDef().filter==="agGroupColumnFilter"}function nF(e){return e instanceof Date&&!isNaN(e.getTime())}function oZ(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function aZ(e,t="api"){var i;(i=e.filterManager)==null||i.onFilterChanged({source:t})}var lZ=class extends Me{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:s})=>this.onAdvFilterEnabledChanged(s),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:i}=this;this.alwaysPassFilter=i.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=i.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterModel(e,t="api"){var i;if(this.isAdvFilterEnabled()){this.warnAdvFilters();return}(i=this.colFilter)==null||i.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.colFilter)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isAggregateFilterPresent())}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){var t,i;e?(t=this.colFilter)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(i=this.advancedFilter)!=null&&i.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){var e;return!!((e=this.advancedFilter)!=null&&e.isEnabled())}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){tM(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:i,columns:s=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):yi.resolve()).then(()=>{var r;const n={source:t,type:"filterChanged",columns:s};i&&Wn(n,i),this.eventSvc.dispatchEvent(n),(r=this.colFilter)==null||r.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.colFilter)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilter)!=null&&e.isFilterPresent())}updateAggFiltering(){this.aggFiltering=!!tM(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){var i;const{rowNode:t}=e;return(i=this.alwaysPassFilter)!=null&&i.call(this,t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(t,e.filterInstanceToSkip))}doesRowPassFilter(e){var i;const{rowNode:t}=e;return(i=this.alwaysPassFilter)!=null&&i.call(this,t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(t,e.filterInstanceToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterActive(e){var t;return!!((t=this.colFilter)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.colFilter)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.colFilter.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.colFilter.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvFilterEnabled()?!1:!!((t=this.colFilter)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var i;return(i=this.colFilter)==null?void 0:i.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.colFilter)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var i;(i=this.colFilter)==null||i.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var i;return!!((i=this.colFilter)!=null&&i.areFilterCompsDifferent(e,t))}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){var i;if(this.isAdvFilterEnabled()){if((i=this.beans.dataTypeSvc)!=null&&i.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvFilterEnabled()?!1:!!((e=this.colFilter)!=null&&e.hasFloatingFilters())}getColumnFilterInstance(e){var t;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):((t=this.colFilter)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvFilters(){Pe(68)}setupAdvFilterHeaderComp(e){var t;(t=this.advancedFilter)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.colFilter)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var i;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):((i=this.colFilter)==null?void 0:i.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,i){var s;(s=this.colFilter)==null||s.setColDefPropertiesForDataType(e,t,i)}},cZ=class extends Me{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){var e;(e=this.hidePopup)==null||e.call(this)}showMenuAfterMouseEvent(e,t,i,s){this.showPopup(e,n=>{var r;(r=this.popupSvc)==null||r.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:n})},i,t.target,sr(this.gos),s)}showMenuAfterButtonClick(e,t,i,s){let n=-1,r="left";const o=sr(this.gos);!o&&this.gos.get("enableRtl")&&(n=1,r="right");const a=o?void 0:4*n,l=o?void 0:4;this.showPopup(e,u=>{var h;(h=this.popupSvc)==null||h.positionPopupByComponent({type:i,eventSource:t,ePopup:u,nudgeX:a,nudgeY:l,alignSide:r,keepWithinBounds:!0,position:"under",column:e})},i,t,o,s)}showPopup(e,t,i,s,n,r){var C;const o=e?this.createBean(new c8(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!(o!=null&&o.hasFilter())||!e){$t(57);return}const a=document.createElement("div");To(a,"presentation"),a.classList.add("ag-menu"),n||a.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(a,{keydown:x=>this.trapFocusWithin(x,a)}),a.appendChild(o==null?void 0:o.getGui());let l;const u=()=>o==null?void 0:o.afterGuiDetached(),h=$U(this.gos)?s??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,f=x=>{BL(e,!1,"contextMenu");const b=x instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),b&&s&&sa(s)){const w=SN(s);w==null||w.focus({preventScroll:!0})}u(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e),r==null||r()},g=this.getLocaleTextFunc(),m=n&&i!=="columnFilter"?g("ariaLabelColumnMenu","Column Menu"):g("ariaLabelColumnFilter","Column Filter"),y=(C=this.popupSvc)==null?void 0:C.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:f,positionCallback:()=>t(a),anchorToElement:h,ariaLabel:m});y&&(this.hidePopup=l=y.hideFunc),o.afterInit().then(()=>{t(a),o.afterGuiAttached({container:i,hidePopup:l})}),BL(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==Se.TAB||e.defaultPrevented||ah(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),qu(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:i??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},uZ=class extends Me{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t){if(!t)return;const i=e.getColDef(),{filterValueGetter:s}=i;return s?this.executeFilterValueGetter(s,t.data,e,t,i):this.beans.valueSvc.getValue(e,t)}executeFilterValueGetter(e,t,i,s,n){const{expressionSvc:r,valueSvc:o}=this.beans,a=nt(this.gos,{data:t,node:s,column:i,colDef:n,getValue:o.getValueCallback.bind(o,s)});return typeof e=="function"?e(a):r==null?void 0:r.evaluate(e,a)}},hZ=class extends Ci{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[YC]),this.eFloatingFilterText=tt}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})}refresh(e){this.init(e)}},M_=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const i=[["displayKey"],["displayName"],["predicate","test"]],s=n=>n.some(r=>t[r]!=null)?!0:(Pe(72,{keys:n}),!1);if(!i.every(s)){this.filterOptions=e.filter(n=>n===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(e){const{filterOptions:t}=this;if(e.defaultOption)this.defaultOption=e.defaultOption;else if(t.length>=1){const i=t[0];typeof i=="string"?this.defaultOption=i:i.displayKey?this.defaultOption=i.displayKey:Pe(73)}else Pe(74)}getCustomOption(e){return this.customFilterOptions[e]}};function rp(e,t,i){return i==null?e.splice(t):e.splice(t,i)}function Zv(e){return e==null||typeof e=="string"&&e.trim().length===0}function dZ(e){return e==="AND"||e==="OR"?e:"AND"}function fZ(e,t,i){if(e==null)return;const{predicate:s}=e;if(s!=null&&!t.some(n=>n==null))return s(t,i)}function gZ(e,t){let i=e.length;return i>t&&(e.splice(t),Pe(78),i=t),i}var D_=class extends f8{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:s}=t;return s??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{const s=i===0?e:this.optionsFactory.defaultOption;t.setValue(s,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOperatorsOr:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const i=!e.operator,s=!t.operator;if(!i&&s||i&&!s)return!1;let r;if(i){const o=e,a=t;r=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;r=o.operator===a.operator&&oh(o.conditions,a.conditions,(l,u)=>this.areSimpleModelsEqual(l,u))}return r}shouldRefresh(e){var r;const t=this.getModel(),i=t?t.conditions??[t]:null,s=((r=e.filterOptions)==null?void 0:r.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!i||i.every(o=>s.find(a=>a===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&i&&i.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const i=e;let s=i.conditions;s==null&&(s=[],Pe(77));const n=gZ(s,this.maxNumConditions),r=this.getNumConditions();if(n<r)this.removeConditionsAndOperators(n);else if(n>r)for(let a=r;a<n;a++)this.createJoinOperatorPanel(),this.createOption();const o=i.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),s.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),yi.resolve()}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:i}=t,s=[];if(i){const r=t;s.push(...r.conditions??[])}else s.push(t);return s[i&&i==="OR"?"some":"every"](r=>this.individualConditionPasses(e,r))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=dZ(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new M_,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(Pe(79),t=1),this.maxNumConditions=t;let i=e.numAlwaysVisibleConditions??1;i<1&&(Pe(80),i=1),i>t&&(Pe(81),i=t),this.numAlwaysVisibleConditions=i}createOption(){const e=this.createManagedBean(new HD);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const i=this.getNumConditions()-1;this.forEachPositionInput(i,s=>this.resetInput(s)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const s=this.eJoinOperatorPanels.length-1,n=this.joinOperatorId++;this.resetJoinOperatorAnd(t,s,n),this.resetJoinOperatorOr(i,s,n),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){const s=this.createManagedBean(new y9);e.push(s);const n="ag-filter-condition-operator";return s.addCssClass(n),s.addCssClass(`${n}-${i}`),t.appendChild(s.getGui()),s}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(i=>{e.addOption(i)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const i=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<i){this.removeConditionsAndOperators(i+1);const s=e+1,n=i-s;n>0&&this.removeConditionsAndOperators(s,n),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((s,n)=>{const r=this.isConditionDisabled(n,e);s.setDisabled(r||this.filterListOptions.length<=1),n===1&&(Ep(this.eJoinOperatorPanels[0],r),this.eJoinOperatorsAnd[0].setDisabled(r),this.eJoinOperatorsOr[0].setDisabled(r))}),this.eConditionBodies.forEach((s,n)=>{Ri(s,this.isConditionBodyVisible(n))});const i=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(s=>{s.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(s=>{s.setValue(i,!0)}),this.forEachInput((s,n,r,o)=>{this.setElementDisplayed(s,n<o),this.setElementDisabled(s,this.isConditionDisabled(r,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:i,eConditionBodies:s,eJoinOperatorPanels:n,eJoinOperatorsAnd:r,eJoinOperatorsOr:o}=this;this.removeComponents(i,e,t),this.removeElements(s,e,t),this.removeValueElements(e,t);const a=Math.max(e-1,0);this.removeElements(n,a,t),this.removeComponents(r,a,t),this.removeComponents(o,a,t)}removeElements(e,t,i){rp(e,t,i).forEach(n=>$u(n))}removeComponents(e,t,i){rp(e,t,i).forEach(n=>{$u(n.getGui()),this.destroyBean(n)})}afterGuiAttached(e){var t;if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus)){const{eFilterBody:i,eTypes:s}=this;let n;if(!this.isReadOnly()){const r=this.getInputs(0)[0];r instanceof Au&&this.isConditionBodyVisible(0)?n=r.getInputElement():n=(t=s[0])==null?void 0:t.getFocusableElement()}(n??i).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,s=!1;const n=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,i=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),s=!0,l&&i--)}let r=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),r=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),r=!0),r&&this.updateConditionStatusesAndValues(i,n),s&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(typeof this.filterPlaceholder=="function"){const s=this.eTypes[t].getValue(),n=this.translate(s);i=this.filterPlaceholder({filterOptionKey:s,filterOption:n,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,i,s,n)=>{if(!(t instanceof Au))return;const r=i===0&&n>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",o=i===0&&n>1?e("ariaFilterFromValue","Filter from value"):i===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(r,s)),t.setInputAriaLabel(o)})}setElementValue(e,t,i){e instanceof Au&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Ci&&Ri(e.getGui(),t)}setElementDisabled(e,t){e instanceof Ci&&Ep(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Au&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){const s=this.getNumberOfInputs(t),n=this.getInputs(e);for(let r=0;r<n.length;r++){const o=n[r];o!=null&&i(o,r,e,s)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(i=>i==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),yi.resolve()}resetType(e){const i=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),i)}resetJoinOperator(e,t,i,s,n){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${n}`).setLabel(s),t)}updateJoinOperatorsDisabled(){const e=(t,i)=>this.updateJoinOperatorDisabled(t,i);this.eJoinOperatorsAnd.forEach(e),this.eJoinOperatorsOr.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const i=this.mapValuesFromModel(e);this.forEachInput((s,n,r)=>{r===t&&this.setElementValue(s,i[n]!=null?i[n]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,s)=>{this.setElementValue(t,i===0&&s===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,t){const i=this.getCellValue(e.node),s=this.mapValuesFromModel(t),n=this.optionsFactory.getCustomOption(t.type),r=fZ(n,s,i);return r??(i==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(s,i,t,e))}hasInvalidInputs(){return!1}},A_=class extends D_{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:i,includeBlanksInGreaterThan:s,includeBlanksInLessThan:n,includeBlanksInRange:r}=this.scalarFilterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(i)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(s)return!0;break;case"lessThan":case"lessThanOrEqual":if(n)return!0;break;case"inRange":if(r)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){const s=i.type;if(!this.isValid(t))return s==="notEqual"||s==="notBlank";const n=this.comparator(),r=e[0]!=null?n(e[0],t):0;switch(s){case"equals":return r===0;case"notEqual":return r!==0;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const o=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?r>=0&&o<=0:r>0&&o<0}case"blank":return Zv(t);case"notBlank":return!Zv(t);default:return Pe(76,{filterModelType:s}),!0}}},E_=class{constructor(e,t,i,s,n){this.alive=!0,this.context=e,this.eParent=s;const r=cj(t,i);r&&r.newAgStackInstance().then(o=>{var u,h;if(!this.alive){e.destroyBean(o);return}if(this.dateComp=o,!o)return;s.appendChild(o.getGui()),(u=o==null?void 0:o.afterGuiAttached)==null||u.call(o);const{tempValue:a,disabled:l}=this;a&&o.setDate(a),l!=null&&((h=o.setDisabled)==null||h.call(o,l)),n==null||n(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){var i;const t=this.dateComp;t?(i=t.setDisabled)==null||i.call(t,e):this.disabled=e}setDisplayed(e){Ri(this.eParent,e)}setInputPlaceholder(e){var t,i;(i=(t=this.dateComp)==null?void 0:t.setInputPlaceholder)==null||i.call(t,e)}setInputAriaLabel(e){var t,i;(i=(t=this.dateComp)==null?void 0:t.setInputAriaLabel)==null||i.call(t,e)}afterGuiAttached(e){var t,i;(i=(t=this.dateComp)==null?void 0:t.afterGuiAttached)==null||i.call(t,e)}updateParams(e){var t,i;(i=(t=this.dateComp)==null?void 0:t.refresh)==null||i.call(t,e)}},T_=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],YD=class{constructor(e,t,i){this.getLocaleTextFunc=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;const t=e.operator!=null,i=this.getLocaleTextFunc();if(t){const s=e,r=(s.conditions??[]).map(a=>this.getModelAsString(a)),o=s.operator==="AND"?"andCondition":"orCondition";return r.join(` ${i(o,FN[o])} `)}else{if(e.type==="blank"||e.type==="notBlank")return i(e.type,e.type);{const s=e,n=this.optionsFactory.getCustomOption(s.type),{displayKey:r,displayName:o,numberOfInputs:a}=n||{};return r&&o&&a===0?(i(r,o),o):this.conditionToString(s,n)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},R_=class extends YD{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:s}=t||{},n=i=="inRange"||s===2,r=Vn(e.dateFrom),o=Vn(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(n){const l=r!==null?sp(r,a):"null",u=o!==null?sp(o,a):"null";return`${l}-${u}`}return r!=null?sp(r,a):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},rF=1e3,oF=1/0,pZ=class extends A_{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=rF,this.maxValidYear=oF,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:i,type:s}=e||{};return[t&&Vn(t)||null,i&&Vn(i)||null].slice(0,this.getNumberOfInputs(s))}comparator(){return this.dateFilterParams.comparator??mZ}isValid(e){const t=this.dateFilterParams.isValidDate;return!t||t(e)}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(i,s)=>{if(e[i]!=null)if(isNaN(e[i]))Pe(82,{param:i});else return e[i]==null?s:Number(e[i]);return s};this.minValidYear=t("minValidYear",rF),this.maxValidYear=t("maxValidYear",oF),this.minValidYear>this.maxValidYear&&Pe(83),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:Vn(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:Vn(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&Pe(84),this.filterModelFormatter=new R_(this.dateFilterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory)}createDateCompWrapper(e){const{userCompFactory:t,context:i,gos:s}=this.beans,n=new E_(i,t,nt(s,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams,location:"filter"}),e);return this.addDestroyFunc(()=>n.destroy()),n}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return T_}createValueElement(){const t=Gi(this.beans).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,i,s){const r=Gi(this.beans).createElement("div");r.classList.add(`ag-filter-${s}`),r.classList.add(`ag-filter-date-${s}`),t.push(r),e.appendChild(r),i.push(this.createDateCompWrapper(r))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),rp(this.eConditionPanelsFrom,e,t),rp(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){rp(e,t,i).forEach(n=>n.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:i,minValidYear:s,maxValidYear:n}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<s)return!1;if(i){if(e>i)return!1}else if(e.getUTCFullYear()>n)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((i,s,n,r)=>{n!==e||!t||s>=r||(t=t&&this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),i={},s=this.getValues(e);return s.length>0&&(i.dateFrom=Yr(s[0])),s.length>1&&(i.dateTo=Yr(s[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...i}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(s=>{s.setInputPlaceholder(t),s.setInputAriaLabel(i)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:i}=this;return e>=t.length?[null,null]:[t[e],i[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,n,r)=>{s<r&&t.push(i.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function mZ(e,t){const i=t;return i<e?-1:i>e?1:0}var k_=class extends Ci{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let i;t?i=e.conditions[0]:i=e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const i=e;return this.isTypeEditable(i.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const i=new M_;this.optionsFactory=i,i.init(e.filterParams,this.getDefaultOptions());const s=i.defaultOption;t||(this.lastType=s),this.readOnly=!!e.filterParams.readOnly;const n=this.isTypeEditable(s);this.setEditable(n)}refresh(e){this.setSimpleParams(e)}hasSingleInput(e){var i;const t=(i=this.optionsFactory.getCustomOption(e))==null?void 0:i.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},yZ=class extends k_{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[YC]),this.eReadOnlyText=tt,this.eDateWrapper=tt}getDefaultOptions(){return T_}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new R_(this.filterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.dateComp.updateParams(this.getDateComponentParams()),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const i=e?Vn(e.dateFrom):null;this.dateComp.setDate(i),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Ri(this.eDateWrapper,e),Ri(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=Yr(e);this.params.parentFilterInstance(i=>{if(i){const s=Vn(t);i.onFloatingFilterChanged(this.lastType||null,s)}})}getDateComponentParams(){const{filterParams:e,column:t}=this.params,i=kD(e,this.defaultDebounceMs);return nt(this.gos,{onDateChanged:_s(this,this.onDateChanged.bind(this),i),filterParams:t.getColDef().filterParams,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:i}=this;this.dateComp=new E_(e,t,this.getDateComponentParams(),i,s=>{s.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},vZ=class extends Ci{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[YC]),this.eDateInput=tt,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e,t){if(t.target===Fi(this.beans)&&!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&Dc(),t.type=i?"date":"text";const{minValidYear:s,maxValidYear:n,minValidDate:r,maxValidDate:o,buttons:a}=e.filterParams||{};if(r&&s&&Pe(85),o&&n&&Pe(86),r&&o){const[l,u]=[r,o].map(h=>h instanceof Date?h:Vn(h));l&&u&&l.getTime()>u.getTime()&&Pe(87)}r?r instanceof Date?t.min=sp(r):t.min=r:s&&(t.min=`${s}-01-01`),o?o instanceof Date?t.max=sp(o):t.max=o:n&&(t.max=`${n}-12-31`),this.isApply=e.location==="floatingFilter"&&!!(a!=null&&a.includes("apply"))}refresh(e){this.params=e,this.setParams(e)}getDate(){return Vn(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Yr(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){var t;return((t=e==null?void 0:e.filterParams)==null?void 0:t.browserDatePicker)??!0}},I_=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],L_=class extends YD{conditionToString(e,t){const{numberOfInputs:i}=t||{},{filter:s,filterTo:n,type:r}=e,o=r=="inRange"||i===2,a=this.formatValue.bind(this);return o?`${a(s)}-${a(n)}`:s!=null?a(s):`${r}`}};function yM(e){const{allowedCharPattern:t}=e??{};return t??null}var CZ=class extends A_{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:s}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(s))}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new L_(this.getLocaleTextFunc.bind(this),this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return I_}setElementValue(e,t,i){const{numberFormatter:s}=this.numberFilterParams,n=!i&&s?s(t??null):t;super.setElementValue(e,n)}createValueElement(){const e=yM(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),To(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,s){const n=this.createManagedBean(s?new lh({allowedCharPattern:s}):new zD);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){const i=s=>this.removeComponents(s,e,t);i(this.eValuesFrom),i(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,n,r)=>{s<r&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Ya(e);t!=null&&t.trim()===""&&(t=null);const i=this.numberFilterParams.numberParser;return i?i(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.filterType,type:t},s=this.getValues(e);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getInputs(e){const{eValuesFrom:t,eValuesTo:i}=this;return e>=t.length?[null,null]:[t[e],i[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},F_=class extends Me{constructor(e){super(),this.params=e,this.eInput=tt,this.onValueChanged=()=>{}}setupGui(e){var s;this.eInput=this.createManagedBean(new lh((s=this.params)==null?void 0:s.config));const t=this.eInput.getGui();e.appendChild(t);const i=n=>this.onValueChanged(n);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:i}=this;i.setInputAriaLabel(e),t!==void 0&&i.setAutoComplete(t)}};function P_(e){const t=e==null?void 0:e.trim();return t===""?e:t}var O_=class extends k_{constructor(){super(...arguments),this.eFloatingFilterInputContainer=tt,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1,{inputSvc:i,defaultDebounceMs:s,readOnly:n}=this;if(i.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=jv(e.filterParams),!n){const r=kD(e.filterParams,s),o=_s(this,this.syncUpWithParentFilter.bind(this),r);i.setValueChangedListener(o)}}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,i=t.getValue();lr(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(i,!0)}syncUpWithParentFilter(e){const t=e.key===Se.ENTER;if(this.applyActive&&!t)return;const{inputSvc:i,params:s}=this;let n=i.getValue();s.filterParams.trimInput&&(n=P_(n),i.setValue(n,!0)),s.parentFilterInstance(r=>{r==null||r.onFloatingFilterChanged(this.lastType||null,n||null)})}setEditable(e){this.inputSvc.setEditable(e)}},xZ=class extends Me{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new zD),this.eTextInput=this.createManagedBean(new lh),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),i=this.eTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,s=>this.onValueChanged(s)),this.setupListeners(i,s=>this.onValueChanged(s))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},bZ=class extends O_{init(e){var t;super.init(e),this.filterModelFormatter=new L_(this.getLocaleTextFunc.bind(this),this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}refresh(e){yM(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return I_}createFloatingFilterInputService(e){return this.allowedCharPattern=yM(e.filterParams),this.allowedCharPattern?this.createManagedBean(new F_({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new xZ)}},N_=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],__=class extends YD{conditionToString(e,t){const{numberOfInputs:i}=t||{},{filter:s,filterTo:n,type:r}=e;return r=="inRange"||i===2?`${s}-${n}`:s!=null?`${s}`:`${r}`}},SZ=class extends D_{constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:i})=>{if(i==null)return!1;switch(e){case"contains":return t.indexOf(i)>=0;case"notContains":return t.indexOf(i)<0;case"equals":return t===i;case"notEqual":return t!=i;case"startsWith":return t.indexOf(i)===0;case"endsWith":{const s=t.lastIndexOf(i);return s>=0&&s===t.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=e.textMatcher||this.defaultMatcher,this.formatter=e.textFormatter||(e.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new __(this.getLocaleTextFunc.bind(this),this.optionsFactory)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.filterType,type:t},s=this.getValuesWithSideEffects(e,!0);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:i}=this;return e>=t.length?[null,null]:[t[e],i[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const i=[];return this.forEachPositionInput(e,(s,n,r,o)=>{if(n<o){let a=Ya(s.getValue());t&&this.textFilterParams.trimInput&&(a=P_(a)??null,s.setValue(a,!0)),i.push(a)}}),i}getDefaultFilterOptions(){return N_}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),To(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){const s=this.createManagedBean(new lh);s.addCssClass(`ag-filter-${i}`),s.addCssClass("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeValueElements(e,t){const i=s=>this.removeComponents(s,e,t);i(this.eValuesFrom),i(this.eValuesTo)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:s}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(s))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,i,s){const n=e.map(g=>this.formatter(g))||[],r=this.formatter(t),{api:o,colDef:a,column:l,context:u,textFormatter:h}=this.textFilterParams;if(i.type==="blank")return Zv(t);if(i.type==="notBlank")return!Zv(t);const f={api:o,colDef:a,column:l,context:u,node:s.node,data:s.data,filterOption:i.type,value:r,textFormatter:h};return n.some(g=>this.matcher({...f,filterText:g}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},wZ=class extends O_{init(e){super.init(e),this.filterModelFormatter=new __(this.getLocaleTextFunc.bind(this),this.optionsFactory)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return N_}createFloatingFilterInputService(){return this.createManagedBean(new F_)}};function MZ(e){var t;return!!((t=e.quickFilter)!=null&&t.isFilterPresent())}function DZ(e){var t;return(t=e.quickFilter)==null?void 0:t.getText()}function AZ(e){var t;(t=e.quickFilter)==null||t.resetCache()}var EZ=class extends Me{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",i=>this.setFilter(i.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){var l;const{autoColSvc:e,colModel:t,gos:i,pivotResultCols:s}=this.beans,n=t.isPivotMode(),r=e==null?void 0:e.getColumns(),o=t.getColDefCols();let a=(n&&!i.get("applyQuickFilterBeforePivotOrAgg")?(l=s==null?void 0:s.getPivotResultCols())==null?void 0:l.list:o)??[];r&&(a=a.concat(r)),this.colsToUse=i.get("includeHiddenColumnsInQuickFilter")?a:a.filter(u=>u.isVisible()||u.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassCache(e,i):this.doesRowPassNoCache(e,i))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return He(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){Pe(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(i=>{const s=this.getTextForColumn(i,e);return He(s)&&s.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let i;e?(this.checkGenerateAggText(t),i=t.quickFilterAggregateText):i=this.getAggText(t);const{quickFilterParts:s,matcher:n}=this;return n(s,i)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let i=this.beans.filterValueSvc.getValue(e,t);const s=e.getColDef();if(s.getQuickFilterText){const n=nt(this.gos,{value:i,node:t,data:t.data,column:e,colDef:s});i=s.getQuickFilterText(n)}return He(i)?i.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(i=>{const s=this.getTextForColumn(i,e);He(s)&&t.push(s)}),t.join(`
`)}},TZ={moduleName:"ClientSideRowModelFilter",version:We,rowModels:["clientSide"],beans:[HX]},KD={moduleName:"FilterCore",version:We,beans:[lZ],apiFunctions:{isAnyFilterPresent:oZ,onFilterChanged:aZ},css:[XX],dependsOn:[TZ]},B_={moduleName:"FilterValue",version:We,beans:[uZ]},ZC={moduleName:"ColumnFilter",version:We,beans:[rZ,cZ],dynamicBeans:{headerFilterCellCtrl:VX},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:ZX,getColumnFilterInstance:qX,destroyFilter:QX,setFilterModel:JX,getFilterModel:eZ,getColumnFilterModel:tZ,setColumnFilterModel:iZ,showColumnFilter:sZ},dependsOn:[KD,XC,B_,jX]},RZ={moduleName:"CustomFilter",version:We,userComponents:{agReadOnlyFloatingFilter:hZ},dependsOn:[ZC]},kZ={moduleName:"TextFilter",version:We,dependsOn:[ZC],userComponents:{agTextColumnFilter:SZ,agTextColumnFloatingFilter:wZ}},IZ={moduleName:"NumberFilter",version:We,dependsOn:[ZC],userComponents:{agNumberColumnFilter:CZ,agNumberColumnFloatingFilter:bZ}},LZ={moduleName:"DateFilter",version:We,dependsOn:[ZC],userComponents:{agDateColumnFilter:pZ,agDateInput:vZ,agDateColumnFloatingFilter:yZ}},FZ={moduleName:"QuickFilterCore",version:We,rowModels:["clientSide"],beans:[EZ],dependsOn:[KD,B_]},PZ={moduleName:"QuickFilter",version:We,apiFunctions:{isQuickFilterPresent:MZ,getQuickFilter:DZ,resetQuickFilter:AZ},dependsOn:[FZ]},OZ={moduleName:"ExternalFilter",version:We,dependsOn:[KD]},Vg=class{constructor(e){this.cellValueChanges=e}},$w=class extends Vg{constructor(e,t,i,s){super(e),this.initialRange=t,this.finalRange=i,this.ranges=s}},NZ=10,aF=class{constructor(e){this.actionStack=[],this.maxStackSize=e||NZ,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},_Z=class extends Me{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=this.activeCellEdit!==null&&oM(this.activeCellEdit,t),s=this.activeRowEdit!==null&&i8(this.activeRowEdit,t);if(!(i||s||this.isPasting||this.isRangeInAction))return;const{rowPinned:r,rowIndex:o,column:a,oldValue:l,value:u}=e,h={rowPinned:r,rowIndex:o,columnId:a.getColId(),newValue:u,oldValue:l};this.cellValueChanges.push(h)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const i=e.get("undoRedoCellEditingLimit");if(i<=0)return;this.undoStack=new aF(i),this.redoStack=new aF(i),this.addListeners();const s=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:n=>{n.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:s,newColumnsLoaded:s,columnGroupOpened:s,columnRowGroupChanged:s,columnMoved:s,columnPinned:s,columnVisible:s,rowDragEnd:s}),t.whenReady(this,n=>{this.gridBodyCtrl=n.gridBodyCtrl})}getCurrentUndoStackSize(){var e;return((e=this.undoStack)==null?void 0:e.getCurrentStackSize())??0}getCurrentRedoStackSize(){var e;return((e=this.redoStack)==null?void 0:e.getCurrentStackSize())??0}undo(e){const{eventSvc:t,undoStack:i,redoStack:s}=this;t.dispatchEvent({type:"undoStarted",source:e});const n=this.undoRedo(i,s,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:n})}redo(e){const{eventSvc:t,undoStack:i,redoStack:s}=this;t.dispatchEvent({type:"redoStarted",source:e});const n=this.undoRedo(s,i,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:n})}undoRedo(e,t,i,s,n){if(!e)return!1;const r=e.pop();return!r||!r.cellValueChanges?!1:(this.processAction(r,o=>o[s],n),r instanceof $w?this.processRange(r.ranges||[r[i]]):this.processCell(r.cellValueChanges),t.push(r),!0)}processAction(e,t,i){e.cellValueChanges.forEach(s=>{const{rowIndex:n,rowPinned:r,columnId:o}=s,a={rowIndex:n,rowPinned:r},l=Uv(this.beans,a);l.displayed&&l.setDataValue(o,t(s),i)})}processRange(e){let t;const i=this.beans.rangeSvc;i.removeAllCellRanges(!0),e.forEach((s,n)=>{if(!s)return;const r=s.startRow,o=s.endRow;n===e.length-1&&(t={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:s.startColumn,columns:s.columns};i.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:i,rowPinned:s}=t,n={rowIndex:i,rowPinned:s},r=Uv(this.beans,n),o={rowPinned:t.rowPinned,rowIndex:r.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:i,rowPinned:s}=e,{colModel:n,focusSvc:r,rangeSvc:o}=this.beans,a=n.getCol(i);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const u={rowIndex:t,column:a,rowPinned:s};r.setFocusedCell({...u,forceBrowserFocus:!0}),o==null||o.setRangeToCell(u)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Vg(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new Vg(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Vg(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new $w(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:i}=this.beans;t&&xc(i)?e=new $w(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Vg(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},BZ=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;width:100%}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}",GZ=class extends lf{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[GD]),this.eCheckbox=tt}init(e){this.params=e;const t=e.value??void 0,i=this.eCheckbox;i.setValue(t),i.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(i,{fieldValueChanged:n=>this.setAriaLabel(n.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),i=vD(t,e),s=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}},qC=class extends lf{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=tt}init(e){this.params=e;const{cellStartedEdit:t,eventKey:i,suppressPreventDefault:s}=e,n=this.eInput;this.cellEditorInput.init(n,e);let r,o=!0;t?(this.focusAfterAttached=!0,i===Se.BACKSPACE||i===Se.DELETE?r="":i&&i.length===1?s?o=!1:r=i:(r=this.cellEditorInput.getStartValue(),i!==Se.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue()),o&&r!=null&&n.setStartValue(r),this.addManagedElementListeners(n.getGui(),{keydown:a=>{const{key:l}=a;(l===Se.PAGE_UP||l===Se.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var s,n;const e=this.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Dc()||t.getFocusableElement().focus();const i=t.getInputElement();this.highlightAllOnFocus?i.select():(n=(s=this.cellEditorInput).setCaret)==null||n.call(s)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},zZ=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[jN]}init(e,t){this.eInput=e,this.params=t;const{min:i,max:s,step:n}=t;i!=null&&e.setMin(i),s!=null&&e.setMax(s),n!=null&&e.setStep(n)}getValue(){const{eInput:e,params:t}=this,i=e.getDate();return!He(i)&&!He(t.value)?t.value:i??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Yr(e,!1)}},HZ=class extends qC{constructor(){super(new zZ)}},VZ=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[jN]}init(e,t){this.eInput=e,this.params=t;const{min:i,max:s,step:n}=t;i!=null&&e.setMin(i),s!=null&&e.setMax(s),n!=null&&e.setStep(n)}getValue(){const{params:e,eInput:t}=this,i=this.formatDate(t.getDate());return!He(i)&&!He(e.value)?e.value:e.parseValue(i??"")}getStartValue(){return Yr(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Vn(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Yr(e??null,!1)??void 0}},WZ=class extends qC{constructor(){super(new VZ(()=>this.beans.dataTypeSvc))}},UZ=class extends lf{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[C9]),this.eTextArea=tt}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),e.value!=null&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===Se.LEFT||t===Se.UP||t===Se.RIGHT||t===Se.DOWN||e.shiftKey&&t===Se.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue(),t=this.params;return!He(e)&&!He(t.value)?t.value:t.parseValue(e)}},jZ=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[x9]}init(e,t){this.eInput=e,this.params=t;const{max:i,min:s,precision:n,step:r}=t;i!=null&&e.setMax(i),s!=null&&e.setMin(s),n!=null&&e.setPrecision(n),r!=null&&e.setStep(r);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===Se.UP||e.key===Se.DOWN)&&e.preventDefault()}getValue(){const{eInput:e,params:t}=this,i=e.getValue();if(!He(i)&&!He(t.value))return t.value;let s=t.parseValue(i);if(s==null)return s;if(typeof s=="string"){if(s==="")return null;s=Number(s)}return isNaN(s)?null:s}getStartValue(){return this.params.value}setCaret(){Dc()&&this.eInput.getInputElement().focus({preventScroll:!0})}},YZ=class extends qC{constructor(){super(new jZ)}},KZ=class extends lf{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[k9]),this.eSelect=tt,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueSvc:i,gos:s}=this,{values:n,value:r,eventKey:o}=e;if(vi(n)){Pe(58);return}this.startedByEnter=o!=null?o===Se.ENTER:!1;let a=!1;n.forEach(f=>{const g={value:f},m=i.formatValue(e.column,null,f),y=m!=null;g.text=y?m:f,t.addOption(g),a=a||r===f}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:h}=e;l!=null&&t.setPickerGap(l),h!=null&&t.setPickerMaxHeight(h),u!=null&&t.setPickerMaxWidth(u),s.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},$Z=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[YC]}init(e,t){this.eInput=e,this.params=t;const i=t.maxLength;i!=null&&e.setMaxLength(i)}getValue(){const{eInput:e,params:t}=this,i=e.getValue();return!He(i)&&!He(t.value)?t.value:t.parseValue(i)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eInput,t=e.getValue(),i=He(t)&&t.length||0;i&&e.getInputElement().setSelectionRange(i,i)}},lF=class extends qC{constructor(){super(new $Z)}};function XZ(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function ZZ(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function G_(e,t,i="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,i),"ensureVisible")}function z_(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,i),"ensureVisible")}function qZ(e,t,i=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,i),"ensureVisible")}function QZ(e){var t;(t=e.undoRedo)==null||t.undo("api")}function JZ(e){var t;(t=e.undoRedo)==null||t.redo("api")}function eq(e,t={}){const i=[];return e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(s=>{var r;const n=(r=s.comp)==null?void 0:r.getCellEditor();n&&i.push(Pp(n))}),i}function tq(e){const t=[];return e.rowRenderer.getAllCellCtrls().forEach(i=>{if(i.editing){const{cellPosition:s}=i;t.push(s)}}),t}function iq(e,t=!1){var i;(i=e.editSvc)==null||i.stopAllEditing(t)}function sq(e,t){const i=e.colModel.getCol(t.colKey);if(!i){Pe(12,{colKey:t.colKey});return}const s={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:i};t.rowPinned==null&&z_(e,t.rowIndex),G_(e,t.colKey);const r=yd(e,s);if(!r)return;const{focusSvc:o,gos:a,editSvc:l}=e,u=()=>{const f=Fi(e),g=r.eGui;return f!==g&&!!(g!=null&&g.contains(f))},h=a.get("stopEditingWhenCellsLoseFocus")&&u();(h||!o.isCellFocused(s))&&o.setFocusedCell({...s,forceBrowserFocus:h,preventScrollOnBrowserFocus:!0}),l==null||l.startRowOrCellEdit(r,t.key)}function nq(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentUndoStackSize())??0}function rq(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentRedoStackSize())??0}var oq=class extends lf{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){Zu(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,i=s=>{lM(this.gos,s,t.node,t.column,!0)||t.onKeyDown(s)};this.addManagedElementListeners(e,{keydown:i})}},aq=class extends Me{constructor(){super(...arguments),this.beanName="editSvc"}startEditing(e,t=null,i=!1,s=null){var u;if(!e.isCellEditable()||e.editing)return!0;if(!e.comp)return e.onCompAttachedFuncs.push(()=>{this.startEditing(e,t,i,s)}),!0;const n=this.createCellEditorParams(e,t,i),r=e.column.getColDef(),o=LL(this.beans.userCompFactory,r,n),a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!r.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:r.cellEditorPopupPosition;return cF(e,!0,o),e.comp.setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventSvc.dispatchEvent(e.createEvent(s,"cellEditingStarted")),!((u=o==null?void 0:o.params)!=null&&u.suppressPreventDefault)}stopEditing(e,t=!1){if(e.onEditorAttachedFuncs=[],!e.editing)return!1;const{comp:i,column:s,rowNode:n}=e,{newValue:r,newValueExists:o}=lq(t,i),a=this.beans.valueSvc.getValueForDisplay(s,n);let l=!1;return o&&(l=cq(e,a,r,n,s)),cF(e,!1,void 0),i.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventSvc.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:r,valueChanged:l}),l}handleColDefChanged(e){var i;const t=(i=e.comp)==null?void 0:i.getCellEditor();if(t!=null&&t.refresh){const{eventKey:s,cellStartedEdit:n}=e.editCompDetails.params,r=this.createCellEditorParams(e,s,n),o=e.column.getColDef(),a=LL(this.beans.userCompFactory,o,r);t.refresh(a.params)}}setFocusOutOnEditor(e){if(!e.editing)return;const t=e.comp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){if(!e.editing)return;const t=e.comp,i=t.getCellEditor();i!=null&&i.focusIn?i.focusIn():(e.focusCell(!0),e.onEditorAttachedFuncs.push(()=>{var s,n;return(n=(s=t.getCellEditor())==null?void 0:s.focusIn)==null?void 0:n.call(s)}))}stopEditingAndFocus(e,t=!1,i=!1){this.stopRowOrCellEdit(e),e.focusCell(!0),t||this.navigateAfterEdit(i,e.cellPosition)}createPopupEditorWrapper(e){return new oq(e)}stopAllEditing(e=!1){this.beans.rowRenderer.getAllRowCtrls().forEach(t=>this.stopRowEditing(t,e))}stopRowEditing(e,t=!1){var r;if(e.stoppingRowEdit)return;const i=e.getAllCellCtrls(),s=e.editing;e.stoppingRowEdit=!0;let n=!1;for(const o of i){const a=o.stopEditing(t);s&&!t&&!n&&a&&(n=!0)}n&&this.eventSvc.dispatchEvent(e.createRowEvent("rowValueChanged")),s&&((r=this.beans.rowEditSvc)==null||r.setEditing(e,!1)),e.stoppingRowEdit=!1}addStopEditingWhenGridLosesFocus(e){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const t=i=>{const s=i.relatedTarget;if(Z1(s)===null){this.stopAllEditing();return}let n=e.some(r=>r.contains(s))&&AN(this.gos,s);if(!n){const r=this.beans.popupSvc;n=!!r&&(r.getActivePopups().some(o=>o.contains(s))||r.isElementWithinCustomPopup(s))}n||this.stopAllEditing()};e.forEach(i=>this.addManagedElementListeners(i,{focusout:t}))}setInlineEditingCss(e){const t=e.editing||e.getAllCellCtrls().some(i=>i.editing);e.forEachGui(void 0,i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}isCellEditable(e,t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return e.isColumnFunc(t,e.colDef.editable)}startRowOrCellEdit(e,t,i=null){var s;return e.comp?this.gos.get("editType")==="fullRow"?((s=this.beans.rowEditSvc)==null?void 0:s.startEditing(e.rowCtrl,t,e))??!0:this.startEditing(e,t,!0,i):(e.onCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,t,i)}),!0)}stopRowOrCellEdit(e,t=!1){this.gos.get("editType")==="fullRow"?this.stopRowEditing(e.rowCtrl,t):this.stopEditing(e,t)}createCellEditorParams(e,t,i){const{column:s,rowNode:n,cellPosition:{rowIndex:r}}=e,{valueSvc:o,gos:a}=this.beans;return nt(a,{value:o.getValueForDisplay(s,n),eventKey:t,column:s,colDef:s.getColDef(),rowIndex:r,node:n,data:n.data,cellStartedEdit:i,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.eGui,parseValue:l=>o.parseValue(s,n,l,e.value),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){var s;if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const n=e?Se.UP:Se.DOWN;(s=this.beans.navigation)==null||s.navigateToNextCell(null,n,t,!1)}}};function cF(e,t,i){e.editCompDetails=i,e.editing!==t&&(e.editing=t)}function lq(e,t){const i={newValueExists:!1};if(e)return i;const s=t.getCellEditor();return!s||s.isCancelAfterEnd&&s.isCancelAfterEnd()?i:{newValue:s.getValue(),newValueExists:!0}}function cq(e,t,i,s,n){if(i===t)return!1;e.suppressRefreshCell=!0;const r=s.setDataValue(n,i,"edit");return e.suppressRefreshCell=!1,r}var uq=class extends Me{constructor(){super(...arguments),this.beanName="rowEditSvc"}startEditing(e,t=null,i=null,s=null){if(e.editing)return!0;let n=!0,r=!1;const{editSvc:o}=this.beans;return e.getAllCellCtrls().forEach(a=>{const l=a===i;l?n=(o==null?void 0:o.startEditing(a,t,l,s))??!0:o==null||o.startEditing(a,null,l,s),r||(r=a.editing)}),r&&this.setEditing(e,!0),n}setEditing(e,t){e.editing=t,e.forEachGui(void 0,s=>s.rowComp.addOrRemoveCssClass("ag-row-editing",t));const i=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventSvc.dispatchEvent(i)}},Ac={moduleName:"EditCore",version:We,beans:[aq,uq],apiFunctions:{getCellEditorInstances:eq,getEditingCells:tq,stopEditing:iq,startEditingCell:sq},dependsOn:[XC],css:[BZ]},hq={moduleName:"UndoRedoEdit",version:We,beans:[_Z],apiFunctions:{undoCellEditing:QZ,redoCellEditing:JZ,getCurrentUndoSize:nq,getCurrentRedoSize:rq},dependsOn:[Ac]},dq={moduleName:"TextEditor",version:We,userComponents:{agCellEditor:lF,agTextCellEditor:lF},dependsOn:[Ac]},fq={moduleName:"NumberEditor",version:We,userComponents:{agNumberCellEditor:{classImp:YZ,params:{suppressPreventDefault:!0}}},dependsOn:[Ac]},gq={moduleName:"DateEditor",version:We,userComponents:{agDateCellEditor:HZ,agDateStringCellEditor:WZ},dependsOn:[Ac]},pq={moduleName:"CheckboxEditor",version:We,userComponents:{agCheckboxCellEditor:GZ},dependsOn:[Ac]},mq={moduleName:"SelectEditor",version:We,userComponents:{agSelectCellEditor:KZ},dependsOn:[Ac]},yq={moduleName:"LargeTextEditor",version:We,userComponents:{agLargeTextCellEditor:UZ},dependsOn:[Ac]},vq={moduleName:"CustomEditor",version:We,dependsOn:[Ac]},Cq=class extends Me{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Td(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),g6(e))}createColumns(e,t){var g,m;const i=()=>{var y;_v(this.beans,(y=this.columns)==null?void 0:y.tree),this.columns=null},s=e.treeDepth,r=(((g=this.columns)==null?void 0:g.treeDepth)??-1)==s,o=this.generateSelectionCols();if(f6(o,((m=this.columns)==null?void 0:m.list)??[])&&r)return;i();const{colGroupSvc:l}=this.beans,u=(l==null?void 0:l.findDepth(e.tree))??0,h=(l==null?void 0:l.balanceTreeForAutoCols(o,u))??[];this.columns={list:o,tree:h,treeDepth:u,map:{}},t(y=>{if(!y)return null;const C=y.filter(x=>!il(x));return[...o,...C]})}updateColumns(e){var s;const t=Td(e.source),i=e.currentValue;(s=this.columns)==null||s.list.forEach(n=>{const r=this.createSelectionColDef(i);n.setColDef(r,null,t),jr(this.beans,{state:[{colId:n.getColId(),...r}]},t)})}getColumn(e){var t;return((t=this.columns)==null?void 0:t.list.find(i=>oN(i,e)))??null}getColumns(){var e;return((e=this.columns)==null?void 0:e.list)??null}isSelectionColumnEnabled(){var o,a;const{gos:e,beans:t}=this,i=e.get("rowSelection");if(typeof i!="object"||!Pu(e))return!1;const s=(((a=(o=t.autoColSvc)==null?void 0:o.getColumns())==null?void 0:a.length)??0)>0;if(i.checkboxLocation==="autoGroupColumn"&&s)return!1;const n=!!Ed(i),r=rv(i);return n||r}createSelectionColDef(e){const{gos:t}=this.beans,i=e??t.get("selectionColumnDef"),s=t.get("enableRtl"),{rowSpan:n,spanRows:r,...o}=i??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:s?"right":"left",comparator(a,l,u,h){const f=u.isSelected(),g=h.isSelected();return f===g?0:f?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:nN}}generateSelectionCols(){var s;if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;(s=this.beans.validation)==null||s.validateColDef(e,t,!0);const i=new AD(e,null,t,!1);return this.createBean(i),[i]}onSelectionOptionsChanged(e,t,i){const s=t&&typeof t!="string"?Ed(t):void 0,n=e&&typeof e!="string"?Ed(e):void 0,r=s!==n,o=t&&typeof t!="string"?rv(t):void 0,a=e&&typeof e!="string"?rv(e):void 0,l=o!==a,u=iM(e),h=iM(t);(r||l||u!==h)&&this.beans.colModel.refreshAll(i)}destroy(){var e;_v(this.beans,(e=this.columns)==null?void 0:e.tree),super.destroy()}refreshVisibility(e){if(!this.isSelectionColumnEnabled())return;const t=this.beans,i=t.visibleCols.getAllTrees()??[];if(i.length!==0){if(!i.some(H_)){const s=Fp(t).find(n=>il(n.colId));s&&jr(t,{state:[{colId:s.colId,hide:!s.hide}]},e)}if(i.length===1){const s=i[0],n=V_(s);if(!n)return;jr(t,{state:[{colId:n.getColId(),hide:!0}]},e)}}}},H_=e=>{var t;return e.isColumn?il(e):((t=e.getChildren())==null?void 0:t.some(H_))??!1};function V_(e){if(e.isColumn)return il(e)?e:null;const t=e.getChildren()??[];for(const i of t){const s=V_(i);if(s)return s}return null}function xq(e,t){var o;if(!t.nodes.every(a=>a.rowPinned?(Pe(59),!1):a.id===void 0?(Pe(60),!1):!0))return;const{nodes:s,source:n,newValue:r}=t;(o=e.selectionSvc)==null||o.setNodesSelected({nodes:s,source:n??"api",newValue:r})}function bq(e,t,i="apiSelectAll"){var s;(s=e.selectionSvc)==null||s.selectAllRowNodes({source:i,selectAll:t})}function Sq(e,t,i="apiSelectAll"){var s;(s=e.selectionSvc)==null||s.deselectAllRowNodes({source:i,selectAll:t})}function wq(e,t="apiSelectAllFiltered"){var i;(i=e.selectionSvc)==null||i.selectAllRowNodes({source:t,selectAll:"filtered"})}function Mq(e,t="apiSelectAllFiltered"){var i;(i=e.selectionSvc)==null||i.deselectAllRowNodes({source:t,selectAll:"filtered"})}function Dq(e,t="apiSelectAllCurrentPage"){var i;(i=e.selectionSvc)==null||i.selectAllRowNodes({source:t,selectAll:"currentPage"})}function Aq(e,t="apiSelectAllCurrentPage"){var i;(i=e.selectionSvc)==null||i.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function Eq(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedNodes())??[]}function Tq(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedRows())??[]}var Rq=class extends m9{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=Pv(e),this.groupSelectsDescendants=Lp(e),this.groupSelectsFiltered=Nv(e)==="filteredDescendants",this.masterSelectsDetail=EL(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Lp(e),i=Pv(e),s=Nv(e)==="filteredDescendants";this.masterSelectsDetail=EL(e)==="detail",(t!==this.groupSelectsDescendants||s!==this.groupSelectsFiltered||i!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=s,this.mode=i)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,i){if(this.isRowSelectionBlocked(t))return 0;const s=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,i);return s==null?0:(this.selectionCtx.selectAll=!1,"select"in s?(s.reset?this.resetNodes():this.selectRange(s.deselect,!1,i),this.selectRange(s.select,!0,i)):this.setNodesSelected({nodes:[s.node],newValue:s.newValue,clearSelection:s.clearSelection,event:e,source:i}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:i,nodes:s,event:n,source:r}){var a;if(!Pu(this.gos)&&e)return Pe(132),0;if(s.length===0)return 0;if(s.length>1&&!this.isMultiSelect())return Pe(130),0;let o=0;for(let l=0;l<s.length;l++){const u=s[l],h=Ry(u),f=this.groupSelectsFiltered&&h.group;if(h.rowPinned){Pe(59);continue}if(h.id===void 0){Pe(60);continue}f||this.selectRowNode(h,e,n,r)&&(this.detailSelection.delete(h.id),o++),this.groupSelectsDescendants&&((a=h.childrenAfterGroup)!=null&&a.length)&&(o+=this.selectChildren(h,e,r))}return i||(e&&(t||!this.isMultiSelect())&&(o+=this.clearOtherNodes(Ry(s[0]),r)),o>0&&(this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r))),o}selectRange(e,t,i){let s=0;return e.forEach(n=>{if(n.group&&this.groupSelectsDescendants)return;this.selectRowNode(n,t,void 0,i)&&s++}),s>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),s}selectChildren(e,t,i){const s=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return s?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:i,nodes:s}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((i,s)=>{e(i)&&t.set(s,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:i,rowModel:s}=this.beans;if(!$s(i))return!1;const n=s.rootNode;if(!n)return!1;t||(t=new $v(!0,n),t.active=!1);let r=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==n){const a=this.calculateSelectedFromChildren(o);r=this.selectRowNode(o,a===null?!1:a,void 0,e)||r}}),r}clearOtherNodes(e,t){const i=new Map;let s=0;return this.selectedNodes.forEach(n=>{if(n&&n.id!==e.id){const r=this.selectedNodes.get(n.id);s+=this.setNodesSelected({nodes:[r],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsDescendants&&n.parent&&i.set(n.parent.id,n.parent)}}),i.forEach(n=>{const r=this.calculateSelectedFromChildren(n);this.selectRowNode(n,r===null?!1:r,void 0,t)}),s}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new Kd(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!$s(e))return;const i=t.getTopLevelNodes();if(i===null)return;const s=[];function n(r){for(let o=0,a=r.length;o<a;o++){const l=r[o];l.isSelected()?s.push(l):l.group&&l.childrenAfterGroup&&n(l.childrenAfterGroup)}}return n(i),s}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const i=$s(this.gos);let s=!1;const n=r=>{const o=this.selectRowNode(Ry(r),!1,void 0,e);s||(s=o)};if(t==="currentPage"||t==="filtered"){if(!i){$t(102);return}this.getNodesToSelect(t).forEach(n)}else this.selectedNodes.forEach(n),this.reset(e);if(this.selectionCtx.selectAll=!1,i&&this.groupSelectsDescendants){const r=this.updateGroupsFromChildrenSelections(e);s||(s=r)}s&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,i=0;return this.getNodesToSelect(e).forEach(s=>{this.groupSelectsDescendants&&s.group||(s.isSelected()?t++:s.selectable&&i++)}),{selectedCount:t,notSelectedCount:i}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:i}=this.getSelectedCounts(e);return W_(t,i)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[];if(e==="currentPage")return this.forEachNodeOnPage(s=>{if(!s.group){t.push(s);return}if(!s.expanded&&!s.footer){const n=r=>{var o;t.push(r),(o=r.childrenAfterFilter)!=null&&o.length&&r.childrenAfterFilter.forEach(n)};n(s);return}this.groupSelectsDescendants||t.push(s)}),t;const i=this.beans.rowModel;return e==="filtered"?(i.forEachNodeAfterFilter(s=>{t.push(s)}),t):(i.forEachNode(s=>{t.push(s)}),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:i}=this.beans,s=t.getFirstRow(),n=t.getLastRow();for(let r=s;r<=n;r++){const o=i.getRow(r);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:i}=this;if(!Pu(t)){Pe(132);return}if(UU(t)&&!Ov(t)){Pe(130);return}if(!this.canSelectAll())return;const{source:s,selectAll:n}=e;let r=!1;if(this.getNodesToSelect(n).forEach(o=>{const a=this.selectRowNode(Ry(o),!0,void 0,s);r||(r=a)}),i.selectAll=!0,$s(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(s);r||(r=o)}r&&this.dispatchSelectionChanged(s)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e)){$t(103);return}const i=new Set(e),s=[];this.beans.rowModel.forEachNode(n=>{i.has(n.id)&&s.push(n)}),this.setNodesSelected({newValue:!0,nodes:s,source:t})}canSelectAll(){const{gos:e,rowModel:t}=this.beans;return $s(e)?!0:($t(100,{rowModelType:t.getType()}),!1)}updateSelectable(e){var l;const{gos:t,rowModel:i}=this.beans;if(!Pu(t))return;const s="selectableChanged",n=e!==void 0,r=$s(t)&&this.groupSelectsDescendants,o=[],a=u=>{var f;if(n&&!u.group)return;if(r&&u.group){const g=((f=u.childrenAfterGroup)==null?void 0:f.some(m=>m.selectable))??!1;this.setRowSelectable(u,g,!0);return}!this.updateRowSelectable(u,!0)&&u.isSelected()&&o.push(u)};if(r){if(e===void 0){const u=i.rootNode;e=u?new $v(!1,u):void 0}e==null||e.forEachChangedNodeDepthFirst(a,!n,!n)}else i.forEachNode(a);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:s}),!n&&r&&((l=this.updateGroupsFromChildrenSelections)==null||l.call(this,s))}updateSelectableAfterGrouping(e){var t;this.updateSelectable(e),this.groupSelectsDescendants&&((t=this.updateGroupsFromChildrenSelections)!=null&&t.call(this,"rowGroupChanged",e))&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){var r,o;if(!this.masterSelectsDetail)return;const i=(o=(r=e.detailNode)==null?void 0:r.detailGridInfo)==null?void 0:o.api;if(!i)return;const s=kq(i);if(e.isSelected()!==s&&this.selectRowNode(e,s,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!s){const a=this.detailSelection.get(e.id)??new Set;for(const l of i.getSelectedNodes())a.add(l.id);this.detailSelection.set(e.id,a)}}setDetailSelectionState(e,t,i){if(this.masterSelectsDetail){if(!Ov(t)){Pe(269);return}switch(e.isSelected()){case!0:{i.selectAll();break}case!1:{i.deselectAll();break}case void 0:{const s=this.detailSelection.get(e.id);if(s){const n=[];for(const r of s){const o=i.getRowNode(r);o&&n.push(o)}i.setNodesSelected({nodes:n,newValue:!0,source:"masterDetail"})}break}}}}};function Ry(e){return e.footer?e.sibling:e}function kq(e){let t=0,i=0;return e.forEachNode(s=>{s.isSelected()?t++:s.selectable&&i++}),W_(t,i)}function W_(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}var Iq={moduleName:"SharedRowSelection",version:We,beans:[Cq],apiFunctions:{setNodesSelected:xq,selectAll:bq,deselectAll:Sq,selectAllFiltered:wq,deselectAllFiltered:Mq,selectAllOnCurrentPage:Dq,deselectAllOnCurrentPage:Aq,getSelectedNodes:Eq,getSelectedRows:Tq}},Lq={moduleName:"RowSelection",version:We,rowModels:["clientSide","infinite","viewport"],beans:[Rq],dependsOn:[Iq]};function Fq(e){var t;(t=e.expansionSvc)==null||t.expandAll(!0)}function Pq(e){var t;(t=e.expansionSvc)==null||t.expandAll(!1)}function Oq(e){const t=ca(e),i=y_(e);t?t.onRowHeightChanged():i&&i.onRowHeightChanged()}function Nq(e,t,i){var r;const s=y_(e);if(s){if(((r=e.rowGroupColsSvc)==null?void 0:r.columns.length)===0){if(t<0){$t(238);return}s.setRowCount(t,i);return}$t(28);return}const n=$C(e);if(n){n.setRowCount(t,i);return}}function _q(e){var t;return rh(e.gos)?e.rowModel.getBlockStates():((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function Bq(e){return e.rowModel.isLastRowIndexKnown()}var Gq={moduleName:"CsrmSsrmSharedApi",version:We,apiFunctions:{expandAll:Fq,collapseAll:Pq,onRowHeightChanged:Oq}},zq={moduleName:"SsrmInfiniteSharedApi",version:We,apiFunctions:{setRowCount:Nq,getCacheBlockState:_q,isLastRowIndexKnown:Bq}},Hq=class extends Me{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(s=>{var r;if(!s){$t(18),t||$t(20);return}if(this.isGridApi(s))return s;const n=s;return"current"in n?(r=n.current)==null?void 0:r.api:(n.api||$t(19),n.api)}).filter(s=>!!s&&!s.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const i=[];return e.columns?e.columns.forEach(s=>{i.push(t(s))}):e.column&&i.push(t(e.column)),i}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":Pe(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(i=>{let s=null;i&&(s=t.getProvidedColGroup(i.getGroupId())),!(i&&!s)&&t.setColumnGroupOpened(s,i.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var h;const t=e.column;let i=null;const s=this.beans,{colResize:n,ctrlsSvc:r,colModel:o}=s;if(t&&(i=o.getColDefCol(t.getColId())),t&&!i)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const g=e.api.getColumnState().map(m=>({colId:m.colId}));jr(s,{state:g,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const g=e.api.getColumnState().map(m=>({colId:m.colId,hide:m.hide}));jr(s,{state:g},"alignedGridChanged")}break;case"columnPinned":{const g=e.api.getColumnState().map(m=>({colId:m.colId,pinned:m.pinned}));jr(s,{state:g},"alignedGridChanged")}break;case"columnResized":{const f=e,g={};a.forEach(m=>{g[m.getId()]={key:m.getColId(),newWidth:m.getActualWidth()}}),(h=f.flexColumns)==null||h.forEach(m=>{g[m.getId()]&&delete g[m.getId()]}),n==null||n.setColumnWidths(Object.values(g),!1,f.finished,"alignedGridChanged");break}}const u=r.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(f=>{f.setGridOption("alwaysShowVerticalScroll",u)})}},Vq={moduleName:"AlignedGrids",version:We,beans:[Hq]},Wq=class extends d9{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},Xw=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function Uq(e){if(vi(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const s=t[i],n=i===0,r=i===e.childrenAfterSort.length-1;s.setFirstChild(n),s.lastChild!==r&&(s.lastChild=r,s.dispatchRowEvent("lastChildChanged")),s.childIndex!==i&&(s.childIndex=i,s.dispatchRowEvent("childIndexChanged"))}}function U_(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),Uq(e)}var jq=class extends Me{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,i=t.sortSvc.getSortOptions(),s=He(i)&&i.length>0,n=s&&!!e.changedRowNodes&&this.gos.get("deltaSort"),r=i.some(({column:o})=>Zo(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,i,s,n,e.changedRowNodes,e.changedPath,r)}sort(e,t,i,s,n,r,o){const{gos:a,colModel:l,rowGroupColsSvc:u,groupHideOpenParentsSvc:h,rowNodeSorter:f}=e,g=a.get("groupMaintainOrder"),m=l.getCols().some(b=>b.isRowGroupActive()),y=l.isPivotMode(),C=a.getCallback("postSortRows"),x=b=>{var T;h==null||h.pullDownGroupDataForHideOpenParents(b.childrenAfterAggFilter,!0);const w=y&&b.leafGroup,M=g&&m&&!b.leafGroup&&!o;let A;if(M){const k=(T=u==null?void 0:u.columns)==null?void 0:T[b.level+1],R=(k==null?void 0:k.getSort())===null,F=b.childrenAfterAggFilter.slice(0);if(b.childrenAfterSort&&!R){const I={};b.childrenAfterSort.forEach((N,G)=>{I[N.id]=G}),F.sort((N,G)=>(I[N.id]??0)-(I[G.id]??0))}A=F}else!i||w?A=b.childrenAfterAggFilter.slice(0):s&&n?A=Yq(f,b,n,r,t):A=f.doFullSort(b.childrenAfterAggFilter,t);if(b.childrenAfterSort=A,U_(b),C){const k={nodes:b.childrenAfterSort};C(k)}};r==null||r.forEachChangedNodeDepthFirst(x)}};function Yq(e,t,i,s,n){const r=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(r,n);const a=new Set,l=[],{updates:u,adds:h}=i;for(let g=0,m=r.length;g<m;++g){const y=r[g];u.has(y)||h.has(y)||s&&!s.canSkip(y)?l.push({currentPos:l.length,rowNode:y}):a.add(y.id)}const f=o.filter(g=>a.has(g.id)).map((g,m)=>({currentPos:m,rowNode:g}));return l.sort((g,m)=>e.compareRowNodes(n,g,m)),Kq(e,n,l,f)}function Kq(e,t,i,s){const n=[];let r=0,o=0;const a=i.length,l=s.length;for(;r<a&&o<l;){const u=i[r],h=s[o],f=e.compareRowNodes(t,u,h);let g;f<0?(g=u,++r):(g=h,++o),n.push(g.rowNode)}for(;r<a;)n.push(i[r++].rowNode);for(;o<l;)n.push(s[o++].rowNode);return n}var $q=class extends Me{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=_s(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(s=>!!s);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Kd(this.beans);const i=this.getNewNodeManager();this.nodeManager=i,i.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;let i;return e.get("treeData")&&(e.get("treeDataChildrenField")?i=t.csrmChildrenTreeNodeSvc:i=t.csrmPathTreeNodeSvc),i??t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{var s;const i=(s=t.changeSet)==null?void 0:s.properties;i&&this.onPropChange(i)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,i,s){let n,r=!1;do{n=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,i),u=Math.min(a,s);for(let h=l;h<=u;h++){const f=this.getRow(h);if(f.rowHeightEstimated){const g=Vd(this.beans,f);f.setRowHeight(g.height),n=!0,r=!0}}n&&this.setRowTopAndRowIndex()}while(n);return r}onPropChange(e){var h;if(!this.rootNode)return;const t=this.gos,i=new Set(e),s={step:"nothing",changedProps:i},n=i.has("rowData"),r=i.has("treeData"),o=this.nodeManager,a=this.getNewNodeManager(),l=o!==a||i.has("treeDataChildrenField")&&t.get("treeData");let u;if(r&&(s.step="group"),(l||n)&&(u=t.get("rowData"),u!=null&&!Array.isArray(u)&&(u=null,Pe(1))),l&&(n||(u=(o==null?void 0:o.extractRowData())??u),o!==a&&(o==null||o.deactivate(),this.nodeManager=a),a.activate(this.rootNode)),u&&(!l&&!this.isEmpty()&&u.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate")?(s.keepRenderedRows=!0,s.animate=!this.gos.get("suppressAnimationFrame"),s.changedRowNodes=new Xw,a.setImmutableRowData(s,u)):(s.rowDataUpdated=!0,s.newData=!0,(h=this.beans.selectionSvc)==null||h.reset("rowDataChanged"),this.rowNodesCountReady=!0,a.setNewRowData(u))),s.rowDataUpdated)s.step="group";else if(s.step==="nothing"){for(const{refreshProps:f,step:g}of this.orderedStages)if(e.some(m=>f.has(m))){s.step=g;break}}s.step!=="nothing"&&this.refreshModel(s)}setRowTopAndRowIndex(){const{beans:e}=this,t=e.environment.getDefaultRowHeight();let i=0;const s=new Set,n=Gs(this.gos,"normal"),r=this.rowsToDisplay;for(let o=0,a=r.length;o<a;++o){const l=r[o];if(l.id!=null&&s.add(l.id),l.rowHeight==null){const u=Vd(e,l,n,t);l.setRowHeight(u.height,u.estimated)}l.setRowTop(i),l.setRowIndex(o),i+=l.rowHeight}return s}clearRowTopAndRowIndex(e,t){const i=e.active,s=r=>{r&&r.id!=null&&!t.has(r.id)&&r.clearRowTopAndRowIndex()},n=r=>{if(r!==null&&(s(r),s(r.detailNode),s(r.sibling),r.hasChildren()&&r.childrenAfterGroup)){const o=r.level==-1;i&&!o&&!r.expanded||r.childrenAfterGroup.forEach(n)}};n(this.rootNode)}ensureRowsAtPixel(e,t,i=0){var a;const s=this.getRowIndexAtPixel(t),n=this.getRow(s),r=!this.gos.get("suppressAnimationFrame");if(n===e[0])return!1;const o=(a=this.rootNode)==null?void 0:a.allLeafChildren;return o?(e.forEach(l=>{Ro(o,l)}),e.forEach((l,u)=>{o.splice(Math.max(s+i,0)+u,0,l)}),e.forEach((l,u)=>{l.sourceRowIndex=u}),this.refreshModel({step:"group",keepRenderedRows:!0,animate:r,rowNodesOrderChanged:!0}),!0):!1}highlightRowAtPixel(e,t){const i=t!=null?this.getRowIndexAtPixel(t):null,s=i!=null?this.getRow(i):null;if(!s||!e||t==null){this.clearHighlightedRow();return}const n=this.getHighlightPosition(t,s),r=this.isHighlightingCurrentPosition(e,s,n),o=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==s;(r||o)&&(this.clearHighlightedRow(),r)||(this.setRowNodeHighlighted(s,n),this.lastHighlightedRow=s)}setRowNodeHighlighted(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"))}getHighlightPosition(e,t){if(!t){const n=this.getRowIndexAtPixel(e);if(t=this.getRow(n||0),!t)return"Below"}const{rowTop:i,rowHeight:s}=t;return e-i<s/2?"Above":"Below"}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,i){if(e===t)return!0;const s=i==="Above"?-1:1;return this.getRow(t.rowIndex+s)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.setRowNodeHighlighted(this.lastHighlightedRow,null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const i=e.childrenAfterAggFilter,s=e.sibling?1:0;return(i?i.length:0)+s}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:i}=this;if(!t||!i.length||i[0]===t)return e;const{childrenAfterSort:n}=t,r=a=>{let l=n[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(i,e,n,r):r(e)}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Ad(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Ad(this.gos),s=e.columns.length===0||e.columns.some(n=>n.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:s,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Ad(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new $v(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:i,rowDataUpdated:s}=e;return!(!t||i||!s||t.removals.size||t.adds.size)}refreshModel(e){var s,n;if(!this.rootNode)return;const t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if((n=(s=this.nodeManager).refreshModel)==null||n.call(s,e,this.started),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.changedRowNodes,t,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}const i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,i),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){var e,t,i;return!((t=(e=this.rootNode)==null?void 0:e.allLeafChildren)!=null&&t.length)||!((i=this.colModel)!=null&&i.ready)}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,s=!1;const n=[],r=Lp(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(s)return;if(i&&(o===t||o===e)&&(s=!0,o.group&&r)){n.push(...o.allLeafChildren);return}if(!i){if(o!==t&&o!==e)return;i=!0}if(!o.group||!r){n.push(o);return}}),n}getTopLevelNodes(){var e;return((e=this.rootNode)==null?void 0:e.childrenAfterGroup)??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let i=0,s=t.length-1;if(e<=0)return 0;if(Kt(t).rowTop<=e)return t.length-1;let r=-1,o=-1;for(;;){const a=Math.floor((i+s)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?i=a+1:l.rowTop>e&&(s=a-1),r===i&&o===s))return a;r=i,o=s}}isRowInPixel(e,t){const i=e.rowTop,s=e.rowTop+e.rowHeight;return i<=t&&s>t}forEachLeafNode(e){var t,i;(i=(t=this.rootNode)==null?void 0:t.allLeafChildren)==null||i.forEach((s,n)=>e(s,n))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,i=>i.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,i=>i.childrenAfterSort)}forEachPivotNode(e,t=!1,i=!1){const s=i?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,n=>n.leafGroup?null:n[s])}depthFirstSearchRowNodes(e,t=!1,i=r=>r.childrenAfterGroup,s=this.rootNode,n=0){let r=n;if(!s)return r;const o=s===this.rootNode;o||e(s,r++);const{footerSvc:a}=this.beans;if(s.hasChildren()&&!s.footer){const l=i(s);if(l){r=(a==null?void 0:a.addTotalRows(r,s,e,t,o,"top"))??r;for(const u of l)r=this.depthFirstSearchRowNodes(e,t,i,u,r);return(a==null?void 0:a.addTotalRows(r,s,e,t,o,"bottom"))??r}}return r}doAggregate(e){var i;const t=this.rootNode;t&&((i=this.aggStage)==null||i.execute({rowNode:t,changedPath:e}))}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){const{groupHideOpenParentsSvc:i}=this.beans;this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(s=>{i==null||i.pullDownGroupDataForHideOpenParents(s.childrenAfterAggFilter,!0),s.childrenAfterSort=s.childrenAfterAggFilter.slice(0),U_(s)}),i==null||i.updateGroupDataForHideOpenParents(t)}doRowGrouping(e,t,i,s){const n=this.nodeManager.treeData,r=this.rootNode;if(!n){const o=this.groupStage;if(o)o.execute({rowNode:r,changedPath:t,changedRowNodes:e,rowNodesOrderChanged:i,afterColumnsChanged:s});else{const a=r.sibling;r.childrenAfterGroup=r.allLeafChildren,a&&(a.childrenAfterGroup=r.childrenAfterGroup),r.updateHasChildren()}}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,w_(t)},!0)}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){if(typeof e=="string"&&e.indexOf(aM)==0){let i;return this.forEachNode(s=>{s.id===e&&(i=s)}),i}return this.nodeManager.getRowNode(e)}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const i=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var n,r;(n=this.valueCache)==null||n.onDataChanged();const e=[],t=[],i=new Xw;let s=!1;(r=this.rowDataTransactionBatch)==null||r.forEach(o=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:a,rowsInserted:l}=this.nodeManager.updateRowData(o.rowDataTransaction,i);l&&(s=!0),t.push(a),o.callback&&e.push(o.callback.bind(null,a))}),this.commitTransactions(s,i),e.length>0&&window.setTimeout(()=>{e.forEach(o=>o())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){var n;(n=this.valueCache)==null||n.onDataChanged(),this.rowNodesCountReady=!0;const t=new Xw,{rowNodeTransaction:i,rowsInserted:s}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(s,t),i}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let i;if(e)i=e.execute({rowNode:t});else{i=(t==null?void 0:t.childrenAfterSort)??[];for(const s of i)s.setUiLevel(0)}this.rowsToDisplay=i}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){var t;if(e.rowHeightChanged){if((t=this.beans.rowAutoHeight)!=null&&t.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.lastHighlightedRow=null,this.orderedStages=RL,this.rowsToDisplay=RL}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function Xq(e){var t;(t=e.expansionSvc)==null||t.onGroupExpandedOrCollapsed()}function Zq(e,t){const i=ca(e);i&&((!t||t==="everything")&&(t="group"),i.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function qq(e){var t;return((t=ca(e))==null?void 0:t.isEmpty())??!0}function Qq(e,t){var i;(i=ca(e))==null||i.forEachLeafNode(t)}function Jq(e,t){var i;(i=ca(e))==null||i.forEachNodeAfterFilter(t)}function eQ(e,t){var i;(i=ca(e))==null||i.forEachNodeAfterFilterAndSort(t)}function tQ(e){var t,i;if((t=e.rowAutoHeight)!=null&&t.active){Pe(3);return}(i=ca(e))==null||i.resetRowHeights()}function iQ(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var i;return(i=ca(e))==null?void 0:i.updateRowData(t)})}function sQ(e,t,i){e.frameworkOverrides.wrapIncoming(()=>{var s;return(s=ca(e))==null?void 0:s.batchUpdateRowData(t,i)})}function nQ(e){e.frameworkOverrides.wrapIncoming(()=>{var t;return(t=ca(e))==null?void 0:t.flushAsyncTransactions()})}function rQ(e){var t;return(t=e.selectionSvc)==null?void 0:t.getBestCostNodeSelection()}var oQ={moduleName:"ClientSideRowModel",version:We,rowModels:["clientSide"],beans:[Wq,$q,jq],dependsOn:[m_]},aQ={moduleName:"ClientSideRowModelApi",version:We,apiFunctions:{onGroupExpandedOrCollapsed:Xq,refreshClientSideRowModel:Zq,isRowDataEmpty:qq,forEachLeafNode:Qq,forEachNodeAfterFilter:Jq,forEachNodeAfterFilterAndSort:eQ,resetRowHeights:tQ,applyTransaction:iQ,applyTransactionAsync:sQ,flushAsyncTransactions:nQ,getBestCostNodeSelection:rQ},dependsOn:[Gq]},lQ=class extends Me{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:i,columnKeys:s,skipRowGroups:n,exportRowNumbers:r}=t,o=this.getColumnsToExport({allColumns:i,skipRowGroups:n,columnKeys:s,exportRowNumbers:r});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,i,s){var y;const n=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!o,l=this.colModel.isPivotMode()?s.leafGroup:!s.group,u=!!s.footer,h=s.allChildrenCount===1&&((y=s.childrenAfterGroup)==null?void 0:y.length)===1&&VU(this.gos,s);if(!l&&!u&&(t.skipRowGroups||h||a)||t.onlySelected&&!s.isSelected()||t.skipPinnedTop&&s.rowPinned==="top"||t.skipPinnedBottom&&s.rowPinned==="bottom"||s.level===-1&&!l&&!u||n(nt(this.gos,{node:s})))return;const m=e.onNewBodyRow(s);if(i.forEach((C,x)=>{m.onColumn(C,x,s)}),t.getCustomContentBelowRow){const C=t.getCustomContentBelowRow(nt(this.gos,{node:s}));C&&e.addCustomContent(C)}}appendContent(e){return t=>{const i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{const i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){const s=new pN,{colGroupSvc:n}=this.beans,r=n?n.createColumnGroups({columns:t,idCreator:s,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(r,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){const s=i.onNewHeaderRow();t.forEach((n,r)=>{s.onColumn(n,r,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{var n;const s=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="top").sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>{var o;return(o=this.pinnedRowModel)==null?void 0:o.getPinnedTopRow(r.rowIndex)}).forEach(s):(n=this.pinnedRowModel)==null||n.forEachPinnedRow("top",s),i}}processRows(e,t){return i=>{var u;const s=this.rowModel,n=$s(this.gos),r=rh(this.gos),o=!n&&e.onlySelected,a=this.processRow.bind(this,i,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(h=>h.rowPinned==null).sort((h,f)=>h.rowIndex-f.rowIndex).map(h=>s.getRow(h.rowIndex)).forEach(a),i;if(this.colModel.isPivotMode())return n?s.forEachPivotNode(a,!0,l==="filteredAndSorted"):r?s.forEachNodeAfterFilterAndSort(a,!0):s.forEachNode(a),i;if(e.onlySelectedAllPages||o){const h=((u=this.beans.selectionSvc)==null?void 0:u.getSelectedNodes())??[];this.replicateSortedOrder(h),h.forEach(a)}else l==="all"?s.forEachNode(a):n||r?s.forEachNodeAfterFilterAndSort(a,!0):s.forEachNode(a);return i}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:i}=this.beans;if(!t||!i)return;const s=t.getSortOptions(),n=(r,o)=>{var a,l;return r.rowIndex!=null&&o.rowIndex!=null?r.rowIndex-o.rowIndex:r.level===o.level?((a=r.parent)==null?void 0:a.id)===((l=o.parent)==null?void 0:l.id)?i.compareRowNodes(s,{rowNode:r,currentPos:r.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):n(r.parent,o.parent):r.level>o.level?n(r.parent,o):n(r,o.parent)};e.sort(n)}processPinnedBottomRows(e,t){return i=>{var n;const s=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>{var o;return(o=this.pinnedRowModel)==null?void 0:o.getPinnedBottomRow(r.rowIndex)}).forEach(s):(n=this.pinnedRowModel)==null||n.forEachPinnedRow("bottom",s),i}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:i=!1,exportRowNumbers:s=!1,columnKeys:n}=e,{colModel:r,gos:o,visibleCols:a}=this,l=r.isPivotMode(),u=g=>il(g)?!1:!fm(g)||s;if(n&&n.length)return r.getColsForKeys(n).filter(u);const h=o.get("treeData");let f=[];return t&&!l?f=r.getCols():f=a.allCols,f=f.filter(g=>u(g)&&(i&&!h?!ED(g):!0)),f}recursivelyAddHeaderGroups(e,t,i){const s=[];e.forEach(n=>{const r=n;r.getChildren&&r.getChildren().forEach(o=>s.push(o))}),e.length>0&&Ti(e[0])&&this.doAddHeaderHeader(t,e,i),s&&s.length>0&&this.recursivelyAddHeaderGroups(s,t,i)}doAddHeaderHeader(e,t,i){const s=e.onNewHeaderGroupingRow();let n=0;t.forEach(r=>{const o=r;let a;i?a=i(nt(this.gos,{columnGroup:o})):a=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((u,h,f,g)=>{let m=Kt(u);return h.getColumnGroupShow()==="open"?(!m||m[1]!=null)&&(m=[f],u.push(m)):m&&m[1]==null&&(m[1]=f-1),f===g.length-1&&m&&m[1]==null&&(m[1]=f),u},[]);s.onColumn(o,a||"",n++,o.getLeafColumns().length-1,l)})}},cQ={moduleName:"SharedExport",version:We,beans:[lQ]},uF=`\r
`,uQ=class extends hX{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,uF),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,s)=>{s!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,s){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(s)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){t!=0&&(this.result+=this.columnSeparator);const s=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(s.valueFormatted??s.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(Pe(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=uF),this.isFirstLine=!1}},hQ=class extends uX{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){Pe(51);return}const t=this.getMergedParams(e),i=this.getData(t),s=new Blob(["\uFEFF",i],{type:"text/plain"}),n=typeof t.fileName=="function"?t.fileName(nt(this.gos,{})):t.fileName;dX(this.getFileName(n),s)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:i,rowGroupColsSvc:s,valueSvc:n,gos:r}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:h,columnSeparator:f}=e;return new uQ({colModel:t,colNames:i,valueSvc:n,gos:r,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:h||!1,columnSeparator:f||",",rowGroupColsSvc:s})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function dQ(e,t){var i;return(i=e.csvCreator)==null?void 0:i.getDataAsCsv(t)}function fQ(e,t){var i;(i=e.csvCreator)==null||i.exportDataAsCsv(t)}var gQ={moduleName:"CsvExport",version:We,beans:[hQ],apiFunctions:{getDataAsCsv:dQ,exportDataAsCsv:fQ},dependsOn:[cQ]},pQ=class extends Me{constructor(e,t,i){super(),this.id=e,this.parentCache=t,this.params=i,this.state="needsLoading",this.version=0,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){const t=e===this.version,i=this.isAlive();return t&&i}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:i,beans:s,rowNodes:n}=this;for(let r=0;r<e;r++){const o=i+r,a=new Kd(s);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(t*o),n.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:i,state:s}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:i,pageStatus:s}}}setDataAndId(e,t,i){He(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(vi(this.params.datasource.getRows)){Pe(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:i,params:{sortModel:s,filterModel:n},gos:r}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,i),failCallback:this.pageLoadFailed.bind(this,i),sortModel:s,filterModel:n,context:nt(r,{}).context}}forEachNode(e,t,i){this.rowNodes.forEach((s,n)=>{this.startRow+n<i&&e(s,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const i=e-this.startRow;return this.rowNodes[i]}processServerResult(e){const{rowNodes:t,beans:i}=this;t.forEach((n,r)=>{const o=e.rowData?e.rowData[r]:void 0;!n.id&&n.alreadyRendered&&o&&(t[r]=new Kd(i),t[r].setRowIndex(n.rowIndex),t[r].setRowTop(n.rowTop),t[r].setRowHeight(n.rowHeight),n.clearRowTopAndRowIndex()),this.setDataAndId(t[r],o,this.startRow+r)});const s=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,s)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},mQ=2,yQ=class extends Me{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const i=Math.floor(e/this.params.blockSize);let s=this.blocks[i];if(!s){if(t)return;s=this.createBlock(i)}return s.getRow(e)}createBlock(e){const t=this.params,i=this.createBean(new pQ(e,this,t));return this.blocks[i.id]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),t.rowNodeBlockLoader.addBlock(i),i}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Xu(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),i=(o,a)=>a.lastAccessed-o.lastAccessed;t.sort(i);const s=this.params.maxBlocksInCache>0,n=s?this.params.maxBlocksInCache-1:null,r=mQ-1;t.forEach((o,a)=>{const l=o.state==="needsLoading"&&a>=r,u=s?a>=n:!1;if(l||u){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:i,endRow:s}=e;return t.rowIndex>=i&&t.rowIndex<s}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:i}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,i-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:i,overflowSize:s}=this.params,r=(e.id+1)*i+s;this.rowCount<r&&(this.rowCount=r)}}setRowCount(e,t){this.rowCount=e,He(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(i=>i.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(i,s)=>i.id-s.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const i=[];let s=-1,n=!1;const r={value:0};let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(n&&s+1!==l.id){o=!0;return}s=l.id,l.forEachNode(u=>{const h=u===e||u===t;(n||h)&&i.push(u),h&&(n=!n)},r,this.rowCount)}}),o||n?[]:i}},vQ=class extends Me{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Ou(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Ou(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){var t;let e;this.cacheParams?e=!kp(this.cacheParams.sortModel,((t=this.beans.sortSvc)==null?void 0:t.getSortModel())??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){var i;return((i=this.infiniteCache)==null?void 0:i.getRowNodesInRange(e,t))??[]}reset(){var i;if(!this.datasource)return;Wd(this.gos)!=null||(i=this.beans.selectionSvc)==null||i.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:i,rowNodeBlockLoader:s,eventSvc:n,gos:r}=e;this.cacheParams={datasource:this.datasource,filterModel:(t==null?void 0:t.getFilterModel())??{},sortModel:(i==null?void 0:i.getSortModel())??[],rowNodeBlockLoader:s,initialRowCount:r.get("infiniteInitialRowCount"),maxBlocksInCache:r.get("maxBlocksInCache"),rowHeight:Ou(e),overflowSize:r.get("cacheOverflowSize"),blockSize:r.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new yQ(this.cacheParams)),n.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){var t;(t=this.infiniteCache)==null||t.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){var e;(e=this.infiniteCache)==null||e.refreshCache()}purgeCache(){var e;(e=this.infiniteCache)==null||e.purgeCache()}isLastRowIndexKnown(){var e;return((e=this.infiniteCache)==null?void 0:e.isLastRowIndexKnown())??!1}setRowCount(e,t){var i;(i=this.infiniteCache)==null||i.setRowCount(e,t)}};function CQ(e){var t;(t=$C(e))==null||t.refreshCache()}function xQ(e){var t;(t=$C(e))==null||t.purgeCache()}function bQ(e){var t;return(t=$C(e))==null?void 0:t.getRowCount()}var SQ=class extends Me{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=WU(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=_s(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Ro(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Xu(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(i=>i.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:i,state:s}=t.getBlockStateJson();e[i]=s}),e}printCacheStatus(){Xu(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},wQ={moduleName:"InfiniteRowModelCore",version:We,rowModels:["infinite"],beans:[vQ,SQ]},MQ={moduleName:"InfiniteRowModel",version:We,apiFunctions:{refreshInfiniteCache:CQ,purgeInfiniteCache:xQ,getInfiniteRowCount:bQ},dependsOn:[wQ,zq]},DQ="",AQ="",EQ=class extends Ci{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const i=Math.abs(t),s=e.formatValue(i),n=He(s)?s:i,r=t>=0,o=this.eDelta;r?o.textContent=DQ+n:o.textContent=AQ+n,o.classList.toggle("ag-value-change-delta-up",r),o.classList.toggle("ag-value-change-delta-down",!r)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),lr(this.eDelta)}refresh(e,t=!1){var a;const{value:i,valueFormatted:s}=e,{eValue:n,lastValue:r,beans:o}=this;if(i===r||(He(s)?n.textContent=s:He(i)?n.textContent=i:lr(n),(a=o.filterManager)!=null&&a.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof r=="number"){const l=i-r;this.showDelta(e,l)}return r&&n.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0}},TQ=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",RQ=class extends Ci{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current"),this.registerCSS(TQ)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:i}=this,s=Gi(t).createElement("span");s.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=s,s.textContent=i.textContent,this.getGui().insertBefore(s,i),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var n;let i=e.value;if(vi(i)&&(i=""),i===this.lastValue||(n=this.beans.filterManager)!=null&&n.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=i;const s=this.eCurrent;return He(e.valueFormatted)?s.textContent=e.valueFormatted:He(e.value)?s.textContent=i:lr(s),!0}},kQ=class extends Me{constructor(){super(...arguments),this.beanName="cellFlashSvc"}onFlashCells(e,t){if(!e.comp)return;const i=e8(e.cellPosition);t.cells[i]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t==null?void 0:t.flashDuration,t==null?void 0:t.fadeDuration)}animateCell(e,t,i,s){const n=e.comp;if(!n)return;const{gos:r}=this;if(i||(i=r.get("cellFlashDuration")),i===0)return;He(s)||(s=r.get("cellFadeDuration"));const o=`ag-cell-${t}`,a=`ag-cell-${t}-animation`;n.addOrRemoveCssClass(o,!0),n.addOrRemoveCssClass(a,!1);const l=e.eGui;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e.isAlive()&&(n.addOrRemoveCssClass(o,!1),n.addOrRemoveCssClass(a,!0),l.style.transition=`background-color ${s}ms`,window.setTimeout(()=>{e.isAlive()&&(n.addOrRemoveCssClass(a,!1),l.style.transition="")},s))},i)})}};function IQ(e,t={}){const{cellFlashSvc:i}=e;i&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(s=>i.flashCell(s,t))})}var LQ={moduleName:"HighlightChanges",version:We,beans:[kQ],userComponents:{agAnimateShowChangeCellRenderer:EQ,agAnimateSlideCellRenderer:RQ},apiFunctions:{flashCells:IQ}};function FQ(e){var t;return((t=e.stateSvc)==null?void 0:t.getState())??{}}function PQ(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=OQ(e)}return e}function OQ(e){return e.cellSelection=NQ(e,"rangeSelection"),e}function NQ(e,t){if(e&&typeof e=="object")return e[t]}var _Q=class extends Me{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=_s(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=_s(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=_s(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=$s(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",We);const e=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>e(()=>this.setupStateOnGridReady()));const[t,i,s]=this.addManagedEventListeners({newColumnsLoaded:({source:n})=>{n==="gridInitializing"&&(t(),e(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{i==null||i(),e(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{s==null||s(),e(()=>this.setupStateOnFirstDataRendered())}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getInitialState(){return PQ(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){const e=()=>this.updateCachedState("sideBar",this.getSideBarState());e(),this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:i,pagination:s}=this.getInitialState();e&&this.setFilterState(e),t&&this.setRowGroupExpansionState(t),i&&this.setRowSelectionState(i),s&&this.setPaginationState(s);const n=this.updateCachedState.bind(this);n("filter",this.getFilterState()),n("rowGroupExpansion",this.getRowGroupExpansionState()),n("rowSelection",this.getRowSelectionState()),n("pagination",this.getPaginationState());const r=()=>{this.updateRowGroupExpansionStateTimer=0,n("rowGroupExpansion",this.getRowGroupExpansionState())};this.addManagedEventListeners({filterChanged:()=>n("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:r,columnRowGroupChanged:r,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(r)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&n("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:i,columnOrder:s}=this.getInitialState();i&&this.setFocusedCellState(i),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(s!=null&&s.orderedColIds));const n=this.updateCachedState.bind(this);n("sideBar",this.getSideBarState()),n("focusedCell",this.getFocusedCellState());const r=this.getRangeSelectionState();n("rangeSelection",r),n("cellSelection",r),n("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>n("focusedCell",this.getFocusedCellState()),cellSelectionChanged:o=>{if(o.finished){const a=this.getRangeSelectionState();n("rangeSelection",a),n("cellSelection",a)}},bodyScrollEnd:()=>n("scroll",this.getScrollState())})}getColumnState(){const e=this.beans,t=e.colModel.isPivotMode(),i=[],s=[],n=[],r=[],o=[],a=[],l=[],u=[],h=[];let f=0;const g=Fp(e);for(let m=0;m<g.length;m++){const{colId:y,sort:C,sortIndex:x,rowGroup:b,rowGroupIndex:w,aggFunc:M,pivot:A,pivotIndex:T,pinned:k,hide:R,width:F,flex:I}=g[m];h.push(y),C&&(i[x??f++]={colId:y,sort:C}),b&&(s[w??0]=y),typeof M=="string"&&n.push({colId:y,aggFunc:M}),A&&(r[T??0]=y),k&&(k==="right"?a:o).push(y),R&&l.push(y),(I!=null||F)&&u.push({colId:y,flex:I??void 0,width:F})}return{sort:i.length?{sortModel:i}:void 0,rowGroup:s.length?{groupColIds:s}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:r.length||t?{pivotMode:t,pivotColIds:r}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:h.length?{orderedColIds:h}:void 0}}setColumnState(e){const{sort:t,rowGroup:i,aggregation:s,pivot:n,columnPinning:r,columnVisibility:o,columnSizing:a,columnOrder:l,partialColumnState:u}=e,h={},f=x=>{let b=h[x];return b||(b={colId:x},h[x]=b,b)},g=u?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:x,sort:b},w)=>{const M=f(x);M.sort=b,M.sortIndex=w}),g.sort=null,g.sortIndex=null),i&&(i.groupColIds.forEach((x,b)=>{const w=f(x);w.rowGroup=!0,w.rowGroupIndex=b}),g.rowGroup=null,g.rowGroupIndex=null),s&&(s.aggregationModel.forEach(({colId:x,aggFunc:b})=>{f(x).aggFunc=b}),g.aggFunc=null),n&&(n.pivotColIds.forEach((x,b)=>{const w=f(x);w.pivot=!0,w.pivotIndex=b}),this.gos.updateGridOptions({options:{pivotMode:n.pivotMode},source:"gridInitializing"}),g.pivot=null,g.pivotIndex=null),r&&(r.leftColIds.forEach(x=>{f(x).pinned="left"}),r.rightColIds.forEach(x=>{f(x).pinned="right"}),g.pinned=null),o&&(o.hiddenColIds.forEach(x=>{f(x).hide=!0}),g.hide=null),a&&(a.columnSizingModel.forEach(({colId:x,flex:b,width:w})=>{const M=f(x);M.flex=b??null,M.width=w}),g.flex=null);const m=l==null?void 0:l.orderedColIds,y=!!(m!=null&&m.length),C=y?m.map(x=>f(x)):Object.values(h);C.length&&(this.columnStates=C,jr(this.beans,{state:C,applyOrder:y,defaultState:g},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;this.columnGroupStates=void 0;const s=this.beans,{pivotResultCols:n,colGroupSvc:r}=s;if(n!=null&&n.isPivotResultColsPresent()){if(t){const o=[];for(const a of t)n.getPivotResultCol(a.colId)&&o.push(a);jr(s,{state:o,applyOrder:e},"gridInitializing")}i&&(r==null||r.setColumnGroupState(i,"gridInitializing"))}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState(),i=[];return t.forEach(({groupId:s,open:n})=>{n&&i.push(s)}),i.length?{openColumnGroupIds:i}:void 0}setColumnGroupState(e){var r;const t=this.beans.colGroupSvc;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup")||!t)return;const i=new Set((r=e.columnGroup)==null?void 0:r.openColumnGroupIds),n=t.getColumnGroupState().map(({groupId:o})=>{const a=i.has(o);return a&&i.delete(o),{groupId:o,open:a}});i.forEach(o=>{n.push({groupId:o,open:!0})}),n.length&&(this.columnGroupStates=n),t.setColumnGroupState(n,"gridInitializing")}getFilterState(){const e=this.beans.filterManager;let t=e==null?void 0:e.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const i=(e==null?void 0:e.getAdvFilterModel())??void 0;return t||i?{filterModel:t,advancedFilterModel:i}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:i,advancedFilterModel:s}=e??{};i&&(t==null||t.setFilterModel(i,"columnFilter")),s&&(t==null||t.setAdvFilterModel(s,"advancedFilter"))}getRangeSelectionState(){var t;const e=(t=this.beans.rangeSvc)==null?void 0:t.getCellRanges().map(i=>{const{id:s,type:n,startRow:r,endRow:o,columns:a,startColumn:l}=i;return{id:s,type:n,startRow:r,endRow:o,colIds:a.map(u=>u.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:i,colModel:s,visibleCols:n}=this.beans;if(!xc(t)||!i)return;const r=[];e.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(u=>{const h=s.getCol(u);h&&a.push(h)}),!a.length)return;let l=s.getCol(o.startColId);if(!l){const u=n.allCols,h=new Set(a);l=u.find(f=>h.has(f))}r.push({...o,columns:a,startColumn:l})}),i.setCellRanges(r)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:i}=(e==null?void 0:e.getVScrollPosition())??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:i}=e,{frameworkOverrides:s,rowRenderer:n,animationFrameSvc:r,ctrlsSvc:o}=this.beans;s.wrapIncoming(()=>{var a;o.get("center").setCenterViewportScrollLeft(i),(a=o.getScrollFeature())==null||a.setVerticalScrollPosition(t),n.redraw({afterScroll:!0}),r==null||r.flushAllFrames()})}getSideBarState(){var e,t;return(t=(e=this.beans.sideBar)==null?void 0:e.comp)==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:s}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:s}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:i,rowPinned:s}=e,{focusSvc:n,colModel:r}=this.beans;n.setFocusedCell({column:r.getCol(t),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const i=e.getCurrentPage(),s=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!i&&!s))return{page:i,pageSize:s}}setPaginationState(e){const{pagination:t,gos:i}=this.beans;t&&(e.pageSize&&!i.get("paginationAutoPageSize")&&t.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&t.setPage(e.page))}getRowSelectionState(){var s;const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((s=t==null?void 0:t.toggledNodes)!=null&&s.length)?void 0:t}setRowSelectionState(e){var t;(t=this.beans.selectionSvc)==null||t.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const i=[];return t.forEachNode(({expanded:s,id:n})=>{s&&n&&i.push(n)}),i.length?{expandedRowGroupIds:i}:void 0}setRowGroupExpansionState(e){var t;(t=this.beans.expansionSvc)==null||t.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let i=!1;const s=this.cachedState;for(const n of Object.keys(t)){const r=t[n];kp(r,s[n])||(i=!0)}this.cachedState={...s,...t},i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const i=this.cachedState[e];this.setCachedStateValue(e,t),kp(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0;const t=this.beans.colAnimation;t==null||t.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(t==null||t.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},BQ={moduleName:"GridState",version:We,beans:[_Q],apiFunctions:{getState:FQ}};function GQ(e){return e.rowModel.isLastRowIndexKnown()}function zQ(e){var t;return((t=e.pagination)==null?void 0:t.getPageSize())??100}function HQ(e){var t;return((t=e.pagination)==null?void 0:t.getCurrentPage())??0}function VQ(e){var t;return((t=e.pagination)==null?void 0:t.getTotalPages())??1}function WQ(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function UQ(e){var t;(t=e.pagination)==null||t.goToNextPage()}function jQ(e){var t;(t=e.pagination)==null||t.goToPreviousPage()}function YQ(e){var t;(t=e.pagination)==null||t.goToFirstPage()}function KQ(e){var t;(t=e.pagination)==null||t.goToLastPage()}function $Q(e,t){var i;(i=e.pagination)==null||i.goToPage(t)}var XQ=class extends Me{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,i=()=>{const s=Math.max(Ou(t),1),n=Math.floor(e/s);t.pagination.setPageSize(n,"autoCalculated")};this.isBodyRendered?_s(this,i,50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Ig="paginationPageSizeSelector",ZQ=class extends Ci{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(Ig,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){lr(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Ig)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),i=!t||!e.includes(t);if(i){const n=this.gos.exists("paginationPageSize"),r=this.gos.get(Ig)!==!0;Pe(94,{pageSizeSet:n,pageSizesSet:r,pageSizeOptions:e,paginationPageSizeOption:t}),r||Pe(95,{paginationPageSizeOption:t,paginationPageSizeSelector:Ig}),e.unshift("")}const s=String(i?"":t);this.selectPageSizeComp?(oh(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(s,!0)):this.createPageSizeSelectorComp(e,s),this.hasEmptyOption=i}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const i=this.getLocaleTextFunc(),s=i("pageSizeSelectorLabel","Page Size:"),n=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new HD).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(n).setLabel(s).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(Ig);return!Array.isArray(t)||!(t!=null&&t.length)?e:[...t].sort((i,s)=>i-s)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},qQ={selector:"AG-PAGE-SIZE-SELECTOR",component:ZQ},QQ=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",JQ=class extends L9{constructor(){super(),this.btFirst=tt,this.btPrevious=tt,this.btNext=tt,this.btLast=tt,this.lbRecordCount=tt,this.lbFirstRowOnPage=tt,this.lbLastRowOnPage=tt,this.lbCurrent=tt,this.lbTotal=tt,this.pageSizeComp=tt,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(QQ)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[qQ]);const{btFirst:t,btPrevious:i,btNext:s,btLast:n}=this;this.activateTabIndex([t,i,s,n]),t.insertAdjacentElement("afterbegin",Gr(e?"last":"first",this.beans)),i.insertAdjacentElement("afterbegin",Gr(e?"next":"previous",this.beans)),s.insertAdjacentElement("afterbegin",Gr(e?"previous":"next",this.beans)),n.insertAdjacentElement("afterbegin",Gr(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:r=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(r):_j(this.beans,r),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:s=>{(s.key===Se.ENTER||s.key===Se.SPACE)&&(s.preventDefault(),i())}})}),Nj(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):cX(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),s=e("of","of"),n=e("firstPage","First Page"),r=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${i}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${s}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${n}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${s}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const s=this.isZeroPagesToDisplay(),n=e===i-1;this.nextButtonDisabled=n||s,this.lastButtonDisabled=!t||s||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){cU(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),i=this.pagination.getMasterRowCount(),s=e?i:null;if(s===1){const w=this.rowModel.getRow(0);if(w&&w.group&&!(w.groupData||w.aggData)){this.setTotalLabelsToZero();return}}const n=this.pagination.getCurrentPage(),r=this.pagination.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=r*n+1,a=o+r-1,e&&a>s&&(a=s));const l=o+r-1,u=!e&&i<l,h=this.formatNumber(o);this.lbFirstRowOnPage.textContent=h;let f;const g=this.getLocaleTextFunc();u?f=g("pageLastRowUnknown","?"):f=this.formatNumber(a),this.lbLastRowOnPage.textContent=f;const y=t>0?n+1:0,C=this.formatNumber(y);this.lbCurrent.textContent=C;let x,b;if(e)x=this.formatNumber(t),b=this.formatNumber(s);else{const w=g("more","more");x=w,b=w}this.lbTotal.textContent=x,this.lbRecordCount.textContent=b,this.announceAriaStatus(h,f,b,C,x)}announceAriaStatus(e,t,i,s,n){var f,g;const r=this.getLocaleTextFunc(),o=r("page","Page"),a=r("to","to"),l=r("of","of"),u=`${e} ${a} ${t} ${l} ${i}`,h=`${o} ${s} ${l} ${n}`;u!==this.ariaRowStatus&&(this.ariaRowStatus=u,(f=this.ariaAnnounce)==null||f.announceValue(u,"paginationRow")),h!==this.ariaPageStatus&&(this.ariaPageStatus=h,(g=this.ariaAnnounce)==null||g.announceValue(h,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},eJ={selector:"AG-PAGINATION",component:JQ},tJ=class extends Me{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return eJ}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;!this.active||t===e||typeof t!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return He(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:He(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:He(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:He(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const i=this.pageSize,s=t-1;this.totalPages=Math.floor(s/i)+1,this.adjustCurrentPageIfInvalid();const n=this.currentPage,r=i*n;let o=i*(n+1)-1;if(o>s&&(o=s),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(r),o===s)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:i}=this,s=e-1;this.totalPages=Math.floor(s/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*i,this.bottomDisplayedRowIndex=t*(i+1)-1,this.bottomDisplayedRowIndex>s&&(this.bottomDisplayedRowIndex=s)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:s=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:s,keepRenderedRows:t})}},iJ={moduleName:"Pagination",version:We,beans:[tJ,XQ],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:GQ,paginationGetPageSize:zQ,paginationGetCurrentPage:HQ,paginationGetTotalPages:VQ,paginationGetRowCount:WQ,paginationGoToNextPage:UQ,paginationGoToPreviousPage:jQ,paginationGoToFirstPage:YQ,paginationGoToLastPage:KQ,paginationGoToPage:$Q},dependsOn:[XC]};function sJ(e,t={}){const i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(i))}function j_(e,t,i,s,n){t&&(s&&t.parent&&t.parent.level!==-1&&j_(e,t.parent,i,s,n),t.setExpanded(i,void 0,n))}function nJ(e,t){return e.rowModel.getRowNode(t)}function rJ(e,t,i,s){e.rowRenderer.addRenderedRowListener(t,i,s)}function oJ(e){return e.rowRenderer.getRenderedNodes()}function aJ(e,t,i){e.rowModel.forEachNode(t,i)}function lJ(e){return e.rowRenderer.firstRenderedRow}function cJ(e){return e.rowRenderer.lastRenderedRow}function uJ(e,t){return e.rowModel.getRow(t)}function hJ(e){return e.rowModel.getRowCount()}var dJ={moduleName:"RowApi",version:We,apiFunctions:{redrawRows:sJ,setRowNodeExpanded:j_,getRowNode:nJ,addRenderedRowListener:rJ,getRenderedNodes:oJ,forEachNode:aJ,getFirstDisplayedRowIndex:lJ,getLastDisplayedRowIndex:cJ,getDisplayedRowAtIndex:uJ,getDisplayedRowCount:hJ}},fJ={moduleName:"ScrollApi",version:We,apiFunctions:{getVerticalPixelRange:XZ,getHorizontalPixelRange:ZZ,ensureColumnVisible:G_,ensureIndexVisible:z_,ensureNodeVisible:qZ}};function gJ(e,t,i){if(!t)return;const s=e.ctrlsSvc.getGridBodyCtrl().eGridBody,n=`aria-${t}`;i===null?s.removeAttribute(n):s.setAttribute(n,i)}function pJ(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function mJ(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function yJ(e){var t;return((t=e.animationFrameSvc)==null?void 0:t.isQueueEmpty())??!0}function vJ(e){var t;(t=e.animationFrameSvc)==null||t.flushAllFrames()}function CJ(e){return{rowHeight:Ou(e),headerHeight:ym(e)}}function xJ(e,t={}){var r;const i=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(o=>{const a=o.getCellRenderer();a!=null&&i.push(Pp(a))}),(r=t.columns)!=null&&r.length)return i;const s=[],n=pM(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(o=>{if(n&&!mM(o.rowNode,n)||!o.isFullWidth())return;const a=o.getFullWidthCellRenderers();for(let l=0;l<a.length;l++){const u=a[l];u!=null&&s.push(Pp(u))}}),[...s,...i]}var bJ={moduleName:"RenderApi",version:We,apiFunctions:{setGridAriaProperty:gJ,refreshCells:pJ,refreshHeader:mJ,isAnimationFrameQueueEmpty:yJ,flushAllAnimationFrames:vJ,getSizesForCurrentTheme:CJ,getCellRendererInstances:xJ}};function SJ(e,t){var i,s;typeof t=="number"?(i=e.colAutosize)==null||i.sizeColumnsToFit(t,"api"):(s=e.colAutosize)==null||s.sizeColumnsToFitGridBody(t)}function wJ(e,t,i){var s;(s=e.colAutosize)==null||s.autoSizeCols({colKeys:t,skipHeader:i,source:"api"})}function MJ(e,t){var i;(i=e.colAutosize)==null||i.autoSizeAllColumns("api",t)}var DJ=class extends Me{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:i,skipHeaderGroups:s,stopAtGroup:n,source:r="api"}=e,{animationFrameSvc:o,renderStatus:a,colModel:l,autoWidthCalc:u,visibleCols:h}=this.beans;if(o==null||o.flushAllFrames(),this.timesDelayed<5&&a&&!a.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const f=[];let g=-1;const m=i??this.gos.get("skipHeaderOnAutoSize"),y=s??m;for(;g!==0;){g=0;const C=[];t.forEach(x=>{if(!x)return;const b=l.getCol(x);if(!b||fm(b)||f.indexOf(b)>=0)return;const w=u.getPreferredWidthForColumn(b,m);if(w>0){const M=AJ(b,w);b.setActualWidth(M,r),f.push(b),g++}C.push(b)}),C.length&&h.refresh(r)}y||this.autoSizeColumnGroupsByColumns(t,r,n),jd(this.eventSvc,f,!0,"autosizeColumns")}autoSizeColumn(e,t,i){e&&this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){const{colModel:s,ctrlsSvc:n}=this.beans,r=new Set;s.getColsForKeys(e).forEach(u=>{let h=u.getParent();for(;h&&h!=i;)h.isPadding()||r.add(h),h=h.getParent()});let a;const l=[];for(const u of r){for(const h of n.getHeaderRowContainerCtrls())if(a=h.getHeaderCtrlForColumn(u),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const i=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:i,skipHeader:t,source:e})}addColumnAutosize(e,t){const i=this.gos.get("skipHeaderOnAutoSize"),s=()=>{this.autoSizeColumn(t,"uiColumnResized",i)};e.addEventListener("dblclick",s);const n=new dd(e);return n.addEventListener("doubleTap",s),()=>{e.removeEventListener("dblclick",s),n.removeEventListener("doubleTap",s),n.destroy()}}addColumnGroupResize(e,t,i){const s=this.gos.get("skipHeaderOnAutoSize"),n=()=>{const r=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||r.push(a.getColId())}),r.length>0&&this.autoSizeCols({colKeys:r,skipHeader:s,stopAtGroup:t,source:"uiColumnResized"}),i()};return e.addEventListener("dblclick",n),()=>e.removeEventListener("dblclick",n)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:i,scrollVisibleSvc:s}=this.beans,n=i.getGridBodyCtrl(),o=n.isVerticalScrollShowing()?s.getScrollbarWidth():0,l=Tp(n.eGridBody)-o;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):Pe(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",i,s){var m;if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,i,s));return}const n={};s&&((m=s==null?void 0:s.columnLimits)==null||m.forEach(({key:y,...C})=>{n[typeof y=="string"?y:y.getColId()]=C}));const r=this.beans.visibleCols.allCols,o=e===Ba(r);if(e<=0||!r.length||o)return;const a=[],l=[];r.forEach(y=>{y.getColDef().suppressSizeToFit===!0?l.push(y):a.push(y)});const u=a.slice(0);let h=!1;const f=y=>{Ro(a,y),l.push(y)};for(a.forEach(y=>{y.resetActualWidth(t);const C=n==null?void 0:n[y.getId()],x=(C==null?void 0:C.minWidth)??(s==null?void 0:s.defaultMinWidth),b=(C==null?void 0:C.maxWidth)??(s==null?void 0:s.defaultMaxWidth),w=y.getActualWidth();typeof x=="number"&&w<x?y.setActualWidth(x,t,!0):typeof b=="number"&&w>b&&y.setActualWidth(b,t,!0)});!h;){h=!0;const y=e-Ba(l);if(y<=0)a.forEach(C=>{var b;const x=((b=n==null?void 0:n[C.getId()])==null?void 0:b.minWidth)??(s==null?void 0:s.defaultMinWidth);if(typeof x=="number"){C.setActualWidth(x,t,!0);return}C.setActualWidth(C.minWidth,t)});else{const C=y/Ba(a);let x=y;for(let b=a.length-1;b>=0;b--){const w=a[b],M=n==null?void 0:n[w.getId()],A=(M==null?void 0:M.minWidth)??(s==null?void 0:s.defaultMinWidth),T=(M==null?void 0:M.maxWidth)??(s==null?void 0:s.defaultMaxWidth),k=w.getMinWidth(),R=w.getMaxWidth(),F=typeof A=="number"&&A>k?A:k,I=typeof T=="number"&&T<R?T:R;let N=Math.round(w.getActualWidth()*C);N<F?(N=F,f(w),h=!1):N>I?(N=I,f(w),h=!1):b===0&&(N=x),w.setActualWidth(N,t,!0),x-=N}}}u.forEach(y=>{y.fireColumnWidthChangedEvent(t)});const g=this.beans.visibleCols;g.setLeftValues(t),g.updateBodyWidths(),!i&&jd(this.eventSvc,u,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:i,defaultMinWidth:s,defaultMaxWidth:n}=e,r=i==null?void 0:i.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:s,defaultMaxWidth:n,columnLimits:r})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:i}=e;setTimeout(()=>{t?this.autoSizeCols({colKeys:t,skipHeader:i,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",i)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function AJ(e,t){const i=e.getMinWidth();t<i&&(t=i);const s=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=s),t}var EJ={moduleName:"ColumnAutoSize",version:We,beans:[DJ],apiFunctions:{sizeColumnsToFit:SJ,autoSizeColumns:wJ,autoSizeAllColumns:MJ},dependsOn:[t_]};function TJ(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedTopRowCount())??0}function RJ(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedBottomRowCount())??0}function kJ(e,t){var i;return(i=e.pinnedRowModel)==null?void 0:i.getPinnedTopRow(t)}function IJ(e,t){var i;return(i=e.pinnedRowModel)==null?void 0:i.getPinnedBottomRow(t)}var LJ=class extends Me{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=i=>{i.setRowHeight(i.rowHeight,!0)};Lg(this.pinnedBottomRows,t),Lg(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const i=s=>{if(s.rowHeightEstimated){const n=Vd(this.beans,s);s.setRowTop(t),s.setRowHeight(n.height),t+=n.height,e=!0}};return Lg(this.pinnedBottomRows,i),t=0,Lg(this.pinnedTopRows,i),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const i=this.getCache(t);if(e===void 0){i.order.length=0,i.cache={};return}const s=Wd(this.gos),n=t==="top"?kN:IN,r=new Set(i.order),o=[],a=new Set;let l=0,u=-1;for(const h of e){const f=(s==null?void 0:s({data:h,level:0,rowPinned:t}))??n+this.nextId++;if(a.has(f)){Pe(96,{id:f,data:h});continue}u++,a.add(f),o.push(f);const g=op(i,f);if(g!==void 0)g.data!==h&&g.setData(h),l+=this.setRowTopAndRowIndex(g,l,u),r.delete(f);else{const m=new Kd(this.beans);m.id=f,m.data=h,m.rowPinned=t,l+=this.setRowTopAndRowIndex(m,l,u),i.cache[f]=m,i.order.push(f)}}r.forEach(h=>{var f;(f=op(i,h))==null||f.clearRowTopAndRowIndex(),delete i.cache[h]}),i.order=o}setRowTopAndRowIndex(e,t,i){return e.setRowTop(t),e.setRowHeight(Vd(this.beans,e).height),e.setRowIndex(i),e.rowHeight}getPinnedTopTotalHeight(){return hF(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return hF(this.pinnedBottomRows)}getPinnedTopRowCount(){return CM(this.pinnedTopRows)}getPinnedBottomRowCount(){return CM(this.pinnedBottomRows)}getPinnedTopRow(e){return vM(this.pinnedTopRows,e)}getPinnedBottomRow(e){return vM(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return op(this.getCache(t),e)}forEachPinnedRow(e,t){return Lg(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}};function hF(e){const t=CM(e);if(t===0)return 0;const i=vM(e,t-1);return i===void 0?0:i.rowTop+i.rowHeight}function op(e,t){return e.cache[t]}function vM(e,t){return op(e,e.order[t])}function Lg(e,t){e.order.forEach((i,s)=>{const n=op(e,i);n&&t(n,s)})}function CM(e){return e.order.length}var FJ={moduleName:"PinnedRow",version:We,beans:[LJ],apiFunctions:{getPinnedTopRowCount:TJ,getPinnedBottomRowCount:RJ,getPinnedTopRow:kJ,getPinnedBottomRow:IJ}},PJ=class extends tp{constructor(e,t,i){super(e.col,e.firstNode,i,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,i,s,n,r,o){this.eWrapper=i,super.setComp(e,t,i,s,n,r,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&EO(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){fU(this.eGui,this.cellSpan.spannedNodes.size)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellSpan)}onFocusOut(){this.focusedCellPosition=void 0,super.onFocusOut()}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}isCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.addOrRemoveCssClass(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(jC(t)){this.focusedCellPosition=void 0;return}const i=this.isCellFocused();i||(this.focusedCellPosition=void 0),e&&i&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},OJ=class extends Yv{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){var s;const t=(s=this.beans.rowSpanSvc)==null?void 0:s.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new PJ(t,this,this.beans)}shouldRecreateCellCtrl(e){var s;const t=(s=this.beans.rowSpanSvc)==null?void 0:s.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!0:e.getCellSpan()!==t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},NJ=class extends Me{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,i=`${e}Ctrls`,s=this[i],n=s.size,r=this.getAllRelevantRowControls(e),o=new Map;let a=!1;for(const u of r)u.isAlive()&&(t==null||t.forEachSpannedColumn(u.rowNode,(h,f)=>{if(o.has(f.firstNode))return;const g=s.get(f.firstNode);if(g){o.set(f.firstNode,g),s.delete(f.firstNode);return}a=!0;const m=new OJ(f.firstNode,this.beans,!1,!1,!1);o.set(f.firstNode,m)}));this[i]=o;const l=o.size===n;if(!(!a&&l)){for(const u of s.values())u.destroyFirstPass(!0),u.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,i=t==null?void 0:t.getCellSpanByPosition(e);if(!i)return;const s=`${Y_(e.rowPinned)}Ctrls`,n=this[s].get(i.firstNode);if(n)return n.getAllCellCtrls().find(r=>r.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const i of this[t].values())i.destroyFirstPass(!0),i.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},Y_=e=>e??"center",_J=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){var i;const e=(i=this.firstNode.__autoHeights)==null?void 0:i[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(s=>{s!==this.lastNode&&(t+=s.rowHeight)}),e-t}},BJ=class extends Me{constructor(e){super(),this.column=e}buildCache(e){var b;const{column:t,beans:{gos:i,pinnedRowModel:s,rowModel:n,valueSvc:r}}=this,{colDef:o}=t,a=new Map,l=i.getCallback("isFullWidthRow"),u=o.equals,h=o.spanRows,f=typeof h=="function";let g=null,m=null,y;const C=(w,M)=>{g=w,m=null,y=M},x=w=>{const M=!w.isExpandable()&&!w.group&&!w.detail&&(l?!l({rowNode:w}):!0);if(w.rowIndex==null||!M){C(null,null);return}if(g==null||w.level!==g.level||w.footer||m&&w.rowIndex-1!==(m==null?void 0:m.getLastNode().rowIndex)){C(w,r.getValue(t,w));return}const A=r.getValue(t,w);if(f){const T=nt(i,{valueA:y,nodeA:g,valueB:A,nodeB:w,column:t,colDef:o});if(!h(T)){C(w,A);return}}else if(u?!u(y,A):y!==A){C(w,A);return}m||(m=new _J(t,g),a.set(g,m)),m.addSpannedNode(w),a.set(w,m)};switch(e){case"center":(b=n.forEachDisplayedNode)==null||b.call(n,x);break;case"top":s==null||s.forEachPinnedRow("top",x);break;case"bottom":s==null||s.forEachPinnedRow("bottom",x);break}this[`${e}ValueNodeMap`]=a}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${Y_(e.rowPinned)}ValueNodeMap`].get(e)}},GJ=class extends Me{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=_s(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=_s(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){this.addManagedEventListeners({modelUpdated:this.buildModelCaches.bind(this),pinnedRowDataChanged:this.buildPinnedCaches.bind(this)})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const i=this.createManagedBean(new BJ(e));this.spanningColumns.set(e,i),i.buildCache("top"),i.buildCache("bottom"),i.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated(e){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t==null||t.createCtrls("top"),t==null||t.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t==null||t.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const i=this.spanningColumns.get(e);return i?i.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:i}=this.beans,s=e.column,n=e.rowIndex,r=this.spanningColumns.get(s);if(!r)return;let o;switch(e.rowPinned){case"top":o=t==null?void 0:t.getPinnedTopRow(n);break;case"bottom":o=t==null?void 0:t.getPinnedBottomRow(n);break;default:o=i.getRow(n)}if(o)return r.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const i=this.spanningColumns.get(e);if(i)return i.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[i,s]of this.spanningColumns)if(s.isCellSpanning(e)){const n=s.getCellSpan(e);t(i,n)}}destroy(){super.destroy(),this.spanningColumns.clear()}},zJ={moduleName:"CellSpan",version:We,beans:[GJ,NJ]},HJ=class extends Me{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,i=e.colDef,s=i.cellClassRules,n=this.getCellClassParams(e,i);FD(this.beans.expressionSvc,s===this.cellClassRules?void 0:this.cellClassRules,s,n,r=>t.addOrRemoveCssClass(r,!0),r=>t.addOrRemoveCssClass(r,!1)),this.cellClassRules=s}applyUserStyles(){const e=this.column,t=e.colDef,i=t.cellStyle;if(!i)return;let s;if(typeof i=="function"){const n=this.getCellClassParams(e,t);s=i(n)}else s=i;s&&this.cellComp.setUserStyles(s)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,i=e.colDef,s=this.getCellClassParams(e,i);this.staticClasses.forEach(r=>t.addOrRemoveCssClass(r,!1));const n=this.beans.cellStyles.getStaticCellClasses(i,s);this.staticClasses=n,n.forEach(r=>t.addOrRemoveCssClass(r,!0))}getCellClassParams(e,t){const{value:i,rowNode:s}=this.cellCtrl;return nt(this.beans.gos,{value:i,data:s.data,node:s,colDef:t,column:e,rowIndex:s.rowIndex})}},VJ=class extends Me{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,i,s){FD(this.beans.expressionSvc,void 0,e.cellClassRules,t,i,s),this.processStaticCellClasses(e,t,i)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let s;return typeof i=="function"?s=i(t):s=i,typeof s=="string"&&(s=[s]),s||[]}createCellCustomStyleFeature(e,t){return new HJ(e,t)}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(n=>{i(n)})}},WJ={moduleName:"CellStyle",version:We,beans:[VJ]},UJ={moduleName:"RowStyle",version:We,beans:[y8]};function jJ(e,t){var i;return!!((i=e.colHover)!=null&&i.isHovered(t))}var YJ=class extends Me{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){if(this.gos.get("columnHoverHighlight")){const e=this.beans.colHover;this.addManagedListeners(this.element,{mouseout:e.clearMouseOver.bind(e),mouseover:e.setMouseOver.bind(e,this.columns)})}}},KJ="ag-column-hover",$J=class extends Me{constructor(){super(...arguments),this.beanName="colHover"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,i){const s=()=>{if(!this.gos.get("columnHoverHighlight"))return;const n=this.isHovered(i);t.addOrRemoveCssClass("ag-column-hover",n)};e.addManagedEventListeners({columnHoverChanged:s}),s()}onCellColumnHover(e,t){if(!t||!this.gos.get("columnHoverHighlight"))return;const i=this.isHovered(e);t.addOrRemoveCssClass(KJ,i)}addHeaderFilterColumnHoverListener(e,t,i,s){this.createHoverFeature(e,[i],s);const n=()=>{if(!this.gos.get("columnHoverHighlight"))return;const r=this.isHovered(i);t.addOrRemoveCssClass("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:n}),n()}createHoverFeature(e,t,i){e.createManagedBean(new YJ(t,i))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},XJ={moduleName:"ColumnHover",version:We,beans:[$J],apiFunctions:{isColumnHovered:jJ}},ZJ=class extends Me{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){var e,t;this.wrapSvc=(t=(e=this.beans.frameworkOverrides).createGlobalEventListenerWrapper)==null?void 0:t.call(e)}addEventListener(e,t){var r;const i=((r=this.wrapSvc)==null?void 0:r.wrap(t))??t,s=!hv.has(e),n=s?this.asyncListeners:this.syncListeners;n.has(e)||n.set(e,new Set),n.get(e).add(i),this.eventSvc.addEventListener(e,i,s)}removeEventListener(e,t){var r,o;const i=((r=this.wrapSvc)==null?void 0:r.unwrap(t))??t,s=this.asyncListeners.get(e),n=!!(s!=null&&s.delete(i));n||(o=this.syncListeners.get(e))==null||o.delete(i),this.eventSvc.removeEventListener(e,i,n)}addGlobalListener(e){var r;const t=((r=this.wrapSvc)==null?void 0:r.wrapGlobal(e))??e,i=(o,a)=>{hv.has(o)&&t(o,a)},s=(o,a)=>{hv.has(o)||t(o,a)};this.globalListenerPairs.set(e,{syncListener:i,asyncListener:s});const n=this.eventSvc;n.addGlobalListener(i,!1),n.addGlobalListener(s,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:i,globalListenerPairs:s}=this,n=(i==null?void 0:i.unwrapGlobal(e))??e;if(s.has(n)){const{syncListener:o,asyncListener:a}=s.get(n);t.removeGlobalListener(o,!1),t.removeGlobalListener(a,!0),s.delete(e)}else this.syncGlobalListeners.delete(n),t.removeGlobalListener(n,!1)}destroyEventListeners(e,t){e.forEach((i,s)=>{i.forEach(n=>this.eventSvc.removeEventListener(s,n,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(i=>this.eventSvc.removeGlobalListener(i,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:i,asyncListener:s})=>{t.removeGlobalListener(i,!1),t.removeGlobalListener(s,!0)}),e.clear()}};function qJ(e,t,i){var s;(s=e.apiEventSvc)==null||s.addEventListener(t,i)}function QJ(e,t,i){var s;(s=e.apiEventSvc)==null||s.removeEventListener(t,i)}function JJ(e,t){var i;(i=e.apiEventSvc)==null||i.addGlobalListener(t)}function eee(e,t){var i;(i=e.apiEventSvc)==null||i.removeGlobalListener(t)}var tee={moduleName:"EventApi",version:We,apiFunctions:{addEventListener:qJ,addGlobalListener:JJ,removeEventListener:QJ,removeGlobalListener:eee},beans:[ZJ]},iee=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",see=class extends Me{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,i,s){e&&t.destroyBean(e);const n=Bw(this.gos),{column:r,eGui:o}=t,a=r.getColDef();!s&&n&&!a.headerComponent&&(s=uv(()=>o.querySelector(".ag-header-cell-text")));const l={getColumn:()=>r,getColDef:()=>r.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>i??r.getColDef().headerTooltip,shouldDisplayTooltip:s};let u=this.createTooltipFeature(l);return u&&(u=t.createBean(u),t.setRefreshFunction("tooltip",()=>u.refreshTooltip())),u}setupHeaderGroupTooltip(e,t,i,s){e&&t.destroyBean(e);const n=Bw(this.gos),{column:r,eGui:o}=t,a=r.getColGroupDef();!s&&n&&!(a!=null&&a.headerGroupComponent)&&(s=uv(()=>o.querySelector(".ag-header-group-text")));const l={getColumn:()=>r,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>i??(a&&a.headerTooltip),shouldDisplayTooltip:s};a&&(l.getColDef=()=>a);const u=this.createTooltipFeature(l);return u&&t.createBean(u)}enableCellTooltipFeature(e,t,i){const{column:s,rowNode:n}=e,r=()=>{const l=s.getColDef(),u=n.data;if(l.tooltipField&&He(u))return ep(u,l.tooltipField,s.isTooltipFieldContainsDots());const h=l.tooltipValueGetter;return h?h(nt(this.gos,{location:"cell",colDef:s.getColDef(),column:s,rowIndex:e.cellPosition.rowIndex,node:n,data:n.data,value:e.value,valueFormatted:e.valueFormatted})):null},o=Bw(this.gos);!i&&o&&!e.isCellRenderer()&&(i=uv(()=>{const l=e.eGui;return l.children.length===0?l:l.querySelector(".ag-cell-value")}));const a={getColumn:()=>s,getColDef:()=>s.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>n,getGui:()=>e.eGui,getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:r,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:i};return this.createTooltipFeature(a,this.beans)}refreshRowTooltip(e,t,i,s){const n={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>i,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:s},r=this.beans,o=r.context;e&&t.destroyBean(e,o);const a=this.createTooltipFeature(n,r);return t.createBean(a,o)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=He(t.tooltipField)||He(t.tooltipValueGetter)||He(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},nee={moduleName:"Tooltip",version:We,beans:[see],dynamicBeans:{tooltipFeature:D9},userComponents:{agTooltipComponent:oX},dependsOn:[XC],css:[iee]},ree={moduleName:"Locale",version:We,beans:[q$]},oee=class extends Me{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=_s(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){var r,o;const{visibleCols:e,rowModel:t,rowSpanSvc:i}=this.beans,s=e.autoHeightCols;let n=!1;(r=t.forEachDisplayedNode)==null||r.call(t,a=>{var h;const l=a.__autoHeights;let u=Vd(this.beans,a).height;for(const f of s){if(this.colSpanSkipRow(f,a))return;let g=l==null?void 0:l[f.getColId()];const m=i==null?void 0:i.getCellSpan(f,a);if(m){if(m.getLastNode()!==a)continue;if(g=(h=i==null?void 0:i.getCellSpan(f,a))==null?void 0:h.getLastNodeAutoHeight(),!g)return}if(g==null)return;u=Math.max(g,u)}u!==a.rowHeight&&(a.setRowHeight(u),n=!0)}),n&&((o=t.onRowHeightChanged)==null||o.call(t))}setRowAutoHeight(e,t,i){if(e.__autoHeights||(e.__autoHeights={}),t==null){delete e.__autoHeights[i.getId()];return}const s=e.__autoHeights[i.getId()];e.__autoHeights[i.getId()]=t,s!==t&&this.requestCheckAutoHeight()}colSpanSkipRow(e,t){const{colModel:i,colViewport:s,visibleCols:n}=this.beans;if(!i.colSpanActive)return!1;let r=[];switch(e.getPinned()){case"left":r=n.getLeftColsForRow(t);break;case"right":r=n.getRightColsForRow(t);break;case null:r=s.getColsWithinViewport(t);break}return r.includes(e)}setupCellAutoHeight(e,t,i){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const s=t.parentElement,{rowNode:n,column:r}=e,o=this.beans,a=h=>{if(e.editing||!e.isAlive()||!i.isAlive())return;const{paddingTop:f,paddingBottom:g,borderBottomWidth:m,borderTopWidth:y}=nh(s),C=f+g+m+y,b=t.offsetHeight+C;if(h<5){const w=Gi(o),M=!w||!w.contains(t),A=b==0;if(M||A){window.setTimeout(()=>a(h+1),0);return}}this.setRowAutoHeight(n,b,r)},l=()=>a(0);l();const u=hl(o,t,l);return i.addDestroyFunc(()=>{u(),this.setRowAutoHeight(n,void 0,r)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}},aee={moduleName:"RowAutoHeight",version:We,beans:[oee]},lee={moduleName:"AllCommunity",version:We,dependsOn:[oQ,gQ,MQ,zX,dq,fq,gq,pq,mq,yq,vq,hq,kZ,IZ,LZ,RZ,PZ,OZ,BQ,Vq,iJ,SY,dJ,fJ,bJ,EJ,t7,FJ,Lq,B$,WJ,XJ,UJ,tee,H$,LQ,nee,ree,aee,e7,aQ,zJ]},$D=aO();const cee=oO($D);var nn=ke.createContext({}),vm=(e,t,i,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const r=e.newAgStackInstance();let o,a,l=!1;return r.then(u=>{if(l){t.destroyBean(u);return}o=u,a=o.getGui(),i.appendChild(a),dF(s,o)}),()=>{var u;l=!0,o&&((u=a==null?void 0:a.parentElement)==null||u.removeChild(a),t.destroyBean(o),s&&dF(s,void 0))}},dF=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const i=e;i.current=t}},_r=(...e)=>e.filter(i=>i!=null&&i!=="").join(" "),zr=class K_{constructor(...t){this.classesMap={},t.forEach(i=>{this.classesMap[i]=!0})}setClass(t,i){if(!!this.classesMap[t]==i)return this;const n=new K_;return n.classesMap={...this.classesMap},n.classesMap[t]=i,n}toString(){return Object.keys(this.classesMap).filter(i=>this.classesMap[i]).join(" ")}},cf=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,i=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===i()},rO,xM=(rO=ke.version)==null?void 0:rO.split(".")[0],uee=xM==="16"||xM==="17";function hee(){return xM==="19"}var dv=!1;function dee(e){return dv||setTimeout(()=>dv=!1,0),dv=!0,e()}var qv=(e,t)=>{!uee&&e&&!dv?cee.flushSync(t):t()};function Qv(e,t,i){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(i||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const s=[],n=[],r=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];r.set(l.instanceId,l),o.has(l.instanceId)&&s.push(l)}for(let a=0;a<t.length;a++){const l=t[a],u=l.instanceId;r.has(u)||n.push(l)}return s.length===e.length&&n.length===0?e:s.length===0&&n.length===t.length?t:s.length===0?n:n.length===0?s:[...s,...n]}var $_=B.forwardRef((e,t)=>{var le;const{registry:i,context:s}=B.useContext(nn),n=B.useRef(null),r=B.useRef(null),o=B.useRef(null),a=B.useRef(null),l=B.useRef(null),u=B.useRef(),[h,f]=B.useState(),[g,m]=B.useState(),[y,C]=B.useState(),[x,b]=B.useState(()=>new zr),[w,M]=B.useState(()=>new zr("ag-hidden")),[A,T]=B.useState(()=>new zr("ag-hidden")),[k,R]=B.useState(()=>new zr("ag-invisible"));B.useImperativeHandle(t,()=>({refresh(){return!1}})),B.useLayoutEffect(()=>vm(h,s,r.current),[h]);const F=B.useCallback(re=>{if(n.current=re,!re){u.current=s.destroyBean(u.current);return}const J={setInnerRenderer:(ee,O)=>{f(ee),C(O)},setChildCount:ee=>m(ee),addOrRemoveCssClass:(ee,O)=>b(j=>j.setClass(ee,O)),setContractedDisplayed:ee=>T(O=>O.setClass("ag-hidden",!ee)),setExpandedDisplayed:ee=>M(O=>O.setClass("ag-hidden",!ee)),setCheckboxVisible:ee=>R(O=>O.setClass("ag-invisible",!ee))},z=i.createDynamicBean("groupCellRendererCtrl",!0);z&&(u.current=s.createBean(z),u.current.init(J,re,o.current,a.current,l.current,$_,e))},[]),I=B.useMemo(()=>`ag-cell-wrapper ${x.toString()}`,[x]),N=B.useMemo(()=>`ag-group-expanded ${w.toString()}`,[w]),G=B.useMemo(()=>`ag-group-contracted ${A.toString()}`,[A]),V=B.useMemo(()=>`ag-group-checkbox ${k.toString()}`,[k]),Q=h&&h.componentFromFramework,pe=Q?h.componentClass:void 0,ae=h==null&&y!=null,se=$a(y,!0);return ke.createElement("span",{className:I,ref:F,...e.colDef?{}:{role:(le=u.current)==null?void 0:le.getCellAriaRole()}},ke.createElement("span",{className:N,ref:a}),ke.createElement("span",{className:G,ref:l}),ke.createElement("span",{className:V,ref:o}),ke.createElement("span",{className:"ag-group-value",ref:r},ae&&ke.createElement(ke.Fragment,null,se),Q&&ke.createElement(pe,{...h.params})),ke.createElement("span",{className:"ag-group-child-count"},g))}),fF=$_,XD=B.createContext({setMethods:()=>{}}),fee=e=>{const{initialProps:t,addUpdateCallback:i,CustomComponentClass:s,setMethods:n}=e,[{key:r,...o},a]=B.useState(t);return B.useEffect(()=>{i(l=>a(l))},[]),ke.createElement(XD.Provider,{value:{setMethods:n}},ke.createElement(s,{key:r,...o}))},gee=B.memo(fee),pee=0;function gF(){return`agPortalKey_${++pee}`}var X_=class{constructor(e,t,i,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=i,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=gF(),this.portalKey=gF(),this.instanceCreated=this.isStatelessComponent()?yi.resolve(!1):new yi(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),i=document.createElement(t||"div");return i.classList.add("ag-react-container"),e.reactContainer=i,i}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!i){setTimeout(()=>this.callMethod(e,t));return}const s=i[e];if(s)return s.apply(i,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new yi(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var i;this.componentInstance=t,(i=this.resolveInstanceCreated)==null||i.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=$D.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return B.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const i=this[`${e}Component`];if(!this.suppressFallbackMethods&&i)return i.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function ZD(e,t,i){e.forEach(s=>{const n=t[s];n&&(i[s]=n)})}var Lo=class extends X_{constructor(){super(...arguments),this.awaitUpdateCallback=new yi(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=gee}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:i=>this.setMethods(i),addUpdateCallback:i=>{this.updateCallback=()=>(i(this.getProps()),new yi(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,ZD(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new yi(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},mee=class extends Lo{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},yee=class extends Lo{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},vee=class extends Lo{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:i,shake:s}=this;return e.label=t,e.icon=i,e.shake=s,e}},Cee=class extends Lo{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new yi(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var i;const t=this.providedMethods;t?(i=t.afterGuiAttached)==null||i.call(t,e):this.awaitSetMethodsCallback.then(()=>{var s,n;return(n=(s=this.providedMethods)==null?void 0:s.afterGuiAttached)==null?void 0:n.call(s,e)})}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function Z_(e,t){e.parentFilterInstance(i=>{(i.setModel(t)||yi.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var xee=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=i=>this.updateModel(i)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){ZD(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Z_(this.floatingFilterParams,e)}},bee=class extends Lo{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Z_(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},See=class extends Lo{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},wee=class extends Lo{refresh(e){this.sourceParams=e,this.refreshProps()}},Mee=class extends Lo{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Dee=class extends Lo{refresh(e){this.sourceParams=e,this.refreshProps()}},Aee=class extends Lo{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Eee=class extends Lo{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function qD(){Pe(231)}var Tee=1e3,Ree=class{constructor(e,t,i){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=i||Tee}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,i){this.portals=[...this.portals,e],this.waitForInstance(t,i),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,i=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-i>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,i)})}}},kee=({ctrl:e})=>{const t=e.isAlive(),{context:i}=B.useContext(nn),s=t?e.column.getColId():void 0,[n,r]=B.useState(),[o,a]=B.useState(),l=B.useRef(),u=B.useRef(null),h=B.useRef(null),f=B.useRef(null),g=B.useRef(),m=B.useRef();t&&!m.current&&(m.current=new pm(()=>u.current));const y=B.useCallback(w=>{var T;if(u.current=w,l.current=w?i.createBean(new of):i.destroyBean(l.current),!w||!t)return;const M={setWidth:k=>{u.current&&(u.current.style.width=k)},addOrRemoveCssClass:(k,R)=>m.current.addOrRemoveCssClass(k,R),setUserStyles:k=>a(k),setAriaSort:k=>{u.current&&(k?mU(u.current,k):yU(u.current))},setUserCompDetails:k=>r(k),getUserCompInstance:()=>g.current||void 0};e.setComp(M,w,h.current,f.current,l.current);const A=e.getSelectAllGui();A&&((T=h.current)==null||T.insertAdjacentElement("afterend",A),l.current.addDestroyFunc(()=>A.remove()))},[]);B.useLayoutEffect(()=>vm(n,i,f.current,g),[n]),B.useEffect(()=>{e.setDragSource(u.current)},[n]);const C=B.useMemo(()=>!!((n==null?void 0:n.componentFromFramework)&&cf(n.componentClass)),[n]),x=n&&n.componentFromFramework,b=n&&n.componentClass;return ke.createElement("div",{ref:y,style:o,className:"ag-header-cell","col-id":s,role:"columnheader"},ke.createElement("div",{ref:h,className:"ag-header-cell-resize",role:"presentation"}),ke.createElement("div",{ref:f,className:"ag-header-cell-comp-wrapper",role:"presentation"},x&&C&&ke.createElement(b,{...n.params}),x&&!C&&ke.createElement(b,{...n.params,ref:g})))},Iee=B.memo(kee),Lee=({ctrl:e})=>{const{context:t,gos:i}=B.useContext(nn),[s,n]=B.useState(),[r,o]=B.useState(()=>new zr("ag-header-cell","ag-floating-filter")),[a,l]=B.useState(()=>new zr),[u,h]=B.useState(()=>new zr("ag-floating-filter-button","ag-hidden")),[f,g]=B.useState("false"),[m,y]=B.useState(),[,C]=B.useState(1),x=B.useRef(),b=B.useRef(null),w=B.useRef(null),M=B.useRef(null),A=B.useRef(null),T=B.useRef(),k=B.useRef(),R=re=>{re!=null&&T.current&&T.current(re)},F=B.useCallback(re=>{if(b.current=re,x.current=re?t.createBean(new of):t.destroyBean(x.current),!re)return;k.current=new yi(z=>{T.current=z});const J={addOrRemoveCssClass:(z,ee)=>o(O=>O.setClass(z,ee)),setUserStyles:z=>n(z),addOrRemoveBodyCssClass:(z,ee)=>l(O=>O.setClass(z,ee)),setButtonWrapperDisplayed:z=>{h(ee=>ee.setClass("ag-hidden",!z)),g(z?"false":"true")},setWidth:z=>{b.current&&(b.current.style.width=z)},setCompDetails:z=>y(z),getFloatingFilterComp:()=>k.current?k.current:null,setMenuIcon:z=>{var ee;return(ee=A.current)==null?void 0:ee.appendChild(z)}};e.setComp(J,re,A.current,w.current,x.current)},[]);B.useLayoutEffect(()=>vm(m,t,w.current,R),[m]);const I=B.useMemo(()=>r.toString(),[r]),N=B.useMemo(()=>a.toString(),[a]),G=B.useMemo(()=>u.toString(),[u]),V=B.useMemo(()=>!!(m&&m.componentFromFramework&&cf(m.componentClass)),[m]),Q=B.useMemo(()=>i.get("reactiveCustomComponents"),[]),pe=B.useMemo(()=>{if(m)if(Q){const re=new xee(m.params,()=>C(J=>J+1));return R(re),re}else m.componentFromFramework&&qD()},[m]),ae=pe==null?void 0:pe.getProps(),se=m&&m.componentFromFramework,le=m&&m.componentClass;return ke.createElement("div",{ref:F,style:s,className:I,role:"gridcell"},ke.createElement("div",{ref:w,className:N,role:"presentation"},se&&!Q&&ke.createElement(le,{...m.params,ref:V?()=>{}:R}),se&&Q&&ke.createElement(XD.Provider,{value:{setMethods:re=>pe.setMethods(re)}},ke.createElement(le,{...ae}))),ke.createElement("div",{ref:M,"aria-hidden":f,className:G,role:"presentation"},ke.createElement("button",{ref:A,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Fee=B.memo(Lee),Pee=({ctrl:e})=>{const{context:t}=B.useContext(nn),[i,s]=B.useState(),[n,r]=B.useState(()=>new zr),[o,a]=B.useState(()=>new zr),[l,u]=B.useState("false"),[h,f]=B.useState(),[g,m]=B.useState(),y=B.useMemo(()=>e.column.getUniqueId(),[]),C=B.useRef(),x=B.useRef(null),b=B.useRef(null),w=B.useRef(null),M=B.useRef(),A=B.useCallback(N=>{if(x.current=N,C.current=N?t.createBean(new of):t.destroyBean(C.current),!N)return;const G={setWidth:V=>{x.current&&(x.current.style.width=V)},addOrRemoveCssClass:(V,Q)=>r(pe=>pe.setClass(V,Q)),setUserStyles:V=>s(V),setHeaderWrapperHidden:V=>{const Q=w.current;Q&&(V?Q.style.setProperty("display","none"):Q.style.removeProperty("display"))},setHeaderWrapperMaxHeight:V=>{const Q=w.current;Q&&(V!=null?Q.style.setProperty("max-height",`${V}px`):Q.style.removeProperty("max-height"),Q.classList.toggle("ag-header-cell-comp-wrapper-limited-height",V!=null))},setUserCompDetails:V=>m(V),setResizableDisplayed:V=>{a(Q=>Q.setClass("ag-hidden",!V)),u(V?"false":"true")},setAriaExpanded:V=>f(V),getUserCompInstance:()=>M.current||void 0};e.setComp(G,N,b.current,w.current,C.current)},[]);B.useLayoutEffect(()=>vm(g,t,w.current),[g]),B.useEffect(()=>{x.current&&e.setDragSource(x.current)},[g]);const T=B.useMemo(()=>!!((g==null?void 0:g.componentFromFramework)&&cf(g.componentClass)),[g]),k=B.useMemo(()=>"ag-header-group-cell "+n.toString(),[n]),R=B.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),F=g&&g.componentFromFramework,I=g&&g.componentClass;return ke.createElement("div",{ref:A,style:i,className:k,"col-id":y,role:"columnheader","aria-expanded":h},ke.createElement("div",{ref:w,className:"ag-header-cell-comp-wrapper",role:"presentation"},F&&T&&ke.createElement(I,{...g.params}),F&&!T&&ke.createElement(I,{...g.params,ref:M})),ke.createElement("div",{ref:b,"aria-hidden":l,className:R}))},Oee=B.memo(Pee),Nee=({ctrl:e})=>{const{context:t}=B.useContext(nn),{topOffset:i,rowHeight:s}=B.useMemo(()=>e.getTopAndHeight(),[]),n=e.getAriaRowIndex(),r=e.headerRowClass,[o,a]=B.useState(()=>s+"px"),[l,u]=B.useState(()=>i+"px"),h=B.useRef(null),f=B.useRef(null),[g,m]=B.useState(()=>e.getHeaderCtrls()),y=B.useRef(),C=B.useRef(null),x=B.useCallback(M=>{if(C.current=M,y.current=M?t.createBean(new of):t.destroyBean(y.current),!M)return;const A={setHeight:T=>a(T),setTop:T=>u(T),setHeaderCtrls:(T,k,R)=>{f.current=h.current,h.current=T;const F=Qv(f.current,T,k);F!==f.current&&qv(R,()=>m(F))},setWidth:T=>{C.current&&(C.current.style.width=T)}};e.setComp(A,y.current,!1)},[]),b=B.useMemo(()=>({height:o,top:l}),[o,l]),w=B.useCallback(M=>{switch(e.type){case"group":return ke.createElement(Oee,{ctrl:M,key:M.instanceId});case"filter":return ke.createElement(Fee,{ctrl:M,key:M.instanceId});default:return ke.createElement(Iee,{ctrl:M,key:M.instanceId})}},[]);return ke.createElement("div",{ref:x,className:r,role:"row",style:b,"aria-rowindex":n},g.map(w))},_ee=B.memo(Nee),Bee=({pinned:e})=>{const[t,i]=B.useState(!0),[s,n]=B.useState([]),{context:r}=B.useContext(nn),o=B.useRef(null),a=B.useRef(null),l=B.useRef(),u=e==="left",h=e==="right",f=!u&&!h,g=B.useCallback(C=>{if(o.current=C,l.current=C?r.createBean(new e9(e)):r.destroyBean(l.current),!C)return;const x={setDisplayed:i,setCtrls:b=>n(b),setCenterWidth:b=>{a.current&&(a.current.style.width=b)},setViewportScrollLeft:b=>{o.current&&(o.current.scrollLeft=b)},setPinnedContainerWidth:b=>{o.current&&(o.current.style.width=b,o.current.style.minWidth=b,o.current.style.maxWidth=b)}};l.current.setComp(x,o.current)},[]),m=t?"":"ag-hidden",y=()=>s.map(C=>ke.createElement(_ee,{ctrl:C,key:C.instanceId}));return ke.createElement(ke.Fragment,null,u&&ke.createElement("div",{ref:g,className:"ag-pinned-left-header "+m,"aria-hidden":!t,role:"rowgroup"},y()),h&&ke.createElement("div",{ref:g,className:"ag-pinned-right-header "+m,"aria-hidden":!t,role:"rowgroup"},y()),f&&ke.createElement("div",{ref:g,className:"ag-header-viewport "+m,role:"presentation"},ke.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},y())))},Zw=B.memo(Bee),Gee=()=>{const[e,t]=B.useState(()=>new zr),[i,s]=B.useState(),{context:n}=B.useContext(nn),r=B.useRef(null),o=B.useRef(),a=B.useCallback(h=>{if(r.current=h,o.current=h?n.createBean(new Z8):n.destroyBean(o.current),!h)return;const f={addOrRemoveCssClass:(g,m)=>t(y=>y.setClass(g,m)),setHeightAndMinHeight:g=>s(g)};o.current.setComp(f,h,h)},[]),l=B.useMemo(()=>"ag-header "+e.toString(),[e]),u=B.useMemo(()=>({height:i,minHeight:i}),[i]);return ke.createElement("div",{ref:a,className:l,style:u,role:"presentation"},ke.createElement(Zw,{pinned:"left"}),ke.createElement(Zw,{pinned:null}),ke.createElement(Zw,{pinned:"right"}))},zee=B.memo(Gee),Hee=(e,t)=>{B.useEffect(()=>{const i=t.current;if(i){const s=i.parentElement;if(s){const n=document.createComment(e);return s.insertBefore(n,i),()=>{s.removeChild(n)}}}},[e])},wu=Hee,Vee=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new yi(i=>{this.resolveInstanceCreated=i}),this.onValueChange=i=>this.updateValue(i),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){ZD(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Wee=e=>{const t=B.useRef(e),i=B.useRef(),s=B.useRef(!1),n=B.useRef(!1),[,r]=B.useState(0);s.current&&(n.current=!0),B.useEffect(()=>(s.current||(i.current=t.current(),s.current=!0),r(o=>o+1),()=>{var o;n.current&&((o=i.current)==null||o.call(i))}),[])},Uee=e=>{const[t,i]=B.useState(),{context:s,popupSvc:n,localeSvc:r,gos:o,editSvc:a}=B.useContext(nn);return Wee(()=>{var k,R;const{editDetails:l,cellCtrl:u,eParentCell:h}=e,{compDetails:f}=l,g=o.get("stopEditingWhenCellsLoseFocus"),m=s.createBean(a.createPopupEditorWrapper(f.params)),y=m.getGui();if(e.jsChildComp){const F=e.jsChildComp.getGui();F&&y.appendChild(F)}const{column:C,rowNode:x}=u,b={column:C,rowNode:x,type:"popupCellEditor",eventSource:h,ePopup:y,position:l.popupPosition,keepWithinBounds:!0},w=n==null?void 0:n.positionPopupByComponent.bind(n,b),M=SO(r),A=n==null?void 0:n.addPopup({modal:g,eChild:y,closeOnEsc:!0,closedCallback:()=>{u.onPopupEditorClosed()},anchorToElement:h,positionCallback:w,ariaLabel:M("ariaLabelCellEditor","Cell Editor")}),T=A?A.hideFunc:void 0;return i(m),(R=(k=e.jsChildComp)==null?void 0:k.afterGuiAttached)==null||R.call(k),()=>{T==null||T(),s.destroyBean(m)}}),ke.createElement(ke.Fragment,null,t&&e.wrappedContent&&$D.createPortal(e.wrappedContent,t.getGui()))},pF=B.memo(Uee),jee=(e,t,i,s,n,r)=>{const{context:o}=B.useContext(nn),a=B.useCallback(()=>{const l=n.current;if(!l)return;const u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),o.destroyBean(l),n.current=void 0},[]);B.useEffect(()=>{const l=e!=null,u=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,h=t&&i==null;if(!(l&&u&&!h)){a();return}const g=e.compDetails;if(n.current){const y=n.current,x=y.refresh!=null&&e.force==!1?y.refresh(g.params):!1;if(x===!0||x===void 0)return;a()}g.newAgStackInstance().then(y=>{if(!y)return;const C=y.getGui();if(!C)return;(t?i:r.current).appendChild(C),n.current=y})},[e,t,s]),B.useEffect(()=>a,[])},Yee=jee,Kee=(e,t,i)=>{const{compProxy:s}=e;i(s);const n=s.getProps(),r=cf(t);return ke.createElement(XD.Provider,{value:{setMethods:o=>s.setMethods(o)}},r?ke.createElement(t,{...n}):ke.createElement(t,{...n,ref:o=>s.setRef(o)}))},mF=(e,t,i)=>{const s=e.compProxy;return ke.createElement(ke.Fragment,null,s?Kee(e,t,i):ke.createElement(t,{...e.compDetails.params,ref:i}))},$ee=(e,t,i,s,n)=>{const r=e.compDetails,o=r.componentClass,a=r.componentFromFramework&&!e.popup,l=r.componentFromFramework&&e.popup,u=!r.componentFromFramework&&e.popup;return ke.createElement(ke.Fragment,null,a&&mF(e,o,t),l&&ke.createElement(pF,{editDetails:e,cellCtrl:s,eParentCell:i,wrappedContent:mF(e,o,t)}),u&&n&&ke.createElement(pF,{editDetails:e,cellCtrl:s,eParentCell:i,jsChildComp:n}))},Xee=(e,t,i,s,n,r,o)=>{const{compDetails:a,value:l}=e,u=!a,h=a&&a.componentFromFramework,f=a&&a.componentClass,g=l!=null&&l.toString?l.toString():l,m=()=>ke.createElement(ke.Fragment,null,u&&ke.createElement(ke.Fragment,null,g),h&&!r&&ke.createElement(f,{...a.params,key:t,ref:s}),h&&r&&ke.createElement(f,{...a.params,key:t}));return ke.createElement(ke.Fragment,null,n?ke.createElement("span",{role:"presentation",id:`cell-${i}`,className:"ag-cell-value",ref:o},m()):m())},Zee=({cellCtrl:e,printLayout:t,editingRow:i})=>{const{context:s}=B.useContext(nn),{colIdSanitised:n,instanceId:r}=e,o=B.useRef(),[a,l]=B.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[u,h]=B.useState(),[f,g]=B.useState(1),[m,y]=B.useState(),[C,x]=B.useState(!1),[b,w]=B.useState(!1),[M,A]=B.useState(!1),[T,k]=B.useState(),R=B.useMemo(()=>e.isForceWrapper(),[e]),F=B.useMemo(()=>e.getCellAriaRole(),[e]),I=B.useRef(null),N=B.useRef(null),G=B.useRef(null),V=B.useRef(),Q=B.useRef(),pe=B.useRef(),ae=B.useRef([]),se=B.useRef(),[le,re]=B.useState(0),J=B.useCallback(ze=>{se.current=ze,re(_e=>_e+1)},[]),z=a!=null&&(C||M||b),ee=R||z,O=B.useCallback(ze=>{if(Q.current=ze,ze){const _e=ze.isCancelBeforeStart&&ze.isCancelBeforeStart();setTimeout(()=>{_e?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),j=B.useRef();j.current||(j.current=new pm(()=>I.current)),Yee(a,ee,se.current,le,V,I);const H=B.useRef();B.useLayoutEffect(()=>{var qe;const ze=H.current,_e=a;if(H.current=a,ze==null||ze.compDetails==null||_e==null||_e.compDetails==null)return;const je=ze.compDetails,Ue=_e.compDetails;if(je.componentClass!=Ue.componentClass||((qe=G.current)==null?void 0:qe.refresh)==null)return;G.current.refresh(Ue.params)!=!0&&g(ht=>ht+1)},[a]),B.useLayoutEffect(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const _e=u.compDetails,je=u.popup===!0,Ue=_e.newAgStackInstance();return Ue.then(we=>{if(!we)return;const qe=we.getGui();if(O(we),!je){const ht=(R?pe:I).current;ht==null||ht.appendChild(qe),we.afterGuiAttached&&we.afterGuiAttached()}k(we)}),()=>{Ue.then(we=>{var ht;const qe=we.getGui();s.destroyBean(we),O(void 0),k(void 0),(ht=qe==null?void 0:qe.parentElement)==null||ht.removeChild(qe)})}},[u]);const K=B.useCallback(ze=>{if(pe.current=ze,!ze){ae.current.forEach(je=>je()),ae.current=[];return}const _e=je=>{if(je){const Ue=je.getGui();ze.insertAdjacentElement("afterbegin",Ue),ae.current.push(()=>{s.destroyBean(je),$u(Ue)})}return je};if(C){const je=e.createSelectionCheckbox();_e(je)}M&&_e(e.createDndSource()),b&&_e(e.createRowDragComp())},[e,s,M,b,C]),ne=B.useCallback(()=>{const ze=!e.isCellSpanning()||N.current,_e=I.current;if(o.current=_e?s.createBean(new of):s.destroyBean(o.current),!_e||!ze||!e)return;const je={addOrRemoveCssClass:(we,qe)=>j.current.addOrRemoveCssClass(we,qe),setUserStyles:we=>y(we),getFocusableElement:()=>I.current,setIncludeSelection:we=>x(we),setIncludeRowDrag:we=>w(we),setIncludeDndSource:we=>A(we),getCellEditor:()=>Q.current||null,getCellRenderer:()=>G.current??V.current,getParentOfValue:()=>se.current??pe.current??I.current,setRenderDetails:(we,qe,ht)=>{l(rt=>(rt==null?void 0:rt.compDetails)!==we||(rt==null?void 0:rt.value)!==qe||(rt==null?void 0:rt.force)!==ht?{value:qe,compDetails:we,force:ht}:rt)},setEditDetails:(we,qe,ht,rt)=>{if(we){let st;rt?st=new Vee(we.params,()=>g(Xt=>Xt+1)):we.componentFromFramework&&qD(),h({compDetails:we,popup:qe,popupPosition:ht,compProxy:st}),qe||l(void 0)}else h(st=>{st!=null&&st.compProxy&&(Q.current=void 0)})}},Ue=pe.current||void 0;e.setComp(je,_e,N.current??void 0,Ue,t,i,o.current)},[]),ge=B.useCallback(ze=>{I.current=ze,ne()},[]),ce=B.useCallback(ze=>{N.current=ze,ne()},[]),ue=B.useMemo(()=>{var _e;return!!(((_e=a==null?void 0:a.compDetails)==null?void 0:_e.componentFromFramework)&&cf(a.compDetails.componentClass))},[a]);B.useLayoutEffect(()=>{I.current&&(j.current.addOrRemoveCssClass("ag-cell-value",!ee),j.current.addOrRemoveCssClass("ag-cell-inline-editing",!!u&&!u.popup),j.current.addOrRemoveCssClass("ag-cell-popup-editing",!!u&&!!u.popup),j.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!u||!!u.popup),e.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.editing&&I.current.focus({preventScroll:!0}))});const de=()=>ke.createElement(ke.Fragment,null,a!=null&&Xee(a,f,r,G,ee,ue,J),u!=null&&$ee(u,O,I.current,e,T)),Le=B.useCallback(()=>e.onFocusOut(),[]),X=()=>ke.createElement("div",{ref:ge,style:m,role:F,"col-id":n,onBlur:Le},ee?ke.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:K},de()):de());return e.isCellSpanning()?ke.createElement("div",{ref:ce,className:"ag-spanned-cell-wrapper",role:"presentation"},X()):X()},qee=B.memo(Zee),Qee=({rowCtrl:e,containerType:t})=>{const{context:i,gos:s}=B.useContext(nn),n=B.useRef(),r=B.useRef(e.getDomOrder()),o=e.isFullWidth(),a=e.rowNode.displayed,[l,u]=B.useState(()=>a?e.rowNode.getRowIndexString():null),[h,f]=B.useState(()=>e.rowId),[g,m]=B.useState(()=>e.businessKey),[y,C]=B.useState(()=>e.rowStyles),x=B.useRef(null),b=B.useRef(null),[w,M]=B.useState(()=>null),[A,T]=B.useState(),[k,R]=B.useState(()=>a?e.getInitialRowTop(t):void 0),[F,I]=B.useState(()=>a?e.getInitialTransform(t):void 0),N=B.useRef(null),G=B.useRef(),V=B.useRef(!1),[Q,pe]=B.useState(0);B.useEffect(()=>{var K;if(V.current||!A||Q>10)return;const H=(K=N.current)==null?void 0:K.firstChild;H?(e.setupDetailRowAutoHeight(H),V.current=!0):pe(ne=>ne+1)},[A,Q]);const ae=B.useRef();ae.current||(ae.current=new pm(()=>N.current));const se=B.useCallback(H=>{if(N.current=H,n.current=H?i.createBean(new of):i.destroyBean(n.current),!H){e.unsetComp(t);return}if(!e.isAlive())return;const K={setTop:R,setTransform:I,addOrRemoveCssClass:(ne,ge)=>ae.current.addOrRemoveCssClass(ne,ge),setDomOrder:ne=>r.current=ne,setRowIndex:u,setRowId:f,setRowBusinessKey:m,setUserStyles:C,setCellCtrls:(ne,ge)=>{b.current=x.current,x.current=ne;const ce=Qv(b.current,ne,r.current);ce!==b.current&&qv(ge,()=>M(ce))},showFullWidth:ne=>T(ne),getFullWidthCellRenderer:()=>G.current,refreshFullWidth:ne=>ee.current?(T(ge=>({...ge,params:ne()})),!0):!G.current||!G.current.refresh?!1:G.current.refresh(ne())};e.setComp(K,H,t,n.current)},[]);B.useLayoutEffect(()=>vm(A,i,N.current,G),[A]);const le=B.useMemo(()=>{const H={top:k,transform:F};return Object.assign(H,y),H},[k,F,y]),re=o&&(A==null?void 0:A.componentFromFramework),J=!o&&w!=null,z=B.useMemo(()=>!!((A==null?void 0:A.componentFromFramework)&&cf(A.componentClass)),[A]),ee=B.useRef(!1);B.useEffect(()=>{ee.current=z&&!!A&&!!s.get("reactiveCustomComponents")},[z,A]);const O=()=>w==null?void 0:w.map(H=>ke.createElement(qee,{cellCtrl:H,editingRow:e.editing,printLayout:e.printLayout,key:H.instanceId})),j=()=>{const H=A.componentClass;return ke.createElement(ke.Fragment,null,z?ke.createElement(H,{...A.params}):ke.createElement(H,{...A.params,ref:G}))};return ke.createElement("div",{ref:se,role:"row",style:le,"row-index":l,"row-id":h,"row-business-key":g},J&&O(),re&&j())},yF=B.memo(Qee),Jee=({name:e})=>{const{context:t,gos:i}=B.useContext(nn),s=B.useMemo(()=>mm(e),[e]),n=B.useRef(null),r=B.useRef(null),o=B.useRef(null),a=B.useRef([]),l=B.useRef([]),[u,h]=B.useState(()=>[]),f=!!i.get("enableCellSpan")&&!!s.getSpannedRowCtrls,g=B.useRef([]),m=B.useRef([]),[y,C]=B.useState(()=>[]),x=B.useRef(!1),b=B.useRef(),w=B.useMemo(()=>_r("ag-viewport",NN(e)),[e]),M=B.useMemo(()=>_r(cv(e)),[e]),A=B.useMemo(()=>_r("ag-spanning-container",R8(e)),[e]),T=s.type==="center"||f,k=T?n:r;wu(" AG Row Container "+e+" ",k);const R=B.useCallback(()=>{const ae=!T||n.current!=null,se=r.current!=null,le=!f||o.current!=null;return ae&&se&&le},[]),F=B.useCallback(()=>n.current==null&&r.current==null&&o.current==null,[]),I=B.useCallback(()=>{if(F()&&(b.current=t.destroyBean(b.current)),R()){const ae=re=>{const J=Qv(l.current,a.current,x.current);J!==l.current&&(l.current=J,qv(re,()=>h(J)))},se=re=>{const J=Qv(m.current,g.current,x.current);J!==m.current&&(m.current=J,qv(re,()=>C(J)))},le={setHorizontalScroll:re=>{n.current&&(n.current.scrollLeft=re)},setViewportHeight:re=>{n.current&&(n.current.style.height=re)},setRowCtrls:({rowCtrls:re,useFlushSync:J})=>{const z=!!J&&a.current.length>0&&re.length>0;a.current=re,ae(z)},setSpannedRowCtrls:(re,J)=>{const z=!!J&&g.current.length>0&&re.length>0;g.current=re,se(z)},setDomOrder:re=>{x.current!=re&&(x.current=re,ae(!1))},setContainerWidth:re=>{r.current&&(r.current.style.width=re)},setOffsetTop:re=>{r.current&&(r.current.style.transform=`translateY(${re})`)}};b.current=t.createBean(new G8(e)),b.current.setComp(le,r.current,o.current??void 0,n.current)}},[R,F]),N=B.useCallback(ae=>{r.current=ae,I()},[I]),G=B.useCallback(ae=>{o.current=ae,I()},[I]),V=B.useCallback(ae=>{n.current=ae,I()},[I]),Q=()=>ke.createElement("div",{className:M,ref:N,role:"rowgroup"},u.map(ae=>ke.createElement(yF,{rowCtrl:ae,containerType:s.type,key:ae.instanceId})));if(!T)return Q();const pe=()=>f&&ke.createElement("div",{className:A,ref:G,role:"rowgroup"},y.map(ae=>ke.createElement(yF,{rowCtrl:ae,containerType:s.type,key:ae.instanceId})));return ke.createElement("div",{className:w,ref:V,role:"presentation"},Q(),pe())},ete=B.memo(Jee),tte=()=>{const e=B.useContext(nn),{context:t,overlays:i}=e,[s,n]=B.useState(""),[r,o]=B.useState(0),[a,l]=B.useState(0),[u,h]=B.useState("0px"),[f,g]=B.useState("0px"),[m,y]=B.useState("100%"),[C,x]=B.useState("0px"),[b,w]=B.useState("0px"),[M,A]=B.useState("100%"),[T,k]=B.useState(""),[R,F]=B.useState(""),[I,N]=B.useState(null),[G,V]=B.useState(""),[Q,pe]=B.useState(null),[ae,se]=B.useState("ag-layout-normal"),le=B.useRef();le.current||(le.current=new pm(()=>re.current));const re=B.useRef(null),J=B.useRef(null),z=B.useRef(null),ee=B.useRef(null),O=B.useRef(null),j=B.useRef(null),H=B.useRef(null),K=B.useRef([]),ne=B.useRef([]);wu(" AG Grid Body ",re),wu(" AG Pinned Top ",J),wu(" AG Sticky Top ",z),wu(" AG Middle ",j),wu(" AG Pinned Bottom ",H);const ge=B.useCallback(st=>{if(re.current=st,!st){K.current=t.destroyBeans(K.current),ne.current.forEach(pt=>pt()),ne.current=[];return}if(!t)return;const Xt=(pt,li)=>{pt.appendChild(li),ne.current.push(()=>pt.removeChild(li))},qt=pt=>{const li=t.createBean(new pt);return K.current.push(li),li},Lt=(pt,li,vt)=>{Xt(pt,document.createComment(vt)),Xt(pt,qt(li).getGui())};Lt(st,U8," AG Fake Horizontal Scroll ");const cs=i==null?void 0:i.getOverlayWrapperCompClass();cs&&Lt(st,cs," AG Overlay Wrapper "),O.current&&Lt(O.current,j8," AG Fake Vertical Scroll ");const Vs={setRowAnimationCssOnBodyViewport:n,setColumnCount:pt=>{re.current&&gU(re.current,pt)},setRowCount:pt=>{re.current&&dU(re.current,pt)},setTopHeight:o,setBottomHeight:l,setStickyTopHeight:h,setStickyTopTop:g,setStickyTopWidth:y,setTopDisplay:k,setBottomDisplay:F,setColumnMovingCss:(pt,li)=>le.current.addOrRemoveCssClass(pt,li),updateLayoutClasses:se,setAlwaysVerticalScrollClass:N,setPinnedTopBottomOverflowY:V,setCellSelectableCss:(pt,li)=>pe(li?pt:null),setBodyViewportWidth:pt=>{j.current&&(j.current.style.width=pt)},registerBodyViewportResizeListener:pt=>{if(j.current){const li=hl(e,j.current,pt);ne.current.push(()=>li())}},setStickyBottomHeight:x,setStickyBottomBottom:w,setStickyBottomWidth:A,setGridRootRole:pt=>st.setAttribute("role",pt)},no=t.createBean(new W8);K.current.push(no),no.setComp(Vs,st,j.current,J.current,H.current,z.current,ee.current)},[]),ce=B.useMemo(()=>_r("ag-root","ag-unselectable",ae),[ae]),ue=B.useMemo(()=>_r("ag-body-viewport",s,ae,I,Q),[s,ae,I,Q]),de=B.useMemo(()=>_r("ag-body",ae),[ae]),Le=B.useMemo(()=>_r("ag-floating-top",Q),[Q]),X=B.useMemo(()=>_r("ag-sticky-top",Q),[Q]),ze=B.useMemo(()=>_r("ag-sticky-bottom",C==="0px"?"ag-hidden":null,Q),[Q,C]),_e=B.useMemo(()=>_r("ag-floating-bottom",Q),[Q]),je=B.useMemo(()=>({height:r,minHeight:r,display:T,overflowY:G}),[r,T,G]),Ue=B.useMemo(()=>({height:u,top:f,width:m}),[u,f,m]),we=B.useMemo(()=>({height:C,bottom:b,width:M}),[C,b,M]),qe=B.useMemo(()=>({height:a,minHeight:a,display:R,overflowY:G}),[a,R,G]),ht=st=>ke.createElement(ete,{name:st,key:`${st}-container`}),rt=({section:st,children:Xt,className:qt,style:Lt})=>ke.createElement("div",{ref:st,className:qt,role:"presentation",style:Lt},Xt.map(ht));return ke.createElement("div",{ref:ge,className:ce},ke.createElement(zee,null),rt({section:J,className:Le,style:je,children:["topLeft","topCenter","topRight","topFullWidth"]}),ke.createElement("div",{className:de,ref:O,role:"presentation"},rt({section:j,className:ue,children:["left","center","right","fullWidth"]})),rt({section:z,className:X,style:Ue,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),rt({section:ee,className:ze,style:we,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),rt({section:H,className:_e,style:qe,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},ite=B.memo(tte),ste=(e,t)=>{const{children:i,eFocusableElement:s,onTabKeyDown:n,gridCtrl:r,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:l}=B.useContext(nn),u=B.useRef(null),h=B.useRef(null),f=B.useRef(),g=b=>{const w=b==null?void 0:parseInt(b,10).toString();[u,h].forEach(M=>{var A,T;w===void 0?(A=M.current)==null||A.removeAttribute("tabindex"):(T=M.current)==null||T.setAttribute("tabindex",w)})};B.useImperativeHandle(t,()=>({forceFocusOutOfContainer(b){var w;(w=f.current)==null||w.forceFocusOutOfContainer(b)}}));const m=B.useCallback(()=>{const b=u.current,w=h.current;if(!b&&!w){f.current=l.destroyBean(f.current);return}if(b&&w){const M={setTabIndex:g};f.current=l.createBean(new YN({comp:M,eTopGuard:b,eBottomGuard:w,eFocusableElement:s,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:A=>r.focusInnerElement(A),isEmpty:a}))}},[]),y=B.useCallback(b=>{u.current=b,m()},[m]),C=B.useCallback(b=>{h.current=b,m()},[m]),x=b=>{const w=b==="top"?kd.TAB_GUARD_TOP:kd.TAB_GUARD_BOTTOM;return ke.createElement("div",{className:`${kd.TAB_GUARD} ${w}`,role:"presentation",ref:b==="top"?y:C})};return ke.createElement(ke.Fragment,null,x("top"),i,x("bottom"))},nte=B.forwardRef(ste),rte=B.memo(nte),ote=({context:e})=>{const[t,i]=B.useState(""),[s,n]=B.useState(""),[r,o]=B.useState(null),[a,l]=B.useState(null),[u,h]=B.useState(!1),[f,g]=B.useState(),m=B.useRef(),y=B.useRef(null),C=B.useRef(),[x,b]=B.useState(null),w=B.useRef(()=>{}),M=B.useRef(),A=B.useRef([]),T=B.useCallback(()=>{},[]),k=B.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);wu(" AG Grid ",y);const R=B.useCallback(Q=>{if(y.current=Q,m.current=Q?e.createBean(new _9):e.destroyBean(m.current),!Q||e.isDestroyed())return;const pe=m.current;w.current=pe.focusInnerElement.bind(pe);const ae={destroyGridUi:()=>{},setRtlClass:i,forceFocusOutOfContainer:se=>{var le,re;if(!se&&((le=M.current)!=null&&le.isDisplayed())){M.current.forceFocusOutOfContainer(se);return}(re=C.current)==null||re.forceFocusOutOfContainer(se)},updateLayoutClasses:n,getFocusableContainers:()=>{var re;const se=[],le=(re=y.current)==null?void 0:re.querySelector(".ag-root");return le&&se.push({getGui:()=>le}),A.current.forEach(J=>{J.isDisplayed()&&se.push(J)}),se},setCursor:o,setUserSelect:l};pe.setComp(ae,Q,Q),h(!0)},[]);B.useEffect(()=>{const Q=m.current,pe=y.current;if(!f||!k||!Q||!x||!pe)return;const ae=[],{watermarkSelector:se,paginationSelector:le,sideBarSelector:re,statusBarSelector:J,gridHeaderDropZonesSelector:z}=Q.getOptionalSelectors(),ee=[];if(z){const j=e.createBean(new z.component),H=j.getGui();pe.insertAdjacentElement("afterbegin",H),ee.push(H),ae.push(j)}if(re){const j=e.createBean(new re.component),H=j.getGui(),K=x.querySelector(".ag-tab-guard-bottom");K&&(K.insertAdjacentElement("beforebegin",H),ee.push(H)),ae.push(j),A.current.push(j)}const O=j=>{const H=e.createBean(new j),K=H.getGui();return pe.insertAdjacentElement("beforeend",K),ee.push(K),ae.push(H),H};if(J&&O(J.component),le){const j=O(le.component);M.current=j,A.current.push(j)}return se&&O(se.component),()=>{e.destroyBeans(ae),ee.forEach(j=>{var H;(H=j.parentElement)==null||H.removeChild(j)})}},[f,x,k]);const F=B.useMemo(()=>_r("ag-root-wrapper",t,s),[t,s]),I=B.useMemo(()=>_r("ag-root-wrapper-body","ag-focus-managed",s),[s]),N=B.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:r??""}),[a,r]),G=B.useCallback(Q=>{C.current=Q,g(Q!==null)},[]),V=B.useCallback(()=>{var Q;return!((Q=m.current)!=null&&Q.isFocusable())},[]);return ke.createElement("div",{ref:R,className:F,style:N,role:"presentation"},ke.createElement("div",{className:I,ref:b,role:"presentation"},u&&x&&k&&ke.createElement(nn.Provider,{value:k},ke.createElement(rte,{ref:G,eFocusableElement:x,onTabKeyDown:T,gridCtrl:m.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:V},ke.createElement(ite,null)))))},ate=B.memo(ote),lte=class extends Me{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},cte={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},q_=new Set(Object.keys(cte)),Q_=e=>{var x;const t=B.useRef(),i=B.useRef(null),s=B.useRef(null),n=B.useRef([]),r=B.useRef([]),o=B.useRef(e),a=B.useRef(),l=B.useRef(),u=B.useRef(!1),[h,f]=B.useState(void 0),[,g]=B.useState(0),m=B.useCallback(b=>{if(i.current=b,!b){n.current.forEach(G=>G()),n.current.length=0;return}const w=e.modules||[];s.current||(s.current=new Ree(()=>g(G=>G+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),n.current.push(()=>{var G;(G=s.current)==null||G.destroy(),s.current=null}));const M=XU(e.gridOptions,e,Object.keys(e).filter(G=>!q_.has(G))),A=()=>{if(u.current){const G=()=>{var Q;return(Q=a.current)!=null&&Q.shouldQueueUpdates()?void 0:r.current.shift()};let V=G();for(;V;)V(),V=G()}},T=new fte(A);a.current=T;const k=new lte,R={providedBeanInstances:{frameworkCompWrapper:new hte(s.current,M.reactiveCustomComponents??j$("reactiveCustomComponents")??!0),renderStatus:k},modules:w,frameworkOverrides:T,setThemeOnGridDiv:!0},F=G=>{f(G),G.createBean(k),n.current.push(()=>{G.destroy()}),G.getBean("ctrlsSvc").whenReady({addDestroyFunc:V=>{n.current.push(V)}},()=>{var Q;if(G.isDestroyed())return;const V=t.current;V&&((Q=e.setGridApi)==null||Q.call(e,V))})},I=G=>{G.getBean("ctrlsSvc").whenReady({addDestroyFunc:V=>{n.current.push(V)}},()=>{r.current.forEach(V=>V()),r.current.length=0,u.current=!0})},N=new K$;M.gridId??(M.gridId=l.current),t.current=N.create(b,M,F,I,R),n.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),y=B.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),C=B.useCallback(b=>{var w;u.current&&!((w=a.current)!=null&&w.shouldQueueUpdates())?b():r.current.push(b)},[]);return B.useEffect(()=>{const b=ute(o.current,e);o.current=e,C(()=>{t.current&&ZU(b,t.current)})},[e]),ke.createElement("div",{style:y,className:e.className,ref:m},h&&!h.isDestroyed()?ke.createElement(ate,{context:h}):null,((x=s.current)==null?void 0:x.getPortals())??null)};function ute(e,t){const i={};return Object.keys(t).forEach(s=>{if(q_.has(s))return;const n=t[s];e[s]!==n&&(i[s]=n)}),i}var hte=class extends rX{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const n=(r=>{switch(r){case"filter":return Cee;case"floatingFilterComponent":return bee;case"dateComponent":return yee;case"dragAndDropImageComponent":return vee;case"loadingOverlayComponent":return wee;case"noRowsOverlayComponent":return Dee;case"statusPanel":return Aee;case"toolPanel":return Eee;case"menuItem":return Mee;case"cellRenderer":return mee;case"innerHeaderComponent":return See}})(t.name);if(n)return new n(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":qD();break}const i=!t.cellRenderer&&t.name!=="toolPanel";return new X_(e,this.parent,t,i)}},dte=B.forwardRef((e,t)=>{const i=B.useContext(nn),{registry:s,context:n,gos:r,rowModel:o}=i,[a,l]=B.useState(()=>new zr),[u,h]=B.useState(()=>new zr),[f,g]=B.useState(),[m,y]=B.useState(),C=B.useRef(),x=B.useRef(null),b=B.useRef(),w=B.useMemo(()=>Sj(e.api.getGridId(),(f==null?void 0:f.rowModelType)??"clientSide"),[e]),M=B.useMemo(()=>a.toString()+" ag-details-row",[a]),A=B.useMemo(()=>u.toString()+" ag-details-grid",[u]);t&&B.useImperativeHandle(t,()=>({refresh(){var R;return((R=C.current)==null?void 0:R.refresh())??!1}})),e.template&&Pe(230);const T=B.useCallback(R=>{var N;if(x.current=R,!R){C.current=n.destroyBean(C.current),(N=b.current)==null||N.call(b);return}const F={addOrRemoveCssClass:(G,V)=>l(Q=>Q.setClass(G,V)),addOrRemoveDetailGridCssClass:(G,V)=>h(Q=>Q.setClass(G,V)),setDetailGrid:G=>g(G),setRowData:G=>y(G),getGui:()=>x.current},I=s.createDynamicBean("detailCellRendererCtrl",!0);if(I&&(n.createBean(I),I.init(F,e),C.current=I,r.get("detailRowAutoHeight"))){const G=()=>{if(x.current==null)return;const V=x.current.clientHeight;V!=null&&V>0&&setTimeout(()=>{e.node.setRowHeight(V),($s(r)||rh(r))&&o.onRowHeightChanged()},0)};b.current=hl(i,R,G),G()}},[]),k=B.useCallback(R=>{var F;(F=C.current)==null||F.registerDetailWithMaster(R)},[]);return ke.createElement("div",{className:M,ref:T},f&&ke.createElement(Q_,{className:A,...f,modules:w,rowData:m,setGridApi:k}))}),fte=class extends KN{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:fF,agGroupRowRenderer:fF,agDetailCellRenderer:dte},this.wrapIncoming=(t,i)=>i==="ensureVisible"?dee(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return hee()}},gte=class extends B.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return ke.createElement(Q_,{...this.props,setGridApi:this.setGridApi})}};Mj.registerModules([lee]);U$({theme:"legacy"});function QD({rowData:e,columnDefs:t,defaultColDef:i,...s}){return Ke.jsx("div",{className:"ag-theme-quartz",style:{height:510},children:Ke.jsx(gte,{rowData:e,columnDefs:t,defaultColDef:i,...s})})}function nl({color:e,onClick:t,disabled:i,children:s,...n}){let r=`${e??Rue}`;return Ke.jsx("button",{onClick:t,disabled:i,type:"button",className:r,...n,children:s})}function pte(e,t){let i=sh();const s=rf(l=>l.excel);function n(l){return s.SKUs.forEach(u=>{let h={Store:t,SKU:u.ID,Week:"","Sales Units":0};s.Calender.forEach(({Week:f})=>{h.Week=f,l[`${t}_${u.ID}_${f}`].append(h)})}),!0}function r(l){return s.Stores.forEach(u=>{let h={Store:u.ID,SKU:t,Week:"","Sales Units":0};s.Calender.forEach(({Week:f})=>{h.Week=f,l[`${u.ID}_${t}_${f}`].append(h)})}),!0}let o={};new Promise((l,u)=>{e=="Stores"?n(o)&&(i(J2({...s.Planning,...o})),l(!0)):e=="SKUs"?r(o)&&(i(J2({...s.Planning,...o})),l(!0)):u(!1)}).then(l=>{console.log("Operation completed successfully:",l)}).catch(l=>{console.error("Operation failed:",l)})}const mte=(e,t)=>{if(e==""){if(t=="Store")return"ST001";if(t=="SKUs")return"SK001"}if(e){const i=e.slice(2),s=parseInt(i,10)+1;return`ST${String(s).padStart(3,"0")}`}},J_=ke.memo(({colDefs:e,rowlastData:t,ComponentType:i,setInputSection:s})=>{let n=sh(),r=B.useRef(B.useMemo(()=>mte(t.ID,i),[t.ID]));const[o,a]=B.useState(t?i=="Stores"?{Seq:t.Seq+1,ID:r.current}:{ID:r.current}:{});function l(h){h.preventDefault(),n(Oue({type:i,data:o})),s(!1),pte(i,o.ID),a({})}function u(h){const{name:f,value:g,type:m}=h.target,y=m==="number"?g?Number(g):"":g;a(C=>({...C,[f]:y}))}return Ke.jsx("div",{className:"w-100 h-100 r-0 fixed z-10 left-50 bottom-14 p-6 bg-orange-300 border border-orange-600 rounded-lg",children:Ke.jsxs("form",{className:"grid grid-cols-3 gap-3 ",onSubmit:l,children:[e&&e.map(h=>{if(h.field.toLowerCase()!=="seq"&&h.field.toLowerCase()!=="id"){let f=h.field.toLowerCase()=="price"||h.field.toLowerCase()=="cost"?"number":"text";return console.log(f),Ke.jsxs("div",{className:"flex flex-col",children:[Ke.jsx("label",{htmlFor:h.field,className:"text-sm font-medium text-gray-700",children:h.field}),Ke.jsx("input",{type:f,className:"mt-1 p-2 w-full border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:outline-none",id:h.field,onChange:u,name:h.field,placeholder:h.field,value:o[h.field]||""})]},h.field)}}),Ke.jsxs("div",{className:"flex gap-10",children:[Ke.jsx(nl,{color:"mt-4 w-full bg-orange-500 text-white font-semibold py-2 rounded-md shadow-md hover:bg-orange-600 transition-all",type:"submit",children:"Submit"}),Ke.jsx(nl,{color:"mt-4 w-full bg-orange-500 text-white font-semibold py-2 rounded-md shadow-md hover:bg-orange-600 transition-all",onClick:()=>s(!1),children:"Cancel"})]})]})})});function e4(){let e=sh();const t=rf(h=>h.excel.Stores);B.useEffect(()=>{},[t]);const i=B.useMemo(()=>t.length?Object.keys(t[0]).map(h=>({field:h,editable:h.toLowerCase()!=="id"&&h.toLowerCase()!=="seq",rowDrag:h.toLowerCase()=="seq"})):rz.column,[t]),s={editable:!1},[n,r]=B.useState(!1),o=h=>{e(Q2(h.data))},a=h=>{let f=t.filter(g=>g.ID!==h);e(Nue(f))},l=h=>{const f=h.node.rowIndex,g=h.overIndex;if(f===g||g==null)return;const m=[...t],[y]=m.splice(f,1);m.splice(g,0,y),e(Q2(m))};function u(){r(!0)}return Ke.jsxs(Ke.Fragment,{children:[Ke.jsx(QD,{rowData:t,columnDefs:[{headerName:"Actions",cellRenderer:h=>Ke.jsx(nl,{color:"p-2 bg-blue-600 rounded-lg",onClick:()=>a(h.data.ID),children:Ke.jsx("img",{width:"13",height:"13",src:"https://img.icons8.com/material-rounded/24/FFFFFF/delete.png",alt:"delete"})})},...i],defaultColDef:s,rowDragManaged:!0,animateRows:!0,onRowDragEnd:l,onCellEditingStopped:o,stopEditingWhenCellsLoseFocus:!0,singleClickEdit:!0}),Ke.jsx("div",{className:"bg-white pl-2 relative",children:n?Ke.jsx(J_,{colDefs:i,rowlastData:t[t.length-1],ComponentType:"Stores",setInputSection:r}):Ke.jsx(nl,{onClick:u,color:`${AC} bg-orange-300`,children:"Add Store"})})]})}function yte(){let e=sh();const[t,i]=B.useState(!1);function s(){i(!0)}const n=rf(l=>l.excel.SKUs),r=B.useMemo(()=>n.length?Object.keys(n[0]).map(l=>({field:l})):[],[n]),o={editable:!1},a=l=>{let u=n.filter(h=>h.ID!==l);e(Lue(u))};return Ke.jsxs(Ke.Fragment,{children:[Ke.jsx(QD,{rowData:n,columnDefs:[{headerName:"Actions",cellRenderer:l=>Ke.jsx(nl,{color:"p-2 bg-blue-600 rounded-lg",onClick:()=>a(l.data.ID),children:Ke.jsx("img",{width:"13",height:"13",src:"https://img.icons8.com/material-rounded/24/FFFFFF/delete.png",alt:"delete"})})},...r],defaultColDef:o}),Ke.jsx("div",{className:"bg-white pl-2 relative",children:t?Ke.jsx(J_,{colDefs:r,rowlastData:n[n.length-1],ComponentType:"SKUs",setInputSection:i}):Ke.jsx(nl,{onClick:s,color:`${AC} bg-orange-300`,children:"Add Store"})})]})}function vte(e,t,i,s,n,r=1,o=100){const a=Object.fromEntries(e.map(C=>[C.ID,C.Label])),l=Object.fromEntries(t.map(C=>[C.ID,C.Label])),u=n.map(C=>C.Week),h=new Map,f=Object.keys(i);for(let C=0;C<f.length;C++){const x=f[C],[b,w,M]=x.split("_"),A=`${b}_${w}`;h.has(A)||h.set(A,{Store:a[b]||b,SKU:l[w]||w});const T=h.get(A),k=i[x]||{},R=(s==null?void 0:s[x])||{},F=k["Sales Units"]??0,I=R["Sales Dollars"],N=R["Cost Dollars"],G=I-N,V=G/I;T[`${M}_unit`]=F,T[`${M}_grossPrice`]=I,T[`${M}_costPrice`]=G,T[`${M}_profitPct`]=V}for(const C of h.values())for(const x of u)x+"_unit"in C||(C[`${x}_unit`]=0),x+"_grossPrice"in C||(C[`${x}_grossPrice`]=0),x+"_costPrice"in C||(C[`${x}_costPrice`]=0),x+"_profitPct"in C||(C[`${x}_profitPct`]=0);const g=Array.from(h.values()),m=(r-1)*o,y=Math.min(m+o,g.length);return g.slice(m,y)}const Cte=e=>{const t={};return e.forEach(({Week:i,"Month Label":s,"Week Label":n})=>{t[s]||(t[s]=[]),t[s].push({headerName:n,children:[{field:`${i}_unit`,headerName:"Sales Units",editable:!0},{field:`${i}_grossPrice`,headerName:"Sales Dollars",editable:!1,valueFormatter:r=>r.value?`$${Number(r.value).toFixed(2)}`:"$0.00"},{field:`${i}_costPrice`,headerName:"GM Dollars",editable:!1,valueFormatter:r=>r.value?`$${Number(r.value).toFixed(2)}`:"$0.00"},{field:`${i}_profitPct`,headerName:"GM Percent",editable:!1,valueFormatter:r=>r.value?`${(r.value*100).toFixed(2)}%`:"0%",cellStyle:r=>{const o=r.value*100;return o>=40?{backgroundColor:"green",color:"white"}:o>=10?{backgroundColor:"yellow",color:"black"}:o>5?{backgroundColor:"orange",color:"white"}:{backgroundColor:"red",color:"white"}}}]})}),[{field:"Store",headerName:"Store",pinned:"left"},{field:"SKU",headerName:"SKU",pinned:"left"},...Object.entries(t).map(([i,s])=>({headerName:i,children:s}))]},xte=(e,t,i,s)=>{const{data:n,colDef:r,newValue:o}=e;if(r.field.includes("_unit")){const a=r.field.split("_")[0],l=Number(o)||0,u=t.find(f=>f.Label===n.SKU)||null,h=i.find(f=>f.Label===n.Store)||null;if(u){let f=l*u.Cost,g=l*u.Price;if(n[`${a}_grossPrice`]=g,n[`${a}_costPrice`]=g-f,n[`${a}_profitPct`]=(g-f)/g,e.api.applyTransaction({update:[n]}),h){let m=`${h.ID}_${u.ID}_${a}`;s(Fue({id:m,value:{Store:h.ID,SKU:u.ID,Week:a,"Sales Units":l}})),s(Pue({id:m,value:{Store:h.ID,SKU:u.ID,Week:a,"Sales Units":l,"Sales Dollars":g,"Cost Dollars":f,"GM Dollars":g-f,"GM %":(g-f)/g}}))}}}};function bte(){const e=sh(),{Calender:t,Planning:i,SKUs:s,Stores:n,Calculations:r}=rf(b=>b.excel),[o,a]=B.useState([]),[l,u]=B.useState([]),[h,f]=B.useState(1),g=100,m=B.useMemo(()=>vte(n,s,i,r,t,h,g),[n,s,i,r,h]);B.useEffect(()=>{u(m),a(Cte(t))},[h]);const y={editable:!1},C=B.useRef(null),x=()=>{if(C.current){const b=C.current.api;console.log("Current Page:",b),f(1)}};return Ke.jsx(QD,{rowData:l,columnDefs:o,defaultColDef:y,pagination:!0,paginationPageSize:g,onPaginationChanged:x,onCellValueChanged:b=>{xte(b,s,n,e)},ref:C})}var t4=Object.defineProperty,Ste=Object.getOwnPropertyDescriptor,qr=(e,t)=>{for(var i in t)t4(e,i,{get:t[i],enumerable:!0})},E=(e,t,i,s)=>{for(var n=s>1?void 0:s?Ste(t,i):t,r=e.length-1,o;r>=0;r--)(o=e[r])&&(n=(s?o(t,i,n):o(n))||n);return s&&n&&t4(t,i,n),n},Ne={};qr(Ne,{error:()=>s4,errorOnce:()=>Ate,log:()=>wte,logGroup:()=>Tte,reset:()=>Ete,table:()=>Mte,warn:()=>i4,warnOnce:()=>Dte});var Bp=new Set;function wte(...e){console.log(...e)}function i4(e,...t){console.warn(`AG Charts - ${e}`,...t)}function s4(e,...t){typeof e=="object"?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)}function Mte(...e){console.table(...e)}function Dte(e,...t){const i=`Logger.warn: ${e}`;Bp.has(i)||(i4(e,...t),Bp.add(i))}function Ate(e,...t){const i=`Logger.error: ${e}`;Bp.has(i)||(s4(e,...t),Bp.add(i))}function Ete(){Bp.clear()}function Tte(e,t){console.groupCollapsed(e);try{return t()}finally{console.groupEnd()}}var Gu=class{static[Symbol.iterator](){return this.registeredModules.values()}static register(e){const t=this.registeredModules.get(e.name);if(t&&(t.enterprise||!e.enterprise))throw new Error(`AG Charts - Module '${e.name}' already registered`);this.registeredModules.set(e.name,e)}static registerMany(e){for(const t of e)this.register(t)}static reset(){this.registeredModules.clear()}static detectChartDefinition(e){return this.detectDefinition("chart",e)}static detectSeriesDefinition(e){return this.detectDefinition("series",e)}static detectDefinition(e,t){for(const i of this.registeredModules.values())if(i.type===e&&i.detect(t))return i;throw new Error(`AG Charts - Unknown ${e} type; Check options are correctly structured and series types are specified`)}};Gu.registeredModules=new Map;var JD=class{constructor(){this.events=new Map}on(e,t){var i;return this.events.has(e)||this.events.set(e,new Set),(i=this.events.get(e))==null||i.add(t),()=>this.off(e,t)}off(e,t){const i=this.events.get(e);i&&(i.delete(t),i.size===0&&this.events.delete(e))}emit(e,t){var i;(i=this.events.get(e))==null||i.forEach(s=>s(t))}clear(e){e?this.events.delete(e):this.events.clear()}};function Jv(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function Rte(e){return Array.from(new Set(e))}function eA(e,t){return e.reduce((i,s)=>{const n=t(s);return i[n]??(i[n]=[]),i[n].push(s),i},{})}function ea(e,t){if(e==null||t==null||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(Array.isArray(e[i])&&Array.isArray(t[i])){if(!ea(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1;return!0}function vF(e,t,i=0){if(e.length===0)return[];const s=[];for(let n=0;n<t;n++)s.push(e.at((n+i)%e.length));return s}function kte(e,t){const i=new Map;return t.forEach((s,n)=>{i.set(s,n)}),e.sort((s,n)=>{const r=i.get(s)??1/0,o=i.get(n)??1/0;return r-o})}function n4(e,t,i){if(e>t)return;let s;for(;t>=e;){const n=Math.floor((t+e)/2);i(n)?(s=n,e=n+1):t=n-1}return s}function r4(e,t,i){if(e>t)return;let s;for(;t>=e;){const n=Math.floor((t+e)/2);i(n)?(s=n,t=n-1):e=n+1}return s}function Ite(e,t,i){if(e>t)return;let s;for(;t>=e;){const n=Math.floor((t+e)/2),r=i(n);r==null?e=n+1:(s=r,t=n-1)}return s}function Lte(e,t){const i=Math.max(e.length,t.length),s=new Set,n=new Set;for(let r=0;r<i;r++){const o=e[r],a=t[r];o!==a&&(n.has(a)?n.delete(a):a&&s.add(a),s.has(o)?s.delete(o):o&&n.add(o))}return{changed:s.size>0||n.size>0,added:s,removed:n}}function CF(e,t,i){const{leading:s=!0,trailing:n=!0}=i??{};let r,o,a=!1;function l(){n&&o?(r=setTimeout(l,t),e(...o)):a=!1,o=null}function u(...h){a?o=h:(a=!0,r=setTimeout(l,t),s?e(...h):o=h)}return Object.assign(u,{cancel(){clearTimeout(r),a=!1,o=null}})}function*Eu(...e){for(const t of e)yield*t}function Fte(e){return e!=null&&typeof e=="object"&&Symbol.iterator in e?e:[e]}function Fg(e){for(const t of e)return t;throw new Error("AG Charts - no first() value found")}function Pte(e,t="and",i=String,s=1/0){if(e.length===1)return i(e[0]);e=e.map(i);const n=e.pop();if(e.length>=s){const r=e.length-(s-1);return`${e.slice(0,s-1).join(", ")}, and ${r} more ${t} ${n}`}return`${e.join(", ")} ${t} ${n}`}function ap(e,t=1/0){switch(typeof e){case"undefined":return"undefined";case"number":if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";default:return e=JSON.stringify(e),e.length>t?`${e.slice(0,t)}... (+${e.length-t} characters)`:e}}function Ote(e){let t=1;for(let i=0;i<e.length;i++)e.charCodeAt(i)===10&&t++;return t}function fv(e){return e!=null}function ai(e){return Array.isArray(e)}function o4(e){return typeof e=="boolean"}function uf(e){return e instanceof Date}function Cm(e){return uf(e)&&!isNaN(Number(e))}function Nte(e){return e instanceof RegExp}function ch(e){return typeof e=="function"}function Ds(e){return typeof e=="object"&&e!==null&&!ai(e)}function tn(e){return typeof e=="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function Un(e){return typeof e=="string"}function Hr(e){return typeof e=="number"}function It(e){return Number.isFinite(e)}function _te(e){return typeof window<"u"&&e instanceof HTMLElement}function Bte(e,t){return Object.values(e).includes(t)}function Gte(e){return typeof e=="symbol"}var xm=Symbol("description"),zte=Symbol("required");function QC(e,t,i=""){if(!Ds(e))return{valid:null,errors:[{path:i,value:e,message:xF(i,e,"an object")}]};const s=new Set(Object.keys(e)),n=[],r={};function o(a){return ai(t)?`${i}[${a}]`:i?`${i}.${a}`:a}for(const[a,l]of Object.entries(t)){s.delete(a);const u=e[a];if(!(!l[zte]&&typeof u>"u"))if(ch(l))l(u,e)?r[a]=u:n.push({key:a,path:i,value:u,message:xF(o(a),u,l)});else{const h=QC(u,l,o(a));r[a]=h.valid,n.push(...h.errors)}}for(const a of s)n.push({key:a,path:i,unknown:!0,message:`Unknown option \`${o(a)}\`, ignoring.`});return{valid:r,errors:n}}function xF(e,t,i){const s=Un(i)?i:i[xm],n=s?`; expecting ${s}`:"";return`${e?`Option \`${e}\``:"Value"} cannot be set to \`${ap(t)}\`${n}, ignoring.`}function rn(e,t){return Object.assign((i,s)=>e(i,s),{[xm]:t})}var ky=(...e)=>rn((t,i)=>e.every(s=>s(t,i)),e.map(t=>t[xm]).filter(Boolean).join(" and ")),Tu=(...e)=>rn((t,i)=>e.some(s=>s(t,i)),e.map(t=>t[xm]).filter(Boolean).join(" or "));rn(ai,"an array");rn(o4,"a boolean");rn(ch,"a function");var Ga=rn(It,"a number"),qw=rn(Ds,"an object"),tr=rn(Un,"a string"),Iy=rn(e=>uf(e)||(It(e)||Un(e))&&Cm(new Date(e)),"a date"),Hte=(e,t=!0)=>rn(i=>It(i)&&(i>e||t&&i===e),`a number greater than ${t?"or equal to ":""}${e}`),Vte=(e,t)=>rn(i=>It(i)&&i>=e&&i<=t,`a number between ${e} and ${t} inclusive`);Hte(0);var Ly=Vte(0,1),bF=e=>It(e)||Cm(e),SF=e=>rn((t,i)=>!bF(t)||!bF(i[e])||t<i[e],`to be less than ${e}`);function Wte(...e){Ds(e[0])&&(e=Object.values(e[0]));const t=Pte(e,"or",i=>`'${i}'`,6);return rn(i=>e.includes(i),`a keyword such as ${t}`)}var bM=(e,t)=>rn((i,s)=>ai(i)&&i.every(n=>e(n,s)),`${e[xm]} array`),a4={};qr(a4,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>xo,fromToMotion:()=>ki,staticFromToMotion:()=>fl});var ra={};typeof window<"u"?ra.window=window:typeof global<"u"&&(ra.window=global.window);typeof document<"u"?ra.document=document:typeof global<"u"&&(ra.document=global.document);function rl(e){var t;return e?(t=ra.document)==null?void 0:t[e]:ra.document}function oi(e){var t;return e?(t=ra.window)==null?void 0:t[e]:ra.window}function l4(e){ra.document=e}function c4(e){ra.window=e}function Mt(e,t,i){const s=rl().createElement(e);if(typeof t=="object"&&(i=t,t=void 0),t)for(const n of t.split(" "))s.classList.add(n);return i&&Object.assign(s.style,i),s}function Kr(e){return rl().createElementNS("http://www.w3.org/2000/svg",e)}function u4(e,t){const i=rl("body"),s=Mt("a",{display:"none"});s.href=e,s.download=t,i.appendChild(s),s.click(),setTimeout(()=>i.removeChild(s))}var SM=new Map;function Ute(){SM.clear()}function Qr(e){const t=e.constructor,i=Object.hasOwn(t,"className")?t.className:t.name;if(!i)throw new Error(`The ${t} is missing the 'className' property.`);const s=(SM.get(i)??0)+1;return SM.set(i,s),`${i}-${s}`}function jte(){var e;return((e=crypto.randomUUID)==null?void 0:e.call(crypto))??Yte()}function Yte(){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t="";for(let i=0;i<e.length;i++)(i===4||i===6||i===8||i===10)&&(t+="-"),t+=e[i].toString(16).padStart(2,"0");return t}var JC={containsPoint:Kte,isEmpty:$te,normalize:Xte};function Kte(e,t,i){return t>=e.x&&t<=e.x+e.width&&i>=e.y&&i<=e.y+e.height}function $te(e){return e==null||e.height===0||e.width===0||isNaN(e.height)||isNaN(e.width)}function Xte(e){let{x:t,y:i,width:s,height:n}=e;return(s==null||s>0)&&(n==null||n>0)?e:(t!=null&&s!=null&&s<0&&(s=-s,t=t-s),i!=null&&n!=null&&n<0&&(n=-n,i=i-n),{x:t,y:i,width:s,height:n})}var ex=Symbol("interpolate"),eC=e=>e[ex]!=null;function tx(e,t,i,s=1/0){const n={nearest:void 0,distanceSquared:s};for(const r of i){const o=r.distanceSquared(e,t);if(o===0)return{nearest:r,distanceSquared:0};o<n.distanceSquared&&(n.nearest=r,n.distanceSquared=o)}return n}function Zte(e,t,i,s=1/0){var a;const{x:n=e,y:r=t}=((a=i.transformPoint)==null?void 0:a.call(i,e,t))??{},o={nearest:void 0,distanceSquared:s};for(const l of i.children){const{nearest:u,distanceSquared:h}=l.nearestSquared(n,r,o.distanceSquared);if(h===0)return{nearest:u,distanceSquared:h};h<o.distanceSquared&&(o.nearest=u,o.distanceSquared=h)}return o}function ft(e,t,i){return Math.min(i,Math.max(e,t))}function wM(e,t){const[i,s]=Es(t);return ft(i,e,s)}function Es(e){if(e.length===0)return[];const t=[1/0,-1/0];for(const i of e)i<t[0]&&(t[0]=i),i>t[1]&&(t[1]=i);return t}function Xd(e){const[t,i]=Es(e);return i-t}function h4(e,t,i=1e-10){return e>=t[0]-i&&e<=t[1]+i}function po(e,t,i=1e-10){return e===t||Math.abs(e-t)<i}function ix(e){return Math.sign(e)===-1||Object.is(e,-0)}function d4(e){return e%1===0}function qte(e,t=2){const i=10**t;return Math.round(e*i)/i}function tA(e,t){return Math.floor(e%t+(e<0?t:0))}function sx(e){var n;if(Math.floor(e)===e)return 0;let t=String(e),i=0;if(e<1e-6||e>=1e21){let r;[t,r]=t.split("e"),r!=null&&(i=Number(r))}const s=((n=t.split(".")[1])==null?void 0:n.length)??0;return Math.max(s-i,0)}var Gp=class fd{constructor(t,i,s,n){this.x=t,this.y=i,this.width=s,this.height=n}static fromDOMRect({x:t,y:i,width:s,height:n}){return new fd(t,i,s,n)}static merge(t){let i=1/0,s=1/0,n=-1/0,r=-1/0;for(const o of t)o.x<i&&(i=o.x),o.y<s&&(s=o.y),o.x+o.width>n&&(n=o.x+o.width),o.y+o.height>r&&(r=o.y+o.height);return new fd(i,s,n-i,r-s)}static nearestBox(t,i,s){return tx(t,i,s)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){const{x:t,y:i,width:s,height:n}=this;return new fd(t,i,s,n)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,i){return JC.containsPoint(this,t,i)}intersection(t){if(!this.collidesBBox(t))return;const i=ft(t.x,this.x,t.x+t.width),s=ft(t.y,this.y,t.y+t.height),n=ft(t.x,this.x+this.width,t.x+t.width),r=ft(t.y,this.y+this.height,t.y+t.height);return new fd(i,s,n-i,r-s)}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,i){if(this.containsPoint(t,i))return 0;const s=t-ft(this.x,t,this.x+this.width),n=i-ft(this.y,i,this.y+this.height);return s*s+n*n}shrink(t,i){if(typeof t=="number")this.applyMargin(t,i);else for(const[s,n]of Object.entries(t))this.applyMargin(n,s);return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this}grow(t,i){if(typeof t=="number")this.applyMargin(-t,i);else for(const[s,n]of Object.entries(t))this.applyMargin(-n,s);return this}applyMargin(t,i){switch(i){case"top":this.y+=t;case"bottom":this.height-=t;break;case"left":this.x+=t;case"right":this.width-=t;break;case"vertical":this.y+=t,this.height-=t*2;break;case"horizontal":this.x+=t,this.width-=t*2;break;case void 0:this.x+=t,this.y+=t,this.width-=t*2,this.height-=t*2;break}}translate(t,i){return this.x+=t,this.y+=i,this}[ex](t,i){return new fd(this.x*(1-i)+t.x*i,this.y*(1-i)+t.y*i,this.width*(1-i)+t.width*i,this.height*(1-i)+t.height*i)}};Gp.zero=Object.freeze(new Gp(0,0,0,0));Gp.NaN=Object.freeze(new Gp(NaN,NaN,NaN,NaN));var Ze=Gp;function Xe(e){return function(t,i){const s=`__${i}`;t[i]||Qte(t,i,s,e)}}function Qte(e,t,i,s){const{type:n="normal",changeCb:r,convertor:o,checkDirtyOnAssignment:a=!1}=s??{},l={changeCb:r,checkDirtyOnAssignment:a,convertor:o};let u;switch(n){case"normal":u=iie(i,l);break;case"transform":u=sie(i);break;case"path":u=nie(i);break}u=tie(eie(Jte(u,l),l),l),Object.defineProperty(e,t,{set:u,get:function(){return this[i]},enumerable:!0,configurable:!0})}function Jte(e,t){const{convertor:i}=t;return i?function(s){e.call(this,i(s))}:e}var nx=Symbol("no-change");function eie(e,t){const{changeCb:i}=t;return i?function(s){const n=e.call(this,s);return n!==nx&&i.call(this,this),n}:e}function tie(e,t){const{checkDirtyOnAssignment:i}=t;return i?function(s){const n=e.call(this,s);return(s==null?void 0:s._dirty)===!0&&this.markDirty(),n}:e}function iie(e,t){const{changeCb:i}=t;return function(s){const n=this[e];return s!==n?(this[e]=s,this.markDirty(),i==null||i(this),s):nx}}function sie(e){return function(t){const i=this[e];return t!==i?(this[e]=t,this.markDirtyTransform(),t):nx}}function nie(e){return function(t){const i=this[e];return t!==i?(this[e]=t,this._dirtyPath||(this._dirtyPath=!0,this.markDirty()),t):nx}}var f4=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(f4||{}),rx=class g4{constructor(t){this.serialNumber=g4._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0,thisComplexity:0,complexity:0},this.id=Qr(this),this.pointerEvents=0,this._dirty=!0,this.dirtyZIndex=!1,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.name=t==null?void 0:t.name,this.tag=(t==null?void 0:t.tag)??NaN,this.zIndex=(t==null?void 0:t.zIndex)??0}static toSVG(t,i,s){var o,a;const n=t==null?void 0:t.toSVG();if(n==null||!n.elements.length&&!((o=n.defs)!=null&&o.length))return;const r=Kr("svg");if(r.setAttribute("width",String(i)),r.setAttribute("height",String(s)),r.setAttribute("viewBox",`0 0 ${i} ${s}`),(a=n.defs)!=null&&a.length){const l=Kr("defs");l.append(...n.defs),r.append(l)}return r.append(...n.elements),r.outerHTML}static*extractBBoxes(t,i){for(const s of t)if(!i||s.visible&&!s.transitionOut){const n=s.getBBox();n&&(yield n)}}get datum(){var t;return this._datum??((t=this.parentNode)==null?void 0:t.datum)}set datum(t){this._datum!==t&&(this._previousDatum=this._datum,this._datum=t)}get previousDatum(){return this._previousDatum}get layerManager(){return this._layerManager}get dirty(){return this._dirty}preRender(t,i=1){this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1,this.childNodeCounts.complexity=i,this.childNodeCounts.thisComplexity=i;for(const s of this.children()){const n=s.preRender(t);this.childNodeCounts.groups+=n.groups,this.childNodeCounts.nonGroups+=n.nonGroups,this.childNodeCounts.complexity+=n.complexity}return this.childNodeCounts}render(t){const{stats:i}=t;if(this._dirty=!1,t.debugNodeSearch){const s=this.name??this.id;t.debugNodeSearch.some(n=>typeof n=="string"?n===s:n.test(s))&&(t.debugNodes[this.name??this.id]=this)}i&&(i.nodesRendered++,i.opsPerformed+=this.childNodeCounts.thisComplexity)}_setLayerManager(t){this._layerManager=t,this._debug=t==null?void 0:t.debug;for(const i of this.children())i._setLayerManager(t)}sortChildren(t){if(this.dirtyZIndex=!1,!this.childNodes)return;const i=[...this.childNodes].sort(t);this.childNodes.clear();for(const s of i)this.childNodes.add(s)}*traverseUp(t){let i=this;for(t&&(yield i);i=i.parentNode;)yield i}*children(){if(this.childNodes)for(const t of this.childNodes)yield t}*descendants(){for(const t of this.children())yield t,yield*t.descendants()}isLeaf(){var t;return!((t=this.childNodes)!=null&&t.size)}isRoot(){return!this.parentNode}append(t){var i;this.childNodes??(this.childNodes=new Set);for(const s of Fte(t))(i=s.parentNode)==null||i.removeChild(s),this.childNodes.add(s),s.parentNode=this,s._setLayerManager(this.layerManager);this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty()}appendChild(t){return this.append(t),t}removeChild(t){var i;return(i=this.childNodes)!=null&&i.delete(t)?(delete t.parentNode,t._setLayerManager(),this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(),!0):!1}remove(){var t;return((t=this.parentNode)==null?void 0:t.removeChild(this))??!1}clear(){var t;for(const i of this.children())delete i.parentNode,i._setLayerManager();(t=this.childNodes)==null||t.clear(),this.invalidateCachedBBox()}destroy(){var t;(t=this.parentNode)==null||t.removeChild(this)}setProperties(t,i){if(i)for(const s of i)this[s]=t[s];else Object.assign(this,t);return this}containsPoint(t,i){return!1}pickNode(t,i,s=!1){if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,i))return;const n=[...this.children()];if(n.length>1e3)for(let r=n.length-1;r>=0;r--){const o=n[r],l=o.containsPoint(t,i)?o.pickNode(t,i):void 0;if(l)return l}else if(n.length)for(let r=n.length-1;r>=0;r--){const o=n[r].pickNode(t,i);if(o)return o}else if(!this.isContainerNode)return this}invalidateCachedBBox(){var t;this.cachedBBox!=null&&(this.cachedBBox=void 0,(t=this.parentNode)==null||t.invalidateCachedBBox())}getBBox(){return this.cachedBBox==null&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}markDirty(){const{_dirty:t}=this;this.cachedBBox==null&&t||(this.invalidateCachedBBox(),this._dirty=!0,this.parentNode&&this.parentNode.markDirty())}markClean(){if(this._dirty){this._dirty=!1;for(const t of this.children())t.markClean()}}onZIndexChange(){const{parentNode:t}=this;t&&(t.dirtyZIndex=!0)}toSVG(){}};rx._nextSerialNumber=0;E([Xe()],rx.prototype,"visible",2);E([Xe({changeCb:e=>e.onZIndexChange()})],rx.prototype,"zIndex",2);var Sc=rx,Fy=(e,t,i)=>e*(1-i)+t*i,Qw=e=>{const t=e<0?-1:1,i=Math.abs(e);return i<=.04045?e/12.92:t*((i+.055)/1.055)**2.4},Jw=e=>{const t=e<0?-1:1,i=Math.abs(e);return i>.0031308?t*(1.055*i**(1/2.4)-.055):12.92*e},p4=class ni{constructor(t,i,s,n=1){this.r=ft(0,t||0,1),this.g=ft(0,i||0,1),this.b=ft(0,s||0,1),this.a=ft(0,n||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!ni.parseHex(t):t.indexOf("rgb")>=0?!!ni.stringToRgba(t):ni.nameToHex.has(t.toLowerCase())}static fromString(t){if(t.indexOf("#")>=0)return ni.fromHexString(t);const i=ni.nameToHex.get(t.toLowerCase());if(i)return ni.fromHexString(i);if(t.indexOf("rgb")>=0)return ni.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static parseHex(t){t=t.replace(/ /g,"").slice(1);let i;switch(t.length){case 6:case 8:i=[];for(let s=0;s<t.length;s+=2)i.push(parseInt(`${t[s]}${t[s+1]}`,16));break;case 3:case 4:i=t.split("").map(s=>parseInt(s,16)).map(s=>s+s*16);break}if((i==null?void 0:i.length)>=3&&i.every(s=>s>=0))return i.length===3&&i.push(255),i}static fromHexString(t){const i=ni.parseHex(t);if(i){const[s,n,r,o]=i;return new ni(s/255,n/255,r/255,o/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let i=-1,s=-1;for(let a=0;a<t.length;a++){const l=t[a];if(i===-1&&l==="(")i=a;else if(l===")"){s=a;break}}if(i===-1||s===-1)return;const r=t.substring(i+1,s).split(","),o=[];for(let a=0;a<r.length;a++){const l=r[a];let u=parseFloat(l);if(!Number.isFinite(u))return;l.indexOf("%")>=0?(u=ft(0,u,100),u/=100):a===3?u=ft(0,u,1):(u=ft(0,u,255),u/=255),o.push(u)}return o}static fromRgbaString(t){const i=ni.stringToRgba(t);if(i){if(i.length===3)return new ni(i[0],i[1],i[2]);if(i.length===4)return new ni(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new ni(t[0],t[1],t[2],t[3]);if(t.length===3)return new ni(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,i,s,n=1){const r=ni.HSBtoRGB(t,i,s);return new ni(r[0],r[1],r[2],n)}static fromHSL(t,i,s,n=1){const r=ni.HSLtoRGB(t,i,s);return new ni(r[0],r[1],r[2],n)}static fromOKLCH(t,i,s,n=1){const r=ni.OKLCHtoRGB(t,i,s);return new ni(r[0],r[1],r[2],n)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+ni.padHex(Math.round(this.r*255).toString(16))+ni.padHex(Math.round(this.g*255).toString(16))+ni.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=ni.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){const i=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],s=Math.pow(10,t);return this.a!==1?(i.push(Math.round(this.a*s)/s),`rgba(${i.join(", ")})`):`rgb(${i.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return ni.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,i,s){const n=Qw(t),r=Qw(i),o=Qw(s),a=Math.cbrt(.4122214708*n+.5363325363*r+.0514459929*o),l=Math.cbrt(.2119034982*n+.6806995451*r+.1073969566*o),u=Math.cbrt(.0883024619*n+.2817188376*r+.6299787005*o),h=.2104542553*a+.793617785*l-.0040720468*u,f=1.9779984951*a-2.428592205*l+.4505937099*u,g=.0259040371*a+.7827717662*l-.808675766*u,m=Math.atan2(g,f)*180/Math.PI,y=h,C=Math.hypot(f,g),x=m>=0?m:m+360;return[y,C,x]}static OKLCHtoRGB(t,i,s){const n=t,r=i*Math.cos(s*Math.PI/180),o=i*Math.sin(s*Math.PI/180),a=(n+.3963377774*r+.2158037573*o)**3,l=(n-.1055613458*r-.0638541728*o)**3,u=(n-.0894841775*r-1.291485548*o)**3,h=4.0767416621*a-3.3077115913*l+.2309699292*u,f=-1.2684380046*a+2.6097574011*l-.3413193965*u,g=-.0041960863*a-.7034186147*l+1.707614701*u,m=Jw(h),y=Jw(f),C=Jw(g);return[m,y,C]}static RGBtoHSL(t,i,s){const n=Math.min(t,i,s),r=Math.max(t,i,s),o=(r+n)/2;let a,l;if(r===n)a=0,l=0;else{const u=r-n;l=o>.5?u/(2-r-n):u/(r+n),r===t?a=(i-s)/u+(i<s?6:0):r===i?a=(s-t)/u+2:a=(t-i)/u+4,a*=360/6}return[a,l,o]}static HSLtoRGB(t,i,s){if(t=(t%360+360)%360,i===0)return[s,s,s];const n=s<.5?s*(1+i):s+i-s*i,r=2*s-n;function o(h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?r+(n-r)*6*h:h<1/2?n:h<2/3?r+(n-r)*(2/3-h)*6:r}const a=o(t/360+1/3),l=o(t/360),u=o(t/360-1/3);return[a,l,u]}static RGBtoHSB(t,i,s){const n=Math.min(t,i,s),r=Math.max(t,i,s),o=r===0?0:(r-n)/r;let a=0;if(n!==r){const l=r-n,u=(r-t)/l,h=(r-i)/l,f=(r-s)/l;t===r?a=f-h:i===r?a=2+u-f:a=4+h-u,a/=6,a<0&&(a=a+1)}return[a*360,o,r]}static HSBtoRGB(t,i,s){t=(t%360+360)%360/360;let n=0,r=0,o=0;if(i===0)n=r=o=s;else{const a=(t-Math.floor(t))*6,l=a-Math.floor(a),u=s*(1-i),h=s*(1-i*l),f=s*(1-i*(1-l));switch(a>>0){case 0:n=s,r=f,o=u;break;case 1:n=h,r=s,o=u;break;case 2:n=u,r=s,o=f;break;case 3:n=u,r=h,o=s;break;case 4:n=f,r=u,o=s;break;case 5:n=s,r=u,o=h;break}}return[n,r,o]}static mix(t,i,s){return new ni(Fy(t.r,i.r,s),Fy(t.g,i.g,s),Fy(t.b,i.b,s),Fy(t.a,i.a,s))}};p4.nameToHex=new Map([["aliceblue","#F0F8FF"],["antiquewhite","#FAEBD7"],["aqua","#00FFFF"],["aquamarine","#7FFFD4"],["azure","#F0FFFF"],["beige","#F5F5DC"],["bisque","#FFE4C4"],["black","#000000"],["blanchedalmond","#FFEBCD"],["blue","#0000FF"],["blueviolet","#8A2BE2"],["brown","#A52A2A"],["burlywood","#DEB887"],["cadetblue","#5F9EA0"],["chartreuse","#7FFF00"],["chocolate","#D2691E"],["coral","#FF7F50"],["cornflowerblue","#6495ED"],["cornsilk","#FFF8DC"],["crimson","#DC143C"],["cyan","#00FFFF"],["darkblue","#00008B"],["darkcyan","#008B8B"],["darkgoldenrod","#B8860B"],["darkgray","#A9A9A9"],["darkgreen","#006400"],["darkgrey","#A9A9A9"],["darkkhaki","#BDB76B"],["darkmagenta","#8B008B"],["darkolivegreen","#556B2F"],["darkorange","#FF8C00"],["darkorchid","#9932CC"],["darkred","#8B0000"],["darksalmon","#E9967A"],["darkseagreen","#8FBC8F"],["darkslateblue","#483D8B"],["darkslategray","#2F4F4F"],["darkslategrey","#2F4F4F"],["darkturquoise","#00CED1"],["darkviolet","#9400D3"],["deeppink","#FF1493"],["deepskyblue","#00BFFF"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1E90FF"],["firebrick","#B22222"],["floralwhite","#FFFAF0"],["forestgreen","#228B22"],["fuchsia","#FF00FF"],["gainsboro","#DCDCDC"],["ghostwhite","#F8F8FF"],["gold","#FFD700"],["goldenrod","#DAA520"],["gray","#808080"],["green","#008000"],["greenyellow","#ADFF2F"],["grey","#808080"],["honeydew","#F0FFF0"],["hotpink","#FF69B4"],["indianred","#CD5C5C"],["indigo","#4B0082"],["ivory","#FFFFF0"],["khaki","#F0E68C"],["lavender","#E6E6FA"],["lavenderblush","#FFF0F5"],["lawngreen","#7CFC00"],["lemonchiffon","#FFFACD"],["lightblue","#ADD8E6"],["lightcoral","#F08080"],["lightcyan","#E0FFFF"],["lightgoldenrodyellow","#FAFAD2"],["lightgray","#D3D3D3"],["lightgreen","#90EE90"],["lightgrey","#D3D3D3"],["lightpink","#FFB6C1"],["lightsalmon","#FFA07A"],["lightseagreen","#20B2AA"],["lightskyblue","#87CEFA"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#B0C4DE"],["lightyellow","#FFFFE0"],["lime","#00FF00"],["limegreen","#32CD32"],["linen","#FAF0E6"],["magenta","#FF00FF"],["maroon","#800000"],["mediumaquamarine","#66CDAA"],["mediumblue","#0000CD"],["mediumorchid","#BA55D3"],["mediumpurple","#9370DB"],["mediumseagreen","#3CB371"],["mediumslateblue","#7B68EE"],["mediumspringgreen","#00FA9A"],["mediumturquoise","#48D1CC"],["mediumvioletred","#C71585"],["midnightblue","#191970"],["mintcream","#F5FFFA"],["mistyrose","#FFE4E1"],["moccasin","#FFE4B5"],["navajowhite","#FFDEAD"],["navy","#000080"],["oldlace","#FDF5E6"],["olive","#808000"],["olivedrab","#6B8E23"],["orange","#FFA500"],["orangered","#FF4500"],["orchid","#DA70D6"],["palegoldenrod","#EEE8AA"],["palegreen","#98FB98"],["paleturquoise","#AFEEEE"],["palevioletred","#DB7093"],["papayawhip","#FFEFD5"],["peachpuff","#FFDAB9"],["peru","#CD853F"],["pink","#FFC0CB"],["plum","#DDA0DD"],["powderblue","#B0E0E6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#FF0000"],["rosybrown","#BC8F8F"],["royalblue","#4169E1"],["saddlebrown","#8B4513"],["salmon","#FA8072"],["sandybrown","#F4A460"],["seagreen","#2E8B57"],["seashell","#FFF5EE"],["sienna","#A0522D"],["silver","#C0C0C0"],["skyblue","#87CEEB"],["slateblue","#6A5ACD"],["slategray","#708090"],["slategrey","#708090"],["snow","#FFFAFA"],["springgreen","#00FF7F"],["steelblue","#4682B4"],["tan","#D2B48C"],["teal","#008080"],["thistle","#D8BFD8"],["tomato","#FF6347"],["transparent","#00000000"],["turquoise","#40E0D0"],["violet","#EE82EE"],["wheat","#F5DEB3"],["white","#FFFFFF"],["whitesmoke","#F5F5F5"],["yellow","#FFFF00"],["yellowgreen","#9ACD32"]]);var Ei=p4;function rie(e,t){return i=>Number(e)*(1-i)+Number(t)*i}function m4(e,t){if(typeof e=="string")try{e=Ei.fromString(e)}catch{e=Ei.fromArray([0,0,0])}if(typeof t=="string")try{t=Ei.fromString(t)}catch{t=Ei.fromArray([0,0,0])}return i=>Ei.mix(e,t,i).toRgbaString()}var tC=Symbol("BREAK"),Ld="__decorator_config";function y4(e,t){Object.getOwnPropertyDescriptor(e,Ld)==null&&Object.defineProperty(e,Ld,{value:{}});const i=e[Ld],s=t.toString();if(typeof i[s]<"u")return i[s];const n=new WeakMap;i[s]={setters:[],getters:[],observers:[],valuesMap:n};const r=Object.getOwnPropertyDescriptor(e,t),o=r==null?void 0:r.set,a=r==null?void 0:r.get;return Object.defineProperty(e,t,{set:function(h){const{setters:f,observers:g}=i[s];let m;f.some(y=>y.length>2)&&(m=a?a.call(this):n.get(this));for(const y of f)if(h=y(this,t,h,m),h===tC)return;o?o.call(this,h):n.set(this,h);for(const y of g)y(this,h,m)},get:function(){let h=a?a.call(this):n.get(this);for(const f of i[s].getters)if(h=f(this,t,h),h===tC)return;return h},enumerable:!0,configurable:!1}),i[s]}function ol(e,t,i){return(s,n)=>{const r=y4(s,n);r.setters.push(e),t&&r.getters.unshift(t),i&&Object.assign(r,i)}}function v4(e){return(t,i)=>{y4(t,i).observers.push(e)}}function ox(e){return typeof e<"u"&&Ld in e}function zu(e){const t=new Set;for(;ox(e);)t.add(e==null?void 0:e[Ld]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(i=>Object.keys(i))}function C4(e){return zu(e).reduce((t,i)=>(t[i]=e[i]??null,t),{})}function oie(e,t){const i=t.toString();for(;ox(e);){const s=e[Ld];if(Object.hasOwn(s,i))return s[i];e=Object.getPrototypeOf(e)}}function Qu(e,t){return Array.isArray(e)?!Array.isArray(t)||e.length!==t.length?!1:e.every((i,s)=>Qu(i,t[s])):tn(e)?tn(t)?iA(e,t,Qu):!1:e===t}function iA(e,t,i){for(const s of Object.keys(t))if(!(s in e))return!1;for(const s of Object.keys(e))if(!(s in t)||!i(e[s],t[s]))return!1;return!0}function bt(...e){const t={};for(const i of e){if(!Ds(i))continue;const s=ox(i)?zu(i):Object.keys(i);for(const n of s)tn(t[n])&&tn(i[n])?t[n]=bt(t[n],i[n]):t[n]??(t[n]=i[n])}return t}function iC(e,...t){return t&&ai(e)?e.map(i=>bt(i,...t)):e}function aie(e,t){return Object.entries(e).reduce((i,[s,n])=>(i[s]=t(n,s,e),i),{})}function MM(e,t){const i={...e};for(const s of t)delete i[s];return i}function sA(e,t){return(ai(t)?t:t.split(".")).reduce((s,n)=>s[n],e)}var nA=new Set(["__proto__","constructor","prototype"]);function rA(e,t,i){const s=ai(t)?t.slice():t.split("."),n=s.pop();if(s.some(o=>nA.has(o)))return;const r=s.reduce((o,a)=>o[a],e);return r[n]=i,r[n]}function DM(e,t,i){if(i===void 0)return t;for(const s of e){const n=i[s];n!==void 0&&(t[s]=n)}return t}function lp(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const i=e[t];i!==null&&(typeof i=="object"||typeof i=="function")&&!Object.isFrozen(i)&&lp(i)}),e}var AM={};qr(AM,{easeIn:()=>lie,easeInOut:()=>cie,easeInOutQuad:()=>die,easeInQuad:()=>uie,easeOut:()=>zp,easeOutQuad:()=>hie,inverseEaseOut:()=>b4,linear:()=>x4});var x4=e=>e,lie=e=>1-Math.cos(e*Math.PI/2),zp=e=>Math.sin(e*Math.PI/2),cie=e=>-(Math.cos(e*Math.PI)-1)/2,uie=e=>e*e,hie=e=>1-(1-e)**2,die=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,b4=e=>2*Math.asin(e)/Math.PI,sC=.2,gd=["initial","remove","update","add","trailing","end","none"],Hp={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:sC,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+sC,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},S4=(e=>(e.Loop="loop",e.Reverse="reverse",e))(S4||{});function fie(e){return e.every(t=>t instanceof Sc)}function ax(e){return fie(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}function EM(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((i,s)=>EM(i,t[s])):eC(e)&&eC(t)?e.equals(t):tn(e)&&tn(t)?iA(e,t,EM):!1}var w4=class{constructor(e){var i,s,n;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??x4,this.phase=e.phase;const t=e.duration??Hp[this.phase].animationDuration;this.duration=t*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,e.skip===!0&&((i=this.onUpdate)==null||i.call(this,e.to,!1,this),(s=this.onStop)==null||s.call(this,this),(n=this.onComplete)==null||n.call(this,this),this.isComplete=!0),e.collapsable!==!1&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){return EM(e.from,e.to)?0:t}play(e=!1){var t,i;this.isPlaying||this.isComplete||(this.isPlaying=!0,(t=this.onPlay)==null||t.call(this,this),this.autoplay&&(this.autoplay=!1,e&&((i=this.onUpdate)==null||i.call(this,this.from,!0,this))))}stop(){var e;this.isPlaying=!1,this.isComplete||(this.isComplete=!0,(e=this.onStop)==null||e.call(this,this))}update(e){var n,r;if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);const t=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;const i=this.interpolate(this.isReverse?1-this.delta:this.delta);(n=this.onUpdate)==null||n.call(this,i,!1,this);const s=this.delay+this.duration;return this.elapsed>=s?(this.stop(),this.isComplete=!0,(r=this.onComplete)==null||r.call(this,this),e-(s-t)):0}get delta(){return this.ease(ft(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if(typeof t!="object"||eC(t))return this.interpolateValue(e,t);const i=[];for(const s of Object.keys(t)){const n=this.interpolateValue(e[s],t[s]);n!=null&&i.push([s,n])}return s=>{const n={};for(const[r,o]of i)n[r]=o(s);return n}}interpolateValue(e,t){if(!(e==null||t==null)){if(eC(e))return i=>e[ex](t,i);try{switch(typeof e){case"number":return rie(e,t);case"string":return m4(e,t);case"boolean":if(e===t)return()=>e;break}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}},xo={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function ki(e,t,i,s,n,r,o){const{fromFn:a,toFn:l,applyFn:u=(y,C)=>y.setProperties(C)}=n,{nodes:h,selections:f}=ax(s),g=(y,C)=>{let x,b=0,w=0;for(const M of C){const A=y[b]===M,T={last:w>=C.length-1,lastLive:b>=y.length-1,prev:C[w-1],prevFromProps:x,prevLive:y[b-1],next:C[w+1],nextLive:y[b+(A?1:0)]},k=`${e}_${t}_${M.id}`;i.stopByAnimationId(k);let R="unknown";A?r&&o&&(R=gie(M,M.datum,r,o)):R="removed",M.transitionOut=R==="removed";const{phase:F,start:I,finish:N,delay:G,duration:V,...Q}=a(M,M.datum,R,T),{phase:pe,start:ae,finish:se,delay:le,duration:re,...J}=l(M,M.datum,R,T),z=N==null;i.animate({id:k,groupId:e,phase:F??pe??"update",duration:V??re,delay:G??le,from:Q,to:J,ease:zp,collapsable:z,onPlay:()=>{const ee={...I,...ae,...Q};u(M,ee,"start")},onUpdate(ee){u(M,ee,"update")},onStop:()=>{const ee={...I,...ae,...Q,...J,...N,...se};u(M,ee,"end")}}),A&&b++,w++,x=Q}};let m=0;for(const y of f){const C=y.nodes(),x=C.filter(b=>!y.isGarbage(b));g(x,C),i.animate({id:`${e}_${t}_selection_${m}`,groupId:e,phase:"end",from:0,to:1,ease:zp,onStop(){y.cleanup()}}),m++}g(h,h)}function fl(e,t,i,s,n,r,o){const{nodes:a,selections:l}=ax(s),{start:u,finish:h,phase:f}=o;i.animate({id:`${e}_${t}`,groupId:e,phase:f??"update",from:n,to:r,ease:zp,onPlay:()=>{if(u){for(const g of a)g.setProperties(u);for(const g of l)for(const m of g.nodes())m.setProperties(u)}},onUpdate(g){for(const m of a)m.setProperties(g);for(const m of l)for(const y of m.nodes())y.setProperties(g)},onStop:()=>{for(const g of a)g.setProperties({...r,...h});for(const g of l){for(const m of g.nodes())m.setProperties({...r,...h});g.cleanup()}}})}function gie(e,t,i,s){const n=i(e,t);return s.added.has(n)?"added":s.removed.has(n)?"removed":"updated"}var lx=class{ticks(e,t,i){}niceDomain(e,t=this.domain){return t}tickFormatter(e){}datumFormatter(e){}get bandwidth(){}get step(){}get inset(){}},M4=class D4 extends lx{constructor(t=[],i=[]){super(),this.domain=t,this.range=i,this.defaultClamp=!1}static is(t){return t instanceof D4}normalizeDomains(...t){let i,s=1/0,n,r=-1/0;for(const o of t)for(const a of o){const l=a.valueOf();l<s&&(s=l,i=a),l>r&&(r=l,n=a)}return i!=null&&n!=null?{domain:[i,n],animatable:!0}:{domain:[],animatable:!1}}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){const{domain:i}=this,s=this.getPixelRange();if(i.length===0)return s;const n=Math.abs(i[1].valueOf()-i[0].valueOf())/t+1,r=Math.floor(s),o=Math.min(n,r);return s/Math.max(1,o)}convert(t,i=this.defaultClamp){const{domain:s}=this;if(!s||s.length<2)return NaN;const n=Number(this.transform(s[0])),r=Number(this.transform(s[1])),o=Number(this.transform(t)),{range:a}=this,[l,u]=a;if(i){const[h,f]=Es([n,r]);if(o<h)return l;if(o>f)return u}return n===r?(l+u)/2:o===n?l:o===r?u:l+(o-n)/(r-n)*(u-l)}invert(t,i){const s=this.domain.map(h=>this.transform(h)),[n,r]=s,{range:o}=this,[a,l]=o;let u;return a===l?u=this.toDomain((Number(n)+Number(r))/2):u=this.toDomain(Number(n)+(t-a)/(l-a)*(Number(r)-Number(n))),this.transformInvert(u)}getPixelRange(){const[t,i]=this.range;return Math.abs(i-t)}};M4.defaultTickCount=5;var Vt=M4,pie={};qr(pie,{TimeInterval:()=>Zd,day:()=>nC,friday:()=>kie,hour:()=>bd,millisecond:()=>A4,minute:()=>xd,monday:()=>Aie,month:()=>Mu,saturday:()=>Iie,second:()=>Cd,sunday:()=>cp,thursday:()=>Rie,tuesday:()=>Eie,utcDay:()=>Uie,utcHour:()=>Hie,utcMinute:()=>Bie,utcMonth:()=>Kie,utcYear:()=>Zie,wednesday:()=>Tie,year:()=>cx});var Zd=class{constructor(e,t,i){this._encode=e,this._decode=t,this._rangeCallback=i}floor(e){const t=new Date(e),i=this._encode(t);return this._decode(i)}ceil(e){const t=new Date(Number(e)-1),i=this._encode(t);return this._decode(i+1)}range(e,t,{extend:i=!1,visibleRange:s=[0,1]}={}){var g;let n=!1;e.getTime()>t.getTime()&&([e,t]=[t,e],n=!0);const r=(g=this._rangeCallback)==null?void 0:g.call(this,e,t),o=this._encode(i?this.floor(e):this.ceil(e)),a=this._encode(i?this.ceil(t):this.floor(t));if(a<o)return[];const l=a-o;let u,h;n?(u=Math.ceil(o+(1-s[1])*l),h=Math.floor(o+(1-s[0])*l)):(u=Math.floor(o+s[0]*l),h=Math.ceil(o+s[1]*l));const f=[];for(let m=u;m<=h;m+=1){const y=this._decode(m);f.push(y)}return r==null||r(),f}},ur=class extends Zd{getOffset(e,t){return Math.floor(this._encode(new Date(e)))%t}every(e,t){let i=0,s;const n=e;e=Math.max(1,Math.round(e)),n!==e&&Ne.warnOnce(`interval step of [${n}] rounded to [${e}].`);const{snapTo:r="start"}=t??{};if(typeof r=="string"){const l=i;s=(u,h)=>{const f=r==="start"?u:h;return i=this.getOffset(f,e),()=>i=l}}else typeof r=="number"?i=this.getOffset(new Date(r),e):r instanceof Date&&(i=this.getOffset(r,e));const o=l=>Math.floor((this._encode(l)-i)/e),a=l=>this._decode(l*e+i);return new Zd(o,a,s)}};function mie(e){return e.getTime()}function yie(e){return new Date(e)}var A4=new ur(mie,yie),oc=1e3,Bs=oc*60,An=Bs*60,$r=An*24,Va=$r*7,Pg=$r*30,qd=$r*365,E4=new Date().getTimezoneOffset()*Bs;function vie(e){return Math.floor((e.getTime()-E4)/oc)}function Cie(e){return new Date(E4+e*oc)}var Cd=new ur(vie,Cie),T4=new Date().getTimezoneOffset()*Bs;function xie(e){return Math.floor((e.getTime()-T4)/Bs)}function bie(e){return new Date(T4+e*Bs)}var xd=new ur(xie,bie),R4=new Date().getTimezoneOffset()*Bs;function Sie(e){return Math.floor((e.getTime()-R4)/An)}function wie(e){return new Date(R4+e*An)}var bd=new ur(Sie,wie);function Mie(e){const t=e.getTimezoneOffset()*Bs;return Math.floor((e.getTime()-t)/$r)}function Die(e){const t=new Date(1970,0,1);return t.setDate(t.getDate()+e),t}var nC=new ur(Mie,Die);function uh(e){const i=(7+e-4)%7;function s(r){const o=r.getTimezoneOffset()*Bs;return Math.floor((r.getTime()-o)/Va-i/7)}function n(r){const o=new Date(1970,0,1);return o.setDate(o.getDate()+r*7+i),o}return new ur(s,n)}var cp=uh(0),Aie=uh(1),Eie=uh(2),Tie=uh(3),Rie=uh(4),kie=uh(5),Iie=uh(6);function Lie(e){return e.getFullYear()*12+e.getMonth()}function Fie(e){const t=Math.floor(e/12),i=e-t*12;return new Date(t,i,1)}var Mu=new ur(Lie,Fie);function Pie(e){return e.getFullYear()}function Oie(e){const t=new Date;return t.setFullYear(e),t.setMonth(0,1),t.setHours(0,0,0,0),t}var cx=new ur(Pie,Oie);function Nie(e){return Math.floor(e.getTime()/Bs)}function _ie(e){return new Date(e*Bs)}var Bie=new ur(Nie,_ie);function Gie(e){return Math.floor(e.getTime()/An)}function zie(e){return new Date(e*An)}var Hie=new ur(Gie,zie);function Vie(e){return Math.floor(e.getTime()/$r)}function Wie(e){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+e),t.setUTCHours(0,0,0,0),t}var Uie=new ur(Vie,Wie);function jie(e){return e.getUTCFullYear()*12+e.getUTCMonth()}function Yie(e){const t=Math.floor(e/12),i=e-t*12;return new Date(Date.UTC(t,i,1))}var Kie=new ur(jie,Yie);function $ie(e){return e.getUTCFullYear()}function Xie(e){const t=new Date;return t.setUTCFullYear(e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var Zie=new ur($ie,Xie),Py={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function oA(e,t=new Date(e.getFullYear(),0,1)){const i=e.getTimezoneOffset()-t.getTimezoneOffset(),s=e.getTime()-t.getTime()+i*6e4,n=36e5*24;return Math.floor(s/n)}function wF(e,t){const s=new Date(e.getFullYear(),0,1).getDay(),n=(t-s+7)%7,r=new Date(e.getFullYear(),0,n+1);return r<=e?Math.floor(oA(e,r)/7)+1:0}var qie=0,k4=1,MF=4;function I4(e,t=e.getFullYear()){const s=new Date(t,0,1).getDay(),n=(MF-s+7)%7,r=new Date(t,0,n-(MF-k4)+1);return r<=e?Math.floor(oA(e,r)/7)+1:I4(e,t-1)}function Qie(e){const t=e.getTimezoneOffset(),i=Math.abs(t);return`${t>0?"-":"+"}${Ps(Math.floor(i/60),2,"0")}${Ps(Math.floor(i%60),2,"0")}`}var Jie={a:e=>Py.shortDays[e.getDay()],A:e=>Py.days[e.getDay()],b:e=>Py.shortMonths[e.getMonth()],B:e=>Py.months[e.getMonth()],c:"%x, %X",d:(e,t)=>Ps(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>Ps(e.getMilliseconds()*1e3,6,t??"0"),H:(e,t)=>Ps(e.getHours(),2,t??"0"),I:(e,t)=>{const i=e.getHours()%12;return i===0?"12":Ps(i,2,t??"0")},j:(e,t)=>Ps(oA(e)+1,3,t??"0"),m:(e,t)=>Ps(e.getMonth()+1,2,t??"0"),M:(e,t)=>Ps(e.getMinutes(),2,t??"0"),L:(e,t)=>Ps(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>Ps(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>Ps(wF(e,qie),2,t??"0"),V:(e,t)=>Ps(I4(e),2,t??"0"),w:(e,t)=>Ps(e.getDay(),2,t??"0"),W:(e,t)=>Ps(wF(e,k4),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>Ps(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>Ps(e.getFullYear(),4,t??"0"),Z:e=>Qie(e),"%":()=>"%"},ese={_:" ",0:"0","-":""};function Ps(e,t,i){const s=String(Math.floor(e));return s.length>=t?s:`${i.repeat(t-s.length)}${s}`}function bm(e){const t=[];for(;e.length>0;){let i=e.indexOf("%");if(i!==0){const a=i>0?e.substring(0,i):e;t.push(a)}if(i<0)break;const s=e[i+1],n=ese[s];n!=null&&i++;const r=e[i+1],o=Jie[r];if(typeof o=="function")t.push([o,n]);else if(typeof o=="string"){const a=bm(o);t.push([a,n])}else t.push(`${n??""}${r}`);e=e.substring(i+2)}return i=>{const s=typeof i=="number"?new Date(i):i;return t.map(n=>typeof n=="string"?n:n[0](s,n[1])).join("")}}function Zs(e){return e instanceof Date?e.getTime():e}function aA(e,t,i){const s=L4(e,t,i),n=bm(s);return r=>n(r)}function L4(e,t,i=0){let s=1/0;for(let h=1;h<e.length;h++)s=Math.min(s,Math.abs(e[h].valueOf()-e[h-1].valueOf()));const[n,r]=t.length===0?[0,0]:Es([t[0].valueOf(),t[t.length-1].valueOf()]),o=new Date(n).getFullYear(),l=new Date(r).getFullYear()-o>0,u=isFinite(s)?tse(s,e):ise(e[0]);return nse(Math.max(u-i,0),l,e)}function tse(e,t){return e<oc?0:e<Bs?1:e<An?2:e<$r?3:e<Va?4:e<$r*28||e<$r*31&&sse(t)?5:e<qd?6:7}function ise(e){return Cd.floor(e)<e?0:xd.floor(e)<e?1:bd.floor(e)<e?2:nC.floor(e)<e?3:Mu.floor(e)<e?cp.floor(e)<e?4:5:cx.floor(e)<e?6:7}function sse(e){let t=new Date(e[0]).getMonth();for(let i=1;i<e.length;i++){const s=new Date(e[i]).getMonth();if(t===s)return!0;t=s}return!1}function nse(e,t,i){const s=Zs(i[0]),n=Zs(i.at(-1)),r=Math.abs(n-s),o=t||e===7,a=r===0,u=[["hour",6*An,14*$r,3,"%I %p"],["hour",Bs,6*An,3,"%I:%M"],["second",1e3,6*An,1,":%S"],["ms",0,6*An,0,".%L"],["am/pm",Bs,6*An,3,"%p"]," ",["day",$r,Va,4,"%a"],["month",a?0:Va,52*Va,5,"%b %d"],["month",5*Va,10*qd,6,"%B"]," ",["year",o?0:qd,1/0,7,"%Y"]].filter(g=>{if(typeof g=="string")return!0;const[m,y,C,x]=g;return x>=e&&y<=r&&r<C}).reduce((g,m)=>(typeof m=="string"?g.result.push(m):g.used.has(m[0])||(g.result.push(m),g.used.add(m[0])),g),{result:[],used:new Set}).result,h=u.findIndex(g=>typeof g!="string"),f=u.findLastIndex(g=>typeof g!="string");return u.slice(h,f+1).map(g=>typeof g=="string"?g:g[4]).join("").replaceAll(/\s+/g," ").trim()}var hf=(e,t)=>{const i=Symbol(String(t));e[i]=void 0,Object.defineProperty(e,t,{get(){return this[i]},set(s){this[i]!==s&&(this[i]=s,this.invalid=!0)},enumerable:!0,configurable:!1})};function F4(e,t,i){if(i==null||i[0]===0&&i[1]===1)return e;const s=ft(0,Math.floor(i[0]*e.length),e.length),n=ft(0,Math.ceil(i[1]*e.length),e.length),r=t?e.length-n:s,o=t?e.length-s:n;return e.slice(r,o)}var ux=class P4 extends lx{constructor(){super(...arguments),this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof P4}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=ft(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this.invalid=!0,this._paddingInner=ft(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this.invalid=!0,this._paddingOuter=ft(0,t,1)}get paddingOuter(){return this._paddingOuter}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Ne.warnOnce("Expected update to not invalidate scale"))}ticks(t,i=this.domain,s){return F4(i,!1,s)}convert(t,i){this.refresh();const s=this.getIndex(t);return s==null||s<0||s>=this.domain.length?NaN:this.ordinalRange(s)}invertNearestIndex(t){this.refresh();const{domain:i}=this;if(i.length===0)return-1;let s=0,n=i.length-1,r=1/0,o=0;for(;s<=n;){const a=(n+s)/2|0,l=this.ordinalRange(a),u=Math.abs(l-t);if(u===0)return a;u<r&&(r=u,o=a),l<t?s=a+1:n=a-1}return o}update(){const t=this.domain.length;if(t===0)return;const[i,s]=this.range;let{_paddingInner:n}=this;const{_paddingOuter:r,round:o}=this,a=s-i;let l;t===1?(n=0,l=a*(1-r*2)):l=a/Math.max(1,t-n+r*2);const u=o?Math.floor(l):l;let h=i+(a-u*(t-n))/2,f=u*(1-n);o&&(h=Math.round(h),f=Math.round(f)),this._step=u,this._inset=h,this._bandwidth=f,this._rawBandwidth=l*(1-n)}ordinalRange(t){const{_inset:i,_step:s,range:n}=this,r=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return ft(r,i+s*t,o)}};E([hf],ux.prototype,"range",2);E([hf],ux.prototype,"round",2);E([hf],ux.prototype,"interval",2);var Sm=ux,wm=class extends Sm{constructor(){super(...arguments),this.type="band",this.index=void 0,this._domain=[]}set domain(e){this._domain!==e&&(this.invalid=!0,this._domain=e,this.index=void 0)}get domain(){return this._domain}normalizeDomains(...e){let t;const i=new Set;let s=!0;for(const n of e)i.has(n)||(i.add(n),t==null?t=DF(n):(s&&(s=rse(n,t)),t=DF([...t,...n])));return t??(t=[]),{domain:t,animatable:s}}toDomain(e){}invert(e,t=!1){this.refresh();const i=t?this.bandwidth/2:0,s=this.invertNearestIndex(Math.max(0,e-i));return t||e===this.ordinalRange(s)?this.domain[s]:void 0}getIndex(e){let{index:t}=this;if(t==null){const{domain:i}=this;t=new Map;for(let s=0;s<i.length;s++)t.set(Zs(i[s]),s);this.index=t}return t.get(Zs(e))}};function DF(e){let t;const i=new Set;for(const s of e){const n=Zs(s),r=i.size;i.add(n),i.size!==r?t==null||t.push(s):t??(t=e.slice(0,i.size))}return t??e}function rse(e,t){let i=-1;for(const s of e){const n=t.indexOf(s);if(n===-1)i=1/0;else{if(n<=i)return!1;i=n}}return!0}var ut=class{set(e){const{className:t=this.constructor.name}=this.constructor;if(typeof e!="object")return Ne.warn(`unable to set ${t} - expecting a properties object`),this;const i=new Set(Object.keys(e));for(const s of zu(this))if(i.has(s)){const n=e[s],r=this;if(oa(r[s]))if(r[s]instanceof Mm){const o=r[s].reset(n);o!=null?r[s]=o:Ne.warn(`unable to set [${s}] - expecting a properties array`)}else r[s].set(n);else r[s]=n;i.delete(s)}for(const s of i)Ne.warn(`unable to set [${s}] in ${t} - property is unknown`);return this}isValid(e){return zu(this).every(t=>{const{optional:i}=oie(this,t),s=i===!0||typeof this[t]<"u";return s||Ne.warnOnce(`${e??""}[${t}] is required.`),s})}toJson(){return zu(this).reduce((e,t)=>{const i=this[t];return e[t]=oa(i)?i.toJson():i,e},{})}},Mm=class O4 extends Array{constructor(t,...i){super(i.length);const n=(r=>{var o,a;return!!((a=(o=r==null?void 0:r.prototype)==null?void 0:o.constructor)!=null&&a.name)})(t)?r=>new t().set(r):t;Object.defineProperty(this,"itemFactory",{value:n,enumerable:!1,configurable:!1}),this.set(i)}set(t){if(ai(t)){this.length=t.length;for(let i=0;i<t.length;i++)this[i]=this.itemFactory(t[i])}return this}reset(t){if(Array.isArray(t))return new O4(this.itemFactory,...t)}toJson(){return this.map(t=>{var i;return((i=t==null?void 0:t.toJson)==null?void 0:i.call(t))??t})}};function oa(e){return e instanceof ut||e instanceof Mm}function L(e,t={}){const{optional:i=!1,property:s}=t;return ol((n,r,o)=>{const a={...t,target:n,property:r};if(i&&typeof o>"u"||e(o,a))return oa(n[r])&&!oa(o)?(n[r].set(o),n[r]):o;const l=s??String(r).replace(/^_*/,""),u=n.constructor.className??n.constructor.name.replace(/Properties$/,""),h=ap(o,50);return Ne.warn(`Property [${l}] of [${u}] cannot be set to [${h}]${e.message?`; expecting ${Tm(e,a)}`:""}, ignoring.`),tC},void 0,{optional:i})}var ua=(...e)=>{const t=[];return jt((i,s)=>(t.length=0,e.every(n=>{const r=n(i,s);return r||t.push(Tm(n,s)),r})),()=>t.filter(Boolean).join(" AND "))},Ec=(...e)=>jt((t,i)=>e.some(s=>s(t,i)),t=>e.map(pse(t)).filter(Boolean).join(" OR ")),$e=fA(jt((e,t)=>oa(e)||Ds(e)&&oa(t.target[t.property]),"a properties object")),N4=fA(jt(e=>Ds(e),"an object")),et=jt(o4,"a boolean"),In=jt(ch,"a function"),Fe=jt(Un,"a string"),Tt=yse(jt(It,"a number")),_4=jt(e=>Hr(e)&&!isNaN(e),"a real number"),hx=jt(e=>Hr(e)&&isNaN(e),"NaN"),Ve=Tt.restrict({min:0}),Wt=Tt.restrict({min:0,max:1}),df=Ec(Tt,hx),Dm=mse(jt(ai,"an array")),gl=(e,t)=>jt((i,s)=>ai(i)&&i.every(n=>e(n,s)),i=>{const s=Tm(Dm,i)??"";return typeof t=="function"?`${s} of ${t(i)}`:t?`${s} of ${t}`:s}),rC=e=>It(e)||Cm(e),Am=e=>jt((t,i)=>!rC(t)||!rC(i.target[e])||t<i.target[e],`to be less than ${e}`),Em=e=>jt((t,i)=>!rC(t)||!rC(i.target[e])||t>i.target[e],`to be greater than ${e}`),lA=jt(Cm,"Date object"),cA=Ec(lA,Ve),B4="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",Bt=jt(e=>Un(e)&&Ei.validColorString(e),`color String. ${B4}`),G4=fA(jt(e=>Ds(e)&&e.type==="gradient","a color gradient object")),hr=jt(gl(Bt),`color strings. ${B4}`),ose=gl(et,"boolean values"),dx=gl(Tt,"numbers"),z4=gl(Fe,"strings"),ase=jt(gl(lA),"Date objects"),uA=jt(gl($e),"objects"),lse=ii(["butt","round","square"],"a line cap"),cse=ii(["round","bevel","miter"],"a line join"),use=ii(["solid","dashed","dotted"],"a line style"),ha=jt(gl(Ve),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),hA=ii(["top","right","bottom","left"],"a position"),pl=ii(["normal","italic","oblique"],"a font style"),ml=Ec(ii(["normal","bold","bolder","lighter"],"a font weight"),Tt.restrict({min:1,max:1e3})),fx=ii(["never","always","hyphenate","on-space"],"a text wrap strategy"),H4=ii(["left","center","right"],"a text align"),hse=ii(["top","middle","bottom"],"a vertical align"),dse=ii(["ellipsis","hide"],"an overflow strategy"),V4=ii(["horizontal","vertical"],"a direction"),fse=ii(["inside","outside"],"a placement"),gx=Ec(ii(["exact","nearest"],"interaction range"),Tt),dA=ii(["top","bottom","left","right"]);function ii(e,t="a"){return jt((i,s)=>{const n=e.find(r=>{const o=typeof r=="string"?r:r.value;return i===o});if(n==null)return!1;if(typeof n!="string"&&(n.deprecated===!0||n.deprecatedTo!=null)){const r=[`Property [%s] with value '${n.value}' is deprecated.`];n.deprecatedTo&&r.push(`Use ${n.deprecatedTo} instead.`),Ne.warnOnce(r.join(" "),s.property)}return!0},`${t} keyword such as ${gse(e)}`)}var W4=Ec(ua(Tt.restrict({min:1}),Am("maxSpacing")),hx),U4=Ec(ua(Tt.restrict({min:1}),Em("minSpacing")),hx);function jt(e,t){return e.message=t,e}function gse(e){const t=e.filter(s=>typeof s=="string"||s.undocumented!==!0).map(s=>`'${typeof s=="string"?s:s.value}'`);if(t.length===1)return t[0];const i=t.pop();return`${t.join(", ")} or ${i}`}function Tm(e,t){return ch(e.message)?e.message(t):e.message}function pse(e){return t=>Tm(t,e)}function mse(e){return Object.assign(e,{restrict({length:t,minLength:i}={}){let s="an array";return Hr(i)&&i>0?s="a non-empty array":Hr(t)&&(s=`an array of length ${t}`),jt(n=>ai(n)&&(Hr(t)?n.length===t:!0)&&(Hr(i)?n.length>=i:!0),s)}})}function yse(e){return Object.assign(e,{restrict({min:t,max:i}={}){const s=["a number"],n=Hr(t),r=Hr(i);return n&&r?s.push(`between ${t} and ${i} inclusive`):n?s.push(`greater than or equal to ${t}`):r&&s.push(`less than or equal to ${i}`),jt(o=>It(o)&&(n?o>=t:!0)&&(r?o<=i:!0),s.join(" "))}})}function fA(e){return Object.assign(e,{restrict(t){return jt(i=>i instanceof t,i=>Tm(e,i)??`an instance of ${t.name}`)}})}var j4={};qr(j4,{resetMotion:()=>Ms});function Ms(e,t){const{nodes:i,selections:s}=ax(e);for(const n of s){for(const r of n.nodes()){const o=t(r,r.datum);r.setProperties(o)}n.cleanup()}for(const n of i){const r=t(n,n.datum);n.setProperties(r)}}var vse=2e3,AF=Date.now(),Cse=()=>{const e=Date.now()-AF;if(e>vse){const t=(Math.floor(e/100)/10).toFixed(1);Ne.log(`**** ${t}s since last log message ****`)}AF=Date.now()},ti={create(...e){return Object.assign((...i)=>{ti.check(...e)&&(typeof i[0]=="function"&&(i=Jv(i[0]())),Cse(),Ne.log(...i))},{check:()=>ti.check(...e),group:(i,s)=>ti.check(...e)?Ne.logGroup(i,s):s()})},check(...e){return e.length===0&&e.push(!0),Jv(oi("agChartsDebug")).some(i=>e.includes(i))}};function Y4({context:e,pixelRatio:t,width:i,height:s}){e.save(),e.resetTransform(),e.clearRect(0,0,Math.ceil(i*t),Math.ceil(s*t)),e.restore()}function K4(e){if(ti.check("canvas")){const t=e.save.bind(e),i=e.restore.bind(e);let s=0;Object.assign(e,{save(){t(),s++},restore(){if(s===0)throw new Error("AG Charts - Unable to restore() past depth 0");i(),s--},verifyDepthZero(){if(s!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${s}`)}})}}function EF(e,t,i){return[Math.round(e*i),Math.round(t*i)]}var $4=class{constructor(e){const{width:t,height:i,pixelRatio:s,willReadFrequently:n=!1}=e;this.width=t,this.height=i,this.pixelRatio=s;const[r,o]=EF(t,i,s);this.canvas=new OffscreenCanvas(r,o),this.context=this.canvas.getContext("2d",{willReadFrequently:n}),this.context.setTransform(s,0,0,s,0,0),K4(this.context)}drawImage(e,t=0,i=0){return e.drawImage(this.canvas,t,i)}transferToImageBitmap(){return this.canvas.transferToImageBitmap()}resize(e,t,i){if(!(e>0&&t>0))return;const{canvas:s,context:n}=this;if(e!==this.width||t!==this.height||i!==this.pixelRatio){const[r,o]=EF(e,t,i);s.width=r,s.height=o}n.setTransform(i,0,0,i,0,0),this.width=e,this.height=t,this.pixelRatio=i}clear(){Y4(this)}destroy(){this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0),this.canvas=null,this.context=null,Object.freeze(this)}},TF=e=>{const t=Ei.fromString(e),[i,s,n]=Ei.RGBtoOKLCH(t.r,t.g,t.b);return{l:i,c:s,h:n,a:t.a}},e1=1e-6,RF=e=>e.c<e1||e.l<e1||e.l>1-e1,xse=(e,t,i)=>{i=ft(0,i,1);let s;if(RF(e))s=t.h;else if(RF(t))s=e.h;else{const a=e.h;let l=t.h;const u=t.h-e.h;u>180?l-=360:u<-180&&(l+=360),s=a*(1-i)+l*i}const n=e.c*(1-i)+t.c*i,r=e.l*(1-i)+t.l*i,o=e.a*(1-i)+t.a*i;return Ei.fromOKLCH(r,n,s,o)},Tc=class extends lx{constructor(){super(...arguments),this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(TF)}update(){const{domain:e,range:t}=this;e.length<2&&(Ne.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let i=1;i<e.length;i++){const s=e[i-1],n=e[i];if(s>=n){Ne.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((r,o)=>r-o);break}}if(t.length<e.length)for(let i=t.length;i<e.length;i++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(TF)}normalizeDomains(...e){return{domain:e.flat(),animatable:!0}}toDomain(){}convert(e){this.refresh();const{domain:t,range:i,parsedRange:s}=this,n=t[0],r=t.at(-1),o=i[0],a=i[i.length-1];if(e<=n)return o;if(e>=r)return a;let l,u;if(t.length===2){const g=(e-n)/(r-n),m=1/(i.length-1);l=i.length<=2?0:Math.min(Math.floor(g*(i.length-1)),i.length-2),u=(g-l*m)/m}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);const g=t[l],m=t[l+1];u=(e-g)/(m-g)}const h=s[l],f=s[l+1];return xse(h,f,u).toRgbaString()}invert(){}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Ne.warnOnce("Expected update to not invalidate scale"))}};E([hf],Tc.prototype,"domain",2);E([hf],Tc.prototype,"range",2);var px=class{constructor(e,t=[],i){this.colorSpace=e,this.stops=t,this.bbox=i,this._cache=void 0}createGradient(e,t){const i=this.bbox??t;if(this._cache!=null&&this._cache.ctx===e&&this._cache.bbox.equals(i))return this._cache.gradient;const{stops:s,colorSpace:n}=this;if(s.length===0)return;if(s.length===1)return s[0].color;let r=this.createCanvasGradient(e,i);if(r==null)return;const o=n==="oklch",a=.05;let l=s[0];r.addColorStop(l.offset,l.color);for(let u=1;u<s.length;u+=1){const h=s[u];if(o){const f=new Tc;f.domain=[l.offset,h.offset],f.range=[l.color,h.color];for(let g=l.offset+a;g<h.offset;g+=a)r.addColorStop(g,f.convert(g))}r.addColorStop(h.offset,h.color),l=h}return"createPattern"in r&&(r=r.createPattern()),this._cache={ctx:e,bbox:i,gradient:r},r}},Vr=Math.PI*2,Og=Math.PI/2;function ri(e){return e%=Vr,e+=Vr,e%=Vr,e}function bse(e){return e%=Vr,e+=Vr,e!==Vr&&(e%=Vr),e}function Vp(e){return e%=Vr,e<-Math.PI?e+=Vr:e>=Math.PI&&(e-=Vr),e}function ac(e,t,i){const s=ri(e),n=ri(t),r=ri(i);return n<r?n<=s&&s<=r:n>r?n<=s||s<=r:!0}function os(e){return e/180*Math.PI}function Sse(e){return e/Math.PI*180}function mx(e,t){return e=ri(e),t=ri(t),t-e+(e>t?Vr:0)}function X4(e){const t=ri(e);return t<=Og?t/Og:t<=Math.PI?(Math.PI-t)/Og:t<=1.5*Math.PI?(t-Math.PI)/Og:(Vr-t)/Og}var TM=class extends px{constructor(e,t,i=0,s){super(e,t,s),this.angle=i}createCanvasGradient(e,t){const{angle:s}=this,n=ri(os(s+90)),r=Math.cos(n),o=Math.sin(n),a=t.width,l=t.height,u=t.x+a*.5,h=t.y+l*.5,f=Math.sqrt(l*l+a*a)/2,g=Math.atan2(l,a);let m;n<Math.PI/2?m=n:n<Math.PI?m=Math.PI-n:n<1.5*Math.PI?m=n-Math.PI:m=2*Math.PI-n;const y=f*Math.abs(Math.cos(m-g));return e.createLinearGradient(u+r*y,h+o*y,u-r*y,h-o*y)}},gA=class extends ut{constructor(){super(...arguments),this.color="black"}};E([L(Tt,{optional:!0})],gA.prototype,"stop",2);E([L(Bt,{optional:!0})],gA.prototype,"color",2);function wse(e){let t;for(const{stop:i}of e)if(i!=null){if(t!=null&&i<t)return!1;t=i}return!0}function Z4(e){return e.flatMap((t,i)=>{var r;const{offset:s}=t,n=(r=e.at(i+1))==null?void 0:r.color;return n!=null?[t,{offset:s,color:n}]:[t]})}function Mse(e,t){const i=t==="discrete"?1:0,s=e.map((n,r,{length:o})=>({offset:(r+i)/(o-1+i),color:n}));return t==="discrete"?Z4(s):s}function q4(e,t,i,s="continuous"){var m;if(e.length===0)return Mse(t,s);if(!wse(e))return Ne.warnOnce("[fills] must have the stops defined in ascending order"),[];const n=Math.min(...i),r=Math.max(...i),o=s==="discrete",a=new Float64Array(e.length);let l=0,u=-1;for(let y=0;y<e.length;y+=1){const C=e[y];if(y>=u){u=e.length-1;for(let b=y+1;b<e.length;b+=1)if(e[b].stop!=null){u=b;break}}let{stop:x}=C;if(x==null){const b=e[l].stop,w=e[u].stop,M=b??n,A=w??r,T=o&&b==null?1:0;x=M+(A-M)*(y-l+T)/(u-l+T)}else l=y;a[y]=Math.max(0,Math.min(1,(x-n)/(r-n)))}let h=(m=e.find(y=>y.color!=null))==null?void 0:m.color,f;const g=e.map(({color:y},C)=>{const x=a[C];return y!=null?h=y:h!=null?y=h:(f==null&&(f=new Tc,f.domain=[0,1],f.range=t),y=f.convert(x)),{offset:x,color:y}});return s==="discrete"?Z4(g):g}function Q4(e){return e!==null&&Ds(e)&&e.type=="gradient"}function Oa(e,t,i){const s=Math.round(t*e)/e;return i==null?s:i===0?0:i<1?Math.ceil(i*e)/e:Math.round((i+t)*e)/e-s}function kF(e,t){return Math.floor(t*e)/e}var Dse=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,Ln=class go extends Sc{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=go.defaultStyles.fill,this.stroke=go.defaultStyles.stroke,this.strokeWidth=go.defaultStyles.strokeWidth,this.lineDash=go.defaultStyles.lineDash,this.lineDashOffset=go.defaultStyles.lineDashOffset,this.lineCap=go.defaultStyles.lineCap,this.lineJoin=go.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=go.defaultStyles.opacity,this.fillShadow=go.defaultStyles.fillShadow,this.gradientFillOptions={domain:[0,1],defaultColorRange:go.defaultStyles.defaultColorRange}}restoreOwnStyles(){const{defaultStyles:t}=this.constructor;Object.assign(this,t)}getGradient(t){let i;if(t instanceof px)return t;if(typeof t=="string"&&(t!=null&&t.startsWith("linear-gradient"))&&(i=Dse.exec(t))){const s=parseFloat(i[1]),n=[],r=i[2],o=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let a;for(;a=o.exec(r);)n.push(a[0]);return new TM("rgb",n.map((l,u)=>({color:l,offset:u/(n.length-1)})),s)}else if(Q4(t))return this.createLinearGradient(t)}createLinearGradient(t){const{colorStops:i=[],direction:s}=t,n=s==="horizontal",{domain:r,defaultColorRange:o=[]}=this.gradientFillOptions,a=q4(i,o,r);return new TM("oklch",a,n?0:90)}onFillChange(){this.fillGradient=this.getGradient(this.fill)}onStrokeChange(){this.strokeGradient=this.getGradient(this.stroke)}align(t,i){var s,n;return Oa(((n=(s=this.layerManager)==null?void 0:s.canvas)==null?void 0:n.pixelRatio)??1,t,i)}fillStroke(t,i){this.renderFill(t,i),this.renderStroke(t,i)}renderFill(t,i){if(this.fill){const{globalAlpha:s}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),this.executeFill(t,i),t.globalAlpha=s}t.shadowColor="rgba(0, 0, 0, 0)"}executeFill(t,i){i?t.fill(i):t.fill()}applyFill(t){var s;const i=this.gradientFillOptions.bbox??this.getBBox();t.fillStyle=((s=this.fillGradient)==null?void 0:s.createGradient(t,i))??(typeof this.fill=="string"?this.fill:void 0)??"black"}applyStroke(t){var i;t.strokeStyle=((i=this.strokeGradient)==null?void 0:i.createGradient(t,this.getBBox()))??(typeof this.stroke=="string"?this.stroke:void 0)??"black"}applyFillAlpha(t){t.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(t){var n;const i=((n=this.layerManager)==null?void 0:n.canvas.pixelRatio)??1,s=this.fillShadow;s!=null&&s.enabled&&(t.shadowColor=s.color,t.shadowOffsetX=s.xOffset*i,t.shadowOffsetY=s.yOffset*i,t.shadowBlur=s.blur*i)}renderStroke(t,i){if(this.stroke&&this.strokeWidth){const{globalAlpha:s}=t;this.applyStroke(t),t.globalAlpha*=this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),this.miterLimit!=null&&(t.miterLimit=this.miterLimit),this.executeStroke(t,i),t.globalAlpha=s}}executeStroke(t,i){i?t.stroke(i):t.stroke()}containsPoint(t,i){return this.isPointInPath(t,i)}applySvgFillAttributes(t){const{fill:i,fillOpacity:s}=this;t.setAttribute("fill",typeof i=="string"?i:"none"),t.setAttribute("fill-opacity",String(s))}applySvgStrokeAttributes(t){const{stroke:i,strokeOpacity:s,strokeWidth:n,lineDash:r,lineDashOffset:o}=this;if(i!=null&&(t.setAttribute("stroke",typeof i=="string"?i:"none"),t.setAttribute("stroke-opacity",String(s)),t.setAttribute("stroke-width",String(n))),(r==null?void 0:r.some(a=>a!==0))===!0){const a=r.length%2===1?[...r,...r]:r;t.setAttribute("stroke-dasharray",a.join(" ")),t.setAttribute("stroke-dashoffset",String(o))}}};Ln.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,defaultColorRange:["#5090dc","#ef5452"]};E([Xe()],Ln.prototype,"fillOpacity",2);E([Xe()],Ln.prototype,"strokeOpacity",2);E([Xe({changeCb:e=>e.onFillChange()})],Ln.prototype,"fill",2);E([Xe({changeCb:e=>e.onStrokeChange()})],Ln.prototype,"stroke",2);E([Xe()],Ln.prototype,"strokeWidth",2);E([Xe()],Ln.prototype,"lineDash",2);E([Xe()],Ln.prototype,"lineDashOffset",2);E([Xe()],Ln.prototype,"lineCap",2);E([Xe()],Ln.prototype,"lineJoin",2);E([Xe()],Ln.prototype,"miterLimit",2);E([Xe({convertor:e=>ft(0,e,1)})],Ln.prototype,"opacity",2);E([Xe({checkDirtyOnAssignment:!0})],Ln.prototype,"fillShadow",2);E([Xe({changeCb:e=>e.onFillChange()})],Ln.prototype,"gradientFillOptions",2);var Xr=Ln,J4=[1,0,0,1,0,0],ko=class gv{get e(){return[...this.elements]}constructor(t=J4){this.elements=[...t]}setElements(t){const i=this.elements;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],this}get identity(){const t=this.elements;return po(t[0],1)&&po(t[1],0)&&po(t[2],0)&&po(t[3],1)&&po(t[4],0)&&po(t[5],0)}AxB(t,i,s){const n=t[0]*i[0]+t[2]*i[1],r=t[1]*i[0]+t[3]*i[1],o=t[0]*i[2]+t[2]*i[3],a=t[1]*i[2]+t[3]*i[3],l=t[0]*i[4]+t[2]*i[5]+t[4],u=t[1]*i[4]+t[3]*i[5]+t[5];s=s??t,s[0]=n,s[1]=r,s[2]=o,s[3]=a,s[4]=l,s[5]=u}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const i=new Array(6);return t instanceof gv?this.AxB(this.elements,t.elements,i):this.AxB(this.elements,[t.a,t.b,t.c,t.d,t.e,t.f],i),new gv(i)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let i=t[0],s=t[1],n=t[2],r=t[3];const o=t[4],a=t[5],l=1/(i*r-s*n);return i*=l,s*=l,n*=l,r*=l,new gv([r,-s,-n,i,n*a-r*o,s*o-i*a])}invertSelf(){const t=this.elements;let i=t[0],s=t[1],n=t[2],r=t[3];const o=t[4],a=t[5],l=1/(i*r-s*n);return i*=l,s*=l,n*=l,r*=l,t[0]=r,t[1]=-s,t[2]=-n,t[3]=i,t[4]=n*a-r*o,t[5]=s*o-i*a,this}transformPoint(t,i){const s=this.elements;return{x:t*s[0]+i*s[2]+s[4],y:t*s[1]+i*s[3]+s[5]}}transformBBox(t,i){const s=this.elements,n=s[0],r=s[1],o=s[2],a=s[3],l=t.width*.5,u=t.height*.5,h=t.x+l,f=t.y+u,g=Math.abs(l*n)+Math.abs(u*o),m=Math.abs(l*r)+Math.abs(u*a);return i??(i=new Ze(0,0,0,0)),i.x=h*n+f*o+s[4]-g,i.y=h*r+f*a+s[5]-m,i.width=g+g,i.height=m+m,i}toContext(t){if(this.identity)return;const i=this.elements;t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}static updateTransformMatrix(t,i,s,n,r,o,a){const l=i,u=s;let h,f;l===1&&u===1?(h=0,f=0):(h=(a==null?void 0:a.scalingCenterX)??0,f=(a==null?void 0:a.scalingCenterY)??0);const g=n,m=Math.cos(g),y=Math.sin(g);let C,x;g===0?(C=0,x=0):(C=(a==null?void 0:a.rotationCenterX)??0,x=(a==null?void 0:a.rotationCenterY)??0);const b=r,w=o,M=h*(1-l)-C,A=f*(1-u)-x;return t.setElements([m*l,y*l,-y*u,m*u,m*M-y*A+C+b,y*M+m*A+x+w]),t}};function Ql(e){return tB(e.constructor)}var eB=Symbol("isMatrixTransform");function tB(e){return e[eB]===!0}function pA(e){var t,i;const s=e;if(tB(e))return e;const n=Symbol("matrix_combined_transform");class r extends s{constructor(){super(...arguments),this[i]=new ko,this._dirtyTransform=!0}markDirtyTransform(){this._dirtyTransform=!0,super.markDirty()}updateMatrix(a){}computeTransformMatrix(){this._dirtyTransform&&(this[n].setElements(J4),this.updateMatrix(this[n]),this._dirtyTransform=!1)}toParent(a){return this.computeTransformMatrix(),this[n].identity?a.clone():this[n].transformBBox(a)}toParentPoint(a,l){return this.computeTransformMatrix(),this[n].identity?{x:a,y:l}:this[n].transformPoint(a,l)}fromParent(a){return this.computeTransformMatrix(),this[n].identity?a.clone():this[n].inverse().transformBBox(a)}fromParentPoint(a,l){return this.computeTransformMatrix(),this[n].identity?{x:a,y:l}:this[n].inverse().transformPoint(a,l)}computeBBox(){const a=super.computeBBox();return a&&this.toParent(a)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(a,l,u=!1){return u||({x:a,y:l}=this.fromParentPoint(a,l)),super.pickNode(a,l)}render(a){this.computeTransformMatrix();const{ctx:l}=a,u=this[n];let h=!1;u.identity||(l.save(),h=!0,u.toContext(l)),super.render(a),h&&l.restore()}toSVG(){this.computeTransformMatrix();const a=super.toSVG(),l=this[n];if(l.identity||a==null)return a;const u=Kr("g");u.append(...a.elements);const[h,f,g,m,y,C]=l.e;return u.setAttribute("transform",`matrix(${h} ${f} ${g} ${m} ${y} ${C})`),{elements:[u],defs:a.defs}}}return t=eB,i=n,r[t]=!0,r}function ff(e){var t;const i=e,s=Symbol("matrix_rotation");class n extends pA(i){constructor(){super(...arguments),this[t]=new ko,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0}updateMatrix(o){super.updateMatrix(o);const{rotation:a,rotationCenterX:l,rotationCenterY:u}=this;a!==0&&(ko.updateTransformMatrix(this[s],1,1,a,0,0,{rotationCenterX:l,rotationCenterY:u}),o.multiplySelf(this[s]))}}return t=s,E([Xe({type:"transform"})],n.prototype,"rotationCenterX",2),E([Xe({type:"transform"})],n.prototype,"rotationCenterY",2),E([Xe({type:"transform"})],n.prototype,"rotation",2),n}function mA(e){var t;const i=e,s=Symbol("matrix_scale");class n extends pA(i){constructor(){super(...arguments),this[t]=new ko,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null}updateMatrix(o){super.updateMatrix(o);const{scalingX:a,scalingY:l,scalingCenterX:u,scalingCenterY:h}=this;a===1&&l===1||(ko.updateTransformMatrix(this[s],a,l,0,0,0,{scalingCenterX:u,scalingCenterY:h}),o.multiplySelf(this[s]))}}return t=s,E([Xe({type:"transform"})],n.prototype,"scalingX",2),E([Xe({type:"transform"})],n.prototype,"scalingY",2),E([Xe({type:"transform"})],n.prototype,"scalingCenterX",2),E([Xe({type:"transform"})],n.prototype,"scalingCenterY",2),n}function hh(e){var t;const i=e,s=Symbol("matrix_translation");class n extends pA(i){constructor(){super(...arguments),this[t]=new ko,this.translationX=0,this.translationY=0}updateMatrix(o){super.updateMatrix(o);const{translationX:a,translationY:l}=this;a===0&&l===0||(ko.updateTransformMatrix(this[s],1,1,0,a,l),o.multiplySelf(this[s]))}}return t=s,E([Xe({type:"transform"})],n.prototype,"translationX",2),E([Xe({type:"transform"})],n.prototype,"translationY",2),n}var Li=class{static fromCanvas(e,t){const i=[];for(const s of e.traverseUp())Ql(s)&&i.unshift(s);for(const s of i)t=s.fromParent(t);return Ql(e)&&(t=e.fromParent(t)),t}static toCanvas(e,t){t==null?t=e.getBBox():Ql(e)&&(t=e.toParent(t));for(const i of e.traverseUp())Ql(i)&&(t=i.toParent(t));return t}static fromCanvasPoint(e,t,i){const s=[];for(const n of e.traverseUp())Ql(n)&&s.unshift(n);for(const n of s)({x:t,y:i}=n.fromParentPoint(t,i));return Ql(e)&&({x:t,y:i}=e.fromParentPoint(t,i)),{x:t,y:i}}static toCanvasPoint(e,t,i){Ql(e)&&({x:t,y:i}=e.toParentPoint(t,i));for(const s of e.traverseUp())Ql(s)&&({x:t,y:i}=s.toParentPoint(t,i));return{x:t,y:i}}},t1=(e,t)=>Math.sign(e-t);function iB(e,t){if(typeof e=="number"&&typeof t=="number")return t1(e,t);const i=typeof e=="number"?[e]:e,s=typeof t=="number"?[t]:t,n=Math.min(i.length,s.length);for(let r=0;r<n;r+=1){const o=t1(i[r],s[r]);if(o!==0)return o}return t1(i.length,s.length)}var Ng,yA=class Wg extends Sc{constructor(t){super(t),this.opacity=1,this.renderToOffscreenCanvas=!1,this.optimizeForInfrequentRedraws=!1,this.layer=void 0,this.image=void 0,this._lastWidth=NaN,this._lastHeight=NaN,this._lastDevicePixelRatio=NaN,this.isContainerNode=!0,this.renderToOffscreenCanvas=(t==null?void 0:t.renderToOffscreenCanvas)===!0}static is(t){return t instanceof Wg}static computeChildrenBBox(t,i=!0){return Ze.merge(Sc.extractBBoxes(t,i))}static compareChildren(t,i){return iB(t.zIndex,i.zIndex)||t.serialNumber-i.serialNumber}containsPoint(t,i){return!0}computeBBox(){return Wg.computeChildrenBBox(this.children())}computeSafeClippingBBox(t){const i=this.computeBBox();if(!i.isFinite())return;let s=0;const n=4;for(const g of this.descendants())g instanceof Xr&&(s=Math.max(s,g.strokeWidth));const r=Math.max(1,s/2*n),{x:o,y:a}=Li.toCanvasPoint(this,0,0),l=kF(t,o+i.x-r)-o,u=kF(t,a+i.y-r)-a,h=Math.ceil(i.x+i.width-l+r),f=Math.ceil(i.y+i.height-u+r);return new Ze(l,u,h,f)}prepareSharedCanvas(t,i,s){return Ng==null||Ng.pixelRatio!==s?Ng=new $4({width:t,height:i,pixelRatio:s}):Ng.resize(t,i,s),Ng}isDirty(t){const{width:i,height:s,devicePixelRatio:n}=t,{dirty:r,dirtyZIndex:o,layer:a}=this,l=a!=null&&(this._lastWidth!==i||this._lastHeight!==s),u=this._lastDevicePixelRatio!==n;if(this._lastWidth=i,this._lastHeight=s,this._lastDevicePixelRatio=n,r||o||l||u)return!0;for(const h of this.children())if(h.dirty)return!0;return!1}preRender(t){var s,n;const i=super.preRender(t,0);return i.groups+=1,i.nonGroups-=1,this.renderToOffscreenCanvas&&!this.optimizeForInfrequentRedraws&&i.nonGroups>0&&this.getVisibility()?this.layer??(this.layer=(s=this._layerManager)==null?void 0:s.addLayer({name:this.name})):this.layer!=null&&((n=this._layerManager)==null||n.removeLayer(this.layer),this.layer=void 0),i}render(t){const{layer:i,renderToOffscreenCanvas:s}=this,n={...t};if(!s){this.renderInContext(n),super.render(n);return}const{ctx:r,stats:o,devicePixelRatio:a}=t;let{image:l}=this;if(this.isDirty(t)){l==null||l.bitmap.close(),l=void 0;const h=i?void 0:this.computeSafeClippingBBox(a),f=(g,...m)=>{var C;const y=g.context;n.ctx=y,g.clear(),y.save(),y.setTransform(...m),y.globalAlpha=1,this.renderInContext(n),y.restore(),(C=y.verifyDepthZero)==null||C.call(y)};if(i)f(i,r.getTransform());else if(h){const{x:g,y:m,width:y,height:C}=h,x=this.prepareSharedCanvas(y,C,a);f(x,a,0,0,a,-g*a,-m*a),l={bitmap:x.transferToImageBitmap(),x:g,y:m,width:y,height:C}}else this.dirtyZIndex&&this.sortChildren(Wg.compareChildren);this.image=l,o&&o.layersRendered++}else this.skipRender(n),o&&o.layersSkipped++;const{globalAlpha:u}=r;if(r.globalAlpha=u*this.opacity,i)r.save(),r.resetTransform(),i.drawImage(r),r.restore();else if(l){const{bitmap:h,x:f,y:g,width:m,height:y}=l;r.drawImage(h,0,0,m*a,y*a,f,g,m,y)}r.globalAlpha=u,super.render(n)}skipRender(t){const{stats:i}=t;for(const s of this.children())s.markClean(),i&&(i.nodesSkipped+=this.childNodeCounts.groups+this.childNodeCounts.nonGroups,i.opsSkipped+=this.childNodeCounts.complexity)}applyClip(t,i){const{x:s,y:n,width:r,height:o}=i;t.beginPath(),t.rect(s,n,r,o),t.clip()}renderInContext(t){const{ctx:i,stats:s}=t;this.dirtyZIndex&&this.sortChildren(Wg.compareChildren),i.save(),i.globalAlpha*=this.opacity,this.clipRect!=null&&(this.applyClip(i,this.clipRect),t.clipBBox=Li.toCanvas(this,this.clipRect));for(const n of this.children()){if(!n.visible){n.markClean(),s&&(s.nodesSkipped+=n.childNodeCounts.nonGroups+n.childNodeCounts.groups,s.opsSkipped+=n.childNodeCounts.complexity);continue}i.save(),n.render(t),i.restore()}i.restore()}setClipRect(t){this.clipRect=t?Li.fromCanvas(this,t):void 0}setClipRectCanvasSpace(t){this.clipRect=t}_setLayerManager(t){var i;this.layer&&((i=this._layerManager)==null||i.removeLayer(this.layer),this.layer=void 0),super._setLayerManager(t)}getVisibility(){for(const t of this.traverseUp(!0))if(!t.visible)return!1;return!0}toSVG(){if(!this.visible)return;const t=[],i=[];for(const s of this.children()){const n=s.toSVG();n!=null&&(i.push(...n.elements),n.defs!=null&&t.push(...n.defs))}return{elements:i,defs:t}}};yA.className="Group";E([Xe({convertor:e=>ft(0,e,1)})],yA.prototype,"opacity",2);var ot=yA,Ase=class extends mA(ot){},Ese=class extends ff(ot){},En=class extends hh(ot){},_g=class extends ff(hh(ot)){};function Tse(e=0,t=0){return new OffscreenCanvas(e,t).getContext("2d")}var vA=class{constructor(e=5){this.maxCacheSize=e,this.store=new Map}get(e){if(!this.store.has(e))return;const t=this.store.get(e);return this.store.delete(e),this.store.set(e,t),t}has(e){return this.store.has(e)}set(e,t){if(this.store.set(e,t),this.store.size>this.maxCacheSize){const i=this.store.keys();let s=this.store.size-this.maxCacheSize;for(;s>0;){const n=i.next();n.done||this.store.delete(n.value),s--}}return t}clear(){this.store.clear()}},yl=class{static measureText(e,t){return this.getMeasurer(t).measureText(e)}static measureLines(e,t){return this.getMeasurer(t).measureLines(e)}static getMeasurer(e){const t=typeof e.font=="string"?e.font:bi.toFontString(e.font),i=`${t}-${e.textAlign??"start"}-${e.textBaseline??"alphabetic"}`;return this.instanceMap.get(i)??this.createFontMeasurer(t,e,i)}static createFontMeasurer(e,t,i){const s=Tse();s.font=e,s.textAlign=t.textAlign??"start",s.textBaseline=t.textBaseline??"alphabetic";const n=new sB(s,t);return this.instanceMap.set(i,n),n}};yl.instanceMap=new vA(10);var sB=class{constructor(e,t){this.ctx=e,this.measureMap=new vA(100),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline),e.font=typeof t.font=="string"?t.font:bi.toFontString(t.font),this.textMeasurer=new CA(i=>this.cachedCtxMeasureText(i),t.textBaseline??"alphabetic")}textWidth(e,t){return this.textMeasurer.textWidth(e,t)}measureText(e){return this.textMeasurer.measureText(e)}measureLines(e){return this.textMeasurer.measureLines(e)}cachedCtxMeasureText(e){if(!this.measureMap.has(e)){const t=this.ctx.measureText(e);this.measureMap.set(e,{actualBoundingBoxAscent:t.actualBoundingBoxAscent,emHeightAscent:t.emHeightAscent,emHeightDescent:t.emHeightDescent,actualBoundingBoxDescent:t.actualBoundingBoxDescent,actualBoundingBoxLeft:t.actualBoundingBoxLeft,actualBoundingBoxRight:t.actualBoundingBoxRight,alphabeticBaseline:t.alphabeticBaseline,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent,hangingBaseline:t.hangingBaseline,ideographicBaseline:t.ideographicBaseline,width:t.width})}return this.measureMap.get(e)}},bi=class{static toFontString({fontSize:e=10,fontStyle:t,fontWeight:i,fontFamily:s,lineHeight:n}){let r="";return t&&(r+=`${t} `),i&&(r+=`${i} `),r+=`${e}px`,n&&(r+=`/${n}px`),r+=` ${s}`,r.trim()}static getLineHeight(e){return Math.ceil(e*this.defaultLineHeight)}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};bi.EllipsisChar="";bi.defaultLineHeight=1.15;bi.lineSplitter=/\r?\n/g;var CA=class{constructor(e,t="alphabetic"){this.measureTextFn=e,this.textBaseline=t,this.charMap=new Map}getMetrics(e){const t=this.measureTextFn(e);return t.fontBoundingBoxAscent??(t.fontBoundingBoxAscent=t.emHeightAscent),t.fontBoundingBoxDescent??(t.fontBoundingBoxDescent=t.emHeightDescent),{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent,offsetTop:t.actualBoundingBoxAscent,offsetLeft:t.actualBoundingBoxLeft}}getMultilineMetrics(e){let t=0,i=0,s=0,n=0,r=0;const o=bi.getVerticalModifier(this.textBaseline),a=[];let l=0;const u=e.length;for(const h of e){const f=this.measureTextFn(h);f.fontBoundingBoxAscent??(f.fontBoundingBoxAscent=f.emHeightAscent),f.fontBoundingBoxDescent??(f.fontBoundingBoxDescent=f.emHeightDescent),t<f.width&&(t=f.width),n<f.actualBoundingBoxLeft&&(n=f.actualBoundingBoxLeft),l===0?(i+=f.actualBoundingBoxAscent,s+=f.actualBoundingBoxAscent):r+=f.fontBoundingBoxAscent,l===u-1?i+=f.actualBoundingBoxDescent:r+=f.fontBoundingBoxDescent,a.push({text:h,width:f.width,height:f.actualBoundingBoxAscent+f.actualBoundingBoxDescent,lineHeight:f.fontBoundingBoxAscent+f.fontBoundingBoxDescent,offsetTop:f.actualBoundingBoxAscent,offsetLeft:f.actualBoundingBoxLeft}),l++}return i+=r,s+=r*o,{width:t,height:i,offsetTop:s,offsetLeft:n,lineMetrics:a}}textWidth(e,t){if(t){let i=0;for(let s=0;s<e.length;s++)i+=this.textWidth(e.charAt(s));return i}return e.length>1?this.measureTextFn(e).width:this.charMap.get(e)??this.charWidth(e)}measureText(e){return this.getMetrics(e)}measureLines(e){const t=typeof e=="string"?e.split(bi.lineSplitter):e;return this.getMultilineMetrics(t)}charWidth(e){const{width:t}=this.measureTextFn(e);return this.charMap.set(e,t),t}},dr=class pv extends Xr{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=pv.defaultStyles.textAlign,this.textBaseline=pv.defaultStyles.textBaseline}onTextChange(){var t;this.lines=((t=this.text)==null?void 0:t.split(`
`).map(i=>i.trim()))??[]}static computeBBox(t,i,s,n){const{offsetTop:r,offsetLeft:o,width:a,height:l}=yl.measureLines(t,n);return new Ze(i-o,s-r,a,l)}computeBBox(){const{x:t,y:i,lines:s,textBaseline:n,textAlign:r}=this;return pv.computeBBox(s,t,i,{font:this,textBaseline:n,textAlign:r})}isPointInPath(t,i){const s=this.getBBox();return s?s.containsPoint(t,i):!1}render(t){const{ctx:i,stats:s}=t;if(!this.lines.length||!this.layerManager)return s&&(s.nodesSkipped+=1),super.render(t);const{fill:n,stroke:r,strokeWidth:o}=this,{pixelRatio:a}=this.layerManager.canvas;if(i.font=bi.toFontString(this),i.textAlign=this.textAlign,i.textBaseline=this.textBaseline,n){this.applyFill(i),i.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:l}=this;l!=null&&l.enabled&&(i.shadowColor=l.color,i.shadowOffsetX=l.xOffset*a,i.shadowOffsetY=l.yOffset*a,i.shadowBlur=l.blur*a),this.renderLines((u,h,f)=>i.fillText(u,h,f))}if(r&&o){this.applyStroke(i),i.lineWidth=o,i.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:l,lineDashOffset:u,lineCap:h,lineJoin:f}=this;l&&i.setLineDash(l),u&&(i.lineDashOffset=u),h&&(i.lineCap=h),f&&(i.lineJoin=f),this.renderLines((g,m,y)=>i.strokeText(g,m,y))}super.render(t)}renderLines(t){const{lines:i,x:s,y:n}=this,r=this.lineHeight??bi.getLineHeight(this.fontSize);let o=(r-r*i.length)*bi.getVerticalModifier(this.textBaseline);for(const a of i)t(a,s,n+o),o+=r}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}toSVG(){var i;if(!this.visible||!this.text)return;const t=Kr("text");return this.applySvgFillAttributes(t),t.setAttribute("font-family",((i=this.fontFamily)==null?void 0:i.split(",")[0])??""),t.setAttribute("font-size",String(this.fontSize)),t.setAttribute("font-style",this.fontStyle??""),t.setAttribute("font-weight",String(this.fontWeight??"")),t.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),t.setAttribute("alignment-baseline",{alphabetic:"alphabetic",top:"top",bottom:"bottom",hanging:"hanging",middle:"middle",ideographic:"ideographic"}[this.textBaseline??"alphabetic"]),t.setAttribute("x",String(this.x)),t.setAttribute("y",String(this.y)),t.textContent=this.text??"",{elements:[t]}}};dr.className="Text";dr.defaultStyles={...Xr.defaultStyles,textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"};E([Xe()],dr.prototype,"x",2);E([Xe()],dr.prototype,"y",2);E([Xe({changeCb:e=>e.onTextChange()})],dr.prototype,"text",2);E([Xe()],dr.prototype,"fontStyle",2);E([Xe()],dr.prototype,"fontWeight",2);E([Xe()],dr.prototype,"fontSize",2);E([Xe()],dr.prototype,"fontFamily",2);E([Xe()],dr.prototype,"textAlign",2);E([Xe()],dr.prototype,"textBaseline",2);E([Xe()],dr.prototype,"lineHeight",2);var gs=dr,nB=class extends ff(gs){},Qd=class extends ff(hh(gs)){},i1="color: green",s1="color: grey";function Rse(){return v4(()=>{})}function RM(e,t){const i=zu(t);if(i.length===0)return;const s=C4(e);for(const n of i)n in s&&(t[n]=s[n])}var rB=class{transitionRoot(e,t){this.parent?this.parent.transitionRoot(e,t):this.transition(e,t)}},xA=class Gn extends rB{constructor(t,i,s){super(),this.defaultState=t,this.states=i,this.enterEach=s,this.debug=ti.create(!0,"animation"),this.state=t,this.debug(`%c${this.constructor.name} | init -> ${t}`,i1)}transition(t,i){var h,f,g,m;if(!this.transitionChild(t,i)||this.state===Gn.child||this.state===Gn.parent)return;const n=this.state,r=this.states[this.state];let o=r[t];const a=`%c${this.constructor.name} | ${this.state} -> ${t} ->`;if(Array.isArray(o))o=o.find(y=>{if(!y.guard)return!0;const C=y.guard(i);return C||this.debug(`${a} (guarded)`,y.target,s1),C});else if(typeof o=="object"&&!(o instanceof Gn)&&o.guard&&!o.guard(i)){this.debug(`${a} (guarded)`,o.target,s1);return}if(!o){this.debug(`${a} ${this.state}`,s1);return}const l=this.getDestinationState(o),u=l===this.state?void 0:r.onExit;this.debug(`${a} ${l}`,i1),this.state=l,typeof o=="function"?o(i):typeof o=="object"&&!(o instanceof Gn)&&((h=o.action)==null||h.call(o,i)),u==null||u(),(f=this.enterEach)==null||f.call(this,n,l),l!==n&&l!==Gn.child&&l!==Gn.parent&&((m=(g=this.states[l]).onEnter)==null||m.call(g,n,i))}transitionAsync(t,i){setTimeout(()=>{this.transition(t,i)},0)}is(t){return this.state===Gn.child&&this.childState?this.childState.is(t):this.state===t}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(t,i){var s,n;return this.state!==Gn.child||!this.childState||(RM(this,this.childState),this.childState.transition(t,i),!this.childState.is(Gn.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.defaultState}`,i1),this.state=this.defaultState,(n=(s=this.states[this.state]).onEnter)==null||n.call(s),this.childState.resetHierarchy(),!1)}getDestinationState(t){let i=this.state;return typeof t=="string"?i=t:t instanceof Gn?(this.childState=t,this.childState.parent=this,i=Gn.child):typeof t=="object"&&(t.target instanceof Gn?(this.childState=t.target,this.childState.parent=this,i=Gn.child):t.target!=null&&(i=t.target)),i}};xA.child="__child";xA.parent="__parent";var Rm=xA,kse=class extends rB{constructor(...e){super(),this.stateMachines=e;for(const t of e)t.parent=this}transition(e,t){for(const i of this.stateMachines)RM(this,i),i.transition(e,t)}transitionAsync(e,t){for(const i of this.stateMachines)RM(this,i),i.transitionAsync(e,t)}};function fi(e,t){const i=ai(e)?e:e.split(".");if(i.length===1){const[s]=i;return ol((n,r,o)=>n[s]=o,n=>n[s],t)}return ol((s,n,r)=>rA(s,i,r),s=>sA(s,i),t)}function Ise(e){return ol((t,i,s)=>t[e]=s)}function Ts(e,t){return ol((i,s,n)=>i[e][t??s]=n)}function Yn(e){const{newValue:t,oldValue:i,changeValue:s}=e;return ol((n,r,o,a)=>(o!==a&&(a!==void 0&&(i==null||i.call(n,a)),o!==void 0&&(t==null||t.call(n,o)),s==null||s.call(n,o,a)),o))}function Rc(e){return v4(e)}var bA=class{static wrapText(e,t){return this.wrapLines(e,t).join(`
`)}static wrapLines(e,t){const i=this.textWrap(e,t);return t.overflow==="hide"&&i.some(s=>s.endsWith(bi.EllipsisChar))?[]:i}static appendEllipsis(e){return e.replace(/[.,]{1,5}$/,"")+bi.EllipsisChar}static truncateLine(e,t,i,s){const n=t.textWidth(bi.EllipsisChar);let r=0,o=0;for(;o<e.length;o++){const a=t.textWidth(e.charAt(o));if(r+a>i)break;r+=a}if(e.length===o&&(!s||r+n<=i))return s?e+bi.EllipsisChar:e;for(e=e.slice(0,o).trimEnd();e.length&&t.textWidth(e)+n>i;)e=e.slice(0,-1).trimEnd();return e+bi.EllipsisChar}static textWrap(e,t){const i=e.split(bi.lineSplitter),s=yl.getMeasurer(t);if(t.textWrap==="never")return i.map(a=>this.truncateLine(a.trimEnd(),s,t.maxWidth));const n=[],r=t.textWrap==="hyphenate",o=t.textWrap==null||t.textWrap==="on-space";for(const a of i){let l=a.trimEnd();if(l===""){n.push(l);continue}let u=0,h=0,f=0;for(;u<l.length;){const g=l.charAt(u);if(h+=s.textWidth(g),g===" "&&(f=u),h>t.maxWidth){if(u===0)break;const m=s.textWidth(l.slice(0,u+1));if(m<=t.maxWidth){h=m,u++;continue}if(f){const x=this.getWordAt(l,f+1),b=s.textWidth(x);if(b<=t.maxWidth){n.push(l.slice(0,f).trimEnd()),l=l.slice(f).trimStart(),u=0,h=0,f=0;continue}else o&&b>t.maxWidth&&n.push(l.slice(0,f).trimEnd(),this.truncateLine(l.slice(f).trimStart(),s,t.maxWidth,!0))}else o&&n.push(this.truncateLine(l,s,t.maxWidth,!0));if(o){l="";break}const y=r?"-":"";let C=l.slice(0,u).trim();for(;C.length&&s.textWidth(C+y)>t.maxWidth;)C=C.slice(0,-1).trimEnd();if(n.push(C+y),!C.length){l="";break}l=l.slice(C.length).trimStart(),u=-1,h=0,f=0}u++}l&&n.push(l)}return this.avoidOrphans(n,s,t),this.clipLines(n,s,t)}static getWordAt(e,t){const i=e.indexOf(" ",t);return i===-1?e.slice(t):e.slice(t,i)}static clipLines(e,t,i){if(!i.maxHeight)return e;const{height:s,lineMetrics:n}=t.measureLines(e);if(s<=i.maxHeight)return e;for(let r=0,o=0;r<n.length;r++){const{lineHeight:a}=n[r];if(o+=a,o>i.maxHeight){if(i.overflow==="hide")return[];const l=e.slice(0,r||1),u=l.pop();return l.concat(this.truncateLine(u,t,i.maxWidth,!0))}}return e}static avoidOrphans(e,t,i){if(i.avoidOrphans===!1||e.length<2)return;const{length:s}=e,n=e[s-1],r=e[s-2];if(r.length<n.length)return;const o=r.lastIndexOf(" ");if(o===-1||o===r.indexOf(" ")||n.includes(" "))return;const a=r.slice(o+1);t.textWidth(n+a)<=i.maxWidth&&(e[s-2]=r.slice(0,o),e[s-1]=a+" "+n)}},ei=class extends ut{constructor(){super(...arguments),this.id=Qr(this),this.node=new nB({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(e,t){return e.layoutManager.addListener("layout:complete",()=>this.updateA11yText(e,t))}computeTextWrap(e,t){const{text:i,padding:s,wrapping:n}=this,r=Math.min(this.maxWidth??1/0,e)-s*2,o=this.maxHeight??t-s*2;if(!isFinite(r)&&!isFinite(o)){this.node.text=i;return}const a=bA.wrapText(i??"",{maxWidth:r,maxHeight:o,font:this,textWrap:n});this.node.text=a,this.truncated=a.includes(bi.EllipsisChar)}updateA11yText(e,t){var s;const{proxyInteractionService:i}=e;if(this.enabled&&this.text){const n=Li.toCanvas(this.node);if(n){const{id:r}=this;this.proxyText??(this.proxyText=i.createProxyElement({type:"text",domManagerId:r,where:t})),this.proxyText.textContent=this.text,this.proxyText.setBounds(n),this.proxyText.addListener("mousemove",o=>this.handleMouseMove(e,o)),this.proxyText.addListener("mouseleave",o=>this.handleMouseLeave(e,o))}}else(s=this.proxyText)==null||s.destroy(),this.proxyText=void 0}handleMouseMove(e,t){if(t!=null&&this.enabled&&this.node.visible&&this.truncated){const{x:i,y:s}=Li.toCanvas(this.node),n=t.sourceEvent.offsetX+i,r=t.sourceEvent.offsetY+s,o={type:"pointermove",canvasX:n,canvasY:r};e.tooltipManager.updateTooltip(this.id,{canvasX:n,canvasY:r,lastPointerEvent:o,showArrow:!1},{type:"structured",title:this.text})}}handleMouseLeave(e,t){e.tooltipManager.removeTooltip(this.id)}};ei.SMALL_PADDING=10;ei.LARGE_PADDING=20;E([L(et),Ts("node","visible")],ei.prototype,"enabled",2);E([L(Fe,{optional:!0}),Ts("node")],ei.prototype,"text",2);E([L(H4,{optional:!0}),Ts("node")],ei.prototype,"textAlign",2);E([L(pl,{optional:!0}),Ts("node")],ei.prototype,"fontStyle",2);E([L(ml,{optional:!0}),Ts("node")],ei.prototype,"fontWeight",2);E([L(Ve),Ts("node")],ei.prototype,"fontSize",2);E([L(Fe),Ts("node")],ei.prototype,"fontFamily",2);E([L(Bt,{optional:!0}),Ts("node","fill")],ei.prototype,"color",2);E([L(Ve,{optional:!0})],ei.prototype,"spacing",2);E([L(Ve,{optional:!0})],ei.prototype,"maxWidth",2);E([L(Ve,{optional:!0})],ei.prototype,"maxHeight",2);E([L(fx)],ei.prototype,"wrapping",2);E([L(Ve)],ei.prototype,"padding",2);E([L(Fe)],ei.prototype,"layoutStyle",2);var SA=(e=>(e.X="x",e.Y="y",e))(SA||{}),wA=class{constructor(){this.moduleMap=new Map}*modules(){for(const e of this.moduleMap.values())yield e.moduleInstance}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){var i;const t=Un(e)?e:e.optionsKey;(i=this.moduleMap.get(t))==null||i.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){var t;return(t=this.moduleMap.get(Un(e)?e:e.optionsKey))==null?void 0:t.moduleInstance}isEnabled(e){return this.moduleMap.has(Un(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),(t,i)=>e(t.moduleInstance,i))}destroy(){var e;for(const t of this.moduleMap.keys())(e=this.moduleMap.get(t))==null||e.moduleInstance.destroy();this.moduleMap.clear()}};function oB(e,t){return e.valueOf()-t.valueOf()}function Lse(e){let t=NaN;const i=[];for(const s of e){const n=s.valueOf();t!==n&&i.push(s),t=n}return i}function kM(e){const t=e.slice().sort(oB);return MA(t)==null?Lse(t):t}function MA(e){if(e.length===0)return 1;const t=Number(e[e.length-1])>Number(e[0])?1:-1;let i=-1/0*t;for(const s of e){const n=s.valueOf();if(Math.sign(n-i)!==t)return;i=n}return t}function aB(e){let t,i;const s=Pse.exec(e);s&&([,t,e,i]=s);const n=Fse.exec(e);if(!n)throw new Error(`The number formatter is invalid: ${e}`);const[,r,o,a,l,u,h,f,g,m,y]=n;return{fill:r,align:o,sign:a,symbol:l,zero:u,width:parseInt(h),comma:f,precision:parseInt(g),trim:!!m,type:y,prefix:t,suffix:i}}function lB(e){const t=typeof e=="string"?aB(e):e,{fill:i,align:s,sign:n="-",symbol:r,zero:o,width:a,comma:l,type:u,prefix:h="",suffix:f="",precision:g}=t;let{trim:m}=t;const y=g==null||isNaN(g);let C;if(!u)C=Br.g,m=!0;else if(u in Br&&u in Sd)C=y?Sd[u]:Br[u];else if(u in Br)C=Br[u];else if(u in Sd)C=Sd[u];else throw new Error(`The number formatter type is invalid: ${u}`);let x;return g==null||y?x=u?6:12:x=g,b=>{let w=C(b,x);return m&&(w=_se(w)),l&&(w=Bse(w,l)),w=zse(b,w,n),r&&r!=="#"&&(w=`${r}${w}`),r==="#"&&u==="x"&&(w=`0x${w}`),u==="s"&&(w=`${w}${Gse(b)}`),(u==="%"||u==="p")&&(w=`${w}%`),a!=null&&!isNaN(a)&&(w=Hse(w,a,i??o,s)),w=`${h}${w}${f}`,w}}var Fse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,Pse=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,Sd={b:e=>Oy(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>Oy(e).toString(8),x:e=>Oy(e).toString(16),X:e=>Sd.x(e).toUpperCase(),n:e=>Sd.d(e),"%":e=>`${Oy(e*100).toFixed(0)}`},Br={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>Br.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>Br.f(e,t).toUpperCase(),g:(e,t)=>{if(e===0)return"0";const i=Math.abs(e),s=Math.floor(Math.log10(i));return s>=-4&&s<t?i.toFixed(t-1-s):i.toExponential(t-1)},G:(e,t)=>Br.g(e,t).toUpperCase(),n:(e,t)=>Br.g(e,t),p:(e,t)=>Br.r(e*100,t),r:(e,t)=>{if(e===0)return"0";const i=Math.abs(e),n=Math.floor(Math.log10(i))-(t-1);if(n<=0)return i.toFixed(-n);const r=10**n;return(Math.round(i/r)*r).toFixed()},s:(e,t)=>{const i=hB(e);return Br.r(e/10**i,t)},"%":(e,t)=>Br.f(e*100,t)},cB=-24,uB=24,Ose={[cB]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[uB]:"Y"},Nse="";function Oy(e){return Math.floor(Math.abs(e))}function _se(e){return e.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function Bse(e,t){let i=e.indexOf(".");i<0&&(i=e.length);const s=e.substring(0,i).split(""),n=e.substring(i);for(let r=s.length-3;r>0;r-=3)s.splice(r,0,t);return`${s.join("")}${n}`}function Gse(e){return Ose[hB(e)]}function hB(e){return ft(cB,e?Math.floor(Math.log10(Math.abs(e))/3)*3:0,uB)}function zse(e,t,i=""){if(i==="(")return e>=0?t:`(${t})`;const s=i==="+"?"+":"";return`${e>=0?s:Nse}${t}`}function Hse(e,t,i=" ",s=">"){let n=e;if(s===">"||!s)n=n.padStart(t,i);else if(s==="<")n=n.padEnd(t,i);else if(s==="^"){const r=Math.max(0,t-n.length),o=Math.ceil(r/2),a=Math.floor(r/2);n=n.padStart(o+n.length,i),n=n.padEnd(a+n.length,i)}return n}var Ai=(e,t,i)=>({duration:t*i,timeInterval:e,step:i}),Ug=[Ai(Cd,oc,1),Ai(Cd,oc,5),Ai(Cd,oc,15),Ai(Cd,oc,30),Ai(xd,Bs,1),Ai(xd,Bs,5),Ai(xd,Bs,15),Ai(xd,Bs,30),Ai(bd,An,1),Ai(bd,An,3),Ai(bd,An,6),Ai(bd,An,12),Ai(nC,$r,1),Ai(nC,$r,2),Ai(cp,Va,1),Ai(cp,Va,2),Ai(cp,Va,3),Ai(Mu,Pg,1),Ai(Mu,Pg,2),Ai(Mu,Pg,3),Ai(Mu,Pg,4),Ai(Mu,Pg,6),Ai(cx,qd,1)],dB=[1,2,5,10];function IF(e,t){return Math.abs(Math.round(e)-e)<t}function DA(e,t,i,s,n,r){if(i<2)return[e,t];const o=Wp(e,t,i,s,n);if(!Number.isFinite(o))return[];if(IF(e/o,1e-12)||(e=Math.ceil(e/o)*o),IF(t/o,1e-12)||(t=Math.floor(t/o)*o),r!=null&&r[0]!==0&&r[1]!==1){const a=t-e,l=e+a*r[0],u=t-a*(1-r[1]);return Up(l-l%o,u+u%o,o)}return Up(e,t,o)}function fB(e,t,i,s,n,r){const o=r??Math.abs(t-e)/Math.max(i,1);let a=0;for(const g of Ug){if(o<=g.duration)break;a++}if(a===0){const g=Math.max(Wp(e,t,i,s,n),1);return A4.every(g)}else if(a===Ug.length){const g=Wp(e/qd,t/qd,i,s,n);return cx.every(g)}const l=Ug[a-1],u=Ug[a],{timeInterval:h,step:f}=o-l.duration<u.duration-o?l:u;return h.every(f)}function Wp(e,t,i,s=0,n=1/0){if(e===t)return ft(1,s,n);if(i<1)return NaN;const r=Math.abs(t-e),o=10**Math.floor(Math.log10(r/i));let a=NaN,l=1/0,u=!1;for(const h of dB){const f=Math.ceil(r/(h*o)),g=f>=s&&f<=n;if(u&&!g)continue;const m=Math.abs(f-i);(l>m||u!==g)&&(u||(u=g),l=m,a=h)}return a*o}function LF(e){for(let t=e.length-1;t>=0;t-=1)if(e[t]!=="0")return t+1;return 0}function FF(e,t){const i=aB(t??",f");(i.precision==null||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...e.map(n=>{if(!Number.isFinite(n))return 0;const[r,o]=n.toExponential((i.type?6:12)-1).split(/[.e]/g);return(r!=="1"&&r!=="-1"?1:0)+LF(o)+1})):"f%".includes(i.type)&&(i.precision=Math.max(...e.map(n=>{if(!Number.isFinite(n)||n===0)return 0;const r=Math.floor(Math.log10(Math.abs(n))),o=i.type?6:12,a=n.toExponential(o-1).split(/[.e]/g)[1],l=LF(a);return Math.max(0,l-r)}))));const s=lB(i);return n=>s(Number(n))}function Up(e,t,i){if(!Number.isFinite(i)||i<=0)return[];const s=10**sx(i),n=Math.min(e,t),r=Math.max(e,t),o=[];for(let a=0;;a+=1){const l=Math.round((n+i*a)*s)/s;if(l>r)break;o.push(l)}return o}function jp(e,t){return e>=t?(Ne.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function Vse(e,t){const i=Math.abs(t-e),s=10**Math.floor(Math.log10(i));let n=1/0,r=[e,t];for(const o of dB){const a=o*s,l=Math.floor(e/a)*a,u=Math.ceil(t/a)*a,h=1-i/Math.abs(u-l);n>h&&(n=h,r=[l,u])}return r}function gB(e,t,i,s,n,r){r=Math.max(r,e/(n+1)),isNaN(i)&&(i=r),isNaN(s)&&(s=e),i>s&&(i===r?i=s:s=i);const o=Math.max(1,Math.floor(e/(t*i))),a=Math.min(o,Math.ceil(e/(t*s))),l=ft(a,Math.floor(n/t),o);return{minTickCount:a,maxTickCount:o,tickCount:l}}var pB=class extends Vt{constructor(){super([],[0,1]),this.type="time"}toDomain(e){return new Date(e)}convert(e,t){return e instanceof Date||(e=new Date(e)),super.convert(e,t)}invert(e){return new Date(super.invert(e))}niceDomain(e,t=this.domain){if(t.length<2)return[];const i=4;let[s,n]=t;for(let r=0;r<i;r++){const[o,a]=Wse(s,n,e);if(Zs(s)===Zs(o)&&Zs(n)===Zs(a))break;s=o,n=a}return[s,n]}ticks(e,t=this.domain,i=[0,1]){const{nice:s,interval:n,tickCount:r=Vt.defaultTickCount,minTickCount:o,maxTickCount:a}=e;if(t.length<2)return[];const l=t.map(Zs),u=l[0],h=l[l.length-1];if(n!=null){const f=this.getPixelRange();return AA({start:u,stop:h,interval:n,availableRange:f,visibleRange:i})??PF({start:u,stop:h,tickCount:r,minTickCount:o,maxTickCount:a,visibleRange:i})}else{if(s&&r===2)return t;if(s&&r===1)return t.slice(0,1)}return PF({start:u,stop:h,tickCount:r,minTickCount:o,maxTickCount:a,visibleRange:i})}_tickFormatter({domain:e,ticks:t,specifier:i},s){return i!=null?bm(i):aA(t,e,s)}tickFormatter(e){return this._tickFormatter(e)}datumFormatter(e){return this._tickFormatter(e,1)}};function PF({start:e,stop:t,tickCount:i,minTickCount:s,maxTickCount:n,visibleRange:r}){const o=fB(e,t,i,s,n);return o?o.range(new Date(e),new Date(t),{visibleRange:r}):[]}function AA({start:e,stop:t,interval:i,availableRange:s,visibleRange:n}){if(!i)return[];if(i instanceof Zd){const h=i.range(new Date(e),new Date(t),{visibleRange:n});return jp(h.length,s)?void 0:h}const r=Math.abs(i);if(jp(Math.abs(t-e)/r,s))return;const o=Ug.findLast(h=>r%h.duration===0);if(o)return o.timeInterval.every(r/(o.duration/o.step)).range(new Date(e),new Date(t),{visibleRange:n});let a=new Date(Math.min(e,t));const l=new Date(Math.max(e,t)),u=[];for(;a<=l;)u.push(a),a=new Date(a),a.setMilliseconds(a.getMilliseconds()+r);return u}function Wse(e,t,i){const{interval:s}=i,n=Math.min(Zs(e),Zs(t)),r=Math.max(Zs(e),Zs(t)),o=e>t;let a;if(s instanceof Zd)a=s;else{const l=typeof s=="number"?(r-n)/Math.max(s,1):i.tickCount??Vt.defaultTickCount;a=fB(n,r,l,i.minTickCount,i.maxTickCount)}if(a){const l=a.range(new Date(n),new Date(r),{extend:!0}),u=o?[...l].reverse():l,h=u[0],f=u.at(-1);return[h,f]}else return[e,t]}var ta=class mB extends Sm{constructor(){super(...arguments),this.type="ordinal-time",this._domain=[],this.isReversed=!1}static is(t){return t instanceof mB}set domain(t){t!==this._domain&&(this.invalid=!0,this._domain=t,this.isReversed=t.length>0&&t[0]>t[t.length-1],this.sortedTimestamps=void 0,this.precomputedSteps=void 0)}get domain(){return this._domain}toDomain(t){return new Date(t)}normalizeDomains(...t){const i=t.filter(n=>n.length>0).map(n=>{let r=MA(n);return r==null&&(n=kM(n.slice()),r=1),{domain:n,sortOrder:r}});if(i.length===0)return{domain:[],animatable:!1};if(i.length===1)return{domain:i[0].domain,animatable:!0};let s=i.flatMap(n=>n.domain);return s=kM(s),i.every(n=>n.sortOrder===-1)&&s.reverse(),{domain:s,animatable:!0}}ticks({interval:t,maxTickCount:i},s=this.domain,n=[0,1]){if(!s.length)return[];this.refresh();const{isReversed:r}=this;if(t==null)return Use(s,i,r,n);const[o,a]=[s[0].valueOf(),s.at(-1).valueOf()],l=Math.min(o,a),u=Math.max(o,a),[h,f]=this.range,g=Math.abs(f-h),m=AA({start:l,stop:u,interval:t,availableRange:g,visibleRange:n})??[];let y=-1;return m.filter(C=>{const x=this.findInterval(C.valueOf()),b=x===y;return y=x,!b})}getSortedTimestamps(){let{sortedTimestamps:t}=this;return t==null&&(t=this.domain.map(Zs),this.isReversed&&t.reverse(),this.sortedTimestamps=t),t}getPrecomputedSteps(){const{domain:t}=this;let{precomputedSteps:i}=this;const s=t.length<1e4?t.length:Math.ceil(t.length/16);if(i!=null||s<=1)return i;const n=this.getSortedTimestamps();i=new Int32Array(s);const r=n[0],a=n[n.length-1]-r,l=0,u=n.length-1;for(let h=0;h<i.length;h+=1)i[h]=this.findIntervalInRange(r+h/s*a,l,u);this.precomputedSteps=i}findIntervalInRange(t,i,s){const n=this.getSortedTimestamps();for(;i<=s;){const r=(i+s)/2|0;if(n[r]===t)return r;n[r]<t?i=r+1:s=r-1}return i}findInterval(t){const i=this.getPrecomputedSteps();let s,n;if(i==null)s=0,n=this.domain.length-1;else{const r=this.getSortedTimestamps(),o=r[0],a=r[r.length-1],l=Math.min((t-o)/(a-o)*i.length|0,i.length-1|0);s=i[l],n=l<i.length-2?i[l+1]:r.length-1}return this.findIntervalInRange(t,s,n)}tickFormatter({domain:t,ticks:i,specifier:s}){return s!=null?bm(s):aA(i,t)}datumFormatter(t){return this.tickFormatter(t)}invert(t,i=!1){this.refresh();const{domain:s}=this;if(i){const r=this.invertNearestIndex(t-this.bandwidth/2);return r!=null?s[r]:void 0}return Ite(0,s.length-1,r=>this.ordinalRange(r)>=t?s[r]:void 0)??s[0]}getIndex(t){const i=this.getSortedTimestamps(),s=Number(t);if(s<i[0])return;let n=this.findInterval(s);return this.isReversed&&(n=this.domain.length-n-1),n}};function Use(e,t,i,s){const n=[],r=Math.ceil(e.length/t),o=Math.floor(r/2),a=Math.floor(s[0]*e.length),l=Math.ceil(s[1]*e.length);for(let u=a;u<l;u+=1){const h=i?e.length-1-u:u;(r<=0||(h+o)%r===0)&&n.push(e[u])}return i&&n.reverse(),n}var Ki=class xu{constructor(t,i,s=!0){this.parentNode=t,this.autoCleanup=s,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=ti.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Sc,i)?()=>new i:i}static select(t,i,s=!0){return new xu(t,i,s)}static selectAll(t,i){const s=[],n=r=>{i(r)&&s.push(r);for(const o of r.children())n(o)};return n(t),s}static selectByClass(t,...i){return xu.selectAll(t,s=>i.some(n=>s instanceof n))}static selectByTag(t,i){return xu.selectAll(t,s=>s.tag===i)}createNode(t,i,s){const n=this.nodeFactory(t);return n.datum=t,i==null||i(n),s==null?this._nodes.push(n):this._nodes.splice(s,0,n),this.parentNode.appendChild(n),n}update(t,i,s){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage",t),s){const n=new Map(t.map((r,o)=>[s(r),[r,o]]));for(const[r,o]of this._nodesMap.entries())if(n.has(o)){const[a]=n.get(o);r.datum=a,this.garbageBin.delete(r),n.delete(o)}else this.garbageBin.add(r);for(const[r,[o,a]]of n.entries())this._nodesMap.set(this.createNode(o,i,a),r)}else{const n=Math.max(t.length,this.data.length);for(let r=0;r<n;r++)r>=t.length?this.garbageBin.add(this._nodes[r]):r>=this._nodes.length?this.createNode(t[r],i):(this._nodes[r].datum=t[r],this.garbageBin.delete(this._nodes[r]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}each(t){for(const i of this._nodes.entries())t(i[1],i[1].datum,i[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const i=this._nodes[t];yield{node:i,datum:i.datum,index:t}}}select(t){return xu.selectAll(this.parentNode,t)}selectByClass(t){return xu.selectByClass(this.parentNode,t)}selectByTag(t){return xu.selectByTag(this.parentNode,t)}nodes(){return this._nodes}at(t){return this._nodes.at(t)}get length(){return this._nodes.length}};function up(e,t,i,s){const n=e-i,r=t-s;return n*n+r*r}function hp(e,t,i,s,n,r,o){if(i===n&&s===r)return Math.min(o,up(e,t,i,s));const a=n-i,l=r-s,u=Math.max(0,Math.min(1,((e-i)*a+(t-s)*l)/(a*a+l*l))),h=i+u*a,f=s+u*l;return Math.min(o,up(e,t,h,f))}function jse(e,t,i,s,n,r,o,a,l){a&&([o,r]=[r,o]);const u=Math.atan2(t-s,e-i);if(!ac(u,r,o)){const f=i+Math.cos(r)*n,g=s+Math.sin(r)*n,m=i+Math.cos(r)*n,y=s+Math.sin(r)*n;return Math.min(l,up(e,t,f,g),up(e,t,m,y))}const h=n-Math.sqrt(up(e,t,i,s));return Math.min(l,h*h)}var fr=class extends Xr{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new Ze(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(e,t):!1}distanceSquared(e,t){const{x1:i,y1:s,x2:n,y2:r}=this;return hp(e,t,i,s,n,r,1/0)}render(e){var a;const{ctx:t,devicePixelRatio:i}=e;let{x1:s,y1:n,x2:r,y2:o}=this;if(s===r){const{strokeWidth:l}=this,u=Math.round(s*i)/i+Math.trunc(l*i)%2/(i*2);s=u,r=u}else if(n===o){const{strokeWidth:l}=this,u=Math.round(n*i)/i+Math.trunc(l*i)%2/(i*2);n=u,o=u}t.beginPath(),t.moveTo(s,n),t.lineTo(r,o),this.fillStroke(t),(a=this.fillShadow)==null||a.markClean(),super.render(e)}toSVG(){if(!this.visible)return;const e=Kr("line");return e.setAttribute("x1",String(this.x1)),e.setAttribute("y1",String(this.y1)),e.setAttribute("x2",String(this.x2)),e.setAttribute("y2",String(this.y2)),this.applySvgStrokeAttributes(e),{elements:[e]}}};fr.className="Line";fr.defaultStyles={...Xr.defaultStyles,fill:void 0,strokeWidth:1};E([Xe()],fr.prototype,"x1",2);E([Xe()],fr.prototype,"y1",2);E([Xe()],fr.prototype,"x2",2);E([Xe()],fr.prototype,"y2",2);var Yse=new Intl.NumberFormat("en-US",{maximumFractionDigits:2,useGrouping:!1}),Kse=new Intl.NumberFormat("en-US",{style:"percent"});function al(e,t=2){return typeof e=="number"?vB(e,t):String(e??"")}function yB(e){return Kse.format(e)}function vB(e,t){return t===2?Yse.format(e):new Intl.NumberFormat("en-US",{maximumFractionDigits:t,useGrouping:!1}).format(e)}var Fo=class extends Xr{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new Ze(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){var C;const{ctx:t}=e;let{x1:i,y1:s,x2:n,y2:r}=this;i=this.align(i),s=this.align(s),n=this.align(n),r=this.align(r);const{fill:o,opacity:a,isRange:l}=this;if(!!(l&&o)){const{fillOpacity:x}=this;this.applyFill(t),t.globalAlpha=a*x,t.beginPath(),t.moveTo(i,s),t.lineTo(n,s),t.lineTo(n,r),t.lineTo(i,r),t.closePath(),t.fill()}const{stroke:h,strokeWidth:f,startLine:g,endLine:m}=this;if(!!((g||m)&&h&&f)){const{strokeOpacity:x,lineDash:b,lineDashOffset:w,lineCap:M,lineJoin:A}=this;this.applyStroke(t),t.globalAlpha=a*x,t.lineWidth=f,b&&t.setLineDash(b),w&&(t.lineDashOffset=w),M&&(t.lineCap=M),A&&(t.lineJoin=A),t.beginPath(),g&&(t.moveTo(i,s),t.lineTo(n,s)),m&&(t.moveTo(n,r),t.lineTo(i,r)),t.stroke()}(C=this.fillShadow)==null||C.markClean(),super.render(e)}};Fo.className="Range";Fo.defaultStyles={...Xr.defaultStyles,strokeWidth:1};E([Xe()],Fo.prototype,"x1",2);E([Xe()],Fo.prototype,"y1",2);E([Xe()],Fo.prototype,"x2",2);E([Xe()],Fo.prototype,"y2",2);E([Xe()],Fo.prototype,"startLine",2);E([Xe()],Fo.prototype,"endLine",2);E([Xe()],Fo.prototype,"isRange",2);var vs=class extends ut{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return bi.toFontString(this)}};E([L(et)],vs.prototype,"enabled",2);E([L(Bt,{optional:!0})],vs.prototype,"color",2);E([L(pl,{optional:!0})],vs.prototype,"fontStyle",2);E([L(ml,{optional:!0})],vs.prototype,"fontWeight",2);E([L(Ve)],vs.prototype,"fontSize",2);E([L(Fe)],vs.prototype,"fontFamily",2);E([L(In,{optional:!0})],vs.prototype,"formatter",2);function oC(e){const{parallelFlipRotation:t=0,regularFlipRotation:i=0}=e,s=e.rotation?ri(os(e.rotation)):0,n=!s&&t>=0&&t<=Math.PI?-1:1,r=!s&&i>=0&&i<=Math.PI?-1:1;let o=0;return e.parallel?o=n*Math.PI/2:r===-1&&(o=Math.PI),{configuredRotation:s,defaultRotation:o,parallelFlipFlag:n,regularFlipFlag:r}}function $se(e,t){return isNaN(e)?t?0:10:e}function Xse(e,t,i,s){return e&&!t?i*s===-1?"hanging":"bottom":"middle"}function OF(e,t,i,s,n){const r=t>0&&t<=Math.PI,o=i>0&&i<=Math.PI,a=r||o?-1:1;if(e)if(t||i){if(s*a===-1)return"end"}else return"center";else if(s*n===-1)return"end";return"start"}function Zse(e,t,i,s){const n=[];for(const{tickLabel:r,translationY:o}of e){if(!r)continue;const{width:a,height:l}=s.measureLines(r),u=new Ze(t,o,a,l),h=new Ze(t,o,0,0);i.transformBBox(h,u);const{x:f,y:g}=u;n.push({point:{x:f,y:g},label:{text:r,width:a,height:l}})}return n}function qse(e){return e!=null&&Object.hasOwn(e,"toString")&&Un(e.toString())}function Qse(e){return e!=null&&Object.hasOwn(e,"valueOf")&&It(e.valueOf())}function yx(e){return It(e)||Cm(e)||Qse(e)}function NF(e,t){return e!=null&&(!t||yx(e))}function IM(e){return qse(e)&&Object.hasOwn(e,"id")?e.id:e}var EA=e=>e==="value"?jt((t,i)=>i.target.type==="line",t=>t.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):jt((t,i)=>i.target.type==="range",t=>t.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),CB=(e,t,i,s,n)=>{const r=e==="line"&&t!==void 0,o=e==="range"&&i!==void 0;if(!r&&!o)return!0;const[a,l]=i??[t,void 0],u=Vt.is(s)||ta.is(s),h=NF(a,u)&&!isNaN(s.convert(a)),f=NF(l,u)&&!isNaN(s.convert(l));if(r&&h||o&&h&&f)return(n==null?void 0:n())??!0;const g=["Expecting crossLine"];return o?(h||g.push(`range start ${ap(a)}`),f||g.push(`${h?"":"and "}range end ${ap(l)}`)):g.push(`value ${ap(a)}`),g.push("to match the axis scale domain."),Ne.warnOnce(g.join(" ")),!1},Jse={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},"top-left":{xTranslationDirection:1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"bottom-right":{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:1,yTranslationDirection:0},"inside-right":{xTranslationDirection:-1,yTranslationDirection:0},"inside-top":{xTranslationDirection:0,yTranslationDirection:1},"inside-bottom":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-right":{xTranslationDirection:-1,yTranslationDirection:-1}},ene={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},"top-left":{xTranslationDirection:-1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"bottom-right":{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:0,yTranslationDirection:1},"inside-right":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top":{xTranslationDirection:-1,yTranslationDirection:0},"inside-bottom":{xTranslationDirection:1,yTranslationDirection:0},"inside-top-left":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"inside-bottom-right":{xTranslationDirection:1,yTranslationDirection:-1}};function LM({yDirection:e,padding:t=0,position:i="top",bbox:s}){const n=e?Jse:ene,{xTranslationDirection:r,yTranslationDirection:o}=n[i],a=r*(t+s.width/2),l=o*(t+s.height/2);return{xTranslation:a,yTranslation:l}}function xB({yDirection:e,bbox:t,padding:i=0,position:s="top"}){const n={};return s.startsWith("inside")||(s==="top"&&!e?n.top=i+t.height:s==="bottom"&&!e?n.bottom=i+t.height:s==="left"&&e?n.left=i+t.width:s==="right"&&e&&(n.right=i+t.width)),n}var aC=({direction:e,xEnd:t,yStart:i,yEnd:s})=>e==="y"?{x:t/2,y:i}:{x:t,y:isNaN(s)?i:(i+s)/2},_F=({direction:e,xStart:t,xEnd:i,yStart:s,yEnd:n})=>e==="y"?{x:t,y:isNaN(n)?s:(s+n)/2}:{x:i/2,y:s},BF=({direction:e,xEnd:t,yStart:i,yEnd:s})=>e==="y"?{x:t,y:isNaN(s)?i:(i+s)/2}:{x:t/2,y:isNaN(s)?i:s},GF=({direction:e,xStart:t,xEnd:i,yStart:s,yEnd:n})=>e==="y"?{x:i/2,y:isNaN(n)?s:n}:{x:t,y:isNaN(n)?s:(s+n)/2},tne=({xEnd:e,yStart:t,yEnd:i})=>({x:e/2,y:isNaN(i)?t:(t+i)/2}),zF=({direction:e,xStart:t,xEnd:i,yStart:s})=>e==="y"?{x:t/2,y:s}:{x:i,y:s},HF=({direction:e,xStart:t,yStart:i,yEnd:s})=>e==="y"?{x:t,y:isNaN(s)?i:s}:{x:t,y:i},VF=({direction:e,xEnd:t,yStart:i,yEnd:s})=>e==="y"?{x:t,y:i}:{x:t,y:isNaN(s)?i:s},WF=({direction:e,xStart:t,xEnd:i,yStart:s,yEnd:n})=>e==="y"?{x:i,y:isNaN(n)?s:n}:{x:t,y:isNaN(n)?s:n},bB={top:{c:aC},bottom:{c:GF},left:{c:_F},right:{c:BF},"top-left":{c:zF},"top-right":{c:VF},"bottom-left":{c:HF},"bottom-right":{c:WF},inside:{c:tne},"inside-left":{c:_F},"inside-right":{c:BF},"inside-top":{c:aC},"inside-bottom":{c:GF},"inside-top-left":{c:zF},"inside-bottom-left":{c:HF},"inside-top-right":{c:VF},"inside-bottom-right":{c:WF}},ine=ii(["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"],"crossLine label position"),Jr=class extends ut{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};E([L(et,{optional:!0})],Jr.prototype,"enabled",2);E([L(Fe,{optional:!0})],Jr.prototype,"text",2);E([L(pl,{optional:!0})],Jr.prototype,"fontStyle",2);E([L(ml,{optional:!0})],Jr.prototype,"fontWeight",2);E([L(Ve)],Jr.prototype,"fontSize",2);E([L(Fe)],Jr.prototype,"fontFamily",2);E([L(Tt)],Jr.prototype,"padding",2);E([L(Bt,{optional:!0})],Jr.prototype,"color",2);E([L(ine,{optional:!0})],Jr.prototype,"position",2);E([L(Tt,{optional:!0})],Jr.prototype,"rotation",2);E([L(et,{optional:!0})],Jr.prototype,"parallel",2);var Kn=class extends ut{constructor(){super(),this.id=Qr(this),this.label=new Jr,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.rangeGroup=new ot({name:this.id}),this.lineGroup=new ot({name:this.id}),this.labelGroup=new ot({name:this.id}),this.crossLineRange=new Fo,this.crossLineLabel=new Qd,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1,this._isRange=void 0,this.lineGroup.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(e){const{enabled:t,data:i,type:s,value:n,range:r,scale:o}=this;if(!s||!o||!t||!e||!CB(s,n,r,o)||i.length===0){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updateNodes();const{isRange:a}=this;a!==this._isRange&&(a?this.rangeGroup.appendChild(this.crossLineRange):this.lineGroup.appendChild(this.crossLineRange)),this._isRange=a}calculateLayout(e,t){if(!e)return;const{scale:i,gridLength:s,sideFlag:n,direction:r,label:{position:o="top"},clippedRange:a,strokeWidth:l=0}=this;if(this.data=[],!i)return;const u=i.bandwidth??0,h=i.step??0,f=(t?-1:1)*(i instanceof Sm?(h-u)/2:0),[g,m]=[0,n*s];let[y,C]=this.getRange();const x=C===void 0&&ta.is(i)?u/2+f:0;let[b,w]=[Number(i.convert(y,!0))-f+x,i.convert(C,!0)+u+f];b=wM(b,a),w=wM(w,a),[y,C]=[Number(i.convert(y))+x,i.convert(C)+u];const M=(y===b||C===w||b!==w)&&Math.abs(w-b)>0;if(M&&b>w&&([b,w]=[w,b],[y,C]=[C,y]),y-f>=b&&(y-=f),C+f<=w&&(C+=f),this.isRange=M,this.startLine=l>0&&y>=b&&y<=b+f,this.endLine=l>0&&C>=w-u-f&&C<=w,!M&&!this.startLine&&!this.endLine||(this.data=[b,w],!this.label.enabled))return;const{c:A=aC}=bB[o]??{},{x:T,y:k}=A({direction:r,xStart:g,xEnd:m,yStart:b,yEnd:w});this.labelPoint={x:T,y:k}}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){const{crossLineRange:e,sideFlag:t,gridLength:i,data:s,startLine:n,endLine:r,isRange:o,fill:a,fillOpacity:l,stroke:u,strokeWidth:h,lineDash:f}=this;e.x1=0,e.x2=t*i,e.y1=s[0],e.y2=s[1],e.startLine=n,e.endLine=r,e.isRange=o,e.fill=a,e.fillOpacity=l??1,e.stroke=u,e.strokeWidth=h??1,e.strokeOpacity=this.strokeOpacity??1,e.lineDash=f}updateLabel(){const{crossLineLabel:e,label:t}=this;t.text&&(e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.fill=t.color,e.text=t.text)}positionLabel(){const{crossLineLabel:e,labelPoint:{x:t=void 0,y:i=void 0}={},label:{parallel:s,rotation:n,position:r="top",padding:o=0},direction:a,parallelFlipRotation:l,regularFlipRotation:u}=this;if(t===void 0||i===void 0)return;const{defaultRotation:h,configuredRotation:f}=oC({rotation:n,parallel:s,regularFlipRotation:u,parallelFlipRotation:l});e.rotation=h+f,e.textBaseline="middle",e.textAlign="center";const g=e.getBBox();if(!g)return;const m=a==="y",{xTranslation:y,yTranslation:C}=LM({yDirection:m,padding:o,position:r,bbox:g});e.translationX=t+y,e.translationY=i+C}getRange(){const{value:e,range:t,scale:i}=this,s=Vt.is(i)||ta.is(i),n=(t==null?void 0:t[0])??e;let r=t==null?void 0:t[1];return!s&&r===void 0&&(r=n),s&&n===r&&(r=void 0),[n,r]}computeLabelBBox(){const{label:e}=this;if(!e.enabled)return;const t=new Qd;t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=e.text;const{labelPoint:{x:i=void 0,y:s=void 0}={},label:{parallel:n,rotation:r,position:o="top",padding:a=0},direction:l,parallelFlipRotation:u,regularFlipRotation:h}=this;if(i===void 0||s===void 0)return;const{configuredRotation:f}=oC({rotation:r,parallel:n,regularFlipRotation:h,parallelFlipRotation:u});t.rotation=f,t.textBaseline="middle",t.textAlign="center";const g=t.getBBox();if(!g)return;const m=l==="y",{xTranslation:y,yTranslation:C}=LM({yDirection:m,padding:a,position:o,bbox:g});return t.x=i+y,t.y=s+C,t.getBBox()}calculatePadding(e){const{isRange:t,startLine:i,endLine:s,direction:n,label:{padding:r=0,position:o="top"}}=this;if(!t&&!i&&!s)return;const a=this.computeLabelBBox();if((a==null?void 0:a.x)==null||(a==null?void 0:a.y)==null)return;const l=xB({yDirection:n==="y",padding:r,position:o,bbox:a});e.left=Math.max(e.left??0,l.left??0),e.right=Math.max(e.right??0,l.right??0),e.top=Math.max(e.top??0,l.top??0),e.bottom=Math.max(e.bottom??0,l.bottom??0)}};Kn.className="CrossLine";E([L(et,{optional:!0})],Kn.prototype,"enabled",2);E([L(ii(["range","line"],"a crossLine type"),{optional:!0})],Kn.prototype,"type",2);E([L(ua(EA("range"),Dm.restrict({length:2})),{optional:!0})],Kn.prototype,"range",2);E([L(EA("value"),{optional:!0})],Kn.prototype,"value",2);E([L(Bt,{optional:!0})],Kn.prototype,"fill",2);E([L(Wt,{optional:!0})],Kn.prototype,"fillOpacity",2);E([L(Bt,{optional:!0})],Kn.prototype,"stroke",2);E([L(Tt,{optional:!0})],Kn.prototype,"strokeWidth",2);E([L(Wt,{optional:!0})],Kn.prototype,"strokeOpacity",2);E([L(ha,{optional:!0})],Kn.prototype,"lineDash",2);E([L($e)],Kn.prototype,"label",2);var SB=(e=>(e[e.CHART_BACKGROUND=0]="CHART_BACKGROUND",e[e.AXIS_GRID=1]="AXIS_GRID",e[e.AXIS=2]="AXIS",e[e.ZOOM_SELECTION=3]="ZOOM_SELECTION",e[e.SERIES_CROSSLINE_RANGE=4]="SERIES_CROSSLINE_RANGE",e[e.SERIES_LAYER=5]="SERIES_LAYER",e[e.AXIS_FOREGROUND=6]="AXIS_FOREGROUND",e[e.SERIES_CROSSHAIR=7]="SERIES_CROSSHAIR",e[e.SERIES_CROSSLINE_LINE=8]="SERIES_CROSSLINE_LINE",e[e.SERIES_ANNOTATION=9]="SERIES_ANNOTATION",e[e.CHART_ANNOTATION=10]="CHART_ANNOTATION",e[e.CHART_ANNOTATION_FOCUSED=11]="CHART_ANNOTATION_FOCUSED",e[e.STATUS_BAR=12]="STATUS_BAR",e[e.SERIES_LABEL=13]="SERIES_LABEL",e[e.LEGEND=14]="LEGEND",e[e.NAVIGATOR=15]="NAVIGATOR",e[e.FOREGROUND=16]="FOREGROUND",e))(SB||{}),sne=["stroke","lineDash"],nne=gl(e=>Ds(e)&&Object.keys(e).every(t=>sne.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),vx=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};E([L(et)],vx.prototype,"enabled",2);E([L(Ve)],vx.prototype,"width",2);E([L(nne)],vx.prototype,"style",2);function kc(e,t=[void 0]){return ol((i,s,n)=>t.includes(n)?ch(e)?e(n):e:n)}var wB=jt(e=>It(e)&&e>0||e instanceof Zd,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),dh=class extends ut{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};E([L(wB,{optional:!0})],dh.prototype,"step",2);E([L(Dm,{optional:!0})],dh.prototype,"values",2);E([L(W4),kc(NaN)],dh.prototype,"minSpacing",2);E([L(U4),kc(NaN)],dh.prototype,"maxSpacing",2);var Cs=class extends ut{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.spacing=5,this.minSpacing=NaN,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};E([L(et)],Cs.prototype,"enabled",2);E([L(pl,{optional:!0})],Cs.prototype,"fontStyle",2);E([L(ml,{optional:!0})],Cs.prototype,"fontWeight",2);E([L(Tt.restrict({min:1}))],Cs.prototype,"fontSize",2);E([L(Fe)],Cs.prototype,"fontFamily",2);E([L(Ve)],Cs.prototype,"spacing",2);E([L(df),kc(NaN)],Cs.prototype,"minSpacing",2);E([L(Bt,{optional:!0})],Cs.prototype,"color",2);E([L(Tt,{optional:!0})],Cs.prototype,"rotation",2);E([L(et)],Cs.prototype,"avoidCollisions",2);E([L(et)],Cs.prototype,"mirrored",2);E([L(et)],Cs.prototype,"parallel",2);E([L(In,{optional:!0})],Cs.prototype,"itemStyler",2);E([L(In,{optional:!0})],Cs.prototype,"formatter",2);E([L(Fe,{optional:!0})],Cs.prototype,"format",2);var Cx=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};E([L(et)],Cx.prototype,"enabled",2);E([L(Ve)],Cx.prototype,"width",2);E([L(Bt,{optional:!0})],Cx.prototype,"stroke",2);var gf=class extends ut{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};E([L(et)],gf.prototype,"enabled",2);E([L(Ve)],gf.prototype,"width",2);E([L(Ve)],gf.prototype,"size",2);E([L(Bt,{optional:!0})],gf.prototype,"stroke",2);var Po=class extends ut{constructor(){super(...arguments),this.caption=new ei,this.enabled=!1,this.spacing=ei.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};E([L(et)],Po.prototype,"enabled",2);E([L(Fe,{optional:!0})],Po.prototype,"text",2);E([L(Ve,{optional:!0})],Po.prototype,"spacing",2);E([L(pl,{optional:!0})],Po.prototype,"fontStyle",2);E([L(ml,{optional:!0})],Po.prototype,"fontWeight",2);E([L(Ve)],Po.prototype,"fontSize",2);E([L(Fe)],Po.prototype,"fontFamily",2);E([L(Bt,{optional:!0})],Po.prototype,"color",2);E([L(fx)],Po.prototype,"wrapping",2);E([L(In,{optional:!0})],Po.prototype,"formatter",2);var MB=(e=>(e[e.TickAndDomain=0]="TickAndDomain",e[e.TicksOnly=1]="TicksOnly",e[e.Off=2]="Off",e))(MB||{});function lC(e){const[t,i]=Es(e.range),s=Math.floor(t),n=Math.ceil(i);return{min:s,max:n,visible:s!==n}}var FM=Math.PI*2,rne=FM/2;function one(e,t){return Math.abs(t-e)<rne?t:e>t?t+FM:t-FM}function DB(e){const t=(o,a)=>{const[l=e.min,u=e.max]=Es(a??[]);return o<l||o>u};return{tick:{fromFn(o,a,l){let u=o.y1+o.translationY,h=o.opacity;return(l==="added"||t(o.datum.translationY,o.datum.range))&&(u=a.translationY,h=0),{y:0,translationY:u,opacity:h,phase:xo[l]}},toFn(o,a,l){const u=a.translationY;let h=1;return l==="removed"&&(h=0),{y:0,translationY:u,opacity:h,finish:{y:u,translationY:0}}},applyFn(o,a){o.setProperties(a),o.visible=!t(o.y)}},line:{fromFn(o,a){return{...o.previousDatum??a,phase:xo.updated}},toFn(o,a){return{...a}}},label:{fromFn(o,a,l){const u=o.previousDatum??a,h=u.x,f=u.y,g=u.rotationCenterX;let m=Math.round(o.translationY),y=u.rotation,C=o.opacity;return l==="removed"||t(u.y,u.range)?y=a.rotation:(l==="added"||t(o.datum.y,o.datum.range))&&(m=Math.round(u.translationY),C=0,y=a.rotation),{x:h,y:f,rotationCenterX:g,translationY:m,rotation:y,opacity:C,phase:xo[l]}},toFn(o,a,l){var C;const u=a.x,h=a.y,f=a.rotationCenterX,g=Math.round(a.translationY);let m=0,y=1;return l==="added"?m=a.rotation:l==="removed"?(y=0,m=a.rotation):m=one(((C=o.previousDatum)==null?void 0:C.rotation)??a.rotation,a.rotation),{x:u,y:h,rotationCenterX:f,translationY:g,rotation:m,opacity:y,finish:{rotation:a.rotation}}}},group:{fromFn(o,a){const{rotation:l,translationX:u,translationY:h}=o;return{rotation:l,translationX:u,translationY:h,phase:xo.updated}},toFn(o,a){const{rotation:l,translationX:u,translationY:h}=a;return{rotation:l,translationX:u,translationY:h}}}}}function AB(){return(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function TA(e){const{visible:t,min:i,max:s}=e;return(n,r)=>{const o=r.translationY,a=t&&o>=i&&o<=s;return{y:o,translationY:0,opacity:1,visible:a}}}function RA(){return(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function EB(){return(e,t)=>({...t})}var cC=class extends hh(fr){},TB=(e=>(e[e.TickLines=0]="TickLines",e[e.AxisLine=1]="AxisLine",e[e.TickLabels=2]="TickLabels",e))(TB||{}),vl=class RB{constructor(t,i){this.moduleCtx=t,this.scale=i,this.id=Qr(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new dh,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new _g({name:`${this.id}-axis`}),this.tickLineGroup=this.axisGroup.appendChild(new ot({name:`${this.id}-Axis-tick-lines`,zIndex:0})),this.tickLabelGroup=this.axisGroup.appendChild(new ot({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.labelGroup=new ot({name:`${this.id}-Labels`,zIndex:9}),this.gridGroup=new _g({name:`${this.id}-Axis-grid`,zIndex:1}),this.gridLineGroup=this.gridGroup.appendChild(new ot({name:`${this.id}-gridLines`})),this.crossLineRangeGroup=new _g({name:`${this.id}-CrossLines-Range`,zIndex:4}),this.crossLineLineGroup=new _g({name:`${this.id}-CrossLines-Line`,zIndex:8}),this.crossLineLabelGroup=new _g({name:`${this.id}-CrossLines-Label`,zIndex:13}),this.tickLineGroupSelection=Ki.select(this.tickLineGroup,cC,!1),this.tickLabelGroupSelection=Ki.select(this.tickLabelGroup,Qd,!1),this.gridLineGroupSelection=Ki.select(this.gridLineGroup,cC,!1),this._crossLines=[],this.line=new Cx,this.tick=new gf,this.gridLine=new vx,this.label=this.createLabel(),this.defaultTickMinSpacing=RB.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,spacing:this.label.spacing,format:this.label.format}},this.axisContext=void 0,this.labelFormatter=void 0,this.datumFormatter=void 0,this.scaleFormatterParams=void 0,this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new Po,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.animatable=!0,this._scaleNiceDomainInputDomain=void 0,this._scaleNiceDomainRangeExtent=NaN,this.moduleMap=new wA,this.range=this.scale.range.slice(),this.crossLines.forEach(s=>this.initCrossLine(s))}get type(){return this.constructor.type??""}get labelNodes(){return this.tickLabelGroupSelection.nodes()}set crossLines(t){const{CrossLineConstructor:i}=this.constructor;this._crossLines.forEach(s=>this.detachCrossLine(s)),this._crossLines=t.map(s=>{const n=new i;return n.set(s),n}),this._crossLines.forEach(s=>{this.attachCrossLine(s),this.initCrossLine(s)})}get crossLines(){return this._crossLines}resetAnimation(t){}attachCrossLine(t){this.crossLineRangeGroup.appendChild(t.rangeGroup),this.crossLineLineGroup.appendChild(t.lineGroup),this.crossLineLabelGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineRangeGroup.removeChild(t.rangeGroup),this.crossLineLineGroup.removeChild(t.lineGroup),this.crossLineLabelGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}updateScale(){const{range:t,visibleRange:i,scale:s}=this,n=(t[1]-t[0])/(i[1]-i[0]),r=n*i[0],o=t[0]-r;s.range=[o,o+n],this.crossLines.forEach(a=>{a.clippedRange=[t[0],t[1]]})}setCrossLinesVisible(t){this.crossLineRangeGroup.visible=t,this.crossLineLineGroup.visible=t,this.crossLineLabelGroup.visible=t}attachAxis(t){t.gridNode.appendChild(this.gridGroup),t.axisNode.appendChild(this.axisGroup),t.labelNode.appendChild(this.labelGroup),t.crossLineRangeNode.appendChild(this.crossLineRangeGroup),t.crossLineLineNode.appendChild(this.crossLineLineGroup),t.crossLineLabelNode.appendChild(this.crossLineLabelGroup)}detachAxis(t){t.gridNode.removeChild(this.gridGroup),t.axisNode.removeChild(this.axisGroup),t.labelNode.removeChild(this.labelGroup),t.crossLineRangeNode.removeChild(this.crossLineRangeGroup),t.crossLineLineNode.removeChild(this.crossLineLineGroup),t.crossLineLabelNode.removeChild(this.crossLineLabelGroup)}attachLabel(t){this.labelGroup.append(t)}inRange(t,i=0){const[s,n]=Es(this.range);return t>=s-i&&t<=n+i}defaultDatumFormatter(t,i){return al(t,i+1)}defaultLabelFormatter(t,i){return al(t,i)}onGridLengthChange(t,i){i^t&&this.onGridVisibilityChange(),this.crossLines.forEach(s=>this.initCrossLine(s))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new Cs}update(){this.updatePosition(),this.updateSelections(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled,this.updateLabels(),this.updateGridLines(),this.updateTickLines(),this.updateCrossLines()}getAxisLineCoordinates(){const[t,i]=Es(this.range);return{x:0,y1:t,y2:i}}getLabelStyles(t,i){const{label:s}=this,n={color:s.color,spacing:s.spacing,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight};let r;s.itemStyler&&(r=this.moduleCtx.callbackCache.call(s.itemStyler,{...t,...n}));const{color:o,fontFamily:a,fontSize:l,fontStyle:u,fontWeight:h,spacing:f}=bt(r,i,n);return{fill:o,fontFamily:a,fontSize:l,fontStyle:u,fontWeight:h,spacing:f}}getTickSize(){return this.tick.enabled?this.tick.size:0}setTitleProps(t,i){const{title:s}=this;if(!s.enabled){t.enabled=!1,t.node.visible=!1;return}t.enabled=!0,t.color=s.color,t.fontFamily=s.fontFamily,t.fontSize=s.fontSize,t.fontStyle=s.fontStyle,t.fontWeight=s.fontWeight,t.wrapping=s.wrapping;const n=t.node,r=(s.spacing??0)+i.spacing,o=this.label.getSideFlag(),a=ri(this.rotation),l=o===-1&&a>Math.PI&&a<Math.PI*2?-1:1,u=l*o*Math.PI/2,h=l===1?"bottom":"top",{range:f}=this,g=Math.floor(l*o*(f[0]+f[1])/2),m=Math.floor(o===-1?l*-r:-r),{callbackCache:y}=this.moduleCtx,{formatter:C=b=>b.defaultValue}=s,x=y.call(C,this.getTitleFormatterParams());t.text=x,n.setProperties({visible:!0,text:x,textBaseline:h,x:g,y:m,rotation:u})}processData(){const{includeInvisibleDomains:t,boundSeries:i,direction:s}=this,r=(t?i:i.filter(o=>o.isEnabled())).map(o=>o.getDomain(s));this.setDomains(...r)}setDomains(...t){let i,s;t.length>0?{domain:i,animatable:s}=this.scale.normalizeDomains(...t):(i=[],s=!0),this.dataDomain=this.normaliseDataDomain(i),this.reverse&&this.dataDomain.domain.reverse(),this.animatable=s}calculateLayout(t){const{scale:i,label:s,visibleRange:n,nice:r}=this;this.updateScale();const o=Xd(this.range),a=this.dataDomain.domain;let l;n[0]===0&&n[1]===1?l=void 0:r?this._scaleNiceDomainInputDomain===a&&this._scaleNiceDomainRangeExtent===o?l=this.scale.domain:l=this.calculateTickLayout(a,0,[0,1]).niceDomain:l=a;let u;r?l==null?u=0:u=1:u=2;const{niceDomain:h,primaryTickCount:f,ticks:g,tickDomain:m,fractionDigits:y,bbox:C}=this.calculateTickLayout(l??a,u,n,t);this.scale.domain=h,this._scaleNiceDomainInputDomain=r?a:void 0,this._scaleNiceDomainRangeExtent=r?o:NaN;const x=s.format;this.labelFormatter=i.tickFormatter({domain:m,specifier:x,ticks:g,fractionDigits:y})??(k=>this.defaultLabelFormatter(k,y)),this.datumFormatter=i.datumFormatter({domain:m,specifier:x,ticks:g,fractionDigits:y})??(k=>this.defaultDatumFormatter(k,y)),this.scaleFormatterParams={domain:m,ticks:g,fractionDigits:y},this.layout.label={fractionDigits:y,spacing:this.label.spacing,format:this.label.format};const b=s.getSideFlag(),w=this.isAnySeriesActive(),{rotation:M,parallelFlipRotation:A,regularFlipRotation:T}=this.calculateRotations();return this.crossLines.forEach(k=>{var F;var R;k.sideFlag=-b,k.direction=M===-Math.PI/2?"x":"y",k instanceof Kn&&((R=k.label).parallel??(R.parallel=s.parallel)),k.parallelFlipRotation=A,k.regularFlipRotation=T,(F=k.calculateLayout)==null||F.call(k,w,this.reverse)}),{primaryTickCount:f,bbox:C}}getTransformBox(t){const i=new ko,{rotation:s,translationX:n,translationY:r}=this.getAxisTransform();return ko.updateTransformMatrix(i,1,1,s,n,r),i.transformBBox(t)}calculateRotations(){const t=os(this.rotation),i=ri(t),s=ri(t-Math.PI/2);return{rotation:t,parallelFlipRotation:i,regularFlipRotation:s}}updateCrossLines(){const t=this.isAnySeriesActive();this.crossLines.forEach(i=>{i.update(t)})}updateTickLines(){const{tick:t,label:i}=this,s=i.getSideFlag();this.tickLineGroupSelection.each((n,r)=>{n.strokeWidth=r.tickWidth??t.width,n.stroke=r.tickStroke??t.stroke,n.x1=s*(r.tickSize??this.getTickSize()),n.x2=0})}getAxisTransform(){return{rotation:os(this.rotation),translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineRangeGroup:t,crossLineLineGroup:i,crossLineLabelGroup:s,gridGroup:n,translation:r}=this,{rotation:o}=this.calculateRotations(),a=Math.floor(r.x),l=Math.floor(r.y);t.setProperties({rotation:o,translationX:a,translationY:l}),i.setProperties({rotation:o,translationX:a,translationY:l}),s.setProperties({rotation:o,translationX:a,translationY:l}),n.setProperties({rotation:o,translationX:a,translationY:l})}updateGridLines(){const t=this.label.getSideFlag(),{gridLine:{style:i,width:s},gridPadding:n,gridLength:r}=this;r===0||i.length===0||this.gridLineGroupSelection.each((o,a,l)=>{const{stroke:u,lineDash:h}=i[l%i.length];o.setProperties({x1:n,x2:-t*r+n,stroke:u,strokeWidth:s,lineDash:h})})}formatTick(t,i,s,n){const{labelFormatter:r,label:{formatter:o},moduleCtx:{callbackCache:a}}=this;let l;return o?l=a.call(o,{value:t,index:i,fractionDigits:s}):n?l=n(t):r&&(l=r(t)),String(l??t)}formatDatum(t){const{label:{formatter:i},moduleCtx:{callbackCache:s},datumFormatter:n=this.labelFormatter}=this;let r;return i?r=s.call(i,{value:t,index:NaN}):n?r=s.call(n,t):ai(t)&&(r=t.filter(Boolean).join(" - ")),String(r??t)}getScaleValueFormatter(t){const{scaleFormatterParams:i}=this;let s;try{t!=null&&i!=null&&(s=this.scale.tickFormatter({...i,specifier:t}))}catch{Ne.warnOnce(`the format string ${t} is invalid, ignoring.`)}return s??(s=n=>this.formatDatum(n)),s}getBBox(){return this.axisGroup.getBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,i,s,n){this.tickLineGroup.setClipRect(new Ze(t,i,s,n))}clipGrid(t,i,s,n){this.gridGroup.setClipRect(new Ze(t,i,s,n))}getTitleFormatterParams(){var s;const{direction:t}=this,i=[];for(const n of this.boundSeries){const r=n.getKeys(t),o=n.getNames(t);for(let a=0;a<r.length;a++)i.push({key:r[a],name:o[a]})}return{direction:t,boundSeries:i,defaultValue:(s=this.title)==null?void 0:s.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:t}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:Vt.is(t)||ta.is(t),getCanvasBounds:()=>Li.toCanvas(this.axisGroup),seriesKeyProperties:()=>this.boundSeries.reduce((i,s)=>(s.getKeyProperties(this.direction).forEach(r=>i.add(r)),i),new Set),seriesIds:()=>this.boundSeries.map(i=>i.id),scaleValueFormatter:i=>this.getScaleValueFormatter(i),scaleInvert:i=>t.invert(i,!0),scaleInvertNearest:i=>t.invert(i,!0),attachLabel:i=>this.attachLabel(i),inRange:(i,s)=>this.inRange(i,s)}}isReversed(){return this.reverse}};vl.defaultTickMinSpacing=50;vl.CrossLineConstructor=Kn;E([L(et)],vl.prototype,"nice",2);E([L(et)],vl.prototype,"reverse",2);E([L(z4)],vl.prototype,"keys",2);E([L($e)],vl.prototype,"interval",2);E([L($e)],vl.prototype,"title",2);E([Rc((e,t,i)=>e.onGridLengthChange(t,i))],vl.prototype,"gridLength",2);var kA=vl;function ane(e,t,i,s,n,r){if(e.size===0)return!1;let o=e.x,a=e.y;t!=null&&(o-=(t.x-.5)*e.size,a-=(t.y-.5)*e.size);let l=o;o<i?l=i:o>i+n&&(l=i+n);let u=a;a<s?u=s:a>s+r&&(u=s+r);const h=o-l,f=a-u;return Math.sqrt(h*h+f*f)<=e.size*.5}function kB(e,t,i,s,n){const r=e.x+e.width>t&&e.x<t+s,o=e.y+e.height>i&&e.y<i+n;return r&&o}function lne(e,t,i,s,n){return t+s<e.x+e.width&&t>e.x&&i>e.y&&i+n<e.y+e.height}function cne(e){return e!=null&&typeof e.point=="object"&&typeof e.label=="object"}var une={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function hne(e,t,i=5){var a;const s=new Map,n=[],r=new Map([...e.entries()].map(([l,u])=>[l,u.toSorted((h,f)=>f.point.size-h.point.size)])),o=[...r.values()].flat();for(const[l,u]of r.entries()){const h=[];if((a=u[0])!=null&&a.label){for(let f=0,g=u.length;f<g;f++){const m=u[f],{point:y,label:C,anchor:x}=m,{text:b,width:w,height:M}=C,A=y.size*.5;let T=0,k=0;if(A>0&&m.placement!=null){const Q=une[m.placement];T=(w*.5+A+i)*Q.x,k=(M*.5+A+i)*Q.y}const R=y.x-w*.5+T-(((x==null?void 0:x.x)??.5)-.5)*y.size,F=y.y-M*.5+k-(((x==null?void 0:x.y)??.5)-.5)*y.size;if(!(!t||lne(t,R,F,w,M))||o.some(Q=>ane(Q.point,Q.anchor,R,F,w,M))||n.some(Q=>kB(Q,R,F,w,M)))continue;const V={index:f,text:b,x:R,y:F,width:w,height:M,datum:m};h.push(V),n.push(V)}s.set(l,h)}}return s}function dne(e,t=0){const i=[];for(let s=0;s<e.length;s++){const n=e[s],{point:{x:r,y:o},label:{text:a}}=n;let{width:l,height:u}=n.label;if(l+=t,u+=t,i.some(h=>kB(h,r,o,l,u)))return!0;i.push({index:s,text:a,x:r,y:o,width:l,height:u,datum:n})}return!1}function fne(e,t,i){let[s,n]=Es(e);s=gne(Math.floor(s),n,t);const r=mne(s,n,t),o=t-1;n=s+o*r;const a=i?[n,s]:[s,n],l=pne(s,r,t);return{domain:a,ticks:l}}function gne(e,t,i){const s=Math.abs(t-e)/(i-1),n=Math.floor(Math.log10(s)),r=Math.pow(10,n);return Math.floor(e/r)*r}function pne(e,t,i){const s=Math.floor(Math.log10(t)),n=t>0&&t<1?Math.abs(s):0,r=Math.pow(10,n),o=[];for(let a=0;a<i;a++){const l=e+t*a;o[a]=Math.round(l*r)/r}return o}function mne(e,t,i){const s=i-1,n=(t-e)/s;return yne(n)}function yne(e){const t=Math.floor(Math.log10(e)),i=Math.pow(10,t),s=e/i*10;return s>0&&s<=1?i/10:s>1&&s<=2?2*i/10:s>1&&s<=5?5*i/10:s>5&&s<=10?10*i/10:s>10&&s<=20?20*i/10:s>20&&s<=40?40*i/10:s>40&&s<=50?50*i/10:s>50&&s<=100?100*i/10:s}function IA(){const e=new Map;return t=>{const i=e.get(t);return i?(e.set(t,i+1),`${t}_${i}`):(e.set(t,1),t)}}var IB=class{constructor(e){this.axis=e}estimateTickCount(e,t,i){return gB(Xd(this.axis.range),Xd(e),t,i,Vt.defaultTickCount,this.axis.defaultTickMinSpacing)}filterTicks(e,t){const{minSpacing:i,maxSpacing:s}=this.axis.interval,r=!isNaN(i)||!isNaN(s)?Math.ceil(e.length/t):2,o=e.length%r?-1:0;return e.filter((a,l)=>(l+o)%r===0)}generateTicks({domain:e,primaryTickCount:t,visibleRange:i,niceMode:s,parallelFlipRotation:n,regularFlipRotation:r,labelX:o,sideFlag:a}){const{scale:l,label:u,interval:{minSpacing:h,maxSpacing:f}}=this.axis,{parallel:g,rotation:m,fontFamily:y,fontSize:C,fontStyle:x,fontWeight:b}=u,w=t!==void 0,{defaultRotation:M,configuredRotation:A,parallelFlipFlag:T,regularFlipFlag:k}=oC({rotation:m,parallel:g,regularFlipRotation:r,parallelFlipRotation:n}),R=A+M,F=new ko,{maxTickCount:I}=this.estimateTickCount(i,h,f),G=!(Vt.is(l)||ta.is(l))||isNaN(I)?10:I;let V=OF(g,A,0,a,k);const Q=Xse(g,A,a,T),pe=bi.toFontString({fontFamily:y,fontSize:C,fontStyle:x,fontWeight:b}),ae=yl.getMeasurer({font:pe}),se={fontFamily:y,fontSize:C,fontStyle:x,fontWeight:b,textBaseline:Q,textAlign:V},le=u.enabled&&u.avoidCollisions,re=({ticks:K},ne)=>{if(!le)return!1;const ge=A!==0||ne!==0,ce=R+ne,ue=$se(u.minSpacing,ge);ko.updateTransformMatrix(F,1,1,ce,0,0);const de=Zse(K,o,F,ae);return dne(de,ue)};let J={tickDomain:[],ticks:[],rawTicks:[],fractionDigits:0,niceDomain:void 0},z=0,ee=0,O=!0,j=!1;for(;!j&&O&&z<=G;){ee=0;for(const K of this.getTickStrategies({domain:e,niceMode:s,secondaryAxis:w,index:z}))({tickData:J,index:z,autoRotation:ee,terminate:j}=K({index:z,tickData:J,textProps:se,terminate:j,primaryTickCount:t,visibleRange:i,get labelOverlap(){return re(J,ee)}}));O=re(J,ee)}V=OF(g,A,ee,a,k);const H=M+A+ee;return!w&&J.rawTicks.length>0&&(t=J.rawTicks.length),{tickData:J,primaryTickCount:t,combinedRotation:H,textBaseline:Q,textAlign:V}}getTickStrategies({domain:e,niceMode:t,index:i,secondaryAxis:s}){const{scale:n,label:r,interval:o}=this.axis,{minSpacing:a}=o,l=Vt.is(n)||ta.is(n),u=r.enabled&&r.avoidCollisions,h=!l&&i!==0&&u,f=r.autoRotate===!0&&r.rotation===void 0,g=[];let m;o.values?m=3:s?m=1:h?m=2:m=0;const y=({index:C,tickData:x,primaryTickCount:b,visibleRange:w,terminate:M})=>this.createTickData(e,t,w,b,m,C,x,M);if(g.push(y),!l&&!isNaN(a)){const C=({index:x,tickData:b,primaryTickCount:w,visibleRange:M,terminate:A})=>this.createTickData(e,t,M,w,2,x,b,A);g.push(C)}if(u&&f){const C=({index:x,tickData:b,labelOverlap:w,terminate:M})=>({index:x,tickData:b,autoRotation:w?ri(os(r.autoRotateAngle??0)):0,terminate:M});g.push(C)}return g}createTickData(e,t,i,s,n,r,o,a){const{scale:l,interval:u}=this.axis,{step:h,values:f,minSpacing:g,maxSpacing:m}=u,{maxTickCount:y,minTickCount:C,tickCount:x}=this.estimateTickCount(i,g,m),b=Vt.is(l)||ta.is(l),w=!b||isNaN(y)?10:y,M=T=>b?Math.max(x-T,C):y,A=h==null&&f==null&&M(r)>C&&(b||n===2);for(;r<=w;){const T=o.rawTicks;if(o=this.getTicks({domain:e,niceMode:t,visibleRange:i,tickGenerationType:n,previousTicks:T,minTickCount:C,maxTickCount:y,primaryTickCount:s,tickCount:M(r)}),r++,!A||!ea(o.rawTicks,T))break}return a||(a=h!=null||f!=null),{tickData:o,index:r,autoRotation:0,terminate:a}}getTicks({domain:e,niceMode:t,visibleRange:i,tickGenerationType:s,previousTicks:n,tickCount:r,minTickCount:o,maxTickCount:a,primaryTickCount:l}){const{axis:u}=this,{label:h,range:f,scale:g,interval:m}=u,y=IA(),C={nice:t===0,interval:m.step,tickCount:r,minTickCount:o,maxTickCount:a},x={...C,nice:t===0||t===1};let b=t===0?g.niceDomain(C,e):e,w=b,M;switch(s){case 3:if(w=m.values,M=m.values,Vt.is(g)){const[N,G]=Es(b.map(Number));M=M.filter(V=>Number(V)>=N&&Number(V)<=G).sort((V,Q)=>Number(V)-Number(Q))}break;case 1:if(Vt.is(g)){const N=fne(e.map(Number),l??0,u.reverse);M=N.ticks,b=N.domain.map(G=>g.toDomain(G))}else M=g.ticks(x,b,i)??[];break;case 2:M=this.filterTicks(n,r);break;default:M=g.ticks(x,b,i)??[]}const A=M.reduce((N,G)=>Math.max(N,typeof G=="number"?sx(G):0),0),T={domain:w,ticks:M,fractionDigits:A,specifier:h.format},k=g.tickFormatter(T),R=g.domain;g.domain=b;const F=(g.bandwidth??0)/2,I=[];for(let N=0;N<M.length;N++){const G=M[N],V=g.convert(G)+F;if(f.length>0&&!u.inRange(V,.001))continue;const Q=h.enabled?u.formatTick(G,N,A,k):"";I.push({tick:G,tickId:y(Q),tickLabel:Q,translationY:Math.floor(V)})}return g.domain=R,{tickDomain:w,rawTicks:M,fractionDigits:A,ticks:I,niceDomain:b}}},LA=class extends Cs{constructor(){super(...arguments),this.autoRotateAngle=335}};E([L(et,{optional:!0})],LA.prototype,"autoRotate",2);E([L(Tt)],LA.prototype,"autoRotateAngle",2);var FA=class LB extends kA{constructor(t,i){super(t,i),this.lineNode=this.axisGroup.appendChild(new cC({name:`${this.id}-Axis-line`,zIndex:1})),this.tempText=new Qd,this.tempCaption=new ei,this.tickGenerator=new IB(this),this.generatedTicks=void 0,this.animationManager=t.animationManager,this.animationState=new Rm("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:n=>this.animateReadyUpdate(n),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.axisGroup.appendChild(this.title.caption.node);let s;this.destroyFns.push(t.layoutManager.addListener("layout:complete",n=>{const r=[n.chart.width,n.chart.height];s!=null&&!ea(r,s)&&this.animationState.transition("resize"),s=r}),this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}static is(t){return t instanceof LB}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new LA}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}calculateLayout(t){return this.updateDirection(),super.calculateLayout(t)}calculateTickLayout(t,i,s,n){const r=this.label.getSideFlag(),{parallelFlipRotation:o,regularFlipRotation:a}=this.calculateRotations(),l=r*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),u=this.tickGenerator.generateTicks({domain:t,niceMode:i,visibleRange:s,primaryTickCount:n,parallelFlipRotation:o,regularFlipRotation:a,labelX:l,sideFlag:r}),{tickData:h,primaryTickCount:f=n}=u,{ticks:g,tickDomain:m,rawTicks:y,fractionDigits:C,niceDomain:x=t}=h,b=g.map(M=>this.getTickLabelProps(M,u)),w=this.tickBBox(g,b);return this.generatedTicks={ticks:g,labels:b},{ticks:y,tickDomain:m,niceDomain:x,primaryTickCount:f,fractionDigits:C,bbox:w}}update(){var r;this.updateDirection();const t=Array.from(this.tickLabelGroupSelection.nodes(),o=>o.datum.tickId);if(super.update(),this.animatable||this.moduleCtx.animationManager.skipCurrentBatch(),this.generatedTicks){const{ticks:o}=this.generatedTicks;if(this.animationManager.isSkipped())this.resetSelectionNodes();else{const a=o.map(u=>u.tickId),l=Lte(t,a);this.animationState.transition("update",l)}}const{enabled:i,stroke:s,width:n}=this.line;this.lineNode.setProperties({stroke:s,strokeWidth:i?n:0}),this.updateTitle(!((r=this.generatedTicks)!=null&&r.ticks.length))}updatePosition(){super.updatePosition(),this.axisGroup.datum=this.getAxisTransform()}tickBBox(t,i){var f;const s=this.label.getSideFlag(),n=[],{x:r,y1:o,y2:a}=this.getAxisLineCoordinates(),l=new Ze(r+Math.min(s*this.seriesAreaPadding,0),o,this.seriesAreaPadding,a-o);if(n.push(l),this.tick.enabled)for(const g of t){const{x1:m,x2:y,y:C}=this.getTickLineCoordinates(g),x=new Ze(m,C,y-m,0);n.push(x)}const{tempText:u}=this;if(this.label.enabled)for(const g of i){if(!g.visible)continue;u.setProperties({...g,translationY:Math.round(g.translationY)});const m=u.getBBox();m&&n.push(m)}if((f=this.title)!=null&&f.enabled){const g=Ze.merge(n).width;this.setTitleProps(this.tempCaption,{spacing:g});const m=this.tempCaption.node.getBBox();m&&n.push(m)}const h=Ze.merge(n);return this.getTransformBox(h)}getTickLabelProps(t,i){const{combinedRotation:s,textBaseline:n,textAlign:r}=i,{range:o}=this.scale,a=t.tickLabel,u=this.label.getSideFlag()*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),h=a!==""&&a!=null;return{...this.getLabelStyles({value:t.tickLabel}),tickId:t.tickId,rotation:s,rotationCenterX:u,translationY:t.translationY,text:a,textAlign:r,textBaseline:n,visible:h,x:u,y:0,range:o}}getTickLineCoordinates(t){const s=this.label.getSideFlag()*this.getTickSize(),n=Math.min(0,s),r=n+Math.abs(s),o=t.translationY;return{x1:n,x2:r,y:o}}updateSelections(){if(!this.generatedTicks)return;const t=this.getAxisLineCoordinates(),{ticks:i,labels:s}=this.generatedTicks,n=r=>r.tickId;this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?i:[],void 0,n),this.tickLineGroupSelection.update(i,void 0,n),this.tickLabelGroupSelection.update(s,void 0,n)}updateTitle(t,i){const{title:s,tickLineGroup:n,tickLabelGroup:r,lineNode:o}=this;s.enabled&&!t&&i==null&&(i=ot.computeChildrenBBox([n,r,o]).width+(r.visible?0:this.seriesAreaPadding)),i??(i=0),this.setTitleProps(s.caption,{spacing:i})}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((t,i)=>{t.fill=i.fill,t.fontFamily=i.fontFamily,t.fontSize=i.fontSize,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.text=i.text,t.textBaseline=i.textBaseline,t.textAlign=i.textAlign??"center"})}animateReadyUpdate(t){const{animationManager:i}=this.moduleCtx,s=lC(this),n=DB(s);ki(this.id,"axis-group",i,[this.axisGroup],n.group),ki(this.id,"line",i,[this.lineNode],n.line),ki(this.id,"line-paths",i,[this.gridLineGroupSelection,this.tickLineGroupSelection],n.tick,(r,o)=>o.tickId,t),ki(this.id,"tick-labels",i,[this.tickLabelGroupSelection],n.label,(r,o)=>o.tickId,t)}resetSelectionNodes(){const t=lC(this);Ms([this.axisGroup],AB()),Ms([this.gridLineGroupSelection,this.tickLineGroupSelection],TA(t)),Ms([this.tickLabelGroupSelection],RA()),Ms([this.lineNode],EB())}};E([L(Ve,{optional:!0})],FA.prototype,"thickness",2);E([L(hA)],FA.prototype,"position",2);var km=FA,pf=class FB extends km{constructor(t,i=new wm){super(t,i),this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}static is(t){return t instanceof FB}normaliseDataDomain(t){return{domain:t,clipped:!1}}updateScale(){super.updateScale();let{paddingInner:t,paddingOuter:i}=this;if(!It(t)||!It(i)){const s=this.reduceBandScalePadding();t??(t=s.inner),i??(i=s.outer)}this.scale.paddingInner=t??0,this.scale.paddingOuter=i??0}reduceBandScalePadding(){return this.boundSeries.reduce((t,i)=>{var n;const s=(n=i.getBandScalePadding)==null?void 0:n.call(i);return s&&(t.inner>s.inner&&(t.inner=s.inner),t.outer<s.outer&&(t.outer=s.outer)),t},{inner:1/0,outer:-1/0})}};pf.className="CategoryAxis";pf.type="category";E([L(Wt)],pf.prototype,"groupPaddingInner",2);E([L(Wt,{optional:!0})],pf.prototype,"paddingInner",2);E([L(Wt,{optional:!0})],pf.prototype,"paddingOuter",2);var mf=pf,xx=class{constructor(){this.destroyFns=[]}destroy(){for(const e of this.destroyFns)e()}},vne=class{constructor(){this.modules=[],this.dependencies=new Map,this.modulesByOptionKey=new Map}register(...e){for(const t of e){this.registerDependencies(t);const i=this.modules.find(s=>t.type===s.type&&("optionsKey"in t&&"optionsKey"in s?t.optionsKey===s.optionsKey:!0)&&t.identifier===s.identifier);if(i){if(t.packageType==="enterprise"&&i.packageType==="community"){const s=this.modules.indexOf(i);this.modules.splice(s,1,t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}else this.modules.push(t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}hasEnterpriseModules(){return this.modules.some(e=>e.packageType==="enterprise")}*byType(...e){const t=new Set,i=this.modules.filter(r=>e.includes(r.type)),s=r=>{const o=this.dependencies.get(r);return(o==null?void 0:o.flatMap(s).concat(o))??[]},n=[];for(const r of i){const o="optionsKey"in r?r.optionsKey:r.contextKey;if(!t.has(o)){for(const a of s(o)){if(t.has(a))continue;const l=this.modulesByOptionKey.get(a);if(!l){n.push(a);continue}e.includes(l.type)&&(yield l,t.add(a))}yield r,t.add(o)}}if(n.length>0)throw new Error(`Could not resolve module dependencies: ${n}`)}registerDependencies(e){if(e.dependencies==null||e.dependencies.length===0)return;const t="optionsKey"in e?e.optionsKey:e.contextKey;this.dependencies.set(t,e.dependencies)}},ia=new vne,UF=class{constructor(){this.queue=[]}await(e=50){return new Promise(t=>{const i=()=>{clearTimeout(n),t(!0)},n=setTimeout(()=>{const r=this.queue.indexOf(i);r<0||(this.queue.splice(r,1),t(!1))},e);this.queue.push(i)})}notify(){this.queue.splice(0).forEach(e=>e())}};function Cne(){return new Promise(e=>{setTimeout(e,0)})}function uC(e,t){e&&(t=JC.normalize(t),t.width==null?e.style.removeProperty("width"):e.style.width=`${t.width}px`,t.height==null?e.style.removeProperty("height"):e.style.height=`${t.height}px`,t.x==null?e.style.removeProperty("left"):e.style.left=`${t.x}px`,t.y==null?e.style.removeProperty("top"):e.style.top=`${t.y}px`)}function PB(e){const t=parseFloat(e.style.width)||e.offsetWidth,i=parseFloat(e.style.height)||e.offsetHeight,s=parseFloat(e.style.left)||e.offsetLeft,n=parseFloat(e.style.top)||e.offsetTop;return{x:s,y:n,width:t,height:i}}function xne(e){var s;if(e.focus({preventScroll:!0}),((s=e.lastChild)==null?void 0:s.textContent)==null)return;const t=rl().createRange();t.setStart(e.lastChild,e.lastChild.textContent.length),t.setEnd(e.lastChild,e.lastChild.textContent.length);const i=oi().getSelection();i==null||i.removeAllRanges(),i==null||i.addRange(t)}var bne=0;function Sne(e){return`${e??"ag-charts-element"}-${bne++}`}function OB(){const e=oi("navigator");if("scheduling"in e){const t=e.scheduling;if("isInputPending"in t)return t.isInputPending({includeContinuous:!0})}return!1}function bx(e){return`ag-charts-icon ag-charts-icon-${e}`}var PM="class-instance";function ll(e,t,i){if(ai(t)){if(!ai(e)||e.length!==t.length||t.some((s,n)=>ll(e[n],s)!=null))return t}else if(tn(t)){if(!tn(e))return t;const s={},n=new Set([...Object.keys(e),...Object.keys(t)]);for(const r of n)if(!(e[r]===t[r]||i!=null&&i.includes(r)))if(typeof e[r]==typeof t[r]){const o=ll(e[r],t[r]);o!==null&&(s[r]=o)}else s[r]=t[r];return Object.keys(s).length?s:null}else if(e!==t)return t;return null}function NB(e,t){for(const i of Object.keys(e))if(e[i]!==(t==null?void 0:t[i]))return!1;return!0}function ns(e,t){return ai(e)?e.map(i=>ns(i,t)):tn(e)?wne(e,t):e instanceof Map?new Map(ns(Array.from(e))):PA(e)}function wne(e,t){const i={};for(const s of Object.keys(e))i[s]=t!=null&&t.has(s)?PA(e[s]):ns(e[s],t);return i}function PA(e){return ai(e)?e.slice(0):tn(e)?{...e}:uf(e)?new Date(e):Nte(e)?new RegExp(e.source,e.flags):e}function Wa(e,t,i,s,n,r){if(ai(e)){r=t(e,s,n,r);let o=0;for(const a of e)r=Wa(a,t,i,s==null?void 0:s[o],n,r),o++}else if(tn(e)){r=t(e,s,n,r);for(const o of Object.keys(e)){if(i!=null&&i.has(o))continue;const a=e[o];r=Wa(a,t,i,s==null?void 0:s[o],n,r)}}return r}function dp(e,t,i={}){const{path:s,matcherPath:n=s==null?void 0:s.replace(/(\[[0-9+]+])/i,"[]"),skip:r=[]}=i;if(e==null)throw new Error(`AG Charts - target is uninitialised: ${s??"<root>"}`);if(t==null)return e;if(oa(e))return e.set(t);const o=e,a=n1(e);for(const l of Object.keys(t)){if(nA.has(l))continue;const u=`${n?n+".":""}${l}`;if(r.includes(u))continue;const h=t[l],f=`${s?s+".":""}${l}`,g=o.constructor,m=o[l];try{const y=n1(m),C=n1(h);if(a===PM&&!(l in e)){if(h===void 0)continue;Ne.warn(`unable to set [${f}] in ${g==null?void 0:g.name} - property is unknown`);continue}if(y!=null&&C!=null&&C!==y&&(y!==PM||C!=="object")){Ne.warn(`unable to set [${f}] in ${g==null?void 0:g.name} - can't apply type of [${C}], allowed types are: [${y}]`);continue}if(oa(m))o[l].set(h);else if(C==="object"){if(m==null){Ne.warn(`unable to set [${f}] in ${g==null?void 0:g.name} - property is unknown`);continue}dp(m,h,{...i,path:f,matcherPath:u})}else o[l]=h}catch(y){Ne.warn(`unable to set [${f}] in [${g==null?void 0:g.name}]; nested error is: ${y.message}`)}}return e}function n1(e){return e==null?null:_te(e)||uf(e)?"primitive":ai(e)?"array":Ds(e)?tn(e)?"object":PM:ch(e)?"function":"primitive"}function _B(e,t,i){return OM(e,t,e,i)}function OM(e,t,i,s,n=[],r={}){if(ai(e)){jF(e,t,i,n,r);let o=0;for(const a of e)OM(a,t,i,s,[...n,`${o}`],r),o++}else if(tn(e)){jF(e,t,i,n,r);for(const o of Object.keys(e)){if(s!=null&&s.has(o))continue;const a=e[o];OM(a,t,i,s,[...n,o],r)}}return r}function jF(e,t,i,s,n){if(ai(e))for(let r=0;r<e.length;r++)e[r]=YF(e[r],t,i,[...s,`${r}`],n);else for(const[r,o]of Object.entries(e))e[r]=YF(o,t,i,[...s,r],n)}function YF(e,t,i,s,n){const{operation:r,values:o}=OA(e);return r?(n[s.join(".")]=e,GB(r,o,t,i,s,new Set)):e}var BB=(e=>(e.Ref="$ref",e.Path="$path",e.If="$if",e.Eq="$eq",e.Not="$not",e.Or="$or",e.And="$and",e.Mul="$mul",e.Round="$round",e.Rem="$rem",e.Mix="$mix",e.ForegroundBackgroundMix="$foregroundBackgroundMix",e.ForegroundBackgroundAccentMix="$foregroundBackgroundAccentMix",e))(BB||{}),Mne=new Set(Object.values(BB));function OA(e){if(!tn(e))return{};const[t,...i]=Object.keys(e);return i.length!==0||!Mne.has(t)?{}:{operation:t,values:e[t]}}function GB(e,t,i,s,n,r){return ai(t)&&(t=t.map(o=>{const{operation:a,values:l}=OA(o);return a?GB(a,l,i,s,n,r):o})),zB[e](t,i,s,n,r)}function Ny(e){return Hr(e)&&e>=0&&e<=1}var zB={$ref:(e,t,i,s,n)=>{if(Un(e)&&e in t){const{operation:r,values:o}=OA(t[e]);if(r!=="$ref")return t[e];if(n!=null&&n.has(o)){Ne.warnOnce(`\`$ref\` json operation failed on [${String(e)}] at [${s.join(".")}], circular reference detected with [${[...n].join(", ")}].`);return}return n==null||n.add(o),zB.$ref(o,t,i,s,n)}Ne.warnOnce(`\`$ref\` json operation failed on [${String(e)}] at [${s.join(".")}], expecting one of [${Object.keys(t).join(", ")}].`)},$path:(e,t,i,s)=>{if(!Un(e)){Ne.warnOnce(`\`$path\` json operation failed on [${String(e)}] at [${s.join(".")}], expecting a string.`);return}const n=e.split("/"),r=[...s];for(const a of n)a===".."?(r.pop(),r.pop()):a==="."?r.pop():r.push(a);let o=i;for(const a of r){if(!(a in o)){Ne.warnOnce(`\`$path\` json operation failed on [${String(e)}] at [${s.join(".")}], could not find path in object.`);return}o=o[a]}return o},$if:([e,t,i])=>e?t:i,$eq:([e,t])=>e===t,$not:([e,t])=>e!==t,$or:([e,t])=>e||t,$and:([e,t])=>e&&t,$mul:([e,t],i,s,n)=>{if(typeof e=="number"&&typeof t=="number")return e*t;Ne.warnOnce(`\`$mul\` json operation failed on [${String(e)}] and [${String(t)}] at [${n.join(".")}], expecting two numbers.`)},$round:([e],t,i,s)=>{if(typeof e=="number")return Math.round(e);Ne.warnOnce(`\`$round\` json operation failed on [${String(e)}] at [${s.join(".")}], expecting a number.`)},$rem:([e],t)=>{if(typeof e=="number")return Math.round(e*t.fontSize)},$mix:([e,t,i],s,n,r)=>{if(typeof e=="string"&&typeof t=="string"&&Ny(i))try{return Ei.mix(Ei.fromString(e),Ei.fromString(t),i).toString()}catch{}Ne.warnOnce(`\`$mix\` json operation failed on [${String(e)}, ${String(t)}, ${String(i)}] at [${r.join(".")}], expecting two colors and a number between 0 and 1.`)},$foregroundBackgroundMix:([e],t,i,s)=>{if(Ny(e))return Ei.mix(Ei.fromString(t.foregroundColor),Ei.fromString(t.backgroundColor),e).toString();Ne.warnOnce(`\`$foregroundBackgroundMix\` json operation failed on [${String(e)}}}] at [${s.join(".")}], expecting a number between 0 and 1.`)},$foregroundBackgroundAccentMix:([e,t],i,s,n)=>{if(Ny(e)&&Ny(t))return Ei.mix(Ei.mix(Ei.fromString(i.foregroundColor),Ei.fromString(i.backgroundColor),e),Ei.fromString(i.accentColor),t).toString();Ne.warnOnce(`\`$foregroundBackgroundAccentMix\` json operation failed on [${String(e)}, ${String(t)}}] at [${n.join(".")}], expecting two numbers between 0 and 1.`)}},Dne=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch(i=>Ne.errorOnce(i))})}async acquireImmediately(e){return this.available?(await this.acquire(e),!0):!1}async waitForClearAcquireQueue(){return this.acquire(()=>Promise.resolve(void 0))}async dispatchNext(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{await e(),t==null||t()}catch(i){Ne.error("mutex callback error",i),t==null||t()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0}},HB=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(e);i?i.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){var i;(i=this.eventListeners.get(e))==null||i.delete(t),this.eventListeners.size===0&&this.eventListeners.delete(e)}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){var t;(t=this.eventListeners.get(e.type))==null||t.forEach(i=>i(e))}},Ic=class extends ut{constructor(e=0,t=e,i=e,s=t){super(),this.top=e,this.right=t,this.bottom=i,this.left=s}};E([L(Ve)],Ic.prototype,"top",2);E([L(Ve)],Ic.prototype,"right",2);E([L(Ve)],Ic.prototype,"bottom",2);E([L(Ve)],Ic.prototype,"left",2);function Ane(e){return VB((t,i)=>oi().requestAnimationFrame(t),e)}function Ene(e){return VB((t,i=0)=>{i===0?queueMicrotask(t):setTimeout(t,i)},e)}function VB(e,t){let i=0,s=!1,n,r;const o=()=>s,a=()=>{s=!1,r==null||r(),r=void 0,n=void 0,i>0&&e(l)},l=()=>{const u=i;i=0,s=!0;const h=t({count:u});if(!h){a();return}h.then(a,a)};return{schedule(u){i===0&&!o()&&e(l,u),i++},async await(){if(o())for(n==null&&(n=new Promise(u=>{r=u}));o();)await n}}}function lu(e){return e==="true"}function Tne(e){return Number(e)}function co(e){return e}var r1={role:co,"aria-checked":lu,"aria-controls":co,"aria-describedby":co,"aria-disabled":lu,"aria-expanded":lu,"aria-haspopup":lu,"aria-hidden":lu,"aria-label":co,"aria-labelledby":co,"aria-live":co,"aria-orientation":co,"aria-selected":lu,"data-preventdefault":lu,class:co,id:co,tabindex:Tne,title:co,placeholder:co};function Zt(e,t,i){i==null||i===""||i===""?e==null||e.removeAttribute(t):e==null||e.setAttribute(t,i.toString())}function Ju(e,t){if(t!=null)for(const[i,s]of Object.entries(t))i!=="class"&&Zt(e,i,s)}function Sx(e,t,i){var n;if(!(e instanceof HTMLElement))return;const s=e.getAttribute(t);return s===null?i:((n=r1[t])==null?void 0:n.call(r1,s))??void 0}function bo(e,t,i){e!=null&&(i==null?e.style.removeProperty(t):e.style.setProperty(t,i.toString()))}function Rne(e,t){for(const[i,s]of Object.entries(t))bo(e,i,s)}var NA=["blur","change","contextmenu","focus","keydown","keyup","click","dblclick","mouseenter","mousemove","mouseleave","wheel","touchstart","touchmove","touchend","touchcancel"];function ad(e,t,i){const{offsetX:s,offsetY:n,clientX:r,clientY:o}=t,{currentX:a,currentY:l}=Za.calcCurrentXY(i,t);return{type:e,offsetX:s,offsetY:n,clientX:r,clientY:o,currentX:a,currentY:l,sourceEvent:t}}function _y(e,t,i){return{type:e,sourceEvent:t}}var kne={blur:e=>({type:"blur",sourceEvent:e}),change:e=>({type:"change",sourceEvent:e}),contextmenu:(e,t)=>ad("contextmenu",e,t),focus:e=>({type:"focus",sourceEvent:e}),keydown:e=>({type:"keydown",sourceEvent:e}),keyup:e=>({type:"keyup",sourceEvent:e}),click:(e,t)=>ad("click",e,t),dblclick:(e,t)=>ad("dblclick",e,t),mouseenter:(e,t)=>ad("mouseenter",e,t),mousemove:(e,t)=>ad("mousemove",e,t),mouseleave:(e,t)=>ad("mouseleave",e,t),wheel:e=>{const{offsetX:t,offsetY:i,clientX:s,clientY:n}=e,r=e.deltaMode===0?.01:1,o=e.deltaX*r,a=e.deltaY*r;return{type:"wheel",offsetX:t,offsetY:i,clientX:s,clientY:n,deltaX:o,deltaY:a,sourceEvent:e}},touchstart:(e,t)=>_y("touchstart",e),touchmove:(e,t)=>_y("touchmove",e),touchend:(e,t)=>_y("touchend",e),touchcancel:(e,t)=>_y("touchcancel",e)},Za=class{static alloc(e,t,i){return kne[e](t,i)}static isHTMLEvent(e){return NA.includes(e)}static calcCurrentXY(e,t){const i=e.getBoundingClientRect();return{currentX:t.clientX-i.x,currentY:t.clientY-i.y}}},Ine=class{constructor(){this.widgetListeners={},this.sourceListeners={}}initSourceHandler(e,t){this.sourceListeners??(this.sourceListeners={}),this.sourceListeners[e]=t}lazyGetWidgetListeners(e,t){var i;if(!(e in(this.sourceListeners??{}))){const s=r=>{var a;const o=Za.alloc(e,r,t.getElement());for(const l of((a=this.widgetListeners)==null?void 0:a[e])??[])l(o,t)},n={};e.startsWith("touch")&&(n.passive=!1),this.initSourceHandler(e,s),t.getElement().addEventListener(e,s,n)}return this.widgetListeners??(this.widgetListeners={}),(i=this.widgetListeners)[e]??(i[e]=[]),this.widgetListeners[e]}add(e,t,i){this.lazyGetWidgetListeners(e,t).push(i)}remove(e,t,i){const s=this.lazyGetWidgetListeners(e,t),n=s.indexOf(i);n>-1&&s.splice(n,1)}destroy(e){for(const[t,i]of Object.entries(this.sourceListeners??{})){const s=t;e.getElement().removeEventListener(s,i)}this.widgetListeners=void 0,this.sourceListeners=void 0}},Lne=class{constructor(e,t,i,s){this.glob=e,this.self=t,this.window=oi(),this.mousegeneral=l=>{l.stopPropagation(),l.stopImmediatePropagation()},this.mousemove=l=>{var u;l.stopPropagation(),l.stopImmediatePropagation(),(u=this.glob.globalMouseDragCallbacks)==null||u.mousemove(l)},this.mouseup=l=>{var u;l.button===0&&(l.stopPropagation(),l.stopImmediatePropagation(),(u=this.glob.globalMouseDragCallbacks)==null||u.mouseup(l),this.destroy())};const{window:n,mousegeneral:r,mousemove:o,mouseup:a}=this;n.addEventListener("mousedown",r,{capture:!0}),n.addEventListener("mouseenter",r,{capture:!0}),n.addEventListener("mouseleave",r,{capture:!0}),n.addEventListener("mouseout",r,{capture:!0}),n.addEventListener("mouseover",r,{capture:!0}),n.addEventListener("mousemove",o,{capture:!0}),n.addEventListener("mouseup",a,{capture:!0}),t.mouseDragger=this,e.globalMouseDragCallbacks=i,e.globalMouseDragCallbacks.mousedown(s)}destroy(){const{window:e,mousegeneral:t,mousemove:i,mouseup:s}=this;e.removeEventListener("mousedown",t,{capture:!0}),e.removeEventListener("mouseenter",t,{capture:!0}),e.removeEventListener("mouseleave",t,{capture:!0}),e.removeEventListener("mouseout",t,{capture:!0}),e.removeEventListener("mouseover",t,{capture:!0}),e.removeEventListener("mousemove",i,{capture:!0}),e.removeEventListener("mouseup",s,{capture:!0}),this.glob.globalMouseDragCallbacks=void 0,this.self.mouseDragger=void 0}};function Fne(e,t,i,s){if(e.globalMouseDragCallbacks==null)return new Lne(e,t,i,s)}var Pne=500,One=100;function Nne(e,t){const i=e.clientX-t.clientX,s=e.clientY-t.clientY;return i*i+s*s}var NM=!1,_ne=class{constructor(e,t,i,s,n){this.glob=e,this.self=t,this.initialTouch=s,this.target=n,this.longTapInterrupted=!1,this.longtap=()=>{const{target:a,initialTouch:l}=this;if(!this.longTapInterrupted){a.dispatchEvent(new TouchEvent("touchcancel",{touches:[l],bubbles:!0})),NM=!0;const u=y=>{y.preventDefault()},h=y=>{NM=!1,y.preventDefault(),a.removeEventListener("touchmove",u),a.removeEventListener("touchend",h),a.removeEventListener("touchcancel",h)};a.addEventListener("touchmove",u,{passive:!1}),a.addEventListener("touchend",h,{passive:!1}),a.addEventListener("touchcancel",h,{passive:!1});const{clientX:f,clientY:g}=l,m=new PointerEvent("contextmenu",{bubbles:!0,cancelable:!0,view:oi(),clientX:f,clientY:g,pointerType:"touch"});a.dispatchEvent(m)}},this.touchmove=a=>{var g;const{glob:l,self:u,initialTouch:h}=this,f=this.findInitialFinger(a.targetTouches);f!=null&&(this.longTapInterrupted=this.longTapInterrupted||Nne(h,f)>One,u.dragTouchEnabled&&f!=null&&((g=l.globalTouchDragCallbacks)==null||g.touchmove(a,f)))},this.touchend=a=>{var u;this.longTapInterrupted=!0;const l=this.findInitialFinger(a.changedTouches,a.touches);l!=null&&((u=this.glob.globalTouchDragCallbacks)==null||u.touchend(a,l)),this.destroy()},this.longtapTimer=setTimeout(this.longtap,Pne);const{touchmove:r,touchend:o}=this;n.addEventListener("touchmove",r,{passive:!1}),n.addEventListener("touchstart",o,{passive:!1}),n.addEventListener("touchend",o,{passive:!1}),n.addEventListener("touchcancel",o,{passive:!1}),t.touchDragger=this,e.globalTouchDragCallbacks=i}destroy(){const{longtapTimer:e,touchmove:t,touchend:i}=this;clearTimeout(e),this.target.removeEventListener("touchstart",i),this.target.removeEventListener("touchmove",t),this.target.removeEventListener("touchend",i),this.target.removeEventListener("touchcancel",i),this.glob.globalTouchDragCallbacks=void 0,this.self.touchDragger=void 0}findInitialFinger(...e){const t=e.map(i=>Array.from(i)).flat();return Array.from(t).find(i=>i.identifier===this.initialTouch.identifier)}};function Bne(e,t,i,s,n){if(!(e.globalTouchDragCallbacks!=null||NM))return new _ne(e,t,i,s,n)}function o1(e,t,i,s){const{currentX:n,currentY:r}=Za.calcCurrentXY(e.getElement(),s),o=s.pageX-i.pageX,a=s.pageY-i.pageY;return{type:t,device:"mouse",offsetX:i.offsetX+o,offsetY:i.offsetY+a,clientX:s.clientX,clientY:s.clientY,currentX:n,currentY:r,originDeltaX:o,originDeltaY:a,sourceEvent:s}}function Gne(e,{pageX:t,pageY:i}){const{x:s,y:n}=e.getElement().getBoundingClientRect();return{offsetX:t-s,offsetY:i-n}}function a1(e,t,i,s,n){const{currentX:r,currentY:o}=Za.calcCurrentXY(e.getElement(),n),a=n.pageX-i.pageX,l=n.pageY-i.pageY;return{type:t,device:"touch",offsetX:i.offsetX+a,offsetY:i.offsetY+l,clientX:n.clientX,clientY:n.clientY,currentX:r,currentY:o,originDeltaX:a,originDeltaY:l,sourceEvent:s}}var KF={},$F=class{constructor(e){this.dispatchCallback=e,this.dragTouchEnabled=!0}destroy(){var e,t,i;(e=this.dragTriggerRemover)==null||e.call(this),this.dragTriggerRemover=void 0,this.dragStartListeners=void 0,this.dragMoveListeners=void 0,this.dragEndListeners=void 0,(t=this.mouseDragger)==null||t.destroy(),(i=this.touchDragger)==null||i.destroy()}add(e,t,i){switch(e){case"drag-start":{this.dragStartListeners??(this.dragStartListeners=[]),this.dragStartListeners.push(i),this.registerDragTrigger(t);break}case"drag-move":{this.dragMoveListeners??(this.dragMoveListeners=[]),this.dragMoveListeners.push(i),this.registerDragTrigger(t);break}case"drag-end":{this.dragEndListeners??(this.dragEndListeners=[]),this.dragEndListeners.push(i),this.registerDragTrigger(t);break}}}remove(e,t,i){switch(e){case"drag-start":return this.removeHandler(this.dragStartListeners,i);case"drag-move":return this.removeHandler(this.dragMoveListeners,i);case"drag-end":return this.removeHandler(this.dragEndListeners,i)}}removeHandler(e,t){const i=e==null?void 0:e.indexOf(t);i!==void 0&&(e==null||e.splice(i,1))}registerDragTrigger(e){if(this.dragTriggerRemover==null){const t=s=>this.triggerMouseDrag(e,s),i=s=>this.triggerTouchDrag(e,s);e.getElement().addEventListener("mousedown",t),e.getElement().addEventListener("touchstart",i,{passive:!1}),this.dragTriggerRemover=()=>{e.getElement().removeEventListener("mousedown",t),e.getElement().removeEventListener("touchstart",i)}}}triggerMouseDrag(e,t){t.button===0&&this.startMouseDrag(e,t)}startMouseDrag(e,t){const i={pageX:NaN,pageY:NaN,offsetX:NaN,offsetY:NaN};DM(["pageX","pageY","offsetX","offsetY"],i,t);const s={mousedown:n=>{const r=o1(e,"drag-start",i,n);this.dispatch("drag-start",e,r)},mousemove:n=>{const r=o1(e,"drag-move",i,n);this.dispatch("drag-move",e,r)},mouseup:n=>{const r=o1(e,"drag-end",i,n);this.dispatch("drag-end",e,r),this.endDrag(e,r)}};this.mouseDragger=Fne(KF,this,s,t)}endDrag(e,{sourceEvent:t,clientX:i,clientY:s}){var o;const n=e.getElement(),r=n.getBoundingClientRect();JC.containsPoint(r,i,s)||(n.dispatchEvent(new MouseEvent("mouseleave",t)),(o=t.target)==null||o.dispatchEvent(new MouseEvent("mouseenter",t)))}triggerTouchDrag(e,t){const i=t.targetTouches.item(0);t.targetTouches.length===1&&i!=null&&this.startOneFingerTouch(e,t,i)}startOneFingerTouch(e,t,i){const s={pageX:NaN,pageY:NaN,...Gne(e,i)};DM(["pageX","pageY"],s,i);const n={touchmove:(a,l)=>{const u=a1(e,"drag-move",s,a,l);this.dispatch("drag-move",e,u)},touchend:(a,l)=>{const u=a1(e,"drag-end",s,a,l);this.dispatch("drag-end",e,u)}},r=e.getElement();this.touchDragger=Bne(KF,this,n,i,r);const o=a1(e,"drag-start",s,t,i);this.dispatch("drag-start",e,o)}dispatch(e,t,i){var s,n,r;switch(e){case"drag-start":(s=this.dragStartListeners)==null||s.forEach(o=>o(i,t));break;case"drag-move":(n=this.dragMoveListeners)==null||n.forEach(o=>o(i,t));break;case"drag-end":(r=this.dragEndListeners)==null||r.forEach(o=>o(i,t));break}this.dispatchCallback(e,i)}},zne=class{constructor(e){this.elem=e}setBounds(e){uC(this.elemContainer??this.elem,e)}getBounds(){return PB(this.elemContainer??this.elem)}static setElementContainer(e,t){const i=e.getBounds();uC(t,i),Rne(e.elem,{width:"100%",height:"100%"}),e.elem.remove(),e.elemContainer=t,e.elemContainer.replaceChildren(e.elem)}},da=class extends zne{constructor(e){super(e),this.elem=e,this.index=NaN,this.children=[]}getElement(){return this.elem}getBoundingClientRect(){return this.elem.getBoundingClientRect()}get clientWidth(){return this.elem.clientWidth}get clientHeight(){return this.elem.clientHeight}destroy(){var e,t,i,s;(e=this.parent)==null||e.removeChild(this),this.children.forEach(n=>{n.parent=void 0,n.destroy()}),this.children.length=0,this.destructor(),this.elem.remove(),(t=this.elemContainer)==null||t.remove(),(i=this.internalListener)==null||i.destroy(),(s=this.htmlListener)==null||s.destroy(this)}setHidden(e){bo(this.elem,"display",e?"none":void 0)}isHidden(){var e,t;return((t=(e=oi())==null?void 0:e.getComputedStyle)==null?void 0:t.call(e,this.elem).display)==="none"}setCursor(e){bo(this.elem,"cursor",e)}setTextContent(e){this.elem.textContent=e??null}setAriaDescribedBy(e){Zt(this.elem,"aria-describedby",e)}setAriaHidden(e){Zt(this.elem,"aria-hidden",e)}setAriaLabel(e){Zt(this.elem,"aria-label",e)}setInnerHTML(e){this.elem.innerHTML=e}isDisabled(){return Sx(this.elem,"aria-disabled",!1)}parseFloat(e){return e===""?0:parseFloat(e)}cssLeft(){return this.parseFloat(this.elem.style.left)}cssTop(){return this.parseFloat(this.elem.style.top)}cssWidth(){return this.parseFloat(this.elem.style.width)}cssHeight(){return this.parseFloat(this.elem.style.height)}focus(){this.elem.focus()}setPreventsDefault(e){Zt(this.elem,"data-preventdefault",e)}setTabIndex(e){Zt(this.elem,"tabindex",e)}addChild(e){this.addChildToDOM(e,this.getBefore(e)),this.children.push(e),e.index=this.children.length-1,e.parent=this,this.onChildAdded(e)}removeChild(e){const t=this.children.findIndex(i=>i===e);this.children.splice(t,1),this.removeChildFromDOM(e),this.onChildRemoved(e)}moveChild(e,t){e.domIndex!==t&&(e.domIndex=t,this.removeChildFromDOM(e),this.addChildToDOM(e,this.getBefore(e)))}addClass(...e){this.elem.classList.add(...e)}removeClass(...e){this.elem.classList.remove(...e)}toggleClass(e,t){this.elem.classList.toggle(e,t)}appendOrInsert(e,t){t?t.getElement().insertAdjacentElement("beforebegin",e):this.elem.appendChild(e)}addChildToDOM(e,t){this.appendOrInsert(e.getElement(),t)}removeChildFromDOM(e){this.elem.removeChild(e.getElement())}onChildAdded(e){}onChildRemoved(e){}getBefore({domIndex:e}){if(e!==void 0)return this.children.filter(t=>t.domIndex!==void 0&&t.domIndex>e).reduce((t,i)=>!t||i.domIndex<t.domIndex?i:t,void 0)}addListener(e,t){return Za.isHTMLEvent(e)?(this.htmlListener??(this.htmlListener=new Ine),this.htmlListener.add(e,this,t)):(this.internalListener??(this.internalListener=new $F(this.onDispatch.bind(this))),this.internalListener.add(e,this,t)),()=>this.removeListener(e,t)}removeListener(e,t){var i,s;Za.isHTMLEvent(e)?(i=this.htmlListener)==null||i.remove(e,this,t):this.htmlListener!=null&&((s=this.internalListener)==null||s.remove(e,this,t))}setDragTouchEnabled(e){this.internalListener??(this.internalListener=new $F(this.onDispatch.bind(this))),this.internalListener.dragTouchEnabled=e}onDispatch(e,t){if(!t.sourceEvent.bubbles)return;let{parent:i}=this;for(;i!=null;){const{internalListener:s}=i;if(s!=null){const n={...t,...Za.calcCurrentXY(i.getElement(),t)};s.dispatch(e,i,n)}i=i.parent}}static addWindowEvent(e,t){const i=s=>{s.persisted||t()};return oi().addEventListener("pagehide",i),()=>oi().removeEventListener("pagehide",i)}},_A=(e=>(e[e.Caption=0]="Caption",e[e.Legend=1]="Legend",e[e.ToolbarLeft=2]="ToolbarLeft",e[e.ToolbarBottom=3]="ToolbarBottom",e[e.Navigator=4]="Navigator",e[e.Overlay=5]="Overlay",e))(_A||{}),WB=class{constructor(){this.events=new JD,this.elements=new Map}addListener(e,t){return this.events.on(e,t)}registerElement(e,t){return this.elements.has(e)?this.elements.get(e).add(t):this.elements.set(e,new Set([t])),()=>{var i;return(i=this.elements.get(e))==null?void 0:i.delete(t)}}createContext(e,t){var s;const i=new Hne(e,t);for(const n of Object.values(_A))typeof n=="number"&&((s=this.elements.get(n))==null||s.forEach(r=>r(i)));return i}emitLayoutComplete(e,t){const i="layout:complete",{width:s,height:n}=e;this.events.emit(i,{type:i,axes:t.axes??[],chart:{width:s,height:n},clipSeries:t.clipSeries??!1,series:t.series})}},Hne=class{constructor(e,t){this.width=e,this.height=t,this.layoutBox=new Ze(0,0,e,t)}},wx=class{constructor(){this.title=new ei,this.subtitle=new ei,this.footnote=new ei}positionCaptions(e){const{title:t,subtitle:i,footnote:s}=this,n=e.layoutBox.height/10;if(t.enabled){const{spacing:r=i.enabled?ei.SMALL_PADDING:ei.LARGE_PADDING}=t;this.positionCaption("top",t,e.layoutBox,n),this.shrinkLayoutByCaption("top",t,e.layoutBox,r)}i.enabled&&(this.positionCaption("top",i,e.layoutBox,n),this.shrinkLayoutByCaption("top",i,e.layoutBox,i.spacing)),s.enabled&&(this.positionCaption("bottom",s,e.layoutBox,n),this.shrinkLayoutByCaption("bottom",s,e.layoutBox,s.spacing))}positionAbsoluteCaptions(e){const{title:t,subtitle:i,footnote:s}=this,{rect:n}=e.series;for(const r of[t,i,s])if(r.layoutStyle==="overlay"){if(r.textAlign==="left")r.node.x=n.x+r.padding;else if(r.textAlign==="right"){const o=r.node.getBBox();r.node.x=n.x+n.width-o.width-r.padding}}}computeX(e,t){return e==="left"?t.x:e==="right"?t.x+t.width:t.x+t.width/2}positionCaption(e,t,i,s){const n=Math.max(bi.getLineHeight(t.fontSize),s);t.node.x=this.computeX(t.textAlign,i)+t.padding,t.node.y=i.y+(e==="top"?0:i.height)+t.padding,t.node.textBaseline=e,t.computeTextWrap(i.width,n)}shrinkLayoutByCaption(e,t,i,s=0){if(t.layoutStyle==="block"){const n=t.node.getBBox();i.shrink(Math.ceil(e==="top"?n.y-i.y+n.height+s:i.y+i.height-n.y+s),e)}}};E([L($e)],wx.prototype,"title",2);E([L($e)],wx.prototype,"subtitle",2);E([L($e)],wx.prototype,"footnote",2);var Vne=["candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"],Wne=class{constructor(e){this.chartService=e,this.mementoOriginatorKey="chartType"}createMemento(){var t,i;let e=(i=(t=this.chartService.publicApi)==null?void 0:t.getOptions())==null?void 0:i.chartType;return e==null&&(e="candlestick"),e}guardMemento(e){return e==null||Vne.includes(e)}restoreMemento(e,t,i){var n;if(i==null)return;const s={chartType:i};(n=this.chartService.publicApi)==null||n.updateDelta(s).catch(r=>Ne.error("error restoring state",r))}},UB=class{constructor(){this.destroyFns=[]}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns.length=0}setFns(e){this.destroy(),this.destroyFns=e}push(...e){this.destroyFns.push(...e)}},hC="11.1.1",XF=Symbol("previous-memento-not-found"),Une=class{constructor(e){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=ti.create(!0,"history"),this.destroyFns=new UB,this.destroyFns.setFns([e.addListener("series-undo",this.undo.bind(this)),e.addListener("series-redo",this.redo.bind(this))])}destroy(){this.destroyFns.destroy()}addMementoOriginator(e){this.originators.set(e.mementoOriginatorKey,e),this.clearState.set(e.mementoOriginatorKey,e.createMemento()),this.debugEvent("History add originator:",e.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[e,t]of this.originators.entries())this.clearState.set(e,t.createMemento())}record(e,...t){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const i=new Map;for(const s of t){if(!this.originators.has(s.mementoOriginatorKey))throw new Error(`Originator [${s.mementoOriginatorKey}] has not been added to the HistoryManager.`);i.set(s.mementoOriginatorKey,s.createMemento())}this.history.push({label:e,mementos:i}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${e}]`)}undo(){const e=this.history[this.historyIndex];if(e){for(const t of e.mementos.keys()){const i=this.findPreviousMemento(t);if(i===XF)throw new Error(`Could not find previous memento for [${t}].`);this.restoreMemento(t,i)}this.historyIndex-=1,this.debugEvent(`History undo: [${e.label}]`)}}redo(){const e=this.history[this.historyIndex+1];if(e){for(const[t,i]of e.mementos.entries())this.restoreMemento(t,i);this.historyIndex+=1,this.debugEvent(`History redo: [${e.label}]`)}}findPreviousMemento(e){for(let t=this.historyIndex-1;t>=0;t--)if(this.history[t].mementos.has(e))return this.history[t].mementos.get(e);return this.clearState.has(e)?this.clearState.get(e):XF}restoreMemento(e,t){var i;(i=this.originators.get(e))==null||i.restoreMemento(hC,hC,t)}debugEvent(...e){this.debug(...e,this.history.map((t,i)=>i===this.historyIndex?`** ${t.label} **`:t.label))}},jB=class _M{constructor(t){this.version=t.split("-")[0]}save(...t){const i={version:this.version};for(const s of Object.values(t))i[s.mementoOriginatorKey]=this.encode(s,s.createMemento());return i}restore(t,...i){if(typeof t!="object"){Ne.warnOnce(`Could not restore data of type [${typeof t}], expecting an object, ignoring.`);return}if(t==null){Ne.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in t)||typeof t.version!="string"){Ne.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(const s of i){const n=this.decode(s,t[s.mementoOriginatorKey]),r=[];if(!s.guardMemento(n,r)){const o=r.length>0?`

${r.join(`

`)}

`:"";Ne.warnOnce(`Could not restore [${s.mementoOriginatorKey}] data, value was invalid, ignoring.${o}`,n);return}s.restoreMemento(this.version,t.version,n)}}encode(t,i){try{return JSON.parse(JSON.stringify(i,_M.encodeTypes))}catch(s){throw new Error(`Failed to encode [${t.mementoOriginatorKey}] value [${s}].`,{cause:s})}}decode(t,i){if(i==null)return i;try{return JSON.parse(JSON.stringify(i),_M.decodeTypes)}catch(s){throw new Error(`Failed to decode [${t.mementoOriginatorKey}] value [${s}].`,{cause:s})}}static encodeTypes(t,i){return uf(this[t])?{__type:"date",value:this[t].toISOString()}:i}static decodeTypes(t,i){return Ds(this[t])&&"__type"in this[t]&&this[t].__type==="date"?new Date(this[t].value):i}},jne=class{constructor(){this.caretaker=new jB(hC),this.state=new Map}setState(e,t){Qu(this.state.get(e.mementoOriginatorKey),t)||this.setStateAndRestore(e,t)}setStateAndRestore(e,t){this.state.set(e.mementoOriginatorKey,t),this.restoreState(e)}restoreState(e){const{caretaker:t,state:i}=this;if(!i.has(e.mementoOriginatorKey))return;const s=i.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:s},e)}},Yne=`.ag-charts-wrapper,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box}.ag-charts-wrapper{--align-items: center;--justify-content: center;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ag-charts-wrapper--safe-horizontal{--justify-content: flex-start}.ag-charts-wrapper--safe-vertical{--align-items: flex-start}.ag-charts-tab-guard{width:0%;height:0%;position:absolute;pointer-events:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;pointer-events:auto;display:flex;align-items:var(--align-items);justify-content:var(--justify-content)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none;-webkit-user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{display:block;pointer-events:none}.ag-charts-series-area{outline:none;pointer-events:auto;position:absolute}.ag-charts-swapchain{outline:none;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%}.ag-charts-swapchain:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none;-webkit-user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-accent-color: #2196f3;--ag-charts-background-color: #fff;--ag-charts-border-color: #dddddd;--ag-charts-foreground-color: #464646;--ag-charts-font-family: Verdana, sans-serif;--ag-charts-font-size: 12px;--ag-charts-font-weight: 400;--ag-charts-padding: 20px;--ag-charts-shadow-color: #00000080;--ag-charts-subtle-text-color: #8c8c8c;--ag-charts-text-color: #464646;--ag-charts-chrome-background-color: #fafafa;--ag-charts-chrome-font-family: Verdana, sans-serif;--ag-charts-chrome-font-size: 12px;--ag-charts-chrome-font-weight: 400;--ag-charts-chrome-subtle-text-color: #8c8c8c;--ag-charts-chrome-text-color: #181d1f;--ag-charts-input-background-color: #fff;--ag-charts-input-text-color: #464646;--ag-charts-crosshair-label-background-color: #fff;--ag-charts-crosshair-label-text-color: #464646;--ag-charts-spacing: 4px;--ag-charts-border-radius: 4px;--ag-charts-shadow: 0 2px 8px 0 color-mix(in srgb, black 8%, transparent);--ag-charts-focus-shadow: 0 0 0 3px var(--ag-charts-accent-color);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 12%);--ag-charts-input-border-color: var(--ag-charts-border-color);--ag-charts-input-border-radius: var(--ag-charts-border-radius);--ag-charts-input-focus-border-color: var(--ag-charts-accent-color);--ag-charts-input-focus-text-color: var(--ag-charts-accent-color);--ag-charts-input-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-input-disabled-border-color: var(--ag-charts-border-color);--ag-charts-input-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-input-text-color) 50% );--ag-charts-input-placeholder-text-color: color-mix( in srgb, var(--ag-charts-input-background-color), var(--ag-charts-input-text-color) 60% );--ag-charts-button-background-color: var(--ag-charts-background-color);--ag-charts-button-border-color: var(--ag-charts-border-color);--ag-charts-button-border-radius: var(--ag-charts-border-radius);--ag-charts-button-text-color: var(--ag-charts-text-color);--ag-charts-button-focus-background-color: color-mix( in srgb, var(--ag-charts-button-background-color), var(--ag-charts-accent-color) 12% );--ag-charts-button-focus-border-color: var(--ag-charts-accent-color);--ag-charts-button-focus-text-color: var(--ag-charts-accent-color);--ag-charts-button-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-button-disabled-border-color: var(--ag-charts-border-color);--ag-charts-button-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-chrome-text-color) 50% );--ag-charts-checkbox-background-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 35% );--ag-charts-checkbox-checked-background-color: var(--ag-charts-accent-color);--ag-charts-chrome-font-size-small: var(--ag-charts-chrome-font-size);--ag-charts-chrome-font-size-medium: calc(var(--ag-charts-chrome-font-size) * (13 / 12));--ag-charts-chrome-font-size-large: calc(var(--ag-charts-chrome-font-size) * (14 / 12));--ag-charts-border: solid 1px var(--ag-charts-border-color);--ag-charts-focus-border: solid 1px var(--ag-charts-accent-color);--ag-charts-focus-border-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%);--ag-charts-layer-menu: 6;--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1}.ag-charts-theme-default-dark{--ag-charts-shadow: 0 2px 12px 0 color-mix(in srgb, black 33.3%, transparent);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 22%)}.ag-chart-canvas-wrapper .ag-charts-theme-default{--ag-charts-border-radius: var(--ag-border-radius, 4px);--ag-charts-border: var(--ag-borders-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-focus-shadow: var(--ag-focus-shadow, 0 0 0 3px var(--ag-charts-accent-color));--ag-charts-focus-border-shadow: var( --ag-focus-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%) )}.ag-charts-icon{display:block;width:20px;height:20px;speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA1aDEydjFIMnoiLz48Y2lyY2xlIGN4PSIxNS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4yNSIgY3k9IjE0LjUiIHI9IjEuNzUiIHN0cm9rZT0iIzAwMCIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0xOCAxNUg2di0xaDEyem0wLTQuNUgydi0xaDE2eiIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-trend-based-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJtNC45OTYgMTIuNjc0IDMuMjkxLTUuNzQzLjg2OC40OTctMy4yOTEgNS43NDN6Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4zNTEiIGN5PSIxNC41IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTggNmgtN1Y1aDd6bTAgNC41aC03di0xaDd6bTAgNC41SDZ2LTFoMTJ6Ii8+PC9zdmc+)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;--input-padding: calc(var(--ag-charts-spacing) * 2);--input-padding-large: calc(var(--ag-charts-spacing) * 2.5);color:var(--ag-charts-input-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);transition-duration:.25s;transition-property:none;transition-timing-function:ease-out}.ag-charts-input:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-button-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-button-border-radius);color:var(--ag-charts-button-text-color);cursor:pointer;padding:var(--input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-focus-color)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{--checkbox-transition-duration: .1s;appearance:none;background:var(--ag-charts-checkbox-background-color);border-radius:calc(var(--ag-charts-border-radius) * 9);cursor:pointer;height:18px;margin:0;transition-duration:var(--checkbox-transition-duration);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:calc(var(--ag-charts-border-radius) * 7);content:" ";height:14px;margin:2px;transition-duration:var(--checkbox-transition-duration);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-checkbox-checked-background-color)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--textarea-line-height: 1.38;background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-input-border-radius);line-height:var(--textarea-line-height);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);padding:var(--input-padding-large) var(--input-padding)}.ag-charts-textarea::placeholder{color:var(--ag-charts-input-placeholder-text-color)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:auto;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;-webkit-user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:solid 1px var(--ag-charts-chrome-background-color);box-shadow:var(--ag-charts-focus-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;overflow:visible}.ag-charts-focus-svg-outer-path{stroke:var(--ag-charts-chrome-background-color);stroke-width:4px}.ag-charts-focus-svg-inner-path{stroke:var(--ag-charts-accent-color);stroke-width:2px}.ag-charts-overlay{color:#181d1f;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay{color:#fff}.ag-charts-overlay--loading{color:#8c8c8c}.ag-charts-overlay__loading-background{background:#fff;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay .ag-charts-overlay__loading-background{background:#192232}.ag-charts-tooltip{--tooltip-arrow-size: 8px;position:fixed;inset:unset;margin:0;padding:0;overflow:visible;width:max-content;max-width:100%;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);color:var(--ag-charts-chrome-text-color);background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);box-shadow:var(--ag-charts-shadow)}.ag-charts-tooltip--compact .ag-charts-tooltip-content{padding:3px 6px}.ag-charts-tooltip--arrow:before{content:"";position:absolute;top:100%;left:50%;margin:0 auto;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * -.5)) rotate(45deg);display:block;width:var(--tooltip-arrow-size);height:var(--tooltip-arrow-size);border:inherit;border-top:none;border-left:none;clip-path:polygon(0% 100%,100% 0%,100% 100%)}.ag-charts-tooltip--arrow:after{--tooltip-inner-size: calc(var(--tooltip-arrow-size) - 2px);content:"";position:absolute;top:100%;left:50%;margin:0 auto;transform:translate(-50%) translateY(calc(var(--tooltip-inner-size) * -.5)) rotate(45deg);display:block;width:var(--tooltip-inner-size);height:var(--tooltip-inner-size);border:inherit;border-color:transparent;background:inherit;clip-path:polygon(-10% 100%,100% -10%,100% 100%)}.ag-charts-tooltip--no-interaction{pointer-events:none;user-select:none;-webkit-user-select:none}.ag-charts-tooltip--wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-charts-tooltip--wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-charts-tooltip--wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-charts-tooltip--wrap-never{white-space:nowrap}.ag-charts-tooltip-heading,.ag-charts-tooltip-title,.ag-charts-tooltip-label,.ag-charts-tooltip-value{overflow:hidden;text-overflow:ellipsis}.ag-charts-tooltip-content{display:grid;grid:auto-flow minmax(1em,auto) / 1fr;padding:8px 12px;gap:8px}.ag-charts-tooltip-content:has(.ag-charts-tooltip-symbol){grid:auto-flow minmax(1em,auto) / auto 1fr}.ag-charts-tooltip-heading{grid-column:1 / -1}.ag-charts-tooltip-symbol{grid-column:1 / 2;align-self:center}.ag-charts-tooltip-symbol svg{display:block}.ag-charts-tooltip-title{grid-column:-2 / -1}.ag-charts-tooltip-row{grid-column:1 / -1;display:flex;gap:16px;align-items:baseline;justify-content:space-between;overflow:hidden}.ag-charts-tooltip-row--inline{grid-column:-2 / -1}.ag-charts-tooltip-label{flex:1;min-width:0}.ag-charts-tooltip-value{min-width:0}.ag-charts-popover{position:absolute;border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);background:var(--ag-charts-chrome-background-color);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);box-shadow:var(--ag-charts-shadow);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{--item-padding: 6px 12px;--icon-color: var(--ag-charts-chrome-text-color);display:grid;grid:auto-flow auto / 1fr;column-gap:12px;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-focus-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--ag-charts-layer-menu)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-accent-color);background:var(--ag-charts-focus-color);color:var(--ag-charts-accent-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-toolbar{--toolbar-gap: calc(var(--ag-charts-spacing) * 2);--toolbar-size: 34px;--toolbar-button-padding: 6px;align-items:center;display:flex;flex-wrap:nowrap;position:absolute}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);color:var(--ag-charts-chrome-text-color);cursor:pointer;display:flex;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-medium);font-weight:var(--ag-charts-chrome-font-weight);justify-content:center;min-height:var(--toolbar-size);min-width:var(--toolbar-size);padding:var(--toolbar-button-padding);position:relative;transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:hover{background:var(--ag-charts-focus-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button--active{background:var(--ag-charts-focus-color);border-color:var(--ag-charts-accent-color);color:var(--ag-charts-accent-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-button-disabled-background-color);color:var(--ag-charts-button-disabled-text-color);cursor:default}.ag-charts-toolbar--horizontal{flex-direction:row;.ag-charts-toolbar__button{margin:0 0 0 -1px}.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar--vertical{flex-direction:column;.ag-charts-toolbar__button{margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-border-radius);border-bottom-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-charts-floating-toolbar{border:none;display:flex;.ag-charts-toolbar{align-items:unset;position:unset}}.ag-charts-floating-toolbar__drag-handle{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);cursor:grab;display:flex;justify-content:center;min-width:24px;padding-left:0;padding-right:0}.ag-charts-floating-toolbar__drag-handle--dragging{cursor:grabbing}
`,Cl=class{constructor(){this.registeredListeners=new Map}addListener(e,t){const i={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(i):this.registeredListeners.set(e,[i]),()=>this.removeListener(i.symbol)}removeListener(e){for(const[t,i]of this.registeredListeners.entries()){const s=i.findIndex(n=>n.symbol===e);if(s>=0){i.splice(s,1),i.length===0&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(const i of this.getListenersByType(e))try{i.handler(...t)}catch(s){Ne.errorOnce(String(s))}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},Lc=class{constructor(){this.listeners=new Cl,this.destroyFns=[]}addListener(e,t){return this.listeners.addListener(e,t)}destroy(){this.listeners.destroy(),this.destroyFns.forEach(e=>e())}},Kne=class mv{constructor(t,i,s){this.element=t,this.topTabGuard=i,this.bottomTabGuard=s,this.destroyFns=[],this.guardTabIndex=0,this.hasFocus=!1,this.initTabGuard(this.topTabGuard,n=>this.onTab(n,!1)),this.initTabGuard(this.bottomTabGuard,n=>this.onTab(n,!0)),this.element.addEventListener("focus",()=>this.onFocus(),{capture:!0}),this.element.addEventListener("blur",n=>this.onBlur(n),{capture:!0})}set tabIndex(t){this.guardTabIndex=t,this.guardTabIndex===0?this.setGuardIndices(void 0):this.hasFocus||this.setGuardIndices(this.guardTabIndex)}destroy(){for(const t of this.destroyFns)t();this.destroyFns.length=0}initTabGuard(t,i){const s=()=>i(t);t.addEventListener("focus",s),this.destroyFns.push(()=>t.removeEventListener("focus",s))}setGuardIndices(t){const i=t;Zt(this.topTabGuard,"tabindex",i),Zt(this.bottomTabGuard,"tabindex",i)}onFocus(){this.hasFocus=!0,this.guardTabIndex!==0&&this.setGuardIndices(0)}onBlur({relatedTarget:t}){const{topTabGuard:i,bottomTabGuard:s}=this;this.hasFocus=!1,this.guardTabIndex!==0&&t!==i&&t!==s&&this.setGuardIndices(this.guardTabIndex)}onTab(t,i){if(this.guardTabIndex!==0){let s;t.tabIndex===0?(s=this.findExitTarget(!i),this.setGuardIndices(this.guardTabIndex)):s=this.findEnterTarget(i),s==null||s.focus()}}static queryFocusable(t,i){const s=oi();return Array.from(t.querySelectorAll(i)).filter(n=>{if(n instanceof HTMLElement){const r=s.getComputedStyle(n);return r.display!=="none"&&r.visibility!=="none"}return!1})}findEnterTarget(t){const i=mv.queryFocusable(this.element,'[tabindex="0"]'),s=t?i.length-1:0;return i[s]}findExitTarget(t){const i=mv.queryFocusable(rl(),"[tabindex]").filter(r=>r.tabIndex>0).sort((r,o)=>r.tabIndex-o.tabIndex),{before:s,after:n}=mv.findBeforeAndAfter(i,this.guardTabIndex);return t?s:n}static findBeforeAndAfter(t,i){let s=0,n=t.length-1,r,o;for(;s<=n;){const a=Math.floor((s+n)/2),l=t[a].tabIndex;if(l===i){r=t[a-1]||void 0,o=t[a+1]||void 0;break}else l<i?(r=t[a],s=a+1):(o=t[a],n=a-1)}return{before:r,after:o}}};function Mo(e,t,i,s,n){t.addEventListener(i,s);const r=()=>t.removeEventListener(i,s,n);return e.push(r),r}function YB(e,t,i){Mo(e,t,"keydown",s=>{s.key==="Escape"&&i(s)})}function $ne(e,t,i){const s=Mo(e,window,"mousedown",n=>{[0,2].includes(n.button)&&!KB(t,n)&&(i(),s())});return s}function Xne(e,t,i){const s=Mo(e,window,"touchstart",n=>{Array.from(n.targetTouches).some(o=>!KB(t,o))&&(i(),s())});return s}function KB(e,t){if(t.target instanceof Element){const{x:i,y:s,width:n,height:r}=e.getBoundingClientRect(),{clientX:o,clientY:a}=t;return o>=i&&a>=s&&o<=i+n&&a<=s+r}return!1}function Mx(e){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)}function BA(e,t,...i){return Mx(e)&&(e.key===t||i.some(s=>e.key===s))}function ZF(e,t,i,s){i&&Mo(e,t,"keydown",n=>{BA(n,s)&&i.focus()})}function Zne(e,t,i,s,n,r){ZF(e,t,n,r),ZF(e,t,i,s),Mo(e,t,"keydown",o=>{BA(o,s,r)&&o.preventDefault()})}var Fd={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function $B(e){const{orientation:t,buttons:i,wrapAround:s=!1,onEscape:n,onFocus:r,onBlur:o}=e,{nextKey:a,prevKey:l}=Fd[t],u=m=>{m.target&&"tabIndex"in m.target&&(i.forEach(y=>y.tabIndex=-1),m.target.tabIndex=0)},[h,f]=s?[i.length,i.length]:[0,1/0],g=[];for(let m=0;m<i.length;m++){const y=i[(h+m-1)%f],C=i[m],x=i[(h+m+1)%f];Mo(g,C,"focus",u),r&&Mo(g,C,"focus",r),o&&Mo(g,C,"blur",o),n&&YB(g,C,n),Zne(g,C,x,a,y,l),C.tabIndex=m===0?0:-1}return g}var qne=class{constructor(e,t,i){this.lastFocus=t,this.closeCallback=i,this.destroyFns=[],this.destroyFns.push($ne(this.destroyFns,e,()=>this.close(!0))),this.destroyFns.push(Xne(this.destroyFns,e,()=>this.close(!0)))}close(e){this.destroyFns.forEach(t=>t()),this.destroyFns.length=0,this.closeCallback(),this.finishClosing(e)}finishClosing(e){var t;this.destroyFns.forEach(i=>i()),this.destroyFns.length=0,Zt(this.lastFocus,"aria-expanded",!1),e||(t=this.lastFocus)==null||t.focus({preventScroll:!0}),this.lastFocus=void 0}};function XB(e){var y;const{sourceEvent:t,orientation:i,menu:s,buttons:n,closeCallback:r,overrideFocusVisible:o,autoCloseOnBlur:a=!1}=e,{nextKey:l,prevKey:u}=Fd[i],h=zA(t);Zt(h,"aria-expanded",!0);const f=new qne(s,h,r),g=()=>f.close(),{destroyFns:m}=f;if(s.role="menu",s.ariaOrientation=i,m.push(...$B({orientation:i,buttons:n,onEscape:g,wrapAround:!0})),s.tabIndex=-1,YB(m,s,g),Mo(m,s,"keydown",C=>{var x;C.target===s&&(C.key===l||C.key===u)&&(C.preventDefault(),(x=n[0])==null||x.focus())}),a){const C=x=>{!n.includes(x.relatedTarget)&&g()};for(const x of n)Mo(m,x,"blur",C)}return(y=n[0])==null||y.focus({preventScroll:!0}),o!==void 0&&(n.forEach(x=>x.setAttribute("data-focus-visible-override",o.toString())),Mo(m,s,"keydown",()=>{n.forEach(x=>x.setAttribute("data-focus-visible-override","true"))},{once:!0})),f}function Qne(e,t){return i=>{if(e.ariaDisabled==="true")return i.preventDefault();t(i)}}function GA(e){return"button"in e?e.button===0:Mx(e)&&(e.code==="Space"||e.key==="Enter")}function zA(e){if((e==null?void 0:e.target)instanceof HTMLElement&&"tabindex"in e.target.attributes)return e.target}function ZB(e){const t=i=>{if(i.defaultPrevented)return;Sx(i.target,"data-preventdefault",!0)&&BA(i,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&i.preventDefault()};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}var Jne=class{constructor(e){this.callback=e,this.devicePixelRatio=oi("devicePixelRatio")??1,this.devicePixelRatioMediaQuery=void 0,this.devicePixelRatioListener=t=>{t.matches||(this.devicePixelRatio=oi("devicePixelRatio")??1,this.unregisterDevicePixelRatioListener(),this.registerDevicePixelRatioListener(),this.callback(this.pixelRatio))}}get pixelRatio(){return this.devicePixelRatio}observe(){this.registerDevicePixelRatioListener()}disconnect(){this.unregisterDevicePixelRatioListener()}unregisterDevicePixelRatioListener(){var e;(e=this.devicePixelRatioMediaQuery)==null||e.removeEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=void 0}registerDevicePixelRatioListener(){var t;const e=(t=oi("matchMedia"))==null?void 0:t(`(resolution: ${this.pixelRatio}dppx)`);e==null||e.addEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=e}},ere=class{constructor(){var t;this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([i,s])=>this.observe(i,s)),this.queuedObserveRequests=[],this.observeWindow()},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(i=>{for(const{target:s,contentRect:{width:n,height:r}}of i){const o=this.elements.get(s);this.checkSize(o,s,n,r)}}));let e;this.pixelRatioObserver=new Jne(()=>{clearTimeout(e),e=setTimeout(()=>this.checkPixelRatio(),0)}),this.documentReady=rl("readyState")==="complete",this.documentReady?this.observeWindow():(t=oi())==null||t.addEventListener("load",this.onLoad)}destroy(){var e,t,i;(e=oi())==null||e.removeEventListener("load",this.onLoad),(t=this.resizeObserver)==null||t.disconnect(),this.resizeObserver=void 0,(i=this.pixelRatioObserver)==null||i.disconnect(),this.pixelRatioObserver=void 0}observeWindow(){var e;(e=this.pixelRatioObserver)==null||e.observe()}checkPixelRatio(){var t;const e=((t=this.pixelRatioObserver)==null?void 0:t.pixelRatio)??1;for(const[i,s]of this.elements)if(s.size!=null&&s.size.pixelRatio!==e){const{width:n,height:r}=s.size;s.size={width:n,height:r,pixelRatio:e},s.cb(s.size,i)}}checkSize(e,t,i,s){var n,r,o;if(e&&(i!==((n=e.size)==null?void 0:n.width)||s!==((r=e.size)==null?void 0:r.height))){const a=((o=this.pixelRatioObserver)==null?void 0:o.pixelRatio)??1;e.size={width:i,height:s,pixelRatio:a},e.cb(e.size,t)}}observe(e,t){var s;if(!this.documentReady){this.queuedObserveRequests.push([e,t]);return}this.elements.has(e)?this.removeFromQueue(e):(s=this.resizeObserver)==null||s.observe(e);const i={cb:t};this.elements.set(e,i)}unobserve(e){var t;(t=this.resizeObserver)==null||t.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter(([t])=>t!==e)}},Jd=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),typeof t<"u"&&super.set(e,t),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},tre='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="presentation" class="ag-charts-series-area"></div></div><div role="presentation" class="ag-charts-canvas-overlay"></div></div></div></div>',ire=["styles","canvas","canvas-center","canvas-container","canvas-overlay","canvas-proxy","series-area"],qF={safeHorizontal:"ag-charts-wrapper--safe-horizontal",safeVertical:"ag-charts-wrapper--safe-vertical"},sre=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}]]);function nre(e,t){if(typeof IntersectionObserver>"u")return;const i=new IntersectionObserver(s=>{for(const n of s)n.target===e&&t(n.intersectionRatio)},{root:e});return i.observe(e),i}var qB={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return qB}};function QF(e,t){const i=Mt("div");return i.className="ag-charts-tab-guard",e.insertAdjacentElement(t,i),i}var QB=class extends Lc{constructor(e,t){super(),this.styles=new Map,this.container=void 0,this.containerSize=void 0,this.sizeMonitor=new ere,this.cursorState=new Jd("default"),this.minWidth=0,this.minHeight=0;const i=Mt("div");i.innerHTML=tre,this.element=i.children.item(0),this.styleRootElement=t,this.rootElements=ire.reduce((a,l)=>{const u=`ag-charts-${l}`,h=this.element.classList.contains(u)?this.element:this.element.querySelector(`.${u}`);if(!h)throw new Error(`AG Charts - unable to find DOM element ${u}`);return a[l]={element:h,children:new Map,listeners:[]},a},{});let s=!1;this.observer=nre(this.element,a=>{a===0&&!s&&this.listeners.dispatch("hidden",{type:"hidden"}),s=a===0}),this.setSizeOptions(),this.updateContainerSize(),this.addStyles("ag-charts-community",Yne),e&&this.setContainer(e),this.destroyFns.push(ZB(this.element));const n=this.element.querySelector(".ag-charts-canvas-center");if(n==null)throw new Error("Error initializing tab guards");const r=QF(n,"beforebegin"),o=QF(n,"afterend");this.tabGuards=new Kne(n,r,o)}destroy(){var e;super.destroy(),(e=this.observer)==null||e.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach(t=>{t.children.forEach(i=>i.remove()),t.element.remove()}),this.element.remove()}setSizeOptions(e=300,t=300,i,s){const{style:n}=this.element;n.width=`${i??e}px`,n.height=`${s??t}px`,this.minWidth=i??e,this.minHeight=s??t,this.updateContainerClassName()}updateContainerSize(){const{style:e}=this.rootElements["canvas-center"].element;e.visibility=this.containerSize==null?"hidden":"",this.containerSize?(e.width=`${this.containerSize.width??0}px`,e.height=`${this.containerSize.height??0}px`):(e.width="",e.height=""),this.updateContainerClassName()}setTabGuardIndex(e){this.tabGuards.tabIndex=e}setContainer(e){if(e===this.container)return;if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),!(this.getShadowDocumentRoot(e)!=null))for(const i of this.rootElements.styles.children.keys())this.removeChild("styles",i);this.container=e;for(const[i,s]of this.styles)this.addStyles(i,s);e.appendChild(this.element),this.sizeMonitor.observe(e,i=>{this.containerSize=i,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})}),this.listeners.dispatch("container-changed",{type:"container-changed"})}setThemeClass(e){const t="ag-charts-theme-";this.element.classList.forEach(i=>{i.startsWith(t)&&i!==e&&this.element.classList.remove(i)}),this.element.classList.add(e)}setThemeParameters(e){const t={accentColor:"accent-color",axisColor:"axis-color",backgroundColor:"background-color",borderColor:"border-color",foregroundColor:"foreground-color",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",gridLineColor:"grid-line-color",padding:"padding",subtleTextColor:"subtle-text-color",textColor:"text-color",chromeBackgroundColor:"chrome-background-color",chromeFontFamily:"chrome-font-family",chromeFontSize:"chrome-font-size",chromeFontWeight:"chrome-font-weight",chromeSubtleTextColor:"chrome-subtle-text-color",chromeTextColor:"chrome-text-color",inputBackgroundColor:"input-background-color",inputTextColor:"input-text-color",crosshairLabelBackgroundColor:"crosshair-label-background-color",crosshairLabelTextColor:"crosshair-label-text-color"},i=["fontSize","chromeFontSize"];for(const[s,n]of Object.entries(e)){let r=`${n}`;i.includes(s)&&(r=`${n}px`),this.element.style.setProperty(`--ag-charts-${t[s]}`,r)}}updateCanvasLabel(e){Zt(this.rootElements["canvas-proxy"].element,"aria-label",e)}getEventElement(e,t){return["focus","blur","keydown","keyup"].includes(t)?this.rootElements["series-area"].element:e}addEventListener(e,t,i){this.getEventElement(this.element,e).addEventListener(e,t,i)}removeEventListener(e,t,i){this.getEventElement(this.element,e).removeEventListener(e,t,i)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){var s;const e=oi(),t=new Ze(0,0,e.innerWidth,e.innerHeight),i=this.getRawOverlayClientRect();return((s=t.intersection(i))==null?void 0:s.toDOMRect())??qB}getRawOverlayClientRect(){var n,r;let e=this.element;for(;e!=null;){const o=(n=e.computedStyleMap)==null?void 0:n.call(e),a=(r=o==null?void 0:o.get("overflow-y"))==null?void 0:r.toString();if(a==="auto"||a==="scroll")return Ze.fromDOMRect(e.getBoundingClientRect());e=e.parentElement}const t=this.getShadowDocumentRoot();if(t!=null)return Ze.fromDOMRect(t.getBoundingClientRect());const{innerWidth:i,innerHeight:s}=oi();return new Ze(0,0,i,s)}getShadowDocumentRoot(e=this.container){var i;const t=((i=e==null?void 0:e.ownerDocument)==null?void 0:i.body)??rl("body");for(;e!=null;){if(e===t)return;if(e.parentNode instanceof DocumentFragment)return e;e=e.parentNode}return this.container}getParent(e){return this.rootElements[e].element}getChildBoundingClientRect(e){const{children:t}=this.rootElements[e],i=[];for(const s of t.values())i.push(Ze.fromDOMRect(s.getBoundingClientRect()));return Ze.merge(i)}isManagedChildDOMElement(e,t,i){const{children:s}=this.rootElements[t],n=s==null?void 0:s.get(i);return n!=null&&e.contains(n)}contains(e,t){return t==null?this.element.contains(e):this.rootElements[t].element.contains(e)}addStyles(e,t){const i="data-ag-charts";if(this.styles.set(e,t),this.container==null)return;const s=o=>o.getAttribute(i)===e,n=o=>{const a=new Set(["TITLE","META"]);let l=!0,u;for(const f of o.children){if(l&&a.has(f.tagName)){u=f;continue}if(l=!1,s(f))return;f.hasAttribute(i)&&(u=f)}const h=Mt("style");return u!=null?o.insertBefore(h,u.nextSibling):o.prepend(h),h};let r;this.styleRootElement?r=n(this.styleRootElement):this.getShadowDocumentRoot(this.container)!=null?r=this.addChild("styles",e):r=n(rl("head")),!(r==null||s(r))&&(r.setAttribute(i,e),r.innerHTML=t)}removeStyles(e){this.removeChild("styles",e)}updateCursor(e,t){this.cursorState.set(e,t),this.element.style.cursor=this.cursorState.stateValue()}getCursor(){return this.element.style.cursor}addChild(e,t,i,s){const{element:n,children:r,listeners:o}=this.rootElements[e];if(!r)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(r.has(t))return r.get(t);const{childElementType:a="div"}=sre.get(e)??{};if(i&&i.tagName.toLowerCase()!==a.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const l=i??Mt(a);for(const[u,h,f]of o)l.addEventListener(u,h,f);if(r.set(t,l),s){const u=n.querySelector(s.query);if(u==null)throw new Error(`AG Charts - addChild query failed ${s.query}`);u.insertAdjacentElement(s.where,l)}else n==null||n.appendChild(l);return l}removeChild(e,t){var s;const{children:i}=this.rootElements[e];i&&((s=i.get(t))==null||s.remove(),i.delete(t))}incrementDataCounter(e){const{dataset:t}=this.element;t[e]??(t[e]="0"),t[e]=String(Number(t[e])+1)}setDataBoolean(e,t){this.element.dataset[e]=String(t)}updateContainerClassName(){const{element:e,containerSize:t,minWidth:i,minHeight:s}=this;e.classList.toggle(qF.safeHorizontal,i>=((t==null?void 0:t.width)??1/0)),e.classList.toggle(qF.safeVertical,s>=((t==null?void 0:t.height)??1/0))}},rre=class extends da{constructor(){super(Mt("div")),this.textElement=Kr("text"),this.textElement.role="presentation",this.svgElement=Kr("svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.elem.appendChild(this.svgElement),this.elem.role="presentation"}set textContent(e){var s;this.textElement.textContent=e;const t=this.textElement,i=(s=t.getBBox)==null?void 0:s.call(t);i&&this.svgElement.setAttribute("viewBox",`${i.x} ${i.y} ${i.width} ${i.height}`)}get textContent(){return this.textElement.textContent}destructor(){}},Im=class extends da{constructor(){super(Mt("button")),this.setEnabled(!0)}destructor(){}setEnabled(e){Zt(this.elem,"aria-disabled",!e),bo(this.elem,"pointer-events",e?void 0:"none")}addListener(e,t){return super.addListener(e,(i,s)=>{(e==="click"||e==="dblclick")&&this.isDisabled()||t(i,s)})}},ore=class extends da{constructor(){super(Mt("div")),Zt(this.elem,"role","group")}destructor(){}},JB=class extends da{constructor(e,t){super(Mt("div")),this.focusedChildIndex=0,this.onChildFocus=(i,s)=>{const n=this.children[this.focusedChildIndex];this.focusedChildIndex=s.index,n==null||n.setTabIndex(-1),s.setTabIndex(0)},this.onChildKeyDown=(i,s)=>{var l;const n=this.orientation,[r,o]=n==="both"?[Fd.horizontal,Fd.vertical]:[Fd[n],void 0];let a=-1;if(Mx(i.sourceEvent)){const u=i.sourceEvent.key;u===r.nextKey||u===(o==null?void 0:o.nextKey)?a=s.index+1:(u===r.prevKey||u===(o==null?void 0:o.prevKey))&&(a=s.index-1)}(l=this.children[a])==null||l.focus()},this.orientation=e,Zt(this.elem,"role",t)}get orientation(){return Sx(this.elem,"aria-orientation")??"both"}set orientation(e){Zt(this.elem,"aria-orientation",e!=="both"?e:void 0)}focus(){var e;(e=this.children[this.focusedChildIndex])==null||e.focus()}onChildAdded(e){e.addListener("focus",this.onChildFocus),e.addListener("keydown",this.onChildKeyDown),e.setTabIndex(this.children.length===1?0:-1)}onChildRemoved(e){e.removeListener("focus",this.onChildFocus),e.removeListener("keydown",this.onChildKeyDown)}},are=class extends JB{constructor(){super("both","list"),this.setHidden(!0)}destructor(){this.children.forEach(e=>e.getElement().parentElement.remove())}addChildToDOM(e,t){const i=Mt("div");Zt(i,"role","listitem"),bo(i,"position","absolute"),da.setElementContainer(e,i),this.appendOrInsert(i,t),this.setHidden(!1)}removeChildFromDOM(e){e.getElement().parentElement.remove(),this.setHidden(this.children.length===0)}setHidden(e){this.children.length===0&&(e=!0),super.setHidden(e)}},ef=class extends da{constructor(e){super(e)}destructor(){}},HA=class jg extends da{constructor(){super(Mt("input")),this._step=jg.STEP_ONE,this.orientation="both"}get step(){return this._step}set step(t){this._step=t,this.getElement().step=t.attributeValue}get keyboardStep(){var t;return((t=this._keyboardStep)==null?void 0:t.step)??this._step}set keyboardStep(t){var i;if(t!==((i=this._keyboardStep)==null?void 0:i.step)&&(this._keyboardStep!==void 0&&(this.removeListener("keydown",this._keyboardStep.onKeyDown),this.removeListener("keyup",this._keyboardStep.onKeyUp),this.removeListener("blur",this._keyboardStep.onBlur),this._keyboardStep=void 0),t!==void 0)){const s=()=>this.getElement().step=t.attributeValue,n=()=>this.getElement().step=this._step.attributeValue;this._keyboardStep={step:t,onKeyDown:s,onKeyUp:n,onBlur:n},this.addListener("keydown",this._keyboardStep.onKeyDown),this.addListener("keyup",this._keyboardStep.onKeyUp),this.addListener("blur",this._keyboardStep.onBlur)}}get orientation(){return Sx(this.elem,"aria-orientation")??"both"}set orientation(t){Zt(this.elem,"aria-orientation",t!=="both"?t:void 0),jg.registerDefaultPreventers(this,t)}destructor(){}clampValueRatio(t,i){const s=this.getValueRatio(),n=ft(t,s,i);return n!==s&&this.setValueRatio(n),n}setValueRatio(t,i){const{divider:s}=this.step,n=Math.round(t*1e4)/s,{ariaValueText:r=yB(n/s)}=i??{},o=this.getElement();o.value=`${n}`,o.ariaValueText=r}getValueRatio(){return parseFloat(this.getElement().value)/this.step.divider}static registerDefaultPreventers(t,i){i==="both"?t.removeListener("keydown",jg.onKeyDown):t.addListener("keydown",jg.onKeyDown)}static onKeyDown(t,i){let s=[];const{orientation:n}=i;n==="horizontal"?s=["ArrowUp","ArrowDown"]:n==="vertical"&&(s=["ArrowLeft","ArrowRight"]),s.includes(t.sourceEvent.code)&&t.sourceEvent.preventDefault()}};HA.STEP_ONE={attributeValue:"1",divider:1};HA.STEP_HUNDRETH={attributeValue:"0.01",divider:100};var VA=HA,lre=class extends Im{constructor(){super(),Zt(this.elem,"role","switch"),this.setChecked(!1)}setChecked(e){Zt(this.elem,"aria-checked",e)}},Dx=class extends JB{constructor(e="horizontal"){super(e,"toolbar")}destructor(){}};function ld(e,t){var i;return((i=t.params)==null?void 0:i.type)===e}function cre(e){if(e==="button")return new Im;if(e==="slider")return new VA;if(e==="toolbar")return new Dx;if(e==="group")return new ore;if(e==="list")return new are;if(e==="region")return new ef(Mt("div"));if(e==="text")return new rre;if(e==="listswitch")return new lre;throw Error("AG Charts - error allocating meta")}function JF(e){const t={params:e,result:void 0};return t.result=cre(t.params.type),t}var e3=class{constructor(e,t){this.localeManager=e,this.domManager=t,this.destroyFns=[]}destroy(){this.destroyFns.forEach(e=>e())}addLocalisation(e){e(),this.destroyFns.push(this.localeManager.addListener("locale-changed",e))}createProxyContainer(e){const t=JF(e),{params:i,result:s}=t,n=s.getElement();return this.domManager.addChild("canvas-proxy",i.domManagerId,n),n.classList.add(...i.classList,"ag-charts-proxy-container"),n.role=i.type,"ariaOrientation"in i&&(n.ariaOrientation=i.ariaOrientation),ld("toolbar",t)&&(t.result.orientation=t.params.orientation),this.addLocalisation(()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),s}createProxyElement(e){const t=JF(e);if(ld("button",t)){const{params:i,result:s}=t,n=s.getElement();if(this.initInteract(i,s),typeof i.textContent=="string")n.textContent=i.textContent;else{const{textContent:r}=i;this.addLocalisation(()=>{n.textContent=this.localeManager.t(r.id,r.params)})}this.setParent(t.params,t.result)}if(ld("slider",t)){const{params:i,result:s}=t,n=s.getElement();this.initInteract(i,s),n.type="range",n.role="presentation",n.style.margin="0px",this.addLocalisation(()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),this.setParent(t.params,t.result)}if(ld("text",t)){const{params:i,result:s}=t;this.initElement(i,s),this.setParent(t.params,t.result)}if(ld("listswitch",t)){const{params:i,result:s}=t;this.initInteract(i,s),s.setTextContent(i.textContent),s.setChecked(i.ariaChecked),s.setAriaDescribedBy(i.ariaDescribedBy),this.setParent(t.params,t.result)}if(ld("region",t)){const{params:i,result:s}=t,n=s.getElement();this.initInteract(i,s),n.role="region",this.setParent(t.params,t.result)}return t.result}initElement(e,t){const i=t.getElement();return Zt(i,"id",e.id),bo(i,"cursor",e.cursor),i.classList.toggle("ag-charts-proxy-elem",!0),i}initInteract(e,t){const{tabIndex:i,domIndex:s}=e,n=this.initElement(e,t);i!==void 0&&(n.tabIndex=i),s!==void 0&&(t.domIndex=s)}setParent(e,t){var i;if("parent"in e)(i=e.parent)==null||i.addChild(t);else{const s={where:e.where,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",e.domManagerId,t.getElement(),s)}}},ure={ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAddHorizontalLine:"Add Horizontal Line",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",overlayUnsupportedBrowser:"Incompatible browser version. Please upgrade your browser.",seriesHistogramTooltipFrequency:"Frequency",seriesHistogramTooltipSum:"${yName} (sum)",seriesHistogramTooltipCount:"${yName} (count)",seriesHistogramTooltipMean:"${yName} (mean)",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsFibonacciRetracement:"Fib Retracement",toolbarAnnotationsFibonacciRetracementTrendBased:"Fib Trend Based",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsFibonacciAnnotations:"Fibonacci",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderFibonacciRange:"Fib Retracement",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputReverse:"Reverse",dialogInputShowFill:"Show Fill",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",dialogInputFibonacciBands:"Bands",dialogInputFibonacciBandsAltText:"Fibonacci Bands",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}"},hre=/\$\{(\w+)}(?:\[(\w+)])?/gi,l1={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},dre=({defaultValue:e,variables:t})=>e==null?void 0:e.replaceAll(hre,(i,s,n)=>{const r=t[s],o=n!=null?l1[n]:null;return n!=null&&o==null&&Ne.warnOnce(`Format style [${n}] is not supported`),o!=null?o.format(r):typeof r=="number"?l1.number.format(r):r instanceof Date?l1.datetime.format(r):String(r)}),fre=class extends Cl{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.dispatch("locale-changed"))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.dispatch("locale-changed"))}t(e,t={}){const{localeText:i=ure,getLocaleText:s}=this,n=i[e];return(s==null?void 0:s({key:e,defaultValue:n,variables:t}))??dre({defaultValue:n,variables:t})??e}},WA=class{constructor(e){this.enabled=!0,this.width=600,this.height=300;const{width:t,height:i,canvasElement:s,willReadFrequently:n=!1}=e;this.pixelRatio=e.pixelRatio??oi("devicePixelRatio")??1,this.element=s??Mt("canvas"),this.element.style.display="block",this.element.style.width=(t??this.width)+"px",this.element.style.height=(i??this.height)+"px",this.element.width=Math.round((t??this.width)*this.pixelRatio),this.element.height=Math.round((i??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:n}),this.onEnabledChange(),this.resize(t??0,i??0,this.pixelRatio),K4(this.context)}drawImage(e,t=0,i=0){return e.drawImage(this.context.canvas,t,i)}toDataURL(e){return this.element.toDataURL(e)}resize(e,t,i){if(!(e>0&&t>0))return;const{element:s,context:n}=this;s.width=Math.round(e*i),s.height=Math.round(t*i),n.setTransform(i,0,0,i,0,0),s.style.width=e+"px",s.style.height=t+"px",this.width=e,this.height=t,this.pixelRatio=i}clear(){Y4(this)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}};E([Rc(e=>e.onEnabledChange())],WA.prototype,"enabled",2);var gre=class{constructor(e){this.canvas=e,this.debug=ti.create(!0,"scene"),this.layersMap=new Map,this.nextLayerId=0}get size(){return this.layersMap.size}resize(e,t,i){this.canvas.resize(e,t,i),this.layersMap.forEach(({canvas:s})=>s.resize(e,t,i))}addLayer(e){const{width:t,height:i,pixelRatio:s}=this.canvas,{name:n}=e,r=new $4({width:t,height:i,pixelRatio:s});return this.layersMap.set(r,{id:this.nextLayerId++,name:n,canvas:r}),this.debug("Scene.addLayer() - layers",this.layersMap),r}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}clear(){for(const e of this.layersMap.values())e.canvas.destroy();this.layersMap.clear()}};function pre(e){for(const t of["B","KB","MB","GB"]){if(e<1536)return`${e.toFixed(1)}${t}`;e/=1024}return`${e.toFixed(1)}TB}`}function mre(){if(!("memory"in performance))return;const{totalJSHeapSize:e,usedJSHeapSize:t,jsHeapSizeLimit:i}=performance.memory,s=[];for(const n of[t,e,i])typeof n=="number"&&s.push(pre(n));return`Heap ${s.join(" / ")}`}function e2(e,t,i,s,n={},r=Ze.zero){if(!ti.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:o=0,layersSkipped:a=0,nodesRendered:l=0,nodesSkipped:u=0,opsPerformed:h=0,opsSkipped:f=0}=s??{},g=performance.now(),{start:m,...y}=t,C=Object.entries(y).map(([N,G])=>t2(N,G)).filter(N=>N!=null).join(" + "),x=Object.entries(n).map(([N,G])=>`${N}: ${JSON.stringify(G)}`).join(" ; "),b=ti.check("scene:stats:verbose"),w=mre(),M=[`${t2("",m,g)} (${C})`,`${x}`,`Layers: ${b?c1(o,a):e.size}`,b?`Nodes: ${c1(l,u)}`:null,b?`Ops: ${c1(h,f)}`:null,b&&w?w:null].filter(Un),A=new CA(N=>i.measureText(N)),T=new Map(M.map(N=>[N,A.measureLines(N)])),k=Math.max(...Array.from(T.values(),N=>N.width)),R=Sre(T.values(),N=>N.height),F=2+r.x;i.save(),i.fillStyle="white",i.fillRect(F,0,k,R),i.fillStyle="black";let I=0;for(const[N,G]of T.entries())I+=G.height,i.fillText(N,F,I);i.restore()}function yre(e){const t=Jv(oi("agChartsSceneDebug")),i=[];for(const s of t)s==="layout"?i.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):i.push(s);e.debugNodeSearch=i}function vre(e,t){e.save();for(const[i,s]of Object.entries(t)){const n=Li.toCanvas(s);if(!n){Ne.log(`Scene.render() - no bbox for debugged node [${i}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(n.x,n.y,n.width,n.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(i,n.x,n.y,n.width),e.fillText(i,n.x,n.y,n.width)}e.restore()}var Cre=new Set,xre=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function bre(e){const{...t}=e;for(const i of Object.keys(t))xre.has(i)||typeof t[i]!="number"&&typeof t[i]!="string"&&typeof t[i]!="boolean"&&(Cre.add(i),delete t[i]);return t}function yv(e,t){if(!ti.check(!0,"scene"))return{};let i=0;return{node:t==="json"?bre(e):e,name:e.name??e.id,dirty:e.dirty,...Array.from(e.children(),s=>yv(s,t)).reduce((s,n)=>{let{name:r}=n;const{node:{visible:o,opacity:a,zIndex:l,translationX:u,translationY:h,rotation:f,scalingX:g,scalingY:m},node:y}=n;(!o||a<=0)&&(r=`(${r})`),ot.is(y)&&y.renderToOffscreenCanvas&&(r=`*${r}*`);const C=Array.isArray(l)?`(${l.join(", ")})`:l,x=[`${(i++).toString().padStart(3,"0")}|`,`${r??"<unknown>"}`,`z: ${C}`,u&&`x: ${u}`,h&&`y: ${h}`,f&&`r: ${f}`,g!=null&&g!==1&&`sx: ${g}`,m!=null&&m!==1&&`sy: ${m}`].filter(M=>!!M).join(" ");let b=x,w=1;for(;s[b]!=null&&w<100;)b=`${x} (${w++})`;return s[b]=n,s},{})}}function t3(e){if(!e.dirty)return{dirtyTree:{},paths:[]};const t=Array.from(e.children(),n=>t3(n)).filter(n=>n.paths.length>0),i=ot.is(e)?e.name??e.id:e.id,s=t.length?t.flatMap(n=>n.paths).map(n=>`${i}.${n}`):[i];return{dirtyTree:{name:i,node:e,dirty:e.dirty,...t.map(n=>n.dirtyTree).filter(n=>n.dirty!=null).reduce((n,r)=>(n[r.name??"<unknown>"]=r,n),{})},paths:s}}function c1(e,t){const i=e+t;return`${e} / ${i} (${Math.round(100*e/i)}%)`}function t2(e,t,i){const s=i!=null?i-t:t;return`${e}: ${Math.round(s*100)/100}ms`}function Sre(e,t){let i=0;for(const s of e)i+=t(s);return i}var Ax=class{constructor(e){this.debug=ti.create(!0,"scene"),this.id=Qr(this),this.root=null,this.pendingSize=null,this.isDirty=!1,this.canvas=new WA(e),this.layersManager=new gre(this.canvas)}get width(){var e;return((e=this.pendingSize)==null?void 0:e[0])??this.canvas.width}get height(){var e;return((e=this.pendingSize)==null?void 0:e[1])??this.canvas.height}get pixelRatio(){var e;return((e=this.pendingSize)==null?void 0:e[2])??this.canvas.pixelRatio}setContainer(e){var i;const{element:t}=this.canvas;return(i=t.parentElement)==null||i.removeChild(t),e.appendChild(t),this}setRoot(e){var t;return this.root===e?this:(this.isDirty=!0,(t=this.root)==null||t._setLayerManager(),this.root=e,e&&(e.visible=!0,e._setLayerManager(this.layersManager)),this)}clear(){this.canvas.clear()}attachNode(e){return this.appendChild(e),()=>this.removeChild(e)}appendChild(e){var t;return(t=this.root)==null||t.appendChild(e),this}removeChild(e){var t;return(t=this.root)==null||t.removeChild(e),this}download(e,t){u4(this.canvas.toDataURL(t),(e==null?void 0:e.trim())??"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t,i){return e=Math.round(e),t=Math.round(t),i??(i=this.pixelRatio),e>0&&t>0&&(e!==this.width||t!==this.height||i!==this.pixelRatio)?(this.pendingSize=[e,t,i],this.isDirty=!0,!0):!1}render(e){var y;const{debugSplitTimes:t={start:performance.now()},extraDebugStats:i,seriesRect:s}=e??{},{canvas:n,canvas:{context:r}={},root:o,pendingSize:a,width:l,height:u,pixelRatio:h}=this;if(!r)return;const f=performance.now();if(a&&(this.layersManager.resize(...a),this.pendingSize=null),o&&!o.visible){this.isDirty=!1;return}if((o==null?void 0:o.dirty)===!1&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{tree:yv(o,"console")}),e2(this.layersManager,t,r,void 0,i,s);return}const g={ctx:r,width:l,height:u,devicePixelRatio:h,debugNodes:{}};ti.check("scene:stats:verbose")&&(g.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0,opsPerformed:0,opsSkipped:0}),yre(g);let m=!1;if((o==null?void 0:o.dirty)!==!1&&(m=!0,n.clear()),o&&ti.check("scene:dirtyTree")){const{dirtyTree:C,paths:x}=t3(o);ti.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:C,paths:x})}if(o&&m){if(o.visible&&o.preRender(g),this.debug.check()){const C=yv(o,"console");this.debug("Scene.render() - before",{canvasCleared:m,tree:C})}o.visible&&(r.save(),o.render(g),r.restore())}t[""]=performance.now()-f,(y=r.verifyDepthZero)==null||y.call(r),this.isDirty=!1,e2(this.layersManager,t,r,g.stats,i,s),vre(r,g.debugNodes),o&&this.debug.check()&&this.debug("Scene.render() - after",{tree:yv(o,"console"),canvasCleared:m})}toSVG(){const{root:e,width:t,height:i}=this;if(e!=null)return Sc.toSVG(e,t,i)}strip(){const{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};Ax.className="Scene";var wre=class{constructor(){this.cache=new WeakMap}call(e,...t){let i,s=this.cache.get(e);try{i=JSON.stringify(t)}catch{return this.invoke(e,t,s)}return s==null&&(s=new Map,this.cache.set(e,s)),s.has(i)?s.get(i):this.invoke(e,t,s,i)}invoke(e,t,i,s){try{const n=e(...t);return i&&s!=null&&i.set(s,n),n}catch(n){Ne.warnOnce("User callback errored, ignoring",n);return}}invalidateCache(){this.cache=new WeakMap}},Mre=class extends Lc{constructor(e){super(),this.annotationRoot=e,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return e==null||ai(e)}restoreMemento(e,t,i){this.annotations=this.cleanData(i??[]).map(s=>{const n=this.getAnnotationTypeStyles(s.type);return bt(s,n)}),this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:this.annotations})}updateData(e){this.annotations=this.cleanData(e??[])}attachNode(e){return this.annotationRoot.append(e),()=>{var t;return(t=this.annotationRoot)==null||t.removeChild(e),this}}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){var t;return(t=this.styles)==null?void 0:t[e]}cleanData(e){for(const t of e)"textAlign"in t&&delete t.textAlign;return e}},Dre=class{constructor(e){this.sceneRoot=e,this.axes=new Map,this.axisGridGroup=new ot({name:"Axes-Grids",zIndex:1}),this.axisGroup=new ot({name:"Axes",zIndex:2}),this.axisLabelGroup=new ot({name:"Axes-Labels",zIndex:13}),this.axisCrosslineRangeGroup=new ot({name:"Axes-Crosslines-Range",zIndex:4}),this.axisCrosslineLineGroup=new ot({name:"Axes-Crosslines-Line",zIndex:8}),this.axisCrosslineLabelGroup=new ot({name:"Axes-Crosslines-Label",zIndex:13}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup),this.sceneRoot.appendChild(this.axisLabelGroup),this.sceneRoot.appendChild(this.axisCrosslineRangeGroup),this.sceneRoot.appendChild(this.axisCrosslineLineGroup),this.sceneRoot.appendChild(this.axisCrosslineLabelGroup)}updateAxes(e,t){var s;const i={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(const n of e)t.includes(n)||(n.detachAxis(i),n.destroy());for(const n of t)e!=null&&e.includes(n)||n.attachAxis(i);this.axes.clear();for(const n of t){const r=n.createAxisContext();this.axes.has(r.direction)?(s=this.axes.get(r.direction))==null||s.push(r):this.axes.set(r.direction,[r])}}getAxisContext(e){return this.axes.get(e)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},Ex=class extends Cl{constructor(e){super(),this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=ti.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){typeof e=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(e){this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(e){return CF(t=>this.fetch(t).catch(i=>Ne.error("callback failed",i)),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return CF((t,i)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:i})},e,{leading:!0,trailing:!0})}async fetch(e){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const t=performance.now(),i=this.requestCounter++;this.debug(`DataService - requesting | ${i}`),this.freshRequests.push(i);let s;try{s=await this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-t}ms | ${i}`)}catch(r){this.debug(`DataService - request failed | ${i}`),Ne.errorOnce(`DataService - request failed | [${r}]`)}this.isLoadingInitialData=!1;const n=this.freshRequests.findIndex(r=>r===i);if(n===-1||this.dispatchOnlyLatest&&n!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${i}`);return}this.freshRequests=this.freshRequests.slice(n+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(s)?this.throttledDispatch(i,s):this.dispatch("data-error")}};E([Yn({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],Ex.prototype,"dispatchThrottle",2);E([Yn({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],Ex.prototype,"requestThrottle",2);var i2=class{constructor(e){this.maxAnimationTime=e,this.debug=ti.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(gd.map(t=>[t,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(gd[this.currentPhase])??[]}checkOverlappingId(e){e!=null&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){var i;if(e.isComplete)return;if(gd.indexOf(e.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",e.id),e.stop();return}this.controllers.set(e.id,e),(i=this.phases.get(e.phase))==null||i.push(e)}removeAnimation(e){this.controllers.delete(e.id);const t=this.phases.get(e.phase),i=t==null?void 0:t.indexOf(e);i!=null&&i>=0&&(t==null||t.splice(i,1))}progress(e){if(!this.isReady)return;let t=e===0?.01:e;const i=()=>{const u=gd[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:u,phaseMeta:Hp[u]}};let{phase:s,phaseControllers:n,phaseMeta:r}=i();const o=()=>gd[this.currentPhase]==null,a=()=>{for({phase:s,phaseControllers:n,phaseMeta:r}=i();!o()&&n.length===0;)this.currentPhase++,{phase:s,phaseControllers:n,phaseMeta:r}=i(),this.debug(`AnimationBatch - phase changing to ${s}`,{unusedTime:t},n)},l=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${s} with ${n==null?void 0:n.length} of ${l}`);do{const u=t,h=r.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0;let f=0;for(const g of n)h?g.stop():t=Math.min(g.update(u),t),g.isComplete&&(f++,this.removeAnimation(g));this.animationTimeConsumed+=u-t,this.debug(`AnimationBatch - updated ${n.length} controllers; ${f} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),a()}while(t>0&&!o());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(const[,t]of this.controllers)if(t.duration>0&&Hp[t.phase].skipIfNoEarlierAnimations!==!0){e=!1;break}if(!e)for(const[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(e=!0){if(this.skipAnimations===!1&&e===!0){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(const e of this.controllers.values())e.play()}stop(){for(const e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){Ne.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(e){if(e!=null&&this.controllers.has(e)){const t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(const t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}},i3=(e=>(e[e.Default=32]="Default",e[e.ZoomDrag=16]="ZoomDrag",e[e.Annotations=8]="Annotations",e[e.ContextMenu=4]="ContextMenu",e[e.Animation=2]="Animation",e[e.AnnotationsSelected=1]="AnnotationsSelected",e[e.Clickable=41]="Clickable",e[e.Focusable=34]="Focusable",e[e.Keyable=43]="Keyable",e[e.ContextMenuable=36]="ContextMenuable",e[e.AnnotationsMoveable=9]="AnnotationsMoveable",e[e.AnnotationsDraggable=57]="AnnotationsDraggable",e[e.ZoomDraggable=50]="ZoomDraggable",e[e.ZoomClickable=34]="ZoomClickable",e[e.ZoomWheelable=59]="ZoomWheelable",e[e.All=63]="All",e))(i3||{}),s3=class{constructor(){this.stateQueue=34}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}isState(e){return!!(this.stateQueue&-this.stateQueue&e)}};function s2(e){return e==null?!0:!isNaN(e)&&e>=0&&e<=2}var n3=class{constructor(e,t){this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new i2(this.defaultDuration*1.5),this.debug=ti.create(!0,"animation"),this.events=new JD,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(e,t){return this.events.on(e,t)}animate(e){const t=this.batch;try{t.checkOverlappingId(e.id)}catch(a){this.failsafeOnError(a);return}let{id:i}=e;i==null&&(i=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const s=this.isSkipped()||e.phase==="none";s&&this.debug("AnimationManager - skipping animation");const{delay:n,duration:r}=e;if(!s2(n))throw new Error(`Animation delay of ${n} is unsupported (${i})`);if(!s2(r))throw new Error(`Animation duration of ${r} is unsupported (${i})`);const o=new w4({...e,id:i,skip:s,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(o,this.defaultDuration))return this.batch.addAnimation(o),o}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=oi().requestAnimationFrame(t=>{e(t).catch(i=>Ne.error(i))})}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let e;const t=async i=>{const s=()=>{const n=i-(e??i);e=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:n}),this.interactionManager.pushState(2);try{this.batch.progress(n)}catch(r){this.failsafeOnError(r)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:n})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(s):await this.chartUpdateMutex.acquire(s),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){Ne.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.destroy(),this.batch=new i2(this.defaultDuration*1.5),e===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}destroy(){this.stop(),this.events.clear()}},r3=class extends Lc{seriesEvent(e){this.listeners.dispatch(e,{type:e})}seriesKeyNavZoom(e,t){const i={type:"series-keynav-zoom",delta:e,widgetEvent:t};this.listeners.dispatch("series-keynav-zoom",i)}legendItemClick(e,t,i,s,n){const r={type:"legend-item-click",legendType:e,series:t,itemId:i,enabled:s,legendItemName:n};this.listeners.dispatch("legend-item-click",r)}legendItemDoubleClick(e,t,i,s,n,r){const o={type:"legend-item-double-click",legendType:e,series:t,itemId:i,enabled:s,legendItemName:r,numVisibleItems:n};this.listeners.dispatch("legend-item-double-click",o)}},o3=class{constructor(){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new Cl}static check(e,t){return t.type===e}static checkCallback(e,t,i){return e===t}dispatchContext(e,t,i,s){const{sourceEvent:n}=t,r=(s==null?void 0:s.x)??t.canvasX,o=(s==null?void 0:s.y)??t.canvasY;n.stopPropagation();const a={type:e,x:r,y:o,context:i,sourceEvent:n};this.listeners.dispatch("",a)}addListener(e){return this.listeners.addListener("",e)}filterActions(e){return this.defaultActions.filter(t=>t.id!=null&&!this.hiddenActions.has(t.id)&&["all",e].includes(t.type))}registerDefaultAction(e){const t=e.id!=null&&!this.defaultActions.some(({id:i})=>i===e.id);return t&&this.defaultActions.push(e),()=>{const i=t?this.defaultActions.findIndex(({id:s})=>s===e.id):-1;i!==-1&&this.defaultActions.splice(i,1)}}enableAction(e){this.disabledActions.delete(e)}disableAction(e){this.disabledActions.add(e)}showAction(e){this.hiddenActions.add(e)}hideAction(e){this.hiddenActions.delete(e)}isDisabled(e){return this.disabledActions.has(e)}},a3=class extends Lc{constructor(){super(...arguments),this.highlightStates=new Jd}updateHighlight(e,t){const{activeHighlight:i}=this;this.highlightStates.set(e,t),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:e})}getActiveHighlight(){return this.activeHighlight}isEqual(e,t){return e===t||e!=null&&t!=null&&(e==null?void 0:e.series)===(t==null?void 0:t.series)&&(e==null?void 0:e.itemId)===(t==null?void 0:t.itemId)&&(e==null?void 0:e.datum)===(t==null?void 0:t.datum)}};function n2(e,t){if(e==null||t.length===0)return[!1,!1];const i=e.valueOf(),s=t[0],n=t[t.length-1];if(typeof s=="string")return[i===s,i===n];let r=s.valueOf(),o=n.valueOf();return r>o&&([r,o]=[o,r]),[i===r,i===o]}function pc(e,t,i,s,n){const{xValue:r,yValue:o}=e,[a,l]=n2(o,n),[u,h]=n2(r,s);return{datum:e,xKey:t,yKey:i,xValue:r,yValue:o,first:u,last:h,min:a,max:l}}function l3(e,[t,i],s){const n=r4(0,e-1,o=>{var l;const a=((l=s(o))==null?void 0:l[1])??NaN;return!Number.isFinite(a)||a>t})??0;let r=n4(0,e-1,o=>{var l;const a=((l=s(o))==null?void 0:l[0])??NaN;return!Number.isFinite(a)||a<i})??e-1;return r=Math.min(r+1,e),[n,r]}function UA(e,t){var s,n;const i=((s=t.yBar)==null?void 0:s.upperPoint)??t.midPoint??((n=e.datumMidPoint)==null?void 0:n.call(e,t));if(i){const{x:r,y:o}=Li.toCanvasPoint(e.contentGroup,i.x,i.y);return{canvasX:Math.round(r),canvasY:Math.round(o)}}}function c3(e,t,i,s,n){let r=-1,o=0,a=0,l=!1;for(;o<s&&r<=t-e;){r+=1;const u=i+a;if(l||(a*=-1),a>=0&&(a+=1),l&&a<0&&(a-=1),u<e||u>t){l=!0;continue}n(u)&&(o+=1)}return o}var dC=class{constructor(e,t){this.domManager=e,this.tooltip=t,this.stateTracker=new Jd,this.suppressState=new Jd(!1),this.appliedState=null,t.setup(e),e.addListener("hidden",()=>this.tooltip.hide())}updateTooltip(e,t,i){var s;this.tooltip.enabled&&(i??(i=(s=this.stateTracker.get(e))==null?void 0:s.content),this.stateTracker.set(e,{content:i,meta:t}),this.applyStates())}removeTooltip(e){this.tooltip.enabled&&(this.stateTracker.delete(e),this.applyStates())}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){var n;const e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):null;if(this.suppressState.stateValue()||(t==null?void 0:t.meta)==null||(t==null?void 0:t.content)==null){this.appliedState=null,this.tooltip.hide();return}const i=this.domManager.getBoundingClientRect(),s=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():i;if(((n=this.appliedState)==null?void 0:n.content)===(t==null?void 0:t.content)){const r=this.tooltip.isVisible();this.tooltip.show(s,i,t==null?void 0:t.meta,null,r)}else this.tooltip.show(s,i,t==null?void 0:t.meta,t==null?void 0:t.content);this.appliedState=t}static makeTooltipMeta(e,t,i){var l;const{canvasX:s,canvasY:n}=e,r=t.properties.tooltip,o={canvasX:s,canvasY:n,enableInteraction:((l=r.interaction)==null?void 0:l.enabled)??!1,lastPointerEvent:{type:e.type,canvasX:s,canvasY:n},showArrow:r.showArrow,position:{type:r.position.type,xOffset:r.position.xOffset,yOffset:r.position.yOffset}},a=UA(t,i);return(r.position.type==="node"||r.position.type==="sparkline")&&a?{...o,canvasX:a.canvasX,canvasY:a.canvasY}:o}isEnteringInteractiveTooltip(e){const{tooltip:t}=this,i=e.sourceEvent.relatedTarget;return t.interactive&&t.enabled&&t.isVisible()&&t.contains(i)}},r2=3,Are=505;function u1(e,t,i){const{offsetX:s,offsetY:n,clientX:r,clientY:o,currentX:a,currentY:l,sourceEvent:u}=i;return{type:t,device:e,offsetX:s,offsetY:n,clientX:r,clientY:o,currentX:a,currentY:l,sourceEvent:u}}function o2(e,t){const i=e*e+t*t,s=r2*r2;return i>=s}var u3=class{constructor(e){this.destroyFns=[],this.listeners=new Cl,this.isDragging=!1,this.touch={distanceTravelledX:0,distanceTravelledY:0,clientX:0,clientY:0},this.destroyFns.push(e.addListener("touchstart",this.onTouchStart.bind(this)),e.addListener("touchmove",this.onTouchMove.bind(this)),e.addListener("touchend",this.onTouchEnd.bind(this)),e.addListener("mousemove",this.onMouseMove.bind(this)),e.addListener("dblclick",this.onDblClick.bind(this)),e.addListener("drag-start",this.onDragStart.bind(this)),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",this.onDragEnd.bind(this)))}destroy(){this.destroyFns.forEach(e=>e()),this.listeners.destroy()}addListener(e,t){return this.listeners.addListener(e,t)}dispatch(e){this.listeners.dispatch(e.type,e)}onTouchStart(e){const{clientX:t,clientY:i}=e.sourceEvent.targetTouches.item(0)??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX=0,this.touch.distanceTravelledY=0,this.touch.clientX=t,this.touch.clientY=i}onTouchMove(e){const{clientX:t,clientY:i}=e.sourceEvent.targetTouches.item(0)??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX+=Math.abs(this.touch.clientX-t),this.touch.distanceTravelledY+=Math.abs(this.touch.clientY-i),this.touch.clientX=t,this.touch.clientY=i}onTouchEnd(e){e.sourceEvent.preventDefault()}onMouseMove(e){this.dispatch(e)}onDblClick(e){this.dispatch({device:"mouse",...e})}onDragStart(e){this.dragStartEvent=e}onDragMove(e){this.dragStartEvent!=null&&o2(e.originDeltaX,e.originDeltaY)&&(this.dispatch(this.dragStartEvent),this.dispatch({...this.dragStartEvent,type:"drag-move"}),this.dragStartEvent=void 0,this.isDragging=!0),this.isDragging&&this.dispatch(e)}onDragEnd(e){if(this.isDragging){this.dispatch(e),this.isDragging=!1;return}if(e.device==="mouse"){const t=u1("mouse","click",e);this.dispatch(t)}else if(e.sourceEvent.type==="touchend"){if(o2(this.touch.distanceTravelledX,this.touch.distanceTravelledY))return;const t=u1("touch","click",e);this.dispatch(t);const i=Date.now();if(this.lastClickTime!==void 0&&i-this.lastClickTime<=Are){const s=u1(e.device,"dblclick",e);this.dispatch(s),this.lastClickTime=void 0}else this.lastClickTime=i}}},h1=class extends ef{constructor(e){super(e)}addChildToDOM(){}removeChildFromDOM(){}},Ere=class{constructor(e){this.seriesWidget=new h1(e.getParent("series-area")),this.chartWidget=new h1(e.getParent("canvas-proxy")),this.containerWidget=new h1(e.getParent("canvas-container")),this.containerWidget.addChild(this.chartWidget),this.chartWidget.addChild(this.seriesWidget),this.seriesDragInterpreter=new u3(this.seriesWidget)}destroy(){this.seriesDragInterpreter.destroy(),this.seriesWidget.destroy(),this.chartWidget.destroy(),this.containerWidget.destroy()}},BM={bottomCenter:Lre,center:Ire,clone:Nre,collides:_re,end:Rre,from:Bre,height:Pre,round:Ore,start:Tre,topCenter:kre,origin:Gre,width:Fre};function Tre(e){return{x:e.x1,y:e.y1}}function Rre(e){return{x:e.x2,y:e.y2}}function kre(e){return{x:(e.x1+e.x2)/2,y:Math.min(e.y1,e.y2)}}function Ire(e){return{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2}}function Lre(e){return{x:(e.x1+e.x2)/2,y:Math.max(e.y1,e.y2)}}function Fre(e){return Math.abs(e.x2-e.x1)}function Pre(e){return Math.abs(e.y2-e.y1)}function Ore(e){return{x1:Math.round(e.x1),y1:Math.round(e.y1),x2:Math.round(e.x2),y2:Math.round(e.y2)}}function Nre(e){return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}function _re(e,t){const i=a2(e),s=a2(t);return i.x1<=s.x2&&i.x2>=s.x1&&i.y1<=s.y2&&i.y2>=s.y1}function a2(e){return{x1:Math.min(e.x1,e.x2),x2:Math.max(e.x1,e.x2),y1:Math.min(e.y1,e.y2),y2:Math.max(e.y1,e.y2)}}function Bre(e,t,i,s){if(typeof e=="number")return{x1:e,y1:t,x2:i,y2:s};if("width"in e)return{x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height};throw new Error(`Values can not be converted into a vector4: [${JSON.stringify(e)}] [${t}] [${i}] [${s}]`)}function Gre(){return{x1:0,y1:0,x2:0,y2:0}}function By(e,t,i,s,n){return t+(s-t)*((n-e)/(i-e))}function l2(e,t,i,s,n){return e+(n-t)*((i-e)/(s-t))}function c2(e,t,i){return[l2(e,i.min,t,i.max,0),l2(e,i.min,t,i.max,1)]}function zre(e,t,i){const[s,n]=c2(e.x1,e.x2,t),[r,o]=c2(e.y1,e.y2,i);return{x1:s,x2:n,y1:r,y2:o}}function u2(e,t,i,s,n,r){if(i<=n&&r<=s)return i;const o=n-i,a=r-s,l=Math.abs(o)<Math.abs(a)?o:a;return ft(e,i+l,t)}function Hre(e,t,i){const{x:s={min:0,max:1},y:n={min:0,max:1}}=t,r=BM.from(i),o=BM.from(e),a=zre(o,s,n),l=u2(a.x1,a.x2,o.x1,o.x2,r.x1,r.x2),u=u2(a.y1,a.y2,o.y1,o.y2,r.y1,r.y2);return{x:{min:By(o.x1,s.min,o.x2,s.max,l),max:By(o.x1,s.min,o.x2,s.max,l+e.width)},y:{min:By(o.y1,n.min,o.y2,n.max,u),max:By(o.y1,n.min,o.y2,n.max,u+e.height)}}}var Vre=["rangeX","rangeY","ratioX","ratioY","autoScaledAxes"],Wre=class{constructor(){this.enabled=!1,this.padding=0,this.manuallyAdjusted=!1}},h2=e=>rn((t,i)=>!Vt.is(e==null?void 0:e.scale)&&!ta.is(e==null?void 0:e.scale)||t==null||i.end==null?!0:t<=i.end,"to be less than end"),h3=class extends Lc{constructor(e,t){super(),this.fireChartEvent=e,this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new Jd(void 0,"initial"),this.axes=[],this.didLayoutAxes=!1,this.autoScaleYAxis=new Wre,this.lastRestoredState=void 0,this.independentAxes=!1,this.navigatorModule=!1,this.zoomModule=!1,this.pendingMemento=void 0,this.destroyFns.push(t.addListener("layout:complete",()=>{const{pendingMemento:i}=this,s=!this.didLayoutAxes;this.didLayoutAxes=!0,i?this.restoreMemento(i.version,i.mementoVersion,i.memento):s&&this.autoScaleYZoom("zoom-manager")}))}createMemento(){return this.getMementoRanges()}guardMemento(e,t){if(e==null)return!0;if(!Ds(e))return!1;for(const o of Object.keys(e))if(!Vre.includes(o))return!1;const i=this.getPrimaryAxis("x"),s=this.getPrimaryAxis("y"),n={rangeX:{start:ky(Tu(Ga,Iy),h2(i)),end:Tu(Ga,Iy)},rangeY:{start:ky(Tu(Ga,Iy),h2(s)),end:Tu(Ga,Iy)},ratioX:{start:ky(Ly,SF("end")),end:Ly},ratioY:{start:ky(Ly,SF("end")),end:Ly},autoScaledAxes:bM(Wte("y"))},r=QC(e,n);return r.errors.length>0?(t.push(...r.errors.map(o=>o.message)),!1):!0}restoreMemento(e,t,i){var a;const{independentAxes:s}=this;if(!this.axes||!this.didLayoutAxes){this.pendingMemento={version:e,mementoVersion:t,memento:i};return}this.pendingMemento=void 0;const n=this.getDefinedZoom();if(i!=null&&i.rangeX?n.x=this.rangeToRatio(i.rangeX,"x")??{min:0,max:1}:i!=null&&i.ratioX?n.x={min:i.ratioX.start??0,max:i.ratioX.end??1}:n.x={min:0,max:1},!this.navigatorModule||this.zoomModule){let l=(a=i==null?void 0:i.autoScaledAxes)==null?void 0:a.includes("y");i!=null&&i.rangeY?(n.y=this.rangeToRatio(i.rangeY,"y")??{min:0,max:1},l??(l=!1)):i!=null&&i.ratioY?(n.y={min:i.ratioY.start??0,max:i.ratioY.end??1},l??(l=!1)):(n.y={min:0,max:1},l??(l=!0)),n.autoScaleYAxis=l}if(this.lastRestoredState=n,s!==!0){this.updateZoom("zoom-manager",n);return}const r=this.getPrimaryAxis("x"),o=this.getPrimaryAxis("y");for(const l of[r,o])l&&this.updateAxisZoom("zoom-manager",l.id,n[l.direction])}updateAxes(e){this.axes=e;const t=new Map(e.map(i=>[i.id,this.axisZoomManagers.get(i.id)]));this.axisZoomManagers.clear();for(const i of e)this.axisZoomManagers.set(i.id,t.get(i.id)??new Ure(i));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}setIndependentAxes(e=!0){this.independentAxes=e}setAutoScaleYAxis(e,t){this.autoScaleYAxis.enabled=e,this.autoScaleYAxis.padding=t}setNavigatorEnabled(e=!0){this.navigatorModule=e}setZoomModuleEnabled(e=!0){this.zoomModule=e}isZoomEnabled(){return this.zoomModule}updateZoom(e,t){if(t!=null&&t.x&&(t.x.min<0||t.x.max>1)&&(Ne.warnOnce(`Attempted to update x-axis zoom to an invalid ratio of [{ min: ${t.x.min}, max: ${t.x.max} }], expecting a ratio of 0 to 1, ignoring.`),t.x=void 0),t!=null&&t.y&&(t.y.min<0||t.y.max>1)&&(Ne.warnOnce(`Attempted to update y-axis zoom to an invalid ratio of [{ min: ${t.y.min}, max: ${t.y.max} }], expecting a ratio of 0 to 1, ignoring.`),t.y=void 0),this.axisZoomManagers.size===0){const s=this.state.stateId();(s==="initial"||s===e)&&this.state.set(e,t);return}this.state.set(e,t);const i=t==null?void 0:t.autoScaleYAxis;i!=null&&(this.autoScaleYAxis.manuallyAdjusted=!i),this.axisZoomManagers.forEach(s=>{s.updateZoom(e,t==null?void 0:t[s.getDirection()])}),this.applyChanges(e)}updateAxisZoom(e,t,i){var s;(s=this.axisZoomManagers.get(t))==null||s.updateZoom(e,i),this.applyChanges(e)}resetZoom(e){var i,s,n,r;this.autoScaleYAxis.manuallyAdjusted=!1;const t=this.getRestoredZoom();this.updateZoom(e,{x:{min:((i=t==null?void 0:t.x)==null?void 0:i.min)??0,max:((s=t==null?void 0:t.x)==null?void 0:s.max)??1},y:{min:((n=t==null?void 0:t.y)==null?void 0:n.min)??0,max:((r=t==null?void 0:t.y)==null?void 0:r.max)??1},autoScaleYAxis:(t==null?void 0:t.autoScaleYAxis)??!0})}resetAxisZoom(e,t){const i=this.axisZoomManagers.get(t),s=i==null?void 0:i.getDirection();if(s==null)return;const n=this.getRestoredZoom();if(s==="y"){const r=(n==null?void 0:n.autoScaleYAxis)??!0;this.autoScaleYAxis.manuallyAdjusted=!r}this.updateAxisZoom(e,t,(n==null?void 0:n[s])??{min:0,max:1})}setAxisManuallyAdjusted(e,t){var s;((s=this.axisZoomManagers.get(t))==null?void 0:s.getDirection())==="y"&&(this.autoScaleYAxis.manuallyAdjusted=!0)}updatePrimaryAxisZoom(e,t,i){const s=this.getPrimaryAxis(t);s&&this.updateAxisZoom(e,s.id,i)}panToBBox(e,t,i){if(!this.isZoomEnabled())return!1;const s=this.getZoom();if(s===void 0||!s.x&&!s.y)return!1;if(!(t.width>0&&t.height>0&&Math.abs(i.width)<=Math.abs(t.width)&&Math.abs(i.height)<=Math.abs(t.height)))return Ne.warnOnce("cannot pan to target BBox - chart too small?"),!1;const r=Hre(t,s,i);return this.independentAxes?(this.updatePrimaryAxisZoom(e,"x",r.x),this.updatePrimaryAxisZoom(e,"y",r.y)):this.updateZoom(e,r),!0}fireZoomPanStartEvent(e){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:e})}extendToEnd(e,t,i){return this.extendWith(e,t,s=>Number(s)-i)}extendWith(e,t,i){const s=this.getPrimaryAxis(t);if(!s)return;const n=this.getDomainExtents(s);if(!n)return;const[,r]=n,o=i(r),a=this.rangeToRatio({start:o,end:r},t);a&&this.updateZoom(e,{[t]:a})}updateWith(e,t,i){const s=this.getPrimaryAxis(t);if(!s)return;const n=this.getDomainExtents(s);if(!n)return;let[r,o]=n;[r,o]=i(r,o);const a=this.rangeToRatio({start:r,end:o},t);a&&this.updateZoom(e,{[t]:a})}getZoom(){let e,t;if(this.axisZoomManagers.forEach(i=>{i.getDirection()==="x"?e??(e=i.getZoom()):i.getDirection()==="y"&&(t??(t=i.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){var t;return((t=this.axisZoomManagers.get(e))==null?void 0:t.getZoom())??{min:0,max:1}}getAxisZooms(){const e={};for(const[t,i]of this.axisZoomManagers.entries())e[t]={direction:i.getDirection(),zoom:i.getZoom()};return e}getRestoredZoom(){return this.lastRestoredState}getPrimaryAxisId(e){var t;return(t=this.getPrimaryAxis(e))==null?void 0:t.id}isVisibleItemsCountAtLeast(e,t){const i=this.getPrimaryAxis("x"),s=this.getPrimaryAxis("y"),n=new Set;let r=0;const o=[e.x.min,e.x.max],a=[e.y.min,e.y.max];for(const l of(i==null?void 0:i.boundSeries)??[]){n.add(l.id);const u=t-(r??0),h=l.getVisibleItems(o,a,u);if(r+=h,r>=t)return!0}for(const l of(s==null?void 0:s.boundSeries)??[]){if(n.has(l.id))continue;const u=t-(r??0),h=l.getVisibleItems(o,a,u);if(r+=h,r>=t)return!0}return n.size===0}getMementoRanges(){const e=this.getDefinedZoom();let t;return this.autoScaleYAxis.enabled&&(t=this.autoScaleYAxis.manuallyAdjusted?[]:["y"]),{rangeX:this.getRangeDirection(e.x,"x"),rangeY:this.getRangeDirection(e.y,"y"),ratioX:{start:e.x.min,end:e.x.max},ratioY:{start:e.y.min,end:e.y.max},autoScaledAxes:t}}autoScaleYZoom(e,t=!0){var a,l;if(!this.isZoomEnabled())return;const{independentAxes:i,autoScaleYAxis:s}=this,n=this.getZoom();if((n==null?void 0:n.x)==null||!s.enabled||s.manuallyAdjusted)return;const{padding:r}=s;let o;if(((a=n.x)==null?void 0:a.min)===0&&((l=n.x)==null?void 0:l.max)===1?o={min:0,max:1}:i?o=this.primaryAxisZoom("y",n.x,{padding:r}):o=this.combinedAxisZoom("y",n.x,{padding:r}),o!=null){if(i){const u=this.getPrimaryAxis("y"),h=u==null?void 0:this.axisZoomManagers.get(u.id);h==null||h.updateZoom("zoom-manager",o)}else for(const u of this.axisZoomManagers.values())u.getDirection()==="y"&&u.updateZoom("zoom-manager",o);t&&this.applyChanges(e)}}applyChanges(e){if(this.autoScaleYZoom(e,!1),!Array.from(this.axisZoomManagers.values(),s=>s.applyChanges()).includes(!0))return;const i={};for(const[s,n]of this.axisZoomManagers.entries())i[s]=n.getZoom();this.listeners.dispatch("zoom-change",{type:"zoom-change",...this.getZoom(),axes:i,callerId:e}),this.fireChartEvent({type:"zoom",...this.getMementoRanges()})}getRangeDirection(e,t){const i=this.getPrimaryAxis(t);if(!i||!Vt.is(i.scale)&&!ta.is(i.scale))return;const s=this.getDomainPixelExtents(i);if(!s)return;const[n,r]=s;let o,a;return n<=r?(o=i.scale.invert(0),a=i.scale.invert(n+(r-n)*e.max)):(o=i.scale.invert(n-(n-r)*e.min),a=i.scale.invert(0)),{start:o,end:a}}rangeToRatio(e,t){var m,y,C,x,b,w,M,A,T,k,R,F;const i=this.getPrimaryAxis(t);if(!i)return;const s=this.getDomainPixelExtents(i);if(!s)return;const[n,r]=s;let o=e.start==null?n:(y=(m=i.scale).convert)==null?void 0:y.call(m,e.start),a=e.end==null?r:(x=(C=i.scale).convert)==null?void 0:x.call(C,e.end);if(!It(o)||!It(a))return;const[l,u]=[Math.min(n,r),Math.max(n,r)];if(o<l||o>u){Ne.warnOnce(`Invalid range start [${e.start}], expecting a value between [${(w=(b=i.scale).invert)==null?void 0:w.call(b,n)}] and [${(A=(M=i.scale).invert)==null?void 0:A.call(M,r)}], ignoring.`);return}if(a<l||a>u){Ne.warnOnce(`Invalid range end [${e.end}], expecting a value between [${(k=(T=i.scale).invert)==null?void 0:k.call(T,n)}] and [${(F=(R=i.scale).invert)==null?void 0:F.call(R,r)}], ignoring.`);return}o=Math.min(u,Math.max(l,o)),a=Math.min(u,Math.max(l,a));const h=r-n,f=Math.abs((o-n)/h),g=Math.abs((a-n)/h);return{min:f,max:g}}getPrimaryAxis(e){var t;return(t=this.axes)==null?void 0:t.find(i=>i.direction===e)}getDomainExtents(e){const{domain:t}=e.scale,i=t.at(0),s=t.at(-1);if(!(i==null||s==null))return[i,s]}getDomainPixelExtents(e){var n,r,o,a;const{domain:t}=e.scale,i=(r=(n=e.scale).convert)==null?void 0:r.call(n,t.at(0)),s=(a=(o=e.scale).convert)==null?void 0:a.call(o,t.at(-1));if(!(!It(i)||!It(s)))return[i,s]}getDefinedZoom(){var t,i,s,n;const e=this.getZoom();return{x:{min:((t=e==null?void 0:e.x)==null?void 0:t.min)??0,max:((i=e==null?void 0:e.x)==null?void 0:i.max)??1},y:{min:((s=e==null?void 0:e.y)==null?void 0:s.min)??0,max:((n=e==null?void 0:e.y)==null?void 0:n.max)??1}}}zoomBounds(e,t,i,s){const n=e.scale,r=n.range;n.range=[0,1];const o=t.scale,a=o.range;o.range=[0,1];let l=1,u=!1,h=0,f=!1;for(const y of t.boundSeries){const{connectsToYAxis:C}=y,x=y.getRange("y",[i.min,i.max]);for(const b of x){const w=o.convert(b);Number.isFinite(w)&&(w<l&&(l=w,u=!C||b<0),w>h&&(h=w,f=!C||b>0))}}if(It(t.min)&&(l=0),It(t.max)&&(h=1),n.range=r,o.range=a,l>=h)return;const g=(u?s:0)+(f?s:0),m=Math.min((h-l)*(1+g),1);if(!(m<=0)){if(u&&f){const y=(h+l)/2;l=y-m/2,h=y+m/2}else!u&&f?h=l+m:u&&!f&&(l=h-m);return l<0?(h+=-l,l=0):h>1&&(l-=h-1,h=1),{min:l,max:h}}}primaryAxisZoom(e,t,{padding:i=0}={}){const s=e==="x"?"y":"x",n=this.getPrimaryAxis(s),r=this.getPrimaryAxis(e);if(!(n==null||r==null))return this.zoomBounds(n,r,t,i)}combinedAxisZoom(e,t,{padding:i=0}={}){const s=e==="x"?"y":"x",n=new Map;for(const l of this.axes)if(l.direction===s)for(const u of l.boundSeries)n.set(u,l);let r=1,o=0;for(const l of this.axes)if(l.direction===e)for(const u of l.boundSeries){const h=n.get(u);if(h==null)continue;const f=this.zoomBounds(h,l,t,i);if(f==null)return;r=Math.min(r,f.min),o=Math.max(o,f.max)}const a=1e-6;if(r<a&&(r=0),o>1-a&&(o=1),!(r>o))return{min:r,max:o}}},Ure=class{constructor(e){this.axis=e;const[t=0,i=1]=e.visibleRange;this.state=new Jd({min:t,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return ns(this.state.stateValue())}hasChanges(){const e=this.currentZoom,t=this.state.stateValue();return e.min!==t.min||e.max!==t.max}applyChanges(){const e=this.hasChanges();return this.currentZoom=this.state.stateValue(),e}},jre=class{constructor(){this.labelData=new Map}updateLabels(e,t,i=Ze.zero){var o;const s={x:-t.left,y:-t.top,width:i.width+t.left+t.right,height:i.height+t.top+t.bottom},n=new Set(e.map(a=>a.id));for(const a of this.labelData.keys())n.has(a)||this.labelData.delete(a);for(const a of e){const l=a.getLabelData();l.every(cne)&&this.labelData.set(a.id,l)}const r=hne(this.labelData,s,5);for(const a of e)(o=a.updatePlacedLabelData)==null||o.call(a,r.get(a.id)??[])}},Yre=class extends Lc{constructor(){super(...arguments),this.mementoOriginatorKey="legend",this.legendDataMap=new Map}createMemento(){return this.getData().filter(({hideInLegend:e,isFixed:t})=>!e&&!t).map(({enabled:e,seriesId:t,itemId:i,legendItemName:s})=>({visible:e,seriesId:t,itemId:i,legendItemName:s}))}guardMemento(e){return e==null||ai(e)}restoreMemento(e,t,i){i==null||i.forEach(s=>{const{seriesId:n,data:r}=this.getRestoredData(s)??{};!n||!r||this.updateData(n,r)}),this.update()}getRestoredData(e){const{seriesId:t,itemId:i,legendItemName:s,visible:n}=e;if(t){const o=(this.legendDataMap.get(t)??[]).map(a=>{const l=a.seriesId===t&&(!i||a.itemId===i);return l&&a.isFixed&&this.warnFixed(a.seriesId,a.itemId),!a.isFixed&&l?{...a,enabled:n}:a});return{seriesId:t,data:o}}if(!(i==null&&s==null))for(const r of this.getData()){if(i!=null&&r.itemId!==i||s!=null&&r.legendItemName!==s)continue;if(r.isFixed){this.warnFixed(r.seriesId,i);return}const o=(this.legendDataMap.get(r.seriesId)??[]).map(a=>a.itemId===i||a.legendItemName===s?{...a,enabled:n}:a);return{seriesId:r.seriesId,data:o}}}warnFixed(e,t){Ne.warnOnce(`The legend item with seriesId [${e}] and itemId [${t}] is not configurable, this series item cannot be toggled through the legend.`)}update(e){this.listeners.dispatch("legend-change",{type:"legend-change",legendData:e??this.getData()})}updateData(e,t=[]){this.legendDataMap.set(e,t)}clearData(){this.legendDataMap.clear()}toggleItem({enabled:e,seriesId:t,itemId:i,legendItemName:s}){if(s){this.getData().forEach(a=>{const l=(this.legendDataMap.get(a.seriesId)??[]).map(u=>u.legendItemName===s?{...u,enabled:e}:u);this.updateData(a.seriesId,l)});return}const n=this.getData(t),r=n.length===1,o=n.map(a=>i==null&&r||a.itemId===i?{...a,enabled:e}:a);this.updateData(t,o)}getData(e){return e?this.legendDataMap.get(e)??[]:[...this.legendDataMap].reduce((t,[i,s])=>t.concat(s),[])}getDatum({seriesId:e,itemId:t}={}){return this.getData(e).find(i=>i.itemId===t)}getSeriesEnabled(e){const t=this.getData(e);if(t.length>0)return t.some(i=>i.enabled)}getItemEnabled({seriesId:e,itemId:t}={}){var i;return((i=this.getDatum({seriesId:e,itemId:t}))==null?void 0:i.enabled)??!0}},Kre=class{constructor(){this.groups={}}registerSeries({internalId:e,seriesGrouping:t,visible:i,type:s}){var n;t&&((n=this.groups)[s]??(n[s]={}),this.groups[s][e]={grouping:t,visible:i})}updateSeries({internalId:e,seriesGrouping:t,visible:i,type:s}){var r;if(!t)return;const n=(r=this.groups[s])==null?void 0:r[e];n&&(n.grouping=t,n.visible=i)}deregisterSeries({internalId:e,type:t}){this.groups[t]&&delete this.groups[t][e],this.groups[t]&&Object.keys(this.groups[t]).length===0&&delete this.groups[t]}getVisiblePeerGroupIndex({type:e,seriesGrouping:t,visible:i}){if(!t)return{visibleGroupCount:i?1:0,visibleSameStackCount:i?1:0,index:0};const s=new Set,n=new Set;for(const o of Object.values(this.groups[e]??{}))o.visible&&(s.add(o.grouping.groupIndex),o.grouping.groupIndex===t.groupIndex&&n.add(o.grouping.stackIndex));const r=Array.from(s);return r.sort((o,a)=>o-a),{visibleGroupCount:r.length,visibleSameStackCount:n.size,index:r.indexOf(t.groupIndex)}}},fp=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=4]="SERIES_UPDATE",e[e.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",e[e.SCENE_RENDER=6]="SCENE_RENDER",e[e.NONE=7]="NONE",e))(fp||{}),d3=class{constructor(e){this.updateCallback=e,this.events=new JD}addListener(e,t){return this.events.on(e,t)}removeListener(e,t){return this.events.on(e,t)}destroy(){this.events.clear()}update(e=0,t){this.updateCallback(e,t)}dispatchUpdateComplete(){this.events.emit("update-complete",{type:"update-complete"})}dispatchPreDomUpdate(){this.events.emit("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(){this.events.emit("pre-scene-render",{type:"pre-scene-render"})}dispatchProcessData({series:e}){this.events.emit("process-data",{type:"process-data",series:e})}},$re=class{constructor(e,t){this.callbackCache=new wre,this.chartEventManager=new r3,this.highlightManager=new a3,this.layoutManager=new WB,this.localeManager=new fre,this.seriesStateManager=new Kre,this.stateManager=new jne,this.seriesLabelLayoutManager=new jre,this.contextModules=[];const{scene:i,root:s,syncManager:n,container:r,fireEvent:o,updateCallback:a,updateMutex:l,styleContainer:u,chartType:h}=t;this.chartService=e,this.syncManager=n,this.domManager=new QB(r,u),this.widgets=new Ere(this.domManager);const f=this.domManager.addChild("canvas","scene-canvas",i==null?void 0:i.canvas.element);this.scene=i??new Ax({canvasElement:f}),this.scene.setRoot(s),this.axisManager=new Dre(s),this.legendManager=new Yre,this.annotationManager=new Mre(e.annotationRoot),this.chartTypeOriginator=new Wne(e),this.interactionManager=new s3,this.contextMenuRegistry=new o3,this.updateService=new d3(a),this.proxyInteractionService=new e3(this.localeManager,this.domManager),this.historyManager=new Une(this.chartEventManager),this.animationManager=new n3(this.interactionManager,l),this.dataService=new Ex(this.animationManager),this.tooltipManager=new dC(this.domManager,e.tooltip),this.zoomManager=new h3(o,this.layoutManager);for(const g of ia.byType("context")){if(!g.chartTypes.includes(h))continue;const m=g.moduleFactory(this);this.contextModules.push(m),this[g.contextKey]=m}}destroy(){this.animationManager.destroy(),this.highlightManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.chartEventManager.destroy(),this.domManager.destroy(),this.highlightManager.destroy(),this.proxyInteractionService.destroy(),this.syncManager.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy(),this.widgets.destroy(),this.contextModules.forEach(e=>e.destroy())}},f3=class extends ut{constructor(){super(...arguments),this.range="tooltip"}};E([L(ii(["tooltip","node"],"a range"))],f3.prototype,"range",2);function Xre(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function Zre(e,t){if(e==null||t==null)return e===t;if(e.size!==t.size)return!1;for(const[i,s]of e){const n=t.get(i);if(n==null||!Xre(s,n))return!1}return!0}function qre(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1){const{type:s,idsMap:n,scopes:r,data:o,...a}=e[i],{type:l,idsMap:u,scopes:h,data:f,...g}=t[i];if(s!==l||r&&h&&!ea(r,h)||o&&f&&o!==f||!Qu(a,g)||!Zre(n,u))return!1}return!0}function Qre(e,t){const{props:i,...s}=e,{props:n,...r}=t;return Qu(s,r)&&qre(i,n)}function Jre(e,t,i,s){return t===e.data&&ea(i,e.ids)&&Qre(s,e.opts)}var d2=class g3{constructor(){this.domain=new Set}static is(t){return t instanceof g3}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},tc=class p3{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof p3}static extendDomain(t,i=[1/0,-1/0]){for(const s of t)typeof s=="number"&&(i[0]>s&&(i[0]=s),i[1]<s&&(i[1]=s));return i}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}},cd=0,ud=1,Uo=2,eoe=class{constructor(e){const t=e.reduce((r,o)=>Math.max(r,o.length),0);let s=1<<32-Math.clz32(t);t===s/2&&(s=s>>>1),this.maxLevelSize=s;const n=new Float64Array((s*2-1)*2).fill(NaN);for(const r of e)for(let o=0;o<r.length;o+=1){const a=Number(r[o]),l=s+o-1,u=(l*Uo|0)+cd,h=(l*Uo|0)+ud,f=n[u],g=n[h];(!Number.isFinite(f)||a<f)&&(n[u]=a),(!Number.isFinite(g)||a>g)&&(n[h]=a)}for(let r=s/2|0;r>=1;r=r/2|0){const o=r-1|0,a=o+r|0;for(let l=0;l<r;l+=1){const u=o+l,h=a+l*2,f=h+1,g=n[(h*Uo|0)+cd],m=n[(f*Uo|0)+cd];n[(u*Uo|0)+cd]=!Number.isFinite(m)||g<m?g:m;const y=n[(h*Uo|0)+ud],C=n[(f*Uo|0)+ud];n[(u*Uo|0)+ud]=!Number.isFinite(C)||y>C?y:C}}this.buffer=n}computeRangeInto(e,t,i,s,n,r,o){const a=n+r-1;if(a<t||n>=i)return o;if(n>=t&&a<i){const l=e[(s*Uo|0)+cd],u=e[(s*Uo|0)+ud];Number.isFinite(l)&&(o[0]=Math.min(o[0],l)),Number.isFinite(u)&&(o[1]=Math.max(o[1],u))}else r>1&&(s=s*2|0,r=r/2|0,this.computeRangeInto(e,t,i,s+1|0,n,r,o),this.computeRangeInto(e,t,i,s+2|0,n+r,r,o));return o}rangeBetween(e,t){if(e>t)return[NaN,NaN];const{maxLevelSize:i,buffer:s}=this,n=[1/0,-1/0];return this.computeRangeInto(s,e,t,0,0,i,n),n}get range(){const{buffer:e}=this;return[e[cd],e[ud]]}},f2=Symbol("domain-ranges");function toe(e){return e.map(t=>Ds(t)?JSON.stringify(t):t).join("-")}function g2(e){return Number.isInteger(e)?e:Math.abs(e)>1e4?Math.trunc(e):Math.round(e*1e4)/1e4}function jn(e){const t=e==null?void 0:e.map(Number);return t!=null&&t.every(Number.isFinite)?t:[]}function jA(e,t){return(t==null?void 0:t.get(e.id))??0}function ioe(e){return"scopes"in e&&Array.isArray(e.scopes)}var Gy=Symbol("invalid");function d1(e,t){const i=[];for(let s=0;s<e;s+=1)i[s]=t;return i}function fC(e,t,i){var n;const s=[];for(const r of e){const o=(n=r.get(t))==null?void 0:n[i];if(o==null)return;s.push(o)}return s}function m3(e){const t=[];let i=0,s;const n=new RegExp(`((?:(?:^|\\.)\\s*\\w+|\\[\\s*(?:'(?:[^']|(?<!\\\\)\\\\')*'|"(?:[^"]|(?<!\\\\)\\\\")*"|-?\\d+)\\s*\\])\\s*)`,"g");for(;s=n.exec(e);){if(s.index!==i)return;i=s.index+s[0].length;const r=s[1].trim();if(r.startsWith("."))t.push(r.slice(1).trim());else if(r.startsWith("[")){const o=r.slice(1,-1).trim();o.startsWith("'")?t.push(o.slice(1,-1).replace(new RegExp("(?<!\\\\)\\\\'","g"),"'")):o.startsWith('"')?t.push(o.slice(1,-1).replace(new RegExp('(?<!\\\\)\\\\"',"g"),'"')):t.push(o)}else t.push(r)}if(i===e.length)return t}function soe(e){return t=>{let i=t;for(const s of e)i=i[s];return i}}var y3=class{constructor(e,t="standalone",i=!1){var a;this.opts=e,this.mode=t,this.suppressFieldDotNotation=i,this.debug=ti.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[],this.markScopeDatumInvalid=function(l,u,h,f){for(const g of l)f.has(g)||f.set(g,d1(u.length,!1)),f.get(g)[h]=!0};let s=!0;for(const l of e.props){if(l.type==="key"&&!s)throw new Error("AG Charts - internal config error: keys must come before values.");l.type==="value"&&s&&(s=!1)}const n=({matchGroupIds:l=[]})=>{for(const u of l)if(this.values.every(h=>h.groupId!==u))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${u}).`)},r=new Set,o=new Set;for(const l of e.props){const u=l.type==="key"?r:o;switch(ioe(l)&&((a=l.scopes)==null||a.forEach(h=>u.add(h))),l.type){case"key":this.keys.push({...l,index:this.keys.length,missing:new Map});break;case"value":if(l.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(l)}`);this.values.push({...l,index:this.values.length,missing:new Map});break;case"aggregate":n(l),this.aggregates.push({...l,index:this.aggregates.length});break;case"group-value-processor":n(l),this.groupProcessors.push({...l,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...l,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...l,index:this.reducers.length});break;case"processor":this.processors.push({...l,index:this.processors.length});break}}if(this.opts.groupByKeys||this.opts.groupByFn!=null){const l=new Set(o.values());if(r.forEach(u=>l.delete(u)),l.size>0)throw new Error(`AG Charts - scopes missing key for grouping, illegal configuration: ${[...l.values()]}`)}}resolveProcessedDataDefById(e,t){var s;const i=(s=this.scopeCache.get(e.id))==null?void 0:s.get(t);if(!i)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:i.index,def:i}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveKeysById(e,t,i){const s=this.resolveProcessedDataIndexById(e,t),n=i.keys[s];if(n==null)throw new Error(`AG Charts - didn't find keys for [${t}, ${e.id}]`);return n.get(e.id)}hasColumnById(e,t){var i;return((i=this.scopeCache.get(e.id))==null?void 0:i.get(t))!=null}resolveColumnById(e,t,i){var r;const s=this.resolveProcessedDataIndexById(e,t),n=(r=i.columns)==null?void 0:r[s];if(n==null)throw new Error(`AG Charts - didn't find column for [${t}, ${e.id}]`);return n}*forEachDatum(e,t,i){const s=t.columnScopes.findIndex(n=>n.has(e.id));for(const n of i.datumIndices[s]??[])yield t.columns[s][n]}*forEachGroupDatum(e,t){const i=t.columnScopes.findIndex(r=>r.has(e.id)),s={groupIndex:0,columnIndex:i},n=[];for(const r of t.groups){s.group=r;let o=0;for(const a of r.datumIndices[i]??n)s.datumIndex=a,s.valueIndex=o++,yield s;s.groupIndex++}}*forEachGroupDatumTuple(e,t){const s={columnIndex:t.columnScopes.findIndex(n=>n.has(e.id)),datumIndexes:[void 0,void 0,void 0]};for(const n of this.forEachGroupDatum(e,t))s.group=s.nextGroup,s.groupIndex=s.nextGroupIndex,s.nextGroup=n.group,s.nextGroupIndex=n.groupIndex,s.datumIndexes[0]=s.datumIndexes[1],s.datumIndexes[1]=s.datumIndexes[2],s.datumIndexes[2]=n.datumIndex,s.group!=null&&s.datumIndexes[1]!=null&&(yield s);s.group=s.nextGroup,s.groupIndex=s.nextGroupIndex,s.nextGroup=void 0,s.nextGroupIndex=void 0,s.datumIndexes[0]=s.datumIndexes[1],s.datumIndexes[1]=s.datumIndexes[2],s.datumIndexes[2]=void 0,s.group!=null&&s.datumIndexes[1]!=null&&(yield s)}getDomain(e,t,i,s){const n=this.getDomainsByType(i??"value",s);return(n==null?void 0:n[this.resolveProcessedDataIndexById(e,t)])??[]}getDomainBetweenRange(e,t,[i,s],n){const r=t.map(u=>this.resolveProcessedDataIndexById(e,u)),o=r.join(":"),a=n[f2];let l=a.get(o);if(l==null){const u=r.map(h=>n.columns[h]);l=new eoe(u),a.set(o,l)}return l.rangeBetween(i,s)}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e){const{opts:{groupByKeys:t,groupByFn:i},aggregates:s,groupProcessors:n,reducers:r,processors:o,propertyProcessors:a}=this,l=performance.now();if(t&&this.keys.length===0)return;let u=this.extractData(e);t?u=this.groupData(u):i&&(u=this.groupData(u,i(u))),n.length>0&&u.type==="grouped"&&this.postProcessGroups(u),s.length>0&&u.type==="ungrouped"?this.aggregateUngroupedData(u):s.length>0&&u.type==="grouped"&&this.aggregateGroupedData(u),a.length>0&&this.postProcessProperties(u),r.length>0&&this.reduceData(u),o.length>0&&this.postProcessData(u),this.warnDataMissingProperties(e);const h=performance.now();return u.time=h-l,this.debug.check()&&noe(u),this.processScopeCache(),u}warnDataMissingProperties(e){var t;if(e.size!==0)for(const i of Eu(this.keys,this.values))for(const[s,n]of i.missing){if(n<(((t=e.get(s))==null?void 0:t.length)??1/0))continue;const r=s==null?"":` for ${s}`;Ne.warnOnce(`the key '${i.property}' was not found in any data element${r}.`)}}processScopeCache(){var e;this.scopeCache.clear();for(const t of Eu(this.keys,this.values,this.aggregates))if(t.idsMap)for(const[i,s]of t.idsMap)for(const n of s)if(!this.scopeCache.has(i))this.scopeCache.set(i,new Map([[n,t]]));else{if((e=this.scopeCache.get(i))!=null&&e.has(n))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(i).set(n,t)}}valueGroupIdxLookup({matchGroupIds:e}){const t=[];for(const[i,s]of this.values.entries())(!e||s.groupId&&e.includes(s.groupId))&&t.push(i);return t}valueIdxLookup(e,t){const i=e==null||e.length===0,s=typeof t=="string"?t:t.id,n=o=>{if(o.idsMap){for(const[a,l]of o.idsMap)if(e!=null&&e.includes(a)&&l.has(s))return!0}return!1},r=this.values.reduce((o,a,l)=>((a.scopes==null||i&&!a.scopes.length||a.scopes.some(h=>e==null?void 0:e.includes(h)))&&(a.property===s||a.id===s||n(a))&&o.push(l),o),[]);if(r.length===0)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return r}extractData(e){const{dataDomain:t,processValue:i,allScopesHaveSameDefs:s}=this.initDataDomainProcessor(),{keys:n,values:r}=this,{invalidData:o,invalidKeys:a,allKeyMappings:l}=this.extractKeys(n,e,i),{columns:u,columnScopes:h,partialValidDataCount:f,maxDataLength:g}=this.extractValues(o,r,e,a,i),m=y=>{const C=t.get(y),x=C.getDomain();return tc.is(C)&&x[0]>x[1]?[]:x};return{type:"ungrouped",input:{count:g},scopes:new Set(e.keys()),dataSources:e,aggregation:void 0,keys:[...l.values()],columns:u,columnScopes:h,invalidKeys:a,invalidData:o,domain:{keys:n.map(m),values:r.map(m)},defs:{allScopesHaveSameDefs:s,keys:n,values:r},partialValidDataCount:f,time:0,[f2]:new Map}}extractKeys(e,t,i){const s=new Map,n=new Map,r=new Map;let o,a;const l=(u,h)=>{const f=a.get(u);o.set(h,o.get(f)),s.has(f)&&(s.set(h,s.get(f)),n.set(h,n.get(f)))};for(const u of e){const{invalidValue:h,scopes:f}=u;o=new Map,a=new Map,r.set(u,o);for(const g of f??[]){const m=t.get(g)??[];if(a.has(m)){l(m,g);continue}const y=[];o.set(g,y),a.set(m,g);let C,x;for(let b=0;b<m.length;b++){const w=i(u,m[b],b,g);if(w!==Gy){y.push(w);continue}y.push(h),C??(C=d1(m.length,!1)),x??(x=d1(m.length,!1)),C[b]=!0,x[b]=!0}C&&x&&(s.set(g,C),n.set(g,x))}}return{invalidData:n,invalidKeys:s,allKeyMappings:r}}extractValues(e,t,i,s,n){let r=0;const o=[],a=[];let l=0;for(const u of t){const{invalidValue:h}=u;if(new Set(u.scopes.map(x=>i.get(x))).size>1)throw new Error(`AG Charts - more than one data source for: ${JSON.stringify(u)}`);const g=new Set(u.scopes),m=Fg(u.scopes),y=i.get(m),C=y.map((x,b)=>{var A;const w=(A=s.get(m))==null?void 0:A[b];let M=n(u,x,b,u.scopes);return(w||M===Gy)&&this.markScopeDatumInvalid(u.scopes,y,b,e),w?M=h:M===Gy&&(r+=1,M=h),M});o.push(C),a.push(g),l=Math.max(l,C.length)}return{columns:o,columnScopes:a,partialValidDataCount:r,maxDataLength:l}}groupData(e,t){var i;const s=new Map,{keys:n,columns:r,columnScopes:o,invalidKeys:a,invalidData:l}=e,u=e.scopes,h=new Set;for(const m of u){const y=r.map((A,T)=>T).filter(A=>!h.has(A)&&o[A].has(m));if(y.length===0)continue;for(const A of y)h.add(A);const C=new Set;for(const A of y)for(const T of o[A])C.add(T);const x=n.map(A=>A.get(m)).filter(A=>A!=null),b=r[Fg(y)],w=l==null?void 0:l.get(m),M=a==null?void 0:a.get(m);for(let A=0;A<b.length;A++){if((M==null?void 0:M[A])===!0)continue;const T=x.map(I=>I[A]);if(T==null||T.length===0)throw new Error("AG Charts - no keys found for scope: "+m);const k=(t==null?void 0:t(T))??T,R=toe(k),F=s.get(R)??{keys:k,datumIndices:[],validScopes:u};if(s.has(R)||s.set(R,F),(w==null?void 0:w[A])===!0){F.validScopes===u&&(F.validScopes=new Set(u.values()));for(const I of C)F.validScopes.delete(I)}if(F.validScopes.size!==0)for(const I of y)(i=F.datumIndices)[I]??(i[I]=[]),F.datumIndices[I].push(A)}}const f=[],g=[];for(const{keys:m,datumIndices:y,validScopes:C}of s.values())(C==null?void 0:C.size)!==0&&(f.push(m),g.push({datumIndices:y,keys:m,aggregation:[],validScopes:C}));return{...e,type:"grouped",domain:{...e.domain,groups:f},groups:g}}aggregateUngroupedData(e){const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{keys:i,columns:s,dataSources:n}=e,r=Fg(n.keys()),o=n.get(r);e.aggregation=o==null?void 0:o.map((a,l)=>{var h,f,g;const u=[];for(const[m,y]of this.aggregates.entries()){const C=this.valueGroupIdxLookup(y);let x=((h=y.groupAggregateFunction)==null?void 0:h.call(y))??[1/0,-1/0];const b=C.map(T=>s[T][l]),w=fC(i,r,l),M=w!=null?y.aggregateFunction(b,w):void 0;M&&(x=((f=y.groupAggregateFunction)==null?void 0:f.call(y,M,x))??tc.extendDomain(M,x));const A=((g=y.finalFunction)==null?void 0:g.call(y,x))??x;if(y.round===!0)for(const T in A)A[T]=g2(A[T]);u[m]=A,tc.extendDomain(A,t[m])}return u})}aggregateGroupedData(e){var s,n,r,o;const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{columns:i}=e;for(const[a,l]of this.aggregates.entries()){const u=this.valueGroupIdxLookup(l);for(const h of e.groups){if(h.aggregation??(h.aggregation=[]),((s=h.validScopes)==null?void 0:s.size)===0)continue;const f=h.keys;let g=((n=l.groupAggregateFunction)==null?void 0:n.call(l))??[1/0,-1/0];const m=Math.max(...u.map(C=>{var x;return((x=h.datumIndices[C])==null?void 0:x.length)??0}));for(let C=0;C<m;C++){const x=u.map(w=>{var M;return i[w][(M=h.datumIndices[w])==null?void 0:M[C]]}),b=l.aggregateFunction(x,f);b&&(g=((r=l.groupAggregateFunction)==null?void 0:r.call(l,b,g))??tc.extendDomain(b,g))}const y=((o=l.finalFunction)==null?void 0:o.call(l,g))??g;if(l.round===!0)for(const C in y)y[C]=g2(y[C]);h.aggregation[a]=y,tc.extendDomain(y,t[a])}}}postProcessGroups(e){const{groupProcessors:t}=this,{columnScopes:i,columns:s,invalidData:n,scopes:r}=e;for(const o of t){const a=this.valueGroupIdxLookup(o),l=o.adjust()();for(const u of e.groups)u.validScopes===r&&l(s,a,u);for(const u of a){const f=this.values[u].valueType==="category",g=s[u],m=Fg(i[u]),y=n==null?void 0:n.get(m),C=f?new d2:new tc;for(let x=0;x<g.length;x+=1)(y==null?void 0:y[x])!==!0&&C.extend(g[x]);e.domain.values[u]=C.getDomain()}}}postProcessProperties(e){for(const{adjust:t,property:i,scopes:s}of this.propertyProcessors)for(const n of this.valueIdxLookup(s,i))t()(e,n)}reduceData(e){var s;e.reduced??(e.reduced={});const{dataSources:t,keys:i}=e;for(const n of this.reducers){const r=n.reducer();let o=n.initialValue;if(e.type==="grouped")for(const a of e.groups)o=r(o,a.keys);else{const a=Fg(t.keys()),l=i.map(f=>f.get(a)).filter(f=>f!=null),u=l.map(()=>{}),h=t.get(a);for(let f=0;f<h.length;f+=1){for(let g=0;g<u.length;g++)u[g]=(s=l[g])==null?void 0:s[f];o=r(o,u)}}e.reduced[n.property]=o}}postProcessData(e){e.reduced??(e.reduced={});for(const t of this.processors)e.reduced[t.property]=t.calculate(e,e.reduced[t.property])}initDataDomainProcessor(){const{keys:e,values:t}=this,i=new Set;for(const u of t)if(u.scopes)for(const h of u.scopes)i.add(h);const s=new Map,n=new Map;let r=!0;const o=()=>{for(const u of Eu(e,t))u.valueType==="category"?s.set(u,new d2):(s.set(u,new tc),r&&(r=(u.scopes??[]).length===i.size))};o();const a=this.buildAccessors(Eu(e,t));return{dataDomain:s,processValue:(u,h,f,g)=>{var x,b,w;let m,y;if(a.has(u.property)){try{y=a.get(u.property)(h)}catch{}m=y!=null}else m=u.property in h,y=m?h[u.property]:u.missingValue;u.forceValue!=null&&(y=m&&ix(y)?-1*u.forceValue:u.forceValue,m=!0);const C="missingValue"in u;if(!m&&!C)if(typeof g=="string"){const M=u.missing.get(g)??0;u.missing.set(g,M+1)}else for(const M of g){const A=u.missing.get(M)??0;u.missing.set(M,A+1)}if(s.has(u)||o(),m&&((x=u.validation)==null?void 0:x.call(u,y,h,f))===!1)if("invalidValue"in u)y=u.invalidValue;else return this.mode!=="integrated"&&Ne.warnOnce(`invalid value of type [${typeof y}] for [${u.scopes} / ${u.id}] ignored:`,`[${y}]`),Gy;return u.processor&&(n.has(u)||n.set(u,u.processor()),y=(b=n.get(u))==null?void 0:b(y)),(w=s.get(u))==null||w.extend(y),y},initDataDomain:o,scopes:i,allScopesHaveSameDefs:r}}buildAccessors(e){const t=new Map;if(this.suppressFieldDotNotation)return t;for(const i of e){if(!(i.property.includes(".")||i.property.includes("[")))continue;const n=m3(i.property);if(n==null){Ne.warnOnce("Invalid property path [%s]",i.property);continue}const r=soe(n);t.set(i.property,r)}return t}};function noe(e){const t=(i,s)=>{s.length>0&&(Ne.log(`DataModel.processData() - ${i}`),Ne.table(s))};Ne.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[])}var v3=class Na{constructor(t,i){this.mode=t,this.suppressFieldDotNotation=i,this.debug=ti.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(t,i,s){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((n,r)=>{this.requested.push({id:t,opts:s,data:i,resolve:n,reject:r})})}execute(t){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const i=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",i);const s=this.mergeRequested(i);this.debug("DataController.execute() - merged",s),this.debug.check()&&(oi().processedData=[]);const n=[];for(const{data:r,ids:o,opts:a,resolves:l,rejects:u}of s){const h=t==null?void 0:t.find(m=>Jre(m,r,o,a));let f,g;if(h==null)try{f=new y3(a,this.mode,this.suppressFieldDotNotation);const m=new Map(i.map(y=>[y.id,y.data]));g=f.processData(m)}catch(m){u.forEach(y=>y(m));continue}else({dataModel:f,processedData:g}=h);n.push({opts:a,data:r,ids:o,dataModel:f,processedData:g}),this.debug.check()&&oi("processedData").push(g),(g==null?void 0:g.partialValidDataCount)===0?l.forEach(m=>m({dataModel:f,processedData:g})):g?this.splitResult(f,g,o,l):u.forEach(m=>m(new Error("AG Charts - no processed data generated")))}return n}validateRequests(t){const i=[];for(const[s,n]of t.entries())s>0&&n.data.length!==t[0].data.length&&n.opts.groupByData===!1&&n.opts.groupByKeys===!1?n.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):i.push(n);return i}mergeRequested(t){const i=[];for(const s of t){const n=i.find(Na.groupMatch(s));n?n.push(s):i.push([s])}return i.map(Na.mergeRequests)}splitResult(t,i,s,n){for(let r=0;r<s.length;r++){const o=n[r];o({dataModel:t,processedData:i})}}static groupMatch({data:t,opts:i}){function s(u){return u.filter(h=>h.type==="key").map(h=>h.property).join(";")}const{groupByData:n,groupByKeys:r=!1,groupByFn:o,props:a}=i,l=s(a);return([u])=>(n===!1||u.data===t)&&(u.opts.groupByKeys??!1)===r&&u.opts.groupByFn===o&&s(u.opts.props)===l}static mergeRequests(t){const i=new Set(["key","group-value-processor"]);return t.reduce((s,{id:n,data:r,resolve:o,reject:a,opts:{props:l,...u}})=>{var h;s.ids.push(n),s.rejects.push(a),s.resolves.push(o),s.data??(s.data=r),s.opts??(s.opts={...u,props:[]});for(const f of l){const g={...f,scopes:[n],data:r};Na.createIdsMap(n,g);const m=s.opts.props.find(y=>y.type===g.type&&(i.has(y.type)||y.data===g.data)&&Na.deepEqual(y,g));if(!m){s.opts.props.push(g);continue}m.scopes??(m.scopes=[]),m.scopes.push(...g.scopes??[]),(m.type==="key"||m.type==="value")&&((h=g.idsMap)!=null&&h.size)&&Na.mergeIdsMap(g.idsMap,m.idsMap)}return s},{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(t,i){for(const[s,n]of t){const r=i.get(s);if(r==null)i.set(s,new Set(n));else for(const o of n)r.add(o)}}static createIdsMap(t,i){i.id!=null&&(i.idsMap??(i.idsMap=new Map),i.idsMap.has(t)?i.idsMap.get(t).add(i.id):i.idsMap.set(t,new Set([i.id])))}static deepEqual(t,i){if(t===i)return!0;if(t&&i&&typeof t=="object"&&typeof i=="object"){if(t.constructor!==i.constructor)return!1;let s,n;if(Array.isArray(t)){if(n=t.length,n!==i.length)return!1;for(s=n-1;s>=0;s--)if(!Na.deepEqual(t[s],i[s]))return!1;return!0}const r=Object.keys(t);if(n=r.length,n!==Object.keys(i).length)return!1;for(s=n-1;s>=0;s--){const o=r[s];if(!Na.skipKeys.has(o)&&(!Object.hasOwn(i,o)||!Na.deepEqual(t[o],i[o])))return!1}return!0}return!1}};v3.skipKeys=new Set(["id","idsMap","type","scopes","data"]);var C3=v3,roe=class{constructor(){this.axesMap=new Map,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.moduleFactory),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate)}create(e,t){const i=this.axesMap.get(e);if(i)return i(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},qa=new roe,yf=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"root",optionsKey:"ranges",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"]},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bar",community:!0},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"line",community:!0},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"radial-gauge"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"},{type:"context",contextKey:"sharedToolbar",chartTypes:["cartesian"]}];function ooe(e){return yf.some(t=>t.type==="series"&&t.identifier===e)}function fh(e){var t;return(t=yf.find(i=>i.type==="series"&&i.identifier===e))==null?void 0:t.chartTypes}function aoe(e){var i;return((i=fh(e))==null?void 0:i.find(s=>s==="cartesian"))==="cartesian"}function loe(e){var i;return((i=fh(e))==null?void 0:i.find(s=>s==="polar"))==="polar"}function coe(e){var i;return((i=fh(e))==null?void 0:i.find(s=>s==="hierarchy"))==="hierarchy"}function uoe(e){var i;return((i=fh(e))==null?void 0:i.find(s=>s==="topology"))==="topology"}function hoe(e){var i;return((i=fh(e))==null?void 0:i.find(s=>s==="flow-proportion"))==="flow-proportion"}function doe(e){var i;return((i=fh(e))==null?void 0:i.find(s=>s==="standalone"))==="standalone"}function foe(e){var i;return((i=fh(e))==null?void 0:i.find(s=>s==="gauge"))==="gauge"}function goe(e){return e.packageType==="enterprise"}function poe(e){if(!goe(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const t=yf.find(i=>i.type===e.type&&("optionsKey"in i&&"optionsKey"in e?i.optionsKey===e.optionsKey:!0)&&("contextKey"in i&&"contextKey"in e?i.contextKey===e.contextKey:!0)&&i.identifier===e.identifier&&e.chartTypes.every(s=>i.chartTypes.includes(s)));return t&&(t.useCount??(t.useCount=0),t.useCount++),t!=null}function moe(){return yf.filter(({useCount:e})=>e==null||e===0)}var yoe=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,{optionsKey:t,moduleFactory:i,themeTemplate:s}){this.legendMap.set(e,{optionsKey:t,moduleFactory:i}),this.themeTemplates.set(t,s)}create(e,t){var s;const i=(s=this.legendMap.get(e))==null?void 0:s.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((e,[t,i])=>(e[t]=i.optionsKey,e),{})}},YA=new yoe,x3=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return this.get(e)==="cartesian"}isPolar(e){return this.get(e)==="polar"}isHierarchy(e){return this.get(e)==="hierarchy"}isTopology(e){return this.get(e)==="topology"}isFlowProportion(e){return this.get(e)==="flow-proportion"}isStandalone(e){return this.get(e)==="standalone"}isGauge(e){return this.get(e)==="gauge"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))}get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))}get hierarchyTypes(){return this.seriesTypes.filter(e=>this.isHierarchy(e))}get topologyTypes(){return this.seriesTypes.filter(e=>this.isTopology(e))}get flowProportionTypes(){return this.seriesTypes.filter(e=>this.isFlowProportion(e))}get standaloneTypes(){return this.seriesTypes.filter(e=>this.isStandalone(e))}get gaugeTypes(){return this.seriesTypes.filter(e=>this.isGauge(e))}},voe=class extends Map{set(e,t){return super.set(e,bt(t,this.get(e)))}},mi=new x3,b3=new x3,GM=new voe,Coe=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,{chartTypes:[t],moduleFactory:i,tooltipDefaults:s,defaultAxes:n,themeTemplate:r,paletteFactory:o,solo:a,stackable:l,groupable:u,stackedByDefault:h,hidden:f}){this.setThemeTemplate(e,r),this.seriesMap.set(e,{moduleFactory:i,tooltipDefaults:s,defaultAxes:n,paletteFactory:o,solo:a,stackable:l,groupable:u,stackedByDefault:h}),mi.set(e,t),f||b3.set(e,t)}create(e,t){var s;const i=(s=this.seriesMap.get(e))==null?void 0:s.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e,t){var n;const i=(n=this.seriesMap.get(e))==null?void 0:n.defaultAxes;if(i==null)return null;const s=typeof i=="function"?i(t):i;return{axes:ns(s)}}isDerivedDefaultAxes(e){var t;return typeof((t=this.seriesMap.get(e))==null?void 0:t.defaultAxes)=="function"}setThemeTemplate(e,t){const i=this.themeTemplates.get(e);this.themeTemplates.set(e,bt(t,i))}getThemeTemplate(e){return this.themeTemplates.get(e)}getPaletteFactory(e){var t;return(t=this.seriesMap.get(e))==null?void 0:t.paletteFactory}getTooltipDefauls(e){var t;return(t=this.seriesMap.get(e))==null?void 0:t.tooltipDefaults}isSolo(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.solo)??!1}isGroupable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.groupable)??!1}isStackable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackable)??!1}isStackedByDefault(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackedByDefault)??!1}},zn=new Coe,KA=class bu extends Lc{constructor(t){super(),this.chart=t}subscribe(t=bu.DEFAULT_GROUP){let i=this.get(t);return i||(i=new Set,bu.chartsGroups.set(t,i)),i.add(this.chart),this}unsubscribe(t=bu.DEFAULT_GROUP){var i;return(i=this.get(t))==null||i.delete(this.chart),this}getChart(){return this.chart}getGroup(t=bu.DEFAULT_GROUP){const i=this.get(t);return i?Array.from(i):[]}getGroupSiblings(t=bu.DEFAULT_GROUP){return this.getGroup(t).filter(i=>i!==this.chart)}get(t){return bu.chartsGroups.get(t)}};KA.chartsGroups=new Map;KA.DEFAULT_GROUP=Symbol("sync-group-default");var xoe=KA,$A=class extends ut{constructor(){super(...arguments),this.enabled=!1}};E([L(et)],$A.prototype,"enabled",2);E([L(Tt)],$A.prototype,"tabIndex",2);var S3=["top","right","bottom","left"];function boe(e){return typeof e=="string"&&S3.includes(e)}function Soe(e){const t=[],i=[],s=[...S3];for(const n of e)n instanceof km&&(boe(n.position)?i.push(n.position):t.push(n));for(const n of t){let r;do r=s.pop();while(r&&i.includes(r));if(r==null)break;n.position=r}}var woe=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function Moe(e,t,i){var u,h;const s=(f,g,m)=>{const y=[f];for(const C of woe)C in g&&g[C]!=null&&y.push(`${C}=${g[C]}`);return m!=null&&m.seriesGrouping&&y.push(`seriesGrouping.groupId=${m==null?void 0:m.seriesGrouping.groupId}`),y.join(";")},n=new Map;let r=0;for(const f of e){const g=s(f.type,f.properties,i==null?void 0:i[r]);n.has(g)||n.set(g,[]),(u=n.get(g))==null||u.push([f,r++])}const o=new Map;r=0;for(const f of t){const g=s(f.type,f,f);o.has(g)||o.set(g,[]),(h=o.get(g))==null||h.push([f,r++])}if(![...n.keys()].some(f=>o.has(f)))return{status:"no-overlap",oldKeys:n.keys(),newKeys:o.keys()};const l=[];for(const[f,g]of o.entries())for(const[m,y]of g){const C=n.get(f);if(C==null||C.length<1){l.push({opts:m,targetIdx:y,idx:y,status:"add"}),n.delete(f);continue}const[x,b]=C.shift(),w=(i==null?void 0:i[b])??{},M=ll(w,m??{}),{groupIndex:A,stackIndex:T}=(M==null?void 0:M.seriesGrouping)??{};A!=null||T!=null?l.push({opts:m,series:x,diff:M,targetIdx:y,idx:b,status:"series-grouping"}):M?l.push({opts:m,series:x,diff:M,targetIdx:y,idx:b,status:"update"}):l.push({opts:m,series:x,targetIdx:y,idx:b,status:"no-op"}),C.length===0&&n.delete(f)}for(const f of n.values())for(const[g,m]of f)l.push({series:g,idx:m,targetIdx:-1,status:"remove"});return{status:"overlap",changes:l}}function xl(e){var i;const{series:t}=e;if(t)return((i=t[0])==null?void 0:i.type)??"line"}function XA(e){const t=xl(e);return t==null?!1:mi.isCartesian(t)||aoe(t)}function w3(e){const t=xl(e);return t==null?!1:mi.isPolar(t)||loe(t)}function Doe(e){const t=xl(e);return t==null?!1:mi.isHierarchy(t)||coe(t)}function Aoe(e){const t=xl(e);return t==null?!1:mi.isTopology(t)||uoe(t)}function Eoe(e){const t=xl(e);return t==null?!1:mi.isFlowProportion(t)||hoe(t)}function M3(e){const t=xl(e);return t==null?!1:mi.isStandalone(t)||doe(t)}function D3(e){const t=xl(e);return t==null?!1:mi.isGauge(t)||foe(t)}function Toe(e){const t=xl(e);return w3(e)&&t!=="pie"&&t!=="donut"}function Roe(e){return e==null?!1:mi.has(e)}function koe(e){return e==null?!1:qa.has(e)}var Ioe=class extends wA{applyOptions(e){for(const t of this.moduleMap.values())t.module.optionsKey in e&&oa(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(const{module:e,moduleInstance:t}of this.moduleMap.values())e.type==="legend"&&(yield{legendType:e.identifier,legend:t})}},zM="ag-charts-overlay",p2="ag-charts-dark-overlay",Ru=class extends ut{constructor(e,t){super(),this.className=e,this.defaultMessageId=t,this.enabled=!0}getText(e){return e.t(this.text??this.defaultMessageId)}getElement(e,t,i){var s;if((s=this.content)==null||s.remove(),this.focusBox=i,this.renderer){const n=this.renderer();if(n instanceof HTMLElement)this.content=n;else{const r=Mt("div");r.innerHTML=n,this.content=r.firstElementChild}}else{const n=Mt("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",fontFamily:"var(--ag-charts-font-family)",fontSize:"var(--ag-charts-font-size)",fontWeight:"var(--ag-charts-font-weight)"});n.innerText=this.getText(t),this.content=n,e==null||e.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(r){n.style.opacity=String(r)},onStop(){n.style.opacity="1"}})}return this.content}removeElement(e=()=>{var i;return(i=this.content)==null?void 0:i.remove()},t){if(this.content){if(t){const{content:i}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(s){i.style.opacity=String(s)},onStop(){e==null||e()}})}else e==null||e();this.content=void 0,this.focusBox=void 0}}};E([L(et)],Ru.prototype,"enabled",2);E([L(Fe,{optional:!0})],Ru.prototype,"text",2);E([L(In,{optional:!0})],Ru.prototype,"renderer",2);var vf=class extends ut{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new Ru("ag-charts-loading-overlay","overlayLoadingData"),this.noData=new Ru("ag-charts-no-data-overlay","overlayNoData"),this.noVisibleSeries=new Ru("ag-charts-no-visible-series","overlayNoVisibleSeries"),this.unsupportedBrowser=new Ru("ag-charts-unsupported-browser","overlayUnsupportedBrowser")}getFocusInfo(e){for(const t of[this.loading,this.noData,this.noVisibleSeries,this.unsupportedBrowser])if(t.focusBox!==void 0)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement(),this.unsupportedBrowser.removeElement()}};E([L(et)],vf.prototype,"darkTheme",2);E([L($e)],vf.prototype,"loading",2);E([L($e)],vf.prototype,"noData",2);E([L($e)],vf.prototype,"noVisibleSeries",2);E([L($e)],vf.prototype,"unsupportedBrowser",2);function Loe(e,t){const{animationDuration:i}=Hp.add,s=i*t,n=Mt("div",`${zM}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${s}ms linear 50ms both`}),r=Mt("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),o=Mt("p",{marginTop:"1em"});o.innerText=e;const a=Mt("div",`${zM}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=Mt("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),n.replaceChildren(l,r,o,a),n}var A3=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.ANY_CONTENT=1]="ANY_CONTENT",e))(A3||{}),E3=(e=>(e[e.FOREGROUND=0]="FOREGROUND",e[e.HIGHLIGHT=1]="HIGHLIGHT",e[e.LABEL=2]="LABEL",e))(E3||{}),T3=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_NODE=1]="NEAREST_NODE",e[e.AXIS_ALIGNED=2]="AXIS_ALIGNED",e))(T3||{}),Foe=.25,Poe=.125,Lm=class{constructor(e,t,{datum:i},s){this.type=e,this.event=t,this.datum=i,this.seriesId=s.id}},ZA=class{constructor(e,t,i){this.series=e,this.seriesGrouping=t,this.oldGrouping=i,this.type="groupingChanged"}},Tx=class extends HB{constructor(e){super(),this.destroyFns=[],this.usesPlacedLabels=!1,this.seriesGrouping=void 0,this.NodeEvent=Lm,this.internalId=Qr(this),this.contentGroup=new En({name:`${this.internalId}-content`,zIndex:1}),this.highlightGroup=new En({name:`${this.internalId}-highlight`,zIndex:1}),this.annotationGroup=new En({name:`${this.internalId}-annotation`}),this.labelGroup=new En({name:`${this.internalId}-series-labels`}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new wA,this.datumCallbackCache=new Map,this.connectsToYAxis=!1,this._declarationOrder=-1,this.seriesListeners=new Cl,this._pickNodeCache=new vA;const{moduleCtx:t,pickModes:i,directionKeys:s={},directionNames:n={},canHaveAxes:r=!1,usesPlacedLabels:o=!1}=e;this.ctx=t,this.directionKeys=s,this.directionNames=n,this.canHaveAxes=r,this.usesPlacedLabels=o,this.highlightGroup=new En({name:`${this.internalId}-highlight`}),this.highlightNode=this.highlightGroup.appendChild(new ot({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new ot({name:"highlightLabel",zIndex:10})),this.pickModes=i}get pickModeAxis(){return"main"}get id(){var e;return((e=this.properties)==null?void 0:e.id)??this.internalId}get type(){return this.constructor.type??""}get focusable(){return!0}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.ctx.legendManager.toggleItem({enabled:e,seriesId:this.id}),this.ctx.legendManager.update(),this.visibleMaybeChanged()}get visible(){return this.ctx.legendManager.getSeriesEnabled(this.id)??this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){var e;return((e=this.properties.tooltip)==null?void 0:e.enabled)??!1}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){const{internalId:i,type:s,visible:n}=this;e&&this.ctx.seriesStateManager.deregisterSeries(this),t&&this.ctx.seriesStateManager.registerSeries({internalId:i,type:s,visible:n,seriesGrouping:t}),this.fireEvent(new ZA(this,t,e))}getBandScalePadding(){return{inner:1,outer:0}}attachSeries(e,t,i){e.appendChild(this.contentGroup),t.appendChild(this.highlightGroup),t.appendChild(this.labelGroup),i==null||i.appendChild(this.annotationGroup)}detachSeries(e,t,i){e==null||e.removeChild(this.contentGroup),t.removeChild(this.highlightGroup),t.removeChild(this.labelGroup),i==null||i.removeChild(this.annotationGroup)}setSeriesIndex(e){return e===this._declarationOrder?!1:(this._declarationOrder=e,this.contentGroup.zIndex=[1,e,0],this.highlightGroup.zIndex=[1,e,1],this.labelGroup.zIndex=[1,e,2],this.annotationGroup.zIndex=e,!0)}renderToOffscreenCanvas(){return!1}addEventListener(e,t){return super.addEventListener(e,t)}addListener(e,t){return this.seriesListeners.addListener(e,t)}dispatch(e,t){this.seriesListeners.dispatch(e,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns=[],this.resetDatumCallbackCache(),this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(e,t){const i=this.resolveKeyDirection(e),s=t==null?void 0:t[i],n=[];if(!s)return n;const r=(...o)=>{for(const a of o)Array.isArray(a)?r(...a):typeof a=="object"?r(...Object.values(a)):n.push(a)};return r(...s.map(o=>this.properties[o])),n}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getKeyProperties(e){return this.directionKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){const t=this.getSeriesDomain(e),i=this.moduleMap.mapModules(s=>s.getDomain(e)).flat();return i.length!==0?t.concat(i):t}getRange(e,t){return this.getSeriesRange(e,t)}getVisibleItems(e,t,i){return 1/0}getGradientFillOptions({bounds:e},t){const{axes:i}=this,s=i.x,n=i.y,r=(s==null?void 0:s.range)??[0,1],o=(n==null?void 0:n.range)??[0,1],[a,l]=Es(r),[u,h]=Es(o),f=l-a,g=h-u;let m=[0,1];return e==="series"?m=this.getSeriesDomain("y"):e==="axes"&&(m=(n==null?void 0:n.scale.domain)??[0,1]),{bbox:new Ze(a,u,f,g),domain:m,defaultColorRange:t}}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){const{dimOpacity:t=1,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||t===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return t}}getStrokeWidth(e){const{strokeWidth:t,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||t===void 0)return e;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return e}}isItemIdHighlighted(){var t,i;const e=(i=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight())==null?void 0:i.series;return e==null?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,t)=>Object.assign(e,t),{})}pickNode(e,t,i=!1){const{pickModes:s,pickModeAxis:n,visible:r,contentGroup:o}=this;if(!r||!o.visible||t==="highlight"&&!this.properties.highlight.enabled||t==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let a=1/0;if(t==="tooltip"||t==="highlight-tooltip"){const{tooltip:g}=this.properties;a=typeof g.range=="number"?g.range:1/0,i||(i=g.range==="exact")}else if(t==="event"||t==="context-menu"){const{nodeClickRange:g}=this.properties;a=typeof g=="number"?g:1/0,i||(i=g==="exact")}const l=s.filter(g=>!i||g===0),{x:u,y:h}=e,f=JSON.stringify({x:u,y:h,maxDistance:a,selectedPickModes:l});if(this._pickNodeCache.has(f))return this._pickNodeCache.get(f);for(const g of l){let m;switch(g){case 0:m=this.pickNodeExactShape(e);break;case 1:m=this.pickNodeClosestDatum(e);break;case 2:m=n!=null?this.pickNodeMainAxisFirst(e,n==="main-category"):void 0;break}if(m&&m.distance<=a)return this._pickNodeCache.set(f,{pickMode:g,match:m.datum,distance:m.distance})}return this._pickNodeCache.set(f,void 0)}pickNodeExactShape(e){const t=this.contentGroup.pickNode(e.x,e.y);if(t&&t.datum.missing!==!0)return{datum:t.datum,distance:0}}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){const i=tx(e.x,e.y,t);if(i.nearest!==void 0&&i.nearest.datum.missing!==!0)return{datum:i.nearest.datum,distance:Math.sqrt(i.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}getLabelData(){return[]}updatePlacedLabelData(e){}fireNodeClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeClick",e,t,this))}fireNodeDoubleClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeDoubleClick",e,t,this))}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}onLegendInitialState(e,t){const{visible:i=!0,itemId:s,legendItemName:n}=t??{};this.toggleSeriesItem(i,e,s,n)}onLegendItemClick(e){const{enabled:t,itemId:i,series:s,legendType:n}=e,r="legendItemName"in this.properties?this.properties.legendItemName:void 0,o="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,a=r!=null&&r===e.legendItemName;(s.id===this.id||a||o!=null)&&this.toggleSeriesItem(t,n,i,r,e)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:s,numVisibleItems:n,legendType:r}=e,o="legendItemName"in this.properties?this.properties.legendItemName:void 0,a="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,l=o!=null&&o===e.legendItemName;s.id===this.id||l||a!=null?this.toggleSeriesItem(!0,r,i,o,e):t&&n===1?this.toggleSeriesItem(!0,r,void 0,o):this.toggleSeriesItem(!1,r,void 0,o)}toggleSeriesItem(e,t,i,s,n){const r=this.id;(e||t!=="category")&&(this.visible=e),this.nodeDataRefresh=!0,this._pickNodeCache.clear();const o={type:"seriesVisibilityChange",seriesId:r,itemId:i,legendItemName:(n==null?void 0:n.legendItemName)??s,visible:e};this.fireEvent(o),this.ctx.legendManager.toggleItem({enabled:e,seriesId:r,itemId:i,legendItemName:s})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getLabelText(e,t,i=al){return e.formatter?this.ctx.callbackCache.call(e.formatter,{seriesId:this.id,...t})??i(t.value):i(t.value)}getMarkerStyle(e,t,i=e.getStyle()){var r;const s={size:((r=t.datum.point)==null?void 0:r.size)??0},n=bt(s,i);if(e.itemStyler){const o=this.ctx.callbackCache.call(e.itemStyler,{seriesId:this.id,...n,...t,datum:t.datum.datum});return bt(o,n)}return n}updateMarkerStyle(e,t,i,s=t.getStyle(),{applyTranslation:n=!0,selected:r=!0}={}){const{point:o}=i.datum,a=this.getMarkerStyle(t,i,s),l=this.visible&&a.size>0&&o&&!isNaN(o.x)&&!isNaN(o.y);if(n?e.setProperties({visible:l,...a,translationX:o==null?void 0:o.x,translationY:o==null?void 0:o.y}):e.setProperties({visible:l,...a}),r||(e.fillOpacity*=Foe,e.strokeOpacity*=Poe),typeof t.shape=="function"&&!e.dirtyPath){e.path.clear(!0),e.updatePath(),e.checkPathDirty();const u=e.getBBox();if(o!==void 0&&u.isFinite()){const h=u.computeCenter(),[f,g]=["x","y"].map(m=>(a.strokeWidth??0)+Math.abs(h[m]-o[m]));o.focusSize=Math.max(u.width+f,u.height+g)}}}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:t,height:i}=e??{width:NaN,height:NaN},s=e?{seriesRectWidth:t,seriesRectHeight:i}:void 0,n=ll(this.nodeDataDependencies,s)!=null;return n&&(this._nodeDataDependencies=s,this.markNodeDataDirty()),n}pickFocus(e){}resetDatumCallbackCache(){this.datumCallbackCache.clear()}cachedDatumCallback(e,t){const{datumCallbackCache:i}=this,s=i.get(e);if(s!=null)return s;const n=t();return i.set(e,n),n}};E([Yn({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],Tx.prototype,"seriesGrouping",2);function Ooe(e,t){const i=-t/e;return e!==0&&i>=0&&i<=1?[i]:[]}function Noe(e,t,i){if(e===0)return Ooe(t,i);const s=t*t-4*e*i,n=[];if(s===0){const r=-t/(2*e);r>=0&&r<=1&&n.push(r)}else if(s>0){const r=Math.sqrt(s),o=(-t-r)/(2*e),a=(-t+r)/(2*e);o>=0&&o<=1&&n.push(o),a>=0&&a<=1&&n.push(a)}return n}function _oe(e,t,i,s){if(e===0)return Noe(t,i,s);const n=t/e,r=i/e,o=s/e,a=(3*r-n*n)/9,l=(9*n*r-27*o-2*n*n*n)/54,u=a*a*a+l*l,h=1/3,f=[];if(u>=0){const g=Math.sqrt(u),m=Math.sign(l+g)*Math.pow(Math.abs(l+g),h),y=Math.sign(l-g)*Math.pow(Math.abs(l-g),h),C=Math.abs(Math.sqrt(3)*(m-y)/2),x=-.3333333333333333*n+(m+y);if(x>=0&&x<=1&&f.push(x),C===0){const b=-.3333333333333333*n-(m+y)/2;b>=0&&b<=1&&f.push(b)}}else{const g=Math.acos(l/Math.sqrt(-a*a*a)),m=h*n,y=2*Math.sqrt(-a),C=y*Math.cos(h*g)-m,x=y*Math.cos(h*(g+2*Math.PI))-m,b=y*Math.cos(h*(g+4*Math.PI))-m;C>=0&&C<=1&&f.push(C),x>=0&&x<=1&&f.push(x),b>=0&&b<=1&&f.push(b)}return f}function wd(e,t,i,s,n,r,o,a){const l=(i-e)*(a-r)-(s-t)*(o-n);if(l===0)return 0;const u=((o-n)*(t-r)-(e-n)*(a-r))/l,h=((i-e)*(t-r)-(s-t)*(e-n))/l;return u>=0&&u<=1&&h>=0&&h<=1?1:0}function Boe(e,t,i,s,n,r,o,a,l,u,h,f){let g=0;const m=u-f,y=h-l,C=l*(f-u)-u*(h-l),x=m2(e,i,n,o),b=m2(t,s,r,a),w=m*x[0]+y*b[0],M=m*x[1]+y*b[1],A=m*x[2]+y*b[2],T=m*x[3]+y*b[3]+C,k=_oe(w,M,A,T);for(const R of k){const F=R*R,I=R*F,N=x[0]*I+x[1]*F+x[2]*R+x[3],G=b[0]*I+b[1]*F+b[2]*R+b[3];let V;l===h?V=(G-u)/(f-u):V=(N-l)/(h-l),V>=0&&V<=1&&g++}return g}function m2(e,t,i,s){return[-e+3*t-3*i+s,3*e-6*t+3*i,-3*e+3*t,e]}function R3(e,t,i,s,n,r,o,a,l,u){if(isNaN(e)||isNaN(t))return 0;r&&([n,s]=[s,n]);const h=(u-a)/(l-o),f=a-h*o,g=Math.pow(h,2)+1,m=2*(h*(f-t)-e),y=Math.pow(e,2)+Math.pow(f-t,2)-Math.pow(i,2),C=Math.pow(m,2)-4*g*y;if(C<0)return 0;const x=(-m+Math.sqrt(C))/2/g,b=(-m-Math.sqrt(C))/2/g;let w=0;return[x,b].forEach(M=>{if(!(M>=Math.min(o,l)&&M<=Math.max(o,l)))return;const T=h*M+f,k=M-e,R=T-t,F=Math.atan2(R,k);ac(F,s,n)&&w++}),w}function gC(e,t,i,s,n){return(1-n)**3*e+3*(1-n)**2*n*t+3*(1-n)*n**2*i+n**3*s}function pC(e,t,i,s,n){if(n<=Math.min(e,s))return e<s?0:1;if(n>=Math.max(e,s))return e<s?1:0;let r=0,o=1,a=NaN;for(let l=0;l<12;l+=1)a=(r+o)/2,gC(e,t,i,s,a)<n?r=a:o=a;return a}function mC(e,t,i,s,n,r,o,a,l){const u=(1-l)*e+l*i,h=(1-l)*t+l*s,f=(1-l)*i+l*n,g=(1-l)*s+l*r,m=(1-l)*n+l*o,y=(1-l)*r+l*a,C=(1-l)*u+l*f,x=(1-l)*h+l*g,b=(1-l)*f+l*m,w=(1-l)*g+l*y,M=(1-l)*C+l*b,A=(1-l)*x+l*w;return[[{x:e,y:t},{x:u,y:h},{x:C,y:x},{x:M,y:A}],[{x:M,y:A},{x:b,y:w},{x:m,y},{x:o,y:a}]]}function HM(e,t,i,s){const n=-e+3*t-3*i+s,r=3*e-6*t+3*i,o=-3*e+3*t;if(n===0){if(r!==0){const l=-o/r;if(l>0&&l<1)return[l]}return[]}const a=r*r-4*n*o;if(a>=0){const l=Math.sqrt(a),u=(-r+l)/(2*n),h=(-r-l)/(2*n);return[u,h].filter(f=>f>0&&f<1)}return[]}function k3(e,t,i,s,n,r,o,a){const l=HM(e,i,n,o),u=HM(t,s,r,a);return[...l,...u]}var Yp=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isEmpty(){return this.commands.length===0}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}rect(e,t,i,s){this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+s),this.lineTo(e,t+s),this.closePath()}roundRect(e,t,i,s,n){n=Math.min(n,i/2,s/2),this.moveTo(e,t+n),this.arc(e+n,t+n,n,Math.PI,1.5*Math.PI),this.lineTo(e+n,t),this.lineTo(e+i-n,t),this.arc(e+i-n,t+n,n,1.5*Math.PI,2*Math.PI),this.lineTo(e+i,t+n),this.lineTo(e+i,t+s-n),this.arc(e+i-n,t+s-n,n,0,Math.PI/2),this.lineTo(e+i-n,t+s),this.lineTo(e+n,t+s),this.arc(e+ +n,t+s-n,n,Math.PI/2,Math.PI),this.lineTo(e,t+s-n),this.closePath()}arc(e,t,i,s,n,r){this.openedPath=!0,this.path2d.arc(e,t,i,s,n,r),this.commands.push(2),this.params.push(e,t,i,s,n,r?1:0)}cubicCurveTo(e,t,i,s,n,r){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,i,s,n,r),this.commands.push(3),this.params.push(e,t,i,s,n,r)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){const i=this.commands,s=this.params,n=i.length,r=-1e4,o=-1e4;let a=NaN,l=NaN,u=0,h=0,f=0;for(let g=0,m=0;g<n;g++)switch(i[g]){case 0:f+=wd(a,l,u,h,r,o,e,t),u=s[m++],a=u,h=s[m++],l=h;break;case 1:f+=wd(u,h,s[m++],s[m++],r,o,e,t),u=s[m-2],h=s[m-1];break;case 3:f+=Boe(u,h,s[m++],s[m++],s[m++],s[m++],s[m++],s[m++],r,o,e,t),u=s[m-2],h=s[m-1];break;case 2:{const y=s[m++],C=s[m++],x=s[m++],b=s[m++],w=s[m++],M=!!s[m++];if(f+=R3(y,C,x,b,w,M,r,o,e,t),!isNaN(a)){const A=y+Math.cos(b)*x,T=C+Math.sin(b)*x;f+=wd(u,h,A,T,r,o,e,t)}u=y+Math.cos(w)*x,h=C+Math.sin(w)*x;break}case 4:f+=wd(a,l,u,h,r,o,e,t);break}return f%2===1}distanceSquared(e,t){let i=1/0;const s=this.commands,n=this.params,r=s.length;let o=NaN,a=NaN,l=0,u=0;for(let h=0,f=0;h<r;h++)switch(s[h]){case 0:l=o=n[f++],u=a=n[f++];break;case 1:{const g=n[f++],m=n[f++];i=hp(e,t,l,u,g,m,i);break}case 3:Ne.error("Command.Curve distanceSquare not implemented");break;case 2:{const g=n[f++],m=n[f++],y=n[f++],C=n[f++],x=n[f++],b=g+Math.cos(C)*y,w=m+Math.sin(C)*y,M=!!n[f++];i=hp(e,t,l,u,b,w,i),i=jse(e,t,g,m,y,C,x,M,i),l=g+Math.cos(x)*y,u=m+Math.sin(x)*y;break}case 4:i=hp(e,t,l,u,o,a,i);break}return i}toSVG(e=(t,i)=>({x:t,y:i})){const t=[],{commands:i,params:s}=this,n=(o,...a)=>{t.push(o);for(let l=0;l<a.length;l+=2){const{x:u,y:h}=e(a[l],a[l+1]);t.push(u,h)}};let r=0;for(const o of i)switch(o){case 0:n("M",s[r++],s[r++]);break;case 1:n("L",s[r++],s[r++]);break;case 3:n("C",s[r++],s[r++],s[r++],s[r++],s[r++],s[r++]);break;case 2:{const a=s[r++],l=s[r++],u=s[r++],h=s[r++],f=s[r++],g=s[r++];let m=g?h-f:f-h;m<0&&(m+=Math.ceil(-m/(2*Math.PI))*2*Math.PI),g&&(m=-m);const y=Math.max(Math.ceil(Math.abs(m)/(Math.PI/2)),1),C=m/y,x=4/3*Math.tan(C/4),b=t.length===0?"M":"L";n(b,a+Math.cos(h)*u,l+Math.sin(h)*u);for(let w=0;w<y;w+=1){const M=h+C*(w+0),A=h+C*(w+1),T=u*Math.sin(M),k=u*Math.cos(M),R=u*Math.sin(A),F=u*Math.cos(A);n("C",a+k-x*T,l+T+x*k,a+F+x*R,l+R-x*F,a+F,l+R)}break}case 4:t.push("Z");break}return t.join(" ")}computeBBox(){const{commands:e,params:t}=this;let[i,s,n,r]=[1/0,1/0,-1/0,-1/0],[o,a]=[NaN,NaN],[l,u]=[NaN,NaN];const h=(g,m,y)=>{i=Math.min(m,i),s=Math.min(g,s),n=Math.max(g,n),r=Math.max(m,r),y&&([o,a]=[g,m])};let f=0;for(const g of e)switch(g){case 0:h(t[f++],t[f++],!0),[l,u]=[o,a];break;case 1:h(t[f++],t[f++],!0);break;case 3:{const m=t[f++],y=t[f++],C=t[f++],x=t[f++],b=t[f++],w=t[f++];h(b,w,!0),k3(o,a,m,y,C,x,b,w).forEach(A=>{const T=gC(o,m,C,b,A),k=gC(a,y,x,w,A);h(T,k)});break}case 2:{const m=t[f++],y=t[f++],C=t[f++];let x=ri(t[f++]),b=ri(t[f++]);t[f++]&&([x,b]=[b,x]);const M=(T,k)=>{const R=m+C*Math.cos(T),F=y+C*Math.sin(T);h(R,F,k)};M(x),M(b,!0);const A=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(const T of A)(x<b&&x<=T&&T<=b||x>b&&(x<=T||T<=b))&&M(T);break}case 4:[o,a]=[l,u];break}return new Ze(s,i,n-s,r-i)}};function lt(e){const{changeCb:t,convertor:i}=e??{};return Xe({type:"path",convertor:i,changeCb:t})}var Fn=class extends Xr{constructor(){super(...arguments),this.path=new Yp,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0,this.lastPixelRatio=NaN}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty())}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var e,t;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(((e=this.fillShadow)==null?void 0:e.isDirty())??!1)||(((t=this._clipPath)==null?void 0:t.isDirty())??!1))}isPointInPath(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)}distanceSquared(e,t){return this.distanceSquaredTransformedPoint(e,t)}svgPathData(e){return this.updatePathIfDirty(),this.path.toSVG(e)}distanceSquaredTransformedPoint(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)?0:this.path.distanceSquared(e,t)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(e){return e.devicePixelRatio!==this.lastPixelRatio&&(this.dirtyPath=!0),this.lastPixelRatio=e.devicePixelRatio,this.updatePathIfDirty(),super.preRender(e,this.path.commands.length)}render(e){var i,s;const{ctx:t}=e;if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){t.save();const n=this.strokeWidth/2;this._clipPath??(this._clipPath=new Yp),this._clipPath.clear(),this._clipPath.rect(-n,-n,this._clipX+n,this._clipY+n+n),t.clip((i=this._clipPath)==null?void 0:i.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(t),t.restore()}else this._clipPath=void 0,this.drawPath(t);(s=this.fillShadow)==null||s.markClean(),super.render(e)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}toSVG(){if(!this.visible)return;const e=Kr("path");return e.setAttribute("d",this.svgPathData()),this.applySvgFillAttributes(e),this.applySvgStrokeAttributes(e),{elements:[e]}}};Fn.className="Path";E([lt()],Fn.prototype,"clip",2);E([lt()],Fn.prototype,"clipX",1);E([lt()],Fn.prototype,"clipY",1);var Goe=class{constructor(e){this.swapChain=e,this.div=Mt("div"),this.svg=Kr("svg"),this.outerPath=Kr("path"),this.innerPath=Kr("path"),this.svg.append(this.outerPath),this.svg.append(this.innerPath),this.outerPath.classList.add("ag-charts-focus-svg-outer-path"),this.innerPath.classList.add("ag-charts-focus-svg-inner-path"),this.element=Mt("div","ag-charts-focus-indicator"),this.element.ariaHidden="true",this.element.append(this.svg),this.swapChain.addListener("swap",t=>this.onSwap(t))}clear(){}update(e,t,i){if(t!=null)if(e instanceof Fn){const s=(r,o)=>{let{x:a,y:l}=Li.toCanvasPoint(e,r,o);return a-=t.x??0,l-=t.y??0,{x:a,y:l}},n=e.svgPathData(s);this.outerPath.setAttribute("d",n),this.innerPath.setAttribute("d",n),this.show(this.svg)}else{let s;if(i){const n=Math.max(e.x-t.x,0),r=Math.max(e.y-t.y,0),o=Math.min(e.x+e.width-t.x,t.width),a=Math.min(e.y+e.height-t.y,t.height);s=new Ze(n,r,o-n,a-r)}else s=new Ze(e.x-t.x,e.y-t.y,e.width,e.height);uC(this.div,s),this.show(this.div)}}onSwap(e){e!==this.element.parentElement&&(this.element.remove(),e.appendChild(this.element),this.overrideFocusVisible(this.focusVisible))}show(e){this.element.innerHTML="",this.element.append(e)}overrideFocusVisible(e){this.focusVisible=e;const t={true:"1",false:"0",undefined:""},i=this.element.parentElement;i==null||i.style.setProperty("opacity",t[`${e}`])}isFocusVisible(){const e=this.element.parentElement;return e!=null&&oi().getComputedStyle(e).opacity==="1"}},zoe=class{constructor(e,t,i,s){this.label1=e,this.label2=t,this.hasFocus=!1,this.skipDispatch=!1,this.listeners={blur:[],focus:[],swap:[]},this.onBlur=n=>(bo(n.target,"pointer-events",void 0),!this.skipDispatch&&this.dispatch("blur",n)),this.onFocus=n=>(bo(n.target,"pointer-events","auto"),!this.skipDispatch&&this.dispatch("focus",n)),Zt(this.label1,"id",`${i}-label1`),Zt(this.label2,"id",`${i}-label2`),bo(this.label1,"display","none"),bo(this.label2,"display","none"),this.activeAnnouncer=this.createAnnouncer(s),this.inactiveAnnouncer=this.createAnnouncer(s),Zt(this.activeAnnouncer,"tabindex",0),this.label2.insertAdjacentElement("afterend",this.activeAnnouncer),this.label2.insertAdjacentElement("afterend",this.inactiveAnnouncer),this.swap("")}createAnnouncer(e){const t=Mt("div");return t.role=e,t.className="ag-charts-swapchain",t.addEventListener("blur",this.onBlur),t.addEventListener("focus",this.onFocus),t}destroy(){for(const e of[this.activeAnnouncer,this.inactiveAnnouncer])e.removeEventListener("blur",this.onBlur),e.removeEventListener("focus",this.onFocus),e.remove()}focus(e){this.focusOptions=e,this.activeAnnouncer.focus(e),this.focusOptions=void 0}update(e){this.skipDispatch=!0,this.swap(e),this.hasFocus&&this.activeAnnouncer.focus(this.focusOptions),this.skipDispatch=!1}addListener(e,t){this.listeners[e].push(t),e==="swap"&&t(this.activeAnnouncer)}dispatch(e,t){e==="focus"?this.hasFocus=!0:e==="blur"&&(this.hasFocus=!1),this.listeners[e].forEach(i=>i(t))}swap(e){const t=this.activeAnnouncer.tabIndex;this.label2.textContent=e,[this.inactiveAnnouncer,this.activeAnnouncer]=[this.activeAnnouncer,this.inactiveAnnouncer],[this.label1,this.label2]=[this.label2,this.label1],Ju(this.inactiveAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!0,tabindex:void 0}),Ju(this.activeAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!1,tabindex:t}),this.dispatch("swap",this.activeAnnouncer)}},Hoe={arrowdown:{bindings:[{code:"ArrowDown"}]},arrowleft:{bindings:[{code:"ArrowLeft"}]},arrowright:{bindings:[{code:"ArrowRight"}]},arrowup:{bindings:[{code:"ArrowUp"}]},delete:{bindings:[{key:"Backspace"},{key:"Delete"}],activatesFocusIndicator:!1},redo:{bindings:[{key:"y",ctrlOrMeta:!0},{key:"z",ctrlOrMeta:!0,shift:!0}],activatesFocusIndicator:!1},undo:{bindings:[{key:"z",ctrlOrMeta:!0}],activatesFocusIndicator:!1},submit:{bindings:[{key:"Enter"},{code:"Enter"},{code:"Space"}]},zoomin:{bindings:[{key:"+"},{code:"ZoomIn"},{code:"Add"}],activatesFocusIndicator:!1},zoomout:{bindings:[{key:"-"},{code:"ZoomOut"},{code:"Substract"}],activatesFocusIndicator:!1}};function Voe(e,t){for(const i of t)if("code"in i){if(i.code===e.code)return!0}else if(i.key===e.key&&(i.shift===void 0||i.shift===e.shiftKey)&&(i.ctrlOrMeta===void 0||i.ctrlOrMeta===e.ctrlKey||i.ctrlOrMeta===e.metaKey))return!0;return!1}function Woe(e){for(const[t,{activatesFocusIndicator:i=!0,bindings:s}]of Object.entries(Hoe))if(Voe(e,s))return{name:t,activatesFocusIndicator:i}}function Uoe(e,t,i){const s=UA(e,i.datum);if(s!=null)return{x:s.canvasX,y:s.canvasY};const n=i.bounds;if(n!=null){if(n instanceof Ze){const{x:r,y:o}=n.computeCenter();return{x:t.x+r,y:t.y+o}}return Li.toCanvas(n).computeCenter()}}function joe({bounds:e}){return e instanceof Ze?e:e!=null?Li.toCanvas(e):Ze.NaN}function Yoe(e,t,i){const{x:s,y:n}=Uoe(e,t,i)??{};if(s!==void 0&&n!==void 0)return{type:"keyboard",canvasX:s,canvasY:n}}function VM(e,t,i,s){let{top:n,right:r,bottom:o,left:a,width:l,height:u}=s;return a!=null?l!=null?r=i.width-a+l:r!=null&&(l=i.width-a-r):r!=null&&l!=null&&(a=i.width-r-l),n!=null?u!=null?o=i.height-n-u:o!=null&&(u=i.height-o-n):o!=null&&u!=null&&(n=i.height-o-u),l==null?u==null?(l=e,u=t):l=Math.ceil(e*u/t):u==null&&(u=Math.ceil(t*l/e)),a==null&&(r==null?a=Math.floor((i.width-l)/2):a=i.width-r-l),n==null&&(o==null?n=Math.floor((i.height-u)/2):n=i.height-u-o),{x:a,y:n,width:l,height:u}}var zy=null;function Pd(e){if(e!=null)return e===""?"":(zy??(zy=Mt("div")),zy.textContent=String(e),zy.innerHTML)}function Yg(e,t){const{path:i,size:s}=e,{x:n,y:r}=e;i.clear();let o=!1;for(const[a,l]of t){const u=n+(a-.5)*s,h=r+(l-.5)*s;o?i.lineTo(u,h):i.moveTo(u,h),o=!0}i.closePath()}var Koe={circle({path:e,x:t,y:i,size:s}){const n=s/2;e.clear(),e.arc(t,i,n,0,Math.PI*2),e.closePath()},cross(e){Yg(e,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},diamond(e){Yg(e,[[.5,0],[1,.5],[.5,1],[0,.5]])},heart({path:e,x:t,y:i,size:s}){const n=s/4;i=i+n/2,e.clear(),e.arc(t-n,i-n,n,os(130),os(330)),e.arc(t+n,i-n,n,os(220),os(50)),e.lineTo(t,i+n),e.closePath()},pin({path:e,x:t,y:i,size:s}){e.moveTo(t+(.15625-.5)*s,i+(.34375-.5)*s),e.cubicCurveTo(t+(.15625-.5)*s,i+(.151491-.5)*s,t+(.307741-.5)*s,i+(0-.5)*s,t+(.5-.5)*s,i+(0-.5)*s),e.cubicCurveTo(t+(.692259-.5)*s,i+(0-.5)*s,t+(.84375-.5)*s,i+(.151491-.5)*s,t+(.84375-.5)*s,i+(.34375-.5)*s),e.cubicCurveTo(t+(.84375-.5)*s,i+(.493824-.5)*s,t+(.784625-.5)*s,i+(.600181-.5)*s,t+(.716461-.5)*s,i+(.695393-.5)*s),e.cubicCurveTo(t+(.699009-.5)*s,i+(.719769-.5)*s,t+(.681271-.5)*s,i+(.743104-.5)*s,t+(.663785-.5)*s,i+(.766105-.5)*s),e.cubicCurveTo(t+(.611893-.5)*s,i+(.834367-.5)*s,t+(.562228-.5)*s,i+(.899699-.5)*s,t+(.528896-.5)*s,i+(.980648-.5)*s),e.cubicCurveTo(t+(.524075-.5)*s,i+(.992358-.5)*s,t+(.512663-.5)*s,i+(1-.5)*s,t+(.5-.5)*s,i+(1-.5)*s),e.cubicCurveTo(t+(.487337-.5)*s,i+(1-.5)*s,t+(.475925-.5)*s,i+(.992358-.5)*s,t+(.471104-.5)*s,i+(.980648-.5)*s),e.cubicCurveTo(t+(.487337-.5)*s,i+(1-.5)*s,t+(.475925-.5)*s,i+(.992358-.5)*s,t+(.471104-.5)*s,i+(.980648-.5)*s),e.cubicCurveTo(t+(.437772-.5)*s,i+(.899699-.5)*s,t+(.388107-.5)*s,i+(.834367-.5)*s,t+(.336215-.5)*s,i+(.766105-.5)*s),e.cubicCurveTo(t+(.318729-.5)*s,i+(.743104-.5)*s,t+(.300991-.5)*s,i+(.719769-.5)*s,t+(.283539-.5)*s,i+(.695393-.5)*s),e.cubicCurveTo(t+(.215375-.5)*s,i+(.600181-.5)*s,t+(.15625-.5)*s,i+(.493824-.5)*s,t+(.15625-.5)*s,i+(.34375-.5)*s),e.closePath()},plus(e){Yg(e,[[1/3,0],[2/3,0],[2/3,1/3],[1,1/3],[1,2/3],[2/3,2/3],[2/3,1],[1/3,1],[1/3,2/3],[0,2/3],[0,1/3],[1/3,1/3]])},square({path:e,x:t,y:i,size:s,pixelRatio:n}){const r=s/2;e.clear(),e.moveTo(Oa(n,t-r),Oa(n,i-r)),e.lineTo(Oa(n,t+r),Oa(n,i-r)),e.lineTo(Oa(n,t+r),Oa(n,i+r)),e.lineTo(Oa(n,t-r),Oa(n,i+r)),e.closePath()},star({path:e,x:t,y:i,size:s}){const r=s/2,o=r/2,a=Math.PI/2;for(let l=0;l<5*2;l++){const u=l%2===0?r:o,h=l*Math.PI/5-a,f=t+Math.cos(h)*u,g=i+Math.sin(h)*u;e.lineTo(f,g)}e.closePath()},triangle(e){Yg(e,[[.5,0],[1,.87],[0,.87]])}},Fm=class extends Fn{constructor(){super(...arguments),this.shape="square",this.x=0,this.y=0,this.size=12}updatePath(){var l,u;const{path:e,shape:t,x:i,y:s,size:n}=this,r=((u=(l=this.layerManager)==null?void 0:l.canvas)==null?void 0:u.pixelRatio)??1,o=ms.anchor(t),a={path:e,x:i-(o.x-.5)*n,y:s-(o.y-.5)*n,size:n,pixelRatio:r};e.clear(),typeof t=="string"?Koe[t](a):typeof t=="function"&&t(a)}computeBBox(){const{x:e,y:t,size:i}=this,s=ms.anchor(this.shape);return new Ze(e-i*s.x,t-i*s.y,i,i)}executeFill(e,t){if(t)return super.executeFill(e,t)}executeStroke(e,t){if(t)return super.executeStroke(e,t)}};E([lt()],Fm.prototype,"shape",2);E([lt()],Fm.prototype,"x",2);E([lt()],Fm.prototype,"y",2);E([lt({convertor:Math.abs})],Fm.prototype,"size",2);var ms=class extends ff(mA(hh(Fm))){static anchor(e){return e==="pin"?{x:.5,y:1}:typeof e=="function"&&"anchor"in e?e.anchor:{x:.5,y:.5}}constructor(e){super(e),(e==null?void 0:e.shape)!=null&&(this.shape=e.shape)}};function I3(e,t,i=t*(5/3)){var l;const s=new ot,n=Math.min(e.marker.strokeWidth,2),r=Math.min(((l=e.line)==null?void 0:l.strokeWidth)??0,2),o=Math.max(e.marker.enabled===!1?0:t,e.line==null?0:i),a=Math.max(e.marker.enabled===!1?0:t,r);if(e.line!=null){const{stroke:u,strokeOpacity:h,lineDash:f}=e.line,g=new fr;g.x1=0,g.y1=a/2,g.x2=o,g.y2=a/2,g.stroke=u,g.strokeOpacity=h,g.strokeWidth=r,g.lineDash=f,s.append(g)}if(e.marker.enabled!==!1){const{shape:u,fill:h,fillOpacity:f,stroke:g,strokeOpacity:m,lineDash:y,lineDashOffset:C}=e.marker,x=new ms;x.shape=u??"square",x.size=t,x.fill=h,x.fillOpacity=f,x.stroke=g,x.strokeOpacity=m,x.strokeWidth=n,x.lineDash=y,x.lineDashOffset=C;const b=ms.anchor(u),w=o/2+(b.x-.5)*t,M=a/2+(b.y-.5)*t,A=t/(t+n);x.x=0,x.y=0,x.translationX=w,x.translationY=M,x.scalingX=A,x.scalingY=A,s.append(x)}return ot.toSVG(s,o,a)}var y2=.1,v2=200,C2=12,$oe=.5,Xoe=class extends Cl{constructor(){super(...arguments),this.x1=NaN,this.y1=NaN,this.x=NaN,this.y=NaN,this.vx=0,this.vy=0,this.t0=NaN,this.animationFrameHandle=void 0}reset(){this.x=NaN,this.y=NaN,this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)}update(e,t){if(Number.isNaN(this.x)||Number.isNaN(this.y)){this.x=e,this.y=t,this.vx=0,this.vy=0,this.emitUpdate(),this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0);return}this.x1=e,this.y1=t,this.t0=Date.now(),this.animationFrameHandle==null&&(this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this)))}onFrame(){this.animationFrameHandle=void 0;const{x1:e,y1:t,t0:i}=this,s=Date.now(),n=s-i;this.t0=s;const r=.001,o=Math.ceil(n/(r*1e3))|0;let{x:a,y:l,vx:u,vy:h}=this;for(let f=0;f<o;f+=1){const g=a-e,m=l-t,y=-(v2*g+C2*u)/y2,C=-(v2*m+C2*h)/y2;u+=y*r,h+=C*r,a+=u*r,l+=h*r}Math.hypot(a-e,l-t)<$oe?(this.x=this.x1,this.y=this.y1,this.vx=0,this.vy=0):(this.x=a,this.y=l,this.vx=u,this.vy=h,this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this))),this.emitUpdate()}emitUpdate(){this.dispatch("update",{type:"update",x:this.x,y:this.y})}},qs="ag-charts-tooltip",L3="ag-charts-tooltip--dark";function F3(e){var i;const t=[];return e.type==="raw"?"":(e.heading!=null&&t.push(e.heading),e.title!=null&&t.push(e.title),(i=e.data)==null||i.forEach(s=>{t.push(s.label??s.fallbackLabel,s.value)}),t.join("; "))}function x2(e,t,i){let s="";e==null?s+=`<span class="${qs}-label">${Pd(t)}</span>`:(s+=`<span class="${qs}-label">${Pd(e)}</span>`,s+=" ",s+=`<span class="${qs}-value">${Pd(t)}</span>`);const n=[`${qs}-row`];return i&&n.push(`${qs}-row--inline`),s=`<div class="${n.join(" ")}">${s}</div>`,s}function Zoe(e){var i,s,n,r;if(e.type==="raw")return e.rawHtmlString;let t="";if((e.heading==null||e.title==null)&&((i=e.data)==null?void 0:i.length)===1&&e.data[0].label==null&&e.data[0].value!=null){const o=e.data[0];t+=x2(e.heading??e.title,o.value,!1)}else{const o=e.title==null&&((s=e.data)==null?void 0:s.length)===1;e.heading!=null&&(t+=`<span class="${qs}-heading">${Pd(e.heading)}</span>`,t+=" ");const a=e.symbol==null?void 0:I3(e.symbol,12);a!=null&&(e.title!=null||(n=e.data)!=null&&n.length)&&(t+=`<span class="${qs}-symbol">${a}</span>`),e.title!=null&&(t+=`<span class="${qs}-title">${Pd(e.title)}</span>`,t+=" "),(r=e.data)==null||r.forEach(l=>{t+=x2(l.label??l.fallbackLabel,l.value,o),t+=" "})}return t=`<div class="${qs}-content">${t.trimEnd()}</div>`,t}var Cf=class extends ut{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};E([L(ii(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left",{value:"sparkline",undocumented:!0},{value:"sparkline-",undocumented:!0}],"a position type"))],Cf.prototype,"type",2);E([L(Tt)],Cf.prototype,"xOffset",2);E([L(Tt)],Cf.prototype,"yOffset",2);var fa=class extends ut{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new Cf,this.darkTheme=!1,this.bounds="extended",this.destroyFns=[],this.springAnimation=new Xoe,this.enableInteraction=!1,this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0,this._compact=!1,this._visible=!1,this.positionParams=void 0,this.destroyFns.push(this.springAnimation.addListener("update",this.updateTooltipPosition.bind(this)))}get interactive(){return this.enableInteraction}setup(e){"togglePopover"in oi().HTMLElement.prototype&&(this.element=e.addChild("canvas-overlay",qs),this.element.setAttribute("popover","manual"),this.element.className=qs)}destroy(e){e.removeChild("canvas-overlay",qs),this.destroyFns.forEach(t=>t())}isVisible(){return this._visible}contains(e){var t;return((t=this.element)==null?void 0:t.contains(e))??!1}updateTooltipPosition(){var T,k,R;const{element:e,positionParams:t}=this;if(e==null||t==null)return;const{canvasRect:i,relativeRect:s,meta:n}=t,{x:r,y:o}=this.springAnimation,a=((T=n.position)==null?void 0:T.type)??this.position.type,l=((k=n.position)==null?void 0:k.xOffset)??0,u=((R=n.position)==null?void 0:R.yOffset)??0,h=s.x,f=s.y,g=s.width-e.clientWidth-1+h,m=s.height-e.clientHeight+f;let y=this.getTooltipBounds({positionType:a,canvasX:r,canvasY:o,yOffset:u,xOffset:l,canvasRect:i}),C=VM(e.clientWidth,e.clientHeight,s,y);a==="sparkline"&&(C.x<=h||C.x>=g)&&(y=this.getTooltipBounds({positionType:"sparkline-constrained",canvasX:r,canvasY:o,yOffset:u,xOffset:l,canvasRect:i}),C=VM(e.clientWidth,e.clientHeight,s,y));const x=ft(h,C.x,g),b=ft(f,C.y,m),w=x!==C.x||b!==C.y,M=(a==="node"||a==="pointer")&&!w&&!l&&!u,A=n.showArrow??this.showArrow??M;this.updateShowArrow(A),this.updateCompact(a==="sparkline"||a==="sparkline-constrained"),e.style.transform=`translate(${x}px, ${b}px)`}show(e,t,i,s,n=!1){const{element:r}=this;if(r!=null&&s!=null)r.innerHTML=Zoe(s);else if(r==null||r.innerHTML===""){this.toggle(!1);return}const o={x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height};this.positionParams={canvasRect:t,relativeRect:o,meta:i},this.springAnimation.update(i.canvasX,i.canvasY),r.style.top=`${t.top}px`,r.style.left=`${t.left}px`,i.enableInteraction?(this.enableInteraction=!0,r.style.pointerEvents="auto",r.removeAttribute("aria-hidden")):(this.enableInteraction=!1,r.style.pointerEvents="none",r.setAttribute("aria-hidden","true")),this.delay>0&&!n?(this.toggle(!1),this.showTimeout=setTimeout(()=>{this.toggle(!0)},this.delay)):this.toggle(!0)}hide(){this.springAnimation.reset(),this.toggle(!1)}toggle(e){var s;if(!((s=this.element)!=null&&s.isConnected))return;this._visible=e;const{classList:t}=this.element,i=(n,r)=>t.toggle(`${qs}--${n}`,r);e||clearTimeout(this.showTimeout),i("no-interaction",!this.enableInteraction),i("arrow",this._showArrow),i("compact",this._compact),t.toggle(L3,this.darkTheme),this.element.togglePopover(e),e&&this.updateTooltipPosition();for(const n of this.wrapTypes)t.toggle(`${qs}--wrap-${n}`,n===this.wrapping)}updateShowArrow(e){this._showArrow=e}updateCompact(e){this._compact=e}getTooltipBounds(e){if(!this.element)return{};const{positionType:t,canvasX:i,canvasY:s,yOffset:n,xOffset:r,canvasRect:o}=e,{clientWidth:a,clientHeight:l}=this.element,u={width:a,height:l};switch(t){case"node":case"pointer":return u.top=s+n-l-8,u.left=i+r-a/2,u;case"top":return u.top=n,u.left=o.width/2-a/2+r,u;case"right":return u.top=o.height/2-l/2+n,u.left=o.width-a/2+r,u;case"left":return u.top=o.height/2-l/2+n,u.left=r,u;case"bottom":return u.top=o.height-l+n,u.left=o.width/2-a/2+r,u;case"top-left":return u.top=n,u.left=r,u;case"top-right":return u.top=n,u.left=o.width-a+r,u;case"bottom-right":return u.top=o.height-l+n,u.left=o.width-a+r,u;case"bottom-left":return u.top=o.height-l+n,u.left=r,u;case"sparkline":return u.top=s+n-l/2,u.left=i+r+8,u;case"sparkline-constrained":return u.top=s+n-l/2,u.left=i+r-8-a,u}}};E([L(et)],fa.prototype,"enabled",2);E([L(et,{optional:!0})],fa.prototype,"showArrow",2);E([L(Ve)],fa.prototype,"delay",2);E([L(gx,{optional:!0})],fa.prototype,"range",2);E([L(fx)],fa.prototype,"wrapping",2);E([L($e)],fa.prototype,"position",2);E([L(et)],fa.prototype,"darkTheme",2);E([L(ii(["extended","canvas"]))],fa.prototype,"bounds",2);var qoe=class extends Lc{constructor(e){super(),this.chart=e,this.id=Qr(this),this.series=[],this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="pointer",this.previousInputDevice="keyboard",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.hoverScheduler=Ane(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=4){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}});const t=e.ctx.domManager.addChild("series-area","series-area-aria-label1"),i=e.ctx.domManager.addChild("series-area","series-area-aria-label2");this.swapChain=new zoe(t,i,this.id,"img"),this.swapChain.addListener("blur",()=>this.onBlur()),this.swapChain.addListener("focus",()=>this.onFocus()),this.focusIndicator=new Goe(this.swapChain),this.focusIndicator.overrideFocusVisible(e.mode==="integrated"?!1:void 0);const{seriesDragInterpreter:s,seriesWidget:n,containerWidget:r}=e.ctx.widgets;n.setTabIndex(-1),this.destroyFns.push(()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label1"),()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label2"),n.addListener("focus",()=>this.swapChain.focus()),n.addListener("mousemove",o=>this.onHover(o)),n.addListener("wheel",o=>this.onWheel(o)),n.addListener("mouseleave",o=>this.onLeave(o)),n.addListener("keydown",o=>this.onKeyDown(o)),n.addListener("contextmenu",(o,a)=>this.onContextMenu(o,a)),s.addListener("drag-move",o=>this.onDragMove(o)),s.addListener("click",o=>this.onClick(o,n)),s.addListener("dblclick",o=>this.onClick(o,n)),r.addListener("contextmenu",(o,a)=>this.onContextMenu(o,a)),r.addListener("click",(o,a)=>this.onClick(o,a)),r.addListener("dblclick",(o,a)=>this.onClick(o,a)),e.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),e.ctx.domManager.addListener("resize",()=>this.clearAll()),e.ctx.highlightManager.addListener("highlight-change",o=>this.changeHighlightDatum(o)),e.ctx.layoutManager.addListener("layout:complete",o=>this.layoutComplete(o)),e.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),e.ctx.updateService.addListener("update-complete",()=>this.updateComplete()),e.ctx.zoomManager.addListener("zoom-change",()=>this.clearAll()),e.ctx.zoomManager.addListener("zoom-pan-start",()=>this.clearAll()))}isState(e){return this.chart.ctx.interactionManager.isState(e)}isIgnoredTouch(e){return!(e.device!=="touch"||e.type==="click"||this.chart.ctx.chartService.touch.dragAction==="hover"||this.chart.ctx.chartService.touch.dragAction==="drag"&&this.isState(9))}dataChanged(){var e;(e=this.highlight).stashedHoverEvent??(e.stashedHoverEvent=this.highlight.appliedHoverEvent),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.focusIndicator.clear(),this.clearHighlight()}preSceneRender(){this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}updateComplete(){this.focusIndicator.isFocusVisible()&&this.isState(34)&&this.handleSeriesFocus(0,0,!0)}update(e,t){this.chart.ctx.updateService.update(e,t)}seriesChanged(e){this.focus.sortedSeries=[...e].sort((t,i)=>{let s=t.properties.focusPriority??1/0,n=i.properties.focusPriority??1/0;return s===n&&([s,n]=[t._declarationOrder,i._declarationOrder]),s<n?-1:s>n?1:0}),this.series=e}layoutComplete(e){this.seriesRect=e.series.rect,this.hoverRect=e.series.paddedRect,this.chart.ctx.widgets.seriesWidget.setBounds(e.series.paddedRect),this.chart.ctx.widgets.chartWidget.setBounds(e.chart)}onContextMenu(e,t){const{sourceEvent:i}=e;if(i.currentTarget!=t.getElement())return;if(i.target==this.chart.ctx.widgets.containerWidget.getElement()){if(this.isState(36)){const{currentX:l,currentY:u}=e;this.chart.ctx.contextMenuRegistry.dispatchContext("all",{sourceEvent:i,canvasX:l,canvasY:u},{})}return}let s,n;if(this.focusIndicator.isFocusVisible())s=this.chart.ctx.highlightManager.getActiveHighlight(),s&&this.seriesRect&&s.midPoint&&(n=Li.toCanvasPoint(s.series.contentGroup,s.midPoint.x,s.midPoint.y));else if(this.isState(36)){const l=this.pickNode({x:e.currentX,y:e.currentY},"context-menu");l&&(this.chart.ctx.highlightManager.updateHighlight(this.id),s=l.datum)}const r=s==null?void 0:s.series;this.clearAll();const o=e.currentX+t.cssLeft(),a=e.currentY+t.cssTop();this.chart.ctx.contextMenuRegistry.dispatchContext("series-area",{sourceEvent:i,canvasX:o,canvasY:a},{pickedSeries:r,pickedNode:s},n)}onLeave(e){if(!this.isState(41))return;const t=e.sourceEvent.relatedTarget;(t==null?void 0:t.className)!=="ag-charts-text-input__textarea"&&(this.chart.ctx.tooltipManager.isEnteringInteractiveTooltip(e)||(this.chart.ctx.domManager.updateCursor(this.id),this.focusIndicator.isFocusVisible()||this.clearAll()))}onWheel(e){var t;this.isState(41)&&((t=this.focusIndicator)==null||t.overrideFocusVisible(!1),this.previousInputDevice="pointer")}onDragMove(e){var t;this.isState(41)&&((t=this.focusIndicator)==null||t.overrideFocusVisible(!1),this.onHoverLikeEvent(e))}onHover(e){this.isState(41)&&this.onHoverLikeEvent(e)}onHoverLikeEvent(e){if(!this.isIgnoredTouch(e)&&((e.device==="touch"||Qoe(e,"drag-move"))&&(this.tooltip.lastHover=e),e.device==="touch"&&this.chart.ctx.chartService.touch.dragAction==="hover"&&e.sourceEvent.preventDefault(),this.hoverDevice="pointer",this.previousInputDevice="pointer",this.highlight.pendingHoverEvent=e,this.hoverScheduler.schedule(),this.isState(32))){const{currentX:t,currentY:i}=e,s=this.pickNode({x:t,y:i},"event");s!=null&&s.series.hasEventListener("nodeClick")||s!=null&&s.series.hasEventListener("nodeDoubleClick")?this.chart.ctx.domManager.updateCursor(this.id,"pointer"):this.chart.ctx.domManager.updateCursor(this.id)}}onClick(e,t){if(e.device==="touch"&&t===this.chart.ctx.widgets.seriesWidget&&this.swapChain.focus({preventScroll:!0}),!this.isState(41))return;if(t===this.chart.ctx.widgets.seriesWidget){if(!t.getElement().contains(e.sourceEvent.target))return}else if(e.sourceEvent.target!=t.getElement())return;if(this.focusIndicator.overrideFocusVisible(!1),this.onHoverLikeEvent(e),!this.isState(32))return;if(t==this.chart.ctx.widgets.seriesWidget&&this.checkSeriesNodeClick(e)){this.update(4),e.sourceEvent.preventDefault();return}const i={type:e.type==="click"?"click":"doubleClick",event:e.sourceEvent};this.chart.fireEvent(i)}onFocus(){this.isState(34)&&(this.hoverDevice=this.focusIndicator.isFocusVisible()?"keyboard":"pointer",this.handleFocus(0,0))}onBlur(){this.isState(34)&&(this.hoverDevice="pointer",this.clearAll(),this.focusIndicator.overrideFocusVisible(void 0))}onKeyDown(e){if(!this.isState(43))return;const t=Woe(e.sourceEvent);switch((t==null?void 0:t.activatesFocusIndicator)===!1&&this.focusIndicator.overrideFocusVisible(this.previousInputDevice==="keyboard"),t==null?void 0:t.name){case"redo":return this.chart.ctx.chartEventManager.seriesEvent("series-redo");case"undo":return this.chart.ctx.chartEventManager.seriesEvent("series-undo");case"zoomin":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(1,e);case"zoomout":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(-1,e);case"arrowup":return this.onArrow(-1,0,e);case"arrowdown":return this.onArrow(1,0,e);case"arrowleft":return this.onArrow(0,-1,e);case"arrowright":return this.onArrow(0,1,e);case"submit":return this.onSubmit(e)}}onArrow(e,t,i){this.isState(34)&&(this.hoverDevice="keyboard",this.previousInputDevice="keyboard",this.focusIndicator.overrideFocusVisible(!0),this.focus.seriesIndex+=e,this.focus.datumIndex+=t,this.handleFocus(e,t),i.sourceEvent.preventDefault(),this.chart.ctx.chartEventManager.seriesEvent("series-focus-change"))}onSubmit(e){if(!this.isState(34))return;const{series:t,datum:i}=this.focus,s=e.sourceEvent;t!==void 0&&i!==void 0?t.fireNodeClickEvent(s,i):this.chart.fireEvent({type:"click",event:s}),s.preventDefault()}checkSeriesNodeClick(e){const t=this.pickNode({x:e.currentX,y:e.currentY},"event");return t==null?!1:e.type==="click"?(t.series.fireNodeClickEvent(e.sourceEvent,t.datum),!0):e.type==="dblclick"?(e.preventZoomDblClick=t.distance===0,t.series.fireNodeDoubleClickEvent(e.sourceEvent,t.datum),!0):!1}handleFocus(e,t){const i=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);i==null?this.handleSeriesFocus(e,t):this.focusIndicator.update(i.rect,this.seriesRect,!1)}handleSeriesFocus(e,t,i=!1){if(this.chart.chartType==="hierarchy"||this.chart.chartType==="gauge"){this.handleSoloSeriesFocus(e,t,i);return}const{focus:s,seriesRect:n}=this,r=s.sortedSeries.filter(h=>h.visible&&h.focusable);if(r.length===0)return;const o={datumIndex:s.datumIndex-t,otherIndex:s.seriesIndex-e};s.seriesIndex=ft(0,s.seriesIndex,r.length-1),s.series=r[s.seriesIndex];const{datumIndex:a,seriesIndex:l}=s,u=s.series.pickFocus({datumIndex:a,datumIndexDelta:t,otherIndex:l,otherIndexDelta:e,seriesRect:n});this.updatePickedFocus(e,t,o,u,i)}handleSoloSeriesFocus(e,t,i){this.focus.series=this.focus.sortedSeries[0];const{focus:{series:s,seriesIndex:n,datumIndex:r},seriesRect:o}=this;if(s==null)return;const a={datumIndex:this.focus.datumIndex-t,otherIndex:this.focus.seriesIndex-e},l=s.pickFocus({datumIndex:r,datumIndexDelta:t,otherIndex:n,otherIndexDelta:e,seriesRect:o});this.updatePickedFocus(e,t,a,l,i)}updatePickedFocus(e,t,i,s,n){const{focus:r,hoverRect:o}=this;if(s===void 0||r.series===void 0||o===void 0)return;const{datum:a,datumIndex:l,otherIndex:u}=s;if(u!==void 0&&(r.seriesIndex=u),r.datumIndex=l,r.datum=a,this.focusIndicator.isFocusVisible()&&this.chart.ctx.animationManager.reset(),this.focusIndicator.isFocusVisible()){const f=joe(s),{x:g,y:m}=f.computeCenter();if(!o.containsPoint(g,m)&&this.chart.ctx.zoomManager.panToBBox(this.id,o,f))return}this.focusIndicator.update(s.bounds,this.seriesRect,s.clipFocusBox);const h=Yoe(r.series,o,s);if(h!==void 0&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const f=r.series.getTooltipContent(a),g=dC.makeTooltipMeta(h,r.series,a);this.chart.ctx.highlightManager.updateHighlight(this.id,a),this.chart.tooltip.enabled&&r.series.tooltipEnabled?this.chart.ctx.tooltipManager.updateTooltip(this.id,g,f):this.chart.ctx.tooltipManager.removeTooltip(this.id),n||(t===0&&e===0||i.datumIndex!==s.datumIndex||i.otherIndex!==(s.otherIndex??r.seriesIndex))&&this.swapChain.update(this.getDatumAriaText(a,f))}}getDatumAriaText(e,t){var s,n;const i=t==null?"":F3(t);return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:((n=(s=e.series).getDatumAriaText)==null?void 0:n.call(s,e,i))??i})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.focusIndicator.clear()}handleHoverHighlight(e){var u,h,f;this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const t=this.highlight.appliedHoverEvent;if(!t||!this.isState(41))return;const{currentX:i,currentY:s}=t,n=t.currentX+(((u=this.hoverRect)==null?void 0:u.x)??0),r=t.currentY+(((h=this.hoverRect)==null?void 0:h.y)??0);if(e?this.chart.ctx.animationManager.isActive():!((f=this.hoverRect)!=null&&f.containsPoint(n,r))){this.clearHighlight();return}const{range:o}=this.chart.highlight,a=o==="tooltip"?"highlight-tooltip":"highlight",l=this.pickNode({x:i,y:s},a);if(l){this.chart.ctx.highlightManager.updateHighlight(this.id,l.datum),this.hoverDevice="pointer";return}this.chart.ctx.highlightManager.updateHighlight(this.id)}handleHoverTooltip(e,t){var f,g,m;if(!this.isState(41))return;const{currentX:i,currentY:s}=e,n=i+(((f=this.hoverRect)==null?void 0:f.x)??0),r=s+(((g=this.hoverRect)==null?void 0:g.y)??0),o=e.sourceEvent.target;if(t?this.chart.ctx.animationManager.isActive():!((m=this.hoverRect)!=null&&m.containsPoint(n,r))){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(o&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(o,"canvas-overlay",qs))return;const a=this.pickNode({x:e.currentX,y:e.currentY},"tooltip");if(!a){this.hoverDevice=="pointer"&&this.clearTooltip();return}this.hoverDevice="pointer";const l=a.series.getTooltipContent(a.datum);if(this.chart.tooltip.enabled&&a.series.tooltipEnabled&&l!=null){const y=dC.makeTooltipMeta({type:"pointermove",canvasX:n,canvasY:r},a.series,a.datum);this.chart.ctx.tooltipManager.updateTooltip(this.id,y,l)}else this.chart.ctx.tooltipManager.removeTooltip(this.id)}changeHighlightDatum(e){const t=new Set,{series:i=void 0,datum:s}=e.currentHighlight??{},{series:n=void 0,datum:r}=e.previousHighlight??{};n&&t.add(n),i&&t.add(i),n!=null&&n.properties.cursor&&r&&this.chart.ctx.domManager.updateCursor(n.id),i!=null&&i.properties.cursor&&(i==null?void 0:i.properties.cursor)!=="default"&&s&&this.chart.ctx.domManager.updateCursor(i.id,i.properties.cursor),i==null||n==null?this.update(4):this.update(4,{seriesToUpdate:t})}pickNode(e,t,i){const s=[...this.series].reverse();let n;for(const r of s){if(!r.visible||!r.contentGroup.visible)continue;const{match:o,distance:a}=r.pickNode(e,t,i)??{};if(!(!o||a==null)&&((!n||n.distance>a)&&(n={series:r,distance:a,datum:o}),a===0))break}return n}};function Qoe(e,t){return e.type!==t}var b2=30,Joe=class{constructor(e){this.seriesRoot=e,this.groups=new Map,this.series=new Map,this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}requestGroup(e){const{internalId:t,type:i,contentGroup:s,seriesGrouping:n}=e,{groupIndex:r=t}=n??{},o=this.series.get(t);if(o!=null)throw new Error(`AG Charts - series already has an allocated layer: ${JSON.stringify(o)}`);this.series.size===0&&(this.mode=this.expectedSeriesCount>=b2?"aggressive-grouping":"normal");let a=this.groups.get(i);a==null&&(a=new Map,this.groups.set(i,a));const l=this.lookupIdx(r);let u=a.get(l);return u==null&&(u={type:i,id:l,seriesIds:[],group:this.seriesRoot.appendChild(new ot({name:`${e.contentGroup.name??i}-managed-layer`,zIndex:e.contentGroup.zIndex,renderToOffscreenCanvas:!1}))},a.set(l,u)),this.series.set(t,{layerState:u,seriesConfig:e}),u.seriesIds.push(t),u.group.appendChild(s),u.group}changeGroup(e){var a,l;const{internalId:t,seriesGrouping:i,type:s,contentGroup:n,oldGrouping:r}=e,{groupIndex:o=t}=i??{};(l=(a=this.groups.get(s))==null?void 0:a.get(o))!=null&&l.seriesIds.includes(t)||(this.series.has(t)&&this.releaseGroup({internalId:t,seriesGrouping:r,type:s,contentGroup:n}),this.requestGroup(e))}releaseGroup(e){var r,o,a;const{internalId:t,contentGroup:i,type:s}=e;if(!this.series.has(t))throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);const n=(r=this.series.get(t))==null?void 0:r.layerState;n&&(n.seriesIds=n.seriesIds.filter(l=>l!==t),n.group.removeChild(i)),(n==null?void 0:n.seriesIds.length)===0?(this.seriesRoot.removeChild(n.group),(o=this.groups.get(n.type))==null||o.delete(n.id),(a=this.groups.get(s))==null||a.delete(t)):n!=null&&n.seriesIds.length>0&&(n.group.zIndex=this.getLowestSeriesZIndex(n.seriesIds)),this.series.delete(t)}updateLayerCompositing(){this.groups.forEach(e=>{e.forEach(t=>{const{group:i,seriesIds:s}=t;let n;if(s.length===0)n=!1;else if(s.length>1)n=!0;else{const r=this.series.get(s[0]);n=(r==null?void 0:r.seriesConfig.renderToOffscreenCanvas())===!0}i.renderToOffscreenCanvas=n,i.zIndex=this.getLowestSeriesZIndex(s)})})}lookupIdx(e){return this.mode==="normal"?e:typeof e=="string"&&(e=Number(e.split("-").at(-1)),!e)?0:Math.floor(ft(0,e/this.expectedSeriesCount,1)*b2)}destroy(){this.groups.forEach(e=>{e.forEach(t=>{this.seriesRoot.removeChild(t.group)})}),this.groups.clear(),this.series.clear()}getLowestSeriesZIndex(e){return e.reduce((i,s)=>{const n=this.series.get(s),r=n==null?void 0:n.seriesConfig.contentGroup.zIndex;return i==null||r==null?r:iB(i,r)<=0?i:r},void 0)??1}},P3=class extends ut{constructor(){super(...arguments),this.dragAction="drag"}};E([L(ii(["none","drag","hover"]))],P3.prototype,"dragAction",2);var eae=class{constructor(e,t,i,s,n){this.chart=e,this.dataService=t,this.updateService=i,this.zoomManager=s,this.animationManager=n,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(e=>e())}onDataLoad(){this.animationManager.skip(),this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow()}onZoomChange(){this.dirtyZoom=!0}updateWindow(){if(!this.dataService.isLazy())return;const e=this.getValidAxis();let t,i=!0;if(e){const s=this.zoomManager.getAxisZoom(e.id);t=this.getAxisWindow(e,s),i=this.shouldRefresh(e,s)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:t==null?void 0:t.min,windowEnd:t==null?void 0:t.max})}getValidAxis(){return this.chart.axes.find(e=>e.type==="time")}shouldRefresh(e,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(e.id);return i&&t.min===i.min&&t.max===i.max?!1:(this.lastAxisZooms.set(e.id,t),!0)}getAxisWindow(e,t){const{domain:i}=e.scale;if(!t||i.length===0||isNaN(Number(i[0])))return;const s=Number(i[1])-Number(i[0]),n=new Date(Number(i[0])+s*t.min),r=new Date(Number(i[0])+s*t.max);return{min:n,max:r}}},tae=/^((?!chrome|android).)*safari/i,iae=/Version\/(\d+(\.\d+)?)/,sae=/Chrome/,nae=/Chrome\/(\d+)/,rae=/Edg/,oae=/OPR/;function aae(){var t,i;const{userAgent:e}=oi("navigator");if(tae.test(e)){const s=parseFloat(((t=iae.exec(e))==null?void 0:t[1])??"0"),n=Math.floor(s)>16;return n||Ne.warnOnce(`Unsupported Safari version: ${s}; ${e}`),!n}else if(sae.test(e)&&!rae.test(e)&&!oae.test(e)){const s=parseInt(((i=nae.exec(e))==null?void 0:i[1])??"0",10),n=s>126;return n||Ne.warnOnce(`Unsupported Chrome version: ${s}; ${e}`),!n}return!1}var lae=new Set(["map-shape-background","map-line-background"]),cae=class{constructor(e,t,i,s,n,r,o){this.chartLike=e,this.overlays=t,this.dataService=i,this.layoutManager=s,this.localeManager=n,this.animationManager=r,this.domManager=o,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(zM),this.destroyFns.push(this.layoutManager.addListener("layout:complete",a=>this.onLayoutComplete(a)))}destroy(){this.destroyFns.forEach(e=>e()),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:e}}){const t=this.dataService.isLoading(),i=this.chartLike.series.some(u=>u.hasData),s=this.chartLike.series.some(u=>u.visible&&!lae.has(u.type));this.overlays.darkTheme?this.overlayElem.classList.add(p2):this.overlayElem.classList.remove(p2),this.overlayElem.style.left=`${e.x}px`,this.overlayElem.style.top=`${e.y}px`,this.overlayElem.style.width=`${e.width}px`,this.overlayElem.style.height=`${e.height}px`;const n=t,r=!t&&!i,o=i&&!s,a=this.overlays.unsupportedBrowser.enabled&&aae();n?this.showOverlay(this.overlays.loading,e):this.hideOverlay(this.overlays.loading),r?this.showOverlay(this.overlays.noData,e):this.hideOverlay(this.overlays.noData),o?this.showOverlay(this.overlays.noVisibleSeries,e):this.hideOverlay(this.overlays.noVisibleSeries),a?this.showOverlay(this.overlays.unsupportedBrowser,e):this.hideOverlay(this.overlays.unsupportedBrowser);const l=n||r||o||a;Zt(this.overlayElem,"aria-hidden",!l)}showOverlay(e,t){if(!e.enabled)return;const i=e.getElement(this.animationManager,this.localeManager,t);this.overlayElem.appendChild(i)}hideOverlay(e){e.removeElement(()=>{this.overlayElem.innerText=""},this.animationManager)}},uo=ti.create(!0,"opts"),qA=class extends ut{constructor(){super(...arguments),this.padding=new Ic(0)}};E([L(et,{optional:!0})],qA.prototype,"clip",2);E([L($e)],qA.prototype,"padding",2);var $i=class O3 extends HB{constructor(t,i){var s;super(),this.id=Qr(this),this.seriesRoot=new En({name:`${this.id}-series-root`,zIndex:5}),this.annotationRoot=new En({name:`${this.id}-annotation-root`,zIndex:9}),this.titleGroup=new ot({name:"titles",zIndex:13}),this.debug=ti.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this._autoSizeNotify=new UF,this.padding=new Ic(20),this.seriesArea=new qA,this.keyboard=new $A,this.touch=new P3,this.mode="standalone",this.chartCaptions=new wx,this.suppressFieldDotNotation=!1,this.destroyed=!1,this._destroyFns=[],this.skipSync=!1,this.chartAnimationPhase="initial",this.modulesManager=new Ioe,this.processors=[],this.queuedUserOptions=[],this.queuedChartOptions=[],this.firstApply=!0,this._pendingFactoryUpdatesCount=0,this._performUpdateSkipAnimations=!1,this._performUpdateNotify=new UF,this.performUpdateType=7,this.runningUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new Dne,this.updateRequestors={},this.performUpdateTrigger=Ene(({count:h})=>{this.destroyed||this.updateMutex.acquire(async()=>{try{await this.performUpdate(h)}catch(f){Ne.error("update error",f)}}).catch(f=>Ne.errorOnce(f))}),this._performUpdateSplits={},this.axes=[],this.series=[],this._cachedData=void 0,this.onSeriesNodeClick=h=>{this.fireEvent({...h,type:"seriesNodeClick"})},this.onSeriesNodeDoubleClick=h=>{this.fireEvent({...h,type:"seriesNodeDoubleClick"})},this.onSeriesVisibilityChange=h=>{this.fireEvent(h)},this.seriesGroupingChanged=h=>{if(!(h instanceof ZA))return;const{series:f,seriesGrouping:g,oldGrouping:m}=h;f.contentGroup.isRoot()||this.seriesLayerManager.changeGroup({internalId:f.internalId,type:f.type,contentGroup:f.contentGroup,renderToOffscreenCanvas:()=>f.renderToOffscreenCanvas(),seriesGrouping:g,oldGrouping:m})},this.chartOptions=t;const n=i==null?void 0:i.scene,r=(i==null?void 0:i.container)??t.processedOptions.container??void 0,o=(i==null?void 0:i.styleContainer)??t.specialOverrides.styleContainer;n&&(this._firstAutoSize=!1,this._lastAutoSize=[n.width,n.height,n.pixelRatio]);const a=new ot({name:"root"});a.visible=!1,a.append(this.seriesRoot),a.append(this.annotationRoot),a.append(this.titleGroup),this.titleGroup.append(this.title.node),this.titleGroup.append(this.subtitle.node),this.titleGroup.append(this.footnote.node),this.tooltip=new fa,this.seriesLayerManager=new Joe(this.seriesRoot),this.mode=t.userOptions.mode??this.mode;const l=this.ctx=new $re(this,{chartType:this.getChartType(),scene:n,root:a,container:r,styleContainer:o,syncManager:new xoe(this),fireEvent:h=>this.fireEvent(h),updateCallback:(h,f)=>this.update(h,f),updateMutex:this.updateMutex});this._destroyFns.push(l.domManager.addListener("resize",()=>this.parentResize(l.domManager.containerSize))),this.overlays=new vf,(s=this.overlays.loading).renderer??(s.renderer=()=>Loe(this.overlays.loading.getText(l.localeManager),l.animationManager.defaultDuration)),this.processors=[new eae(this,l.dataService,l.updateService,l.zoomManager,l.animationManager),new cae(this,this.overlays,l.dataService,l.layoutManager,l.localeManager,l.animationManager,l.domManager)],this.highlight=new f3,this.container=r;const u=this.getModuleContext();l.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new qoe(this.initSeriesAreaDependencies()),this._destroyFns.push(l.layoutManager.registerElement(0,h=>{h.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(h)}),l.layoutManager.addListener("layout:complete",h=>this.chartCaptions.positionAbsoluteCaptions(h)),l.dataService.addListener("data-load",h=>{this.data=h.data}),this.title.registerInteraction(u,"beforebegin"),this.subtitle.registerInteraction(u,"beforebegin"),this.footnote.registerInteraction(u,"afterend"),da.addWindowEvent("page-left",()=>this.destroy()),l.animationManager.addListener("animation-frame",()=>{this.update(6)}),l.animationManager.addListener("animation-start",()=>l.domManager.setDataBoolean("animating",!0)),l.animationManager.addListener("animation-stop",()=>l.domManager.setDataBoolean("animating",!1)),l.zoomManager.addListener("zoom-change",()=>{this.series.forEach(f=>{var g;return(g=f.animationState)==null?void 0:g.transition("updateData")});const h=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:h})})),this.parentResize(l.domManager.containerSize)}static getInstance(t){return O3.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(t,i){this.ctx.scene.download(t,i)}getCanvasDataURL(t){return this.ctx.scene.getDataURL(t)}toSVG(){return this.ctx.scene.toSVG()}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getChartOptions(){return this.queuedChartOptions.at(-1)??this.chartOptions}overrideFocusVisible(t){this.seriesAreaManager.focusIndicator.overrideFocusVisible(t)}initSeriesAreaDependencies(){const{ctx:t,tooltip:i,highlight:s,overlays:n,seriesRoot:r,mode:o}=this,a=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,chartType:a,ctx:t,tooltip:i,highlight:s,overlays:n,seriesRoot:r,mode:o}}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(t=>t.enabled&&t.text).map(t=>t.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const t of this.series)t.resetAnimation(this.chartAnimationPhase);for(const t of this.axes)t.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}detachAndClear(){this.container=void 0,this.ctx.scene.clear()}destroy(t){if(this.destroyed)return;const i=t==null?void 0:t.keepTransferableResources;let s;return this.performUpdateType=7,this._destroyFns.forEach(n=>n()),this.processors.forEach(n=>n.destroy()),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),i?(this.ctx.scene.strip(),s={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(n=>n.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),s}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(async()=>{if(!this.destroyed)try{await t(this)}finally{this.destroyed||this._pendingFactoryUpdatesCount--}}).catch(i=>Ne.errorOnce(i)))}update(t=0,i){if(this.destroyed)return;const{forceNodeDataRefresh:s=!1,skipAnimations:n,seriesToUpdate:r=this.series,newAnimationBatch:o}=i??{};this.ctx.widgets.seriesWidget.setDragTouchEnabled(this.touch.dragAction!=="none"),s&&this.series.forEach(a=>a.markNodeDataDirty());for(const a of r)this.seriesToUpdate.add(a);if(n&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),o&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.skipSync=(i==null?void 0:i.skipSync)??!1,this.debug.check()){let a=new Error().stack??"<unknown>";a=a.replace(/\([^)]*/g,""),this.updateRequestors[a]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(i==null?void 0:i.backOffMs))}async performUpdate(t){const{performUpdateType:i,extraDebugStats:s,_performUpdateSplits:n,ctx:r}=this,o=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.runningUpdateType=i,this.updateShortcutCount===0&&i<6&&(r.animationManager.startBatch(this._performUpdateSkipAnimations),r.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",fp[i]);let a=performance.now();n.start??(n.start=a);const l=h=>{n[h]??(n[h]=0),n[h]+=performance.now()-a,a=performance.now()};switch(i){case 0:if(this.checkUpdateShortcut(0))break;this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:if(this.checkUpdateShortcut(1))break;await this.updateData(),l("");case 2:if(this.checkUpdateShortcut(2))break;await this.processData(),this.seriesAreaManager.dataChanged(),l("");case 3:if(await this.checkFirstAutoSize(),this.checkUpdateShortcut(3))break;await this.processLayout(),l("");case 4:{if(this.checkUpdateShortcut(4))break;await this.updateSeries(o),l(""),this.updateAriaLabels(),this.seriesLayerManager.updateLayerCompositing()}case 5:if(this.checkUpdateShortcut(5))break;r.updateService.dispatchPreSceneRender(),l("");case 6:if(this.checkUpdateShortcut(6))break;r.animationManager.endBatch(),s.updateShortcutCount=this.updateShortcutCount,r.scene.render({debugSplitTimes:n,extraDebugStats:s,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const h of Object.keys(n))delete n[h];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,r.animationManager.endBatch()}this.destroyed||(r.updateService.dispatchUpdateComplete(),this.ctx.domManager.setDataBoolean("updatePending",!1),this.runningUpdateType=7),this._performUpdateNotify.notify();const u=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((u-n.start)*100)/100,count:t,performUpdateType:fp[i]})}updateThemeClassName(){const t="ag-charts-theme-",i=[`${t}default`,`${t}default-dark`];let s=i[0],n=!1,{theme:r}=this.chartOptions.processedOptions;for(;typeof r!="string"&&r!=null;)r=r.baseTheme;typeof r=="string"&&(s=r.replace("ag-",t),n=r.includes("-dark")),i.includes(s)||(s=n?i[1]:i[0]),this.ctx.domManager.setThemeClass(s)}updateDOM(){this.updateThemeClassName();const{enabled:t,tabIndex:i}=this.keyboard;this.ctx.domManager.setTabGuardIndex(t?i??0:-1),this.ctx.domManager.setThemeParameters(this.chartOptions.themeParameters)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(t){return this.destroyed?!0:this.updateShortcutCount>3?(Ne.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t?(this.updateShortcutCount++,!0):!1}async checkFirstAutoSize(){this.width!=null&&this.height!=null||this._lastAutoSize||await this._autoSizeNotify.await(500)||this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}onAxisChange(t,i){i==null&&t.length===0||this.ctx.axisManager.updateAxes(i??[],t)}onSeriesChange(t,i){var n,r;const s=(i==null?void 0:i.filter(o=>!t.includes(o)))??[];this.destroySeries(s),(n=this.seriesLayerManager)==null||n.setSeriesCount(t.length);for(const o of t){if(i!=null&&i.includes(o))continue;const a=this.seriesLayerManager.requestGroup(o);o.attachSeries(a,this.seriesRoot,this.annotationRoot);const l=this;o.chart={get mode(){return l.mode},get isMiniChart(){return!1},get seriesRect(){return l.seriesRect}},o.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(o),o.addChartEventListeners()}(r=this.seriesAreaManager)==null||r.seriesChanged(t)}destroySeries(t){t==null||t.forEach(i=>{i.removeEventListener("nodeClick",this.onSeriesNodeClick),i.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),i.removeEventListener("groupingChanged",this.seriesGroupingChanged),i.destroy(),this.seriesLayerManager.releaseGroup(i),i.detachSeries(void 0,this.seriesRoot,this.annotationRoot),i.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.hasEventListener("seriesVisibilityChange")&&t.addEventListener("seriesVisibilityChange",this.onSeriesVisibilityChange),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const t of this.axes)t.boundSeries=this.series.filter(i=>i.axes[t.direction]===t)}assignAxesToSeries(){const t=eA(this.axes,i=>i.direction);for(const i of this.series)for(const s of i.directions){const n=t[s];if(!n){Ne.warnOnce(`no available axis for direction [${s}]; check series and axes configuration.`);return}const r=i.getKeys(s),o=n.find(a=>!a.keys.length||r.some(l=>a.keys.includes(l)));if(!o){Ne.warnOnce(`no matching axis for direction [${s}] and keys [${r}]; check series and axes configuration.`);return}i.axes[s]=o}}parentResize(t){if(t==null||this.width!=null&&this.height!=null)return;let{width:i,height:s}=t;const{pixelRatio:n}=t;if(i=Math.floor(i),s=Math.floor(s),i===0&&s===0)return;const[r=0,o=0,a=1]=this._lastAutoSize??[];r===i&&o===s&&a===n||(this._lastAutoSize=[i,s,n],this.resize("SizeMonitor",{}))}resize(t,i){var m,y,C;const{scene:s,animationManager:n}=this.ctx,{inWidth:r,inHeight:o,inMinWidth:a,inMinHeight:l,inOverrideDevicePixelRatio:u}=i;this.ctx.domManager.setSizeOptions(a??this.minWidth,l??this.minHeight,r??this.width,o??this.height);const h=r??this.width??((m=this._lastAutoSize)==null?void 0:m[0]),f=o??this.height??((y=this._lastAutoSize)==null?void 0:y[1]),g=u??this.overrideDevicePixelRatio??((C=this._lastAutoSize)==null?void 0:C[2]);if(this.debug(`Chart.resize() from ${t}`,{width:h,height:f,pixelRatio:g,stack:new Error().stack}),!(h==null||f==null||!It(h)||!It(f))&&s.resize(h,f,g)){n.reset();let x=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(x=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:x}),this._autoSizeNotify.notify()}}async updateData(){this.series.forEach(i=>i.setChartData(this.data));const t=this.modulesManager.mapModules(i=>{var s;return(s=i.updateData)==null?void 0:s.call(i,this.data)});await Promise.all(t)}async processData(){this.series.some(n=>n.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const t=new C3(this.mode,this.suppressFieldDotNotation),i=this.series.map(n=>(n.resetDatumCallbackCache(),n.processData(t))),s=this.modulesManager.mapModules(n=>{var r;return(r=n.processData)==null?void 0:r.call(n,t)});this._cachedData=t.execute(this._cachedData),await Promise.all([...i,...s]);for(const n of this.axes)n.processData();this.updateLegends()}updateLegends(t){for(const{legend:i,legendType:s}of this.modulesManager.legends())s==="category"?this.setCategoryLegendData(t):this.setLegendData(s,i)}setCategoryLegendData(t){var i;const{ctx:{legendManager:s,stateManager:n}}=this;t&&this.series.forEach(o=>{const a=t.find(l=>l.seriesId===o.id);o.onLegendInitialState("category",a)});const r=this.series.flatMap(o=>{const a=o.getLegendData("category");return s.updateData(o.id,a),a});if(t){n.setStateAndRestore(s,t);return}if(this.mode!=="integrated"){const o={},a=new Map(this.series.map(l=>[l.id,l.type]));for(const{seriesId:l,symbol:{marker:u},label:h}of r.filter(f=>!f.hideInLegend)){if(u.fill==null)continue;const f=a.get(l),g=o[f]??(o[f]={});g[i=h.text]??(g[i]=u.fill),g[h.text]!==u.fill&&Ne.warnOnce(`legend item '${h.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}s.update()}setLegendData(t,i){i.data=this.series.filter(s=>s.properties.showInLegend).flatMap(s=>s.getLegendData(t))}async processLayout(){var r;const t=this.animationRect,{width:i,height:s}=this.ctx.scene,n=this.ctx.layoutManager.createContext(i,s);await this.performLayout(n),t&&!((r=this.animationRect)!=null&&r.equals(t))&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async updateSeries(t){const{seriesRect:i}=this;await Promise.all(t.map(s=>s.update({seriesRect:i}))),this.ctx.seriesLabelLayoutManager.updateLabels(this.series.filter(s=>s.visible&&s.usesPlacedLabels),this.padding,this.seriesRect)}async waitForUpdate(t=1e4,i=!1){const s=performance.now();for(;(this._pendingFactoryUpdatesCount>0||this.performUpdateType!==7||this.runningUpdateType!==7)&&!this.destroyed;){if(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue(),(this.performUpdateType!==7||this.runningUpdateType!==7)&&await this._performUpdateNotify.await(),performance.now()-s>t){const n=`Chart.waitForUpdate() timeout of ${t} reached - first chart update taking too long.`;if(i)throw new Error(n);Ne.warnOnce(n)}OB()&&await Cne()}}filterMiniChartSeries(t){return t==null?void 0:t.filter(i=>i.showInMiniChart!==!1)}applyOptions(t){var C,x,b,w,M;const i=this.firstApply?t.processedOptions:t.diffOptions(this.chartOptions);if(i==null||Object.keys(i).length===0)return;const s=this.firstApply?{}:this.chartOptions.processedOptions,n=t.processedOptions;uo("Chart.applyOptions() - applying delta",i);const r=this.applyModules(n),o=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer"];i.listeners&&this.registerListeners(this,i.listeners),dp(this,i,{skip:o});let a=!1,l="no-op";i.series!=null&&(l=this.applySeries(this,i.series,s==null?void 0:s.series),a=!0),l==="replaced"&&this.resetAnimations(),this.applyAxes(this,n,s,l,[])&&(a=!0),i.data&&(this.data=i.data),(C=i.legend)!=null&&C.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,i.legend.listeners),(x=i.locale)!=null&&x.localeText&&(this.modulesManager.getModule("locale").localeText=(b=i.locale)==null?void 0:b.localeText),this.chartOptions=t;const u=this.modulesManager.getModule("navigator"),h=this.modulesManager.getModule("zoom");!(u!=null&&u.enabled)&&!(h!=null&&h.enabled)&&this.ctx.zoomManager.updateZoom("chart");const f=u==null?void 0:u.miniChart,g=((M=(w=n.navigator)==null?void 0:w.miniChart)==null?void 0:M.series)??n.series;(f==null?void 0:f.enabled)===!0&&g!=null?this.applyMiniChartOptions(f,g,n,s):(f==null?void 0:f.enabled)===!1&&(f.series=[],f.axes=[]),this.ctx.annotationManager.setAnnotationStyles(t.annotationThemes),a||(a=this.shouldForceNodeDataRefresh(i,l));const y=a||r?0:3;this.maybeResetAnimations(l),this.shouldClearLegendData(n,s,l)&&this.ctx.legendManager.clearData(),this.applyInitialState(n),uo("Chart.applyOptions() - update type",fp[y],{seriesStatus:l,forceNodeDataRefresh:a}),this.update(y,{forceNodeDataRefresh:a,newAnimationBatch:!0}),this.firstApply=!1}applyInitialState(t){var l,u,h;const{annotationManager:i,chartTypeOriginator:s,historyManager:n,stateManager:r,zoomManager:o}=this.ctx,{initialState:a}=t;if("annotations"in t&&((l=t.annotations)!=null&&l.enabled)&&(a==null?void 0:a.annotations)!=null){const f=a.annotations.map(g=>{const m=i.getAnnotationTypeStyles(g.type);return bt(g,m)});r.setState(i,f)}(a==null?void 0:a.chartType)!=null&&r.setState(s,a.chartType),((u=t.navigator)!=null&&u.enabled||(h=t.zoom)!=null&&h.enabled)&&(a==null?void 0:a.zoom)!=null&&r.setState(o,a.zoom),(a==null?void 0:a.legend)!=null&&this.updateLegends(a.legend),a!=null&&n.clear()}maybeResetAnimations(t){if(this.mode==="standalone")switch(t){case"series-grouping-change":case"replaced":this.resetAnimations();break}}shouldForceNodeDataRefresh(t,i){const s=!!t.data||i==="data-change"||i==="replaced",n=YA.getKeys(),r=Object.values(n).some(a=>t[a]!=null),o=t.title!=null&&t.subtitle!=null;return s||r||o}shouldClearLegendData(t,i,s){const n=s==="replaced"||s==="series-grouping-change"||s==="updated",r=i.legend!=null&&t.legend==null;return n||r}applyMiniChartOptions(t,i,s,n){var h,f,g,m;const r=((f=(h=n==null?void 0:n.navigator)==null?void 0:h.miniChart)==null?void 0:f.series)??(n==null?void 0:n.series),o=this.applySeries(t,this.filterMiniChartSeries(i),this.filterMiniChartSeries(r));this.applyAxes(t,s,n,o,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const a=t.series;for(const y of a)y.properties.id=void 0;const l=t.axes,u=l.find(y=>y.direction==="x");for(const y of l)y.nice=!1,y.gridLine.enabled=!1,y.label.enabled=y===u,y.tick.enabled=!1,y.interactionEnabled=!1;if(u!=null){const y=(g=s.navigator)==null?void 0:g.miniChart,C=y==null?void 0:y.label,x=(m=y==null?void 0:y.label)==null?void 0:m.interval;if(u.line.enabled=!1,u.label.set(MM(C,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),u.tick.set(MM(x,["enabled","width","size","color","interval","step"])),u.type==="grouped-category"){u.label.enabled=!1,u.label.rotation=0;const{depthOptions:w}=u;if(w.length===0)w.set([{label:{enabled:!0}}]);else for(let M=1;M<w.length;M++)w[M].label.enabled=!1}const b=x==null?void 0:x.step;b!=null&&(u.interval.step=b)}}applyModules(t){var n;const{type:i}=this.constructor;let s=!1;for(const r of ia.byType("root","legend")){const a=t[r.optionsKey]!=null&&r.chartTypes.includes(i);a!==this.modulesManager.isEnabled(r)&&(a?(this.modulesManager.addModule(r,l=>l.moduleFactory(this.getModuleContext())),r.type==="legend"&&((n=this.modulesManager.getModule(r))==null||n.attachLegend(this.ctx.scene)),this[r.optionsKey]=this.modulesManager.getModule(r)):(this.modulesManager.removeModule(r),delete this[r.optionsKey]),s=!0)}return s}initSeriesDeclarationOrder(t){for(let i=0;i<t.length;i++)t[i].setSeriesIndex(i)}applySeries(t,i,s){var h;if(!i)return"no-change";const n=Moe(t.series,i,s);if(n.status==="no-overlap"){uo(`Chart.applySeries() - creating new series instances, status: ${n.status}`,n);const f=i.map(g=>this.createSeries(g));return this.initSeriesDeclarationOrder(f),t.series=f,"replaced"}uo("Chart.applySeries() - matchResult",n);const r=[];let o=!1,a=!1,l=!1;const u=n.changes.toSorted((f,g)=>f.targetIdx-g.targetIdx);for(const f of u)switch(a||(a=f.status==="series-grouping"),o||(o=((h=f.diff)==null?void 0:h.data)!=null),l||(l=f.status!=="no-op"),f.status){case"add":{const g=this.createSeries(f.opts);r.push(g),uo("Chart.applySeries() - created new series",g);break}case"remove":uo(`Chart.applySeries() - removing series at previous idx ${f.idx}`,f.series);break;case"no-op":r.push(f.series),uo(`Chart.applySeries() - no change to series at previous idx ${f.idx}`,f.series);break;case"series-grouping":case"update":default:{const{series:g,diff:m,idx:y}=f;uo(`Chart.applySeries() - applying series diff previous idx ${y}`,m,g),this.applySeriesValues(g,m),g.markNodeDataDirty(),r.push(g)}}return this.initSeriesDeclarationOrder(r),uo("Chart.applySeries() - final series instances",r),t.series=r,a?"series-grouping-change":o?"data-change":l?"updated":"no-op"}applyAxes(t,i,s,n,r=[]){if(!("axes"in i)||!i.axes)return!1;r=["axes[].type",...r];const{axes:o}=i;return!(n==="replaced")&&t.axes.length===o.length&&t.axes.every((u,h)=>u.type===o[h].type)&&XA(s)?(t.axes.forEach((u,h)=>{var y;const f=((y=s.axes)==null?void 0:y[h])??{},g=ll(f,o[h]);uo(`Chart.applyAxes() - applying axis diff idx ${h}`,g);const m=`axes[${h}]`;dp(u,g,{path:m,skip:r})}),!0):(uo(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${n}`),t.axes=this.createAxis(o,r),!0)}createSeries(t){const i=zn.create(t.type,this.getModuleContext());return this.applySeriesOptionModules(i,t),this.applySeriesValues(i,t),i}applySeriesOptionModules(t,i){const s=t.createModuleContext(),n=t.getModuleMap();for(const r of ia.byType("series-option"))r.optionsKey in i&&r.seriesTypes.includes(t.type)&&n.addModule(r,o=>o.moduleFactory(s))}applySeriesValues(t,i){const s=t.getModuleMap(),{type:n,data:r,listeners:o,seriesGrouping:a,showInMiniChart:l,...u}=i;for(const h of yf)if(h.type==="series-option"&&h.optionsKey in u){const f=s.getModule(h.optionsKey);if(f){const g=u[h.optionsKey];delete u[h.optionsKey],f.properties.set(g)}}t.properties.set(u),"data"in i&&t.setOptionsData(r),o&&this.registerListeners(t,o),"seriesGrouping"in i&&(a==null?t.seriesGrouping=void 0:t.seriesGrouping={...t.seriesGrouping,...a})}createAxis(t,i){const s=[],n=this.getModuleContext();for(let r=0;r<t.length;r++){const o=t[r],a=qa.create(o.type,n);this.applyAxisModules(a,o),dp(a,o,{path:`axes[${r}]`,skip:i}),s.push(a)}return Soe(s),s}applyAxisModules(t,i){const s=t.createModuleContext(),n=t.getModuleMap();for(const r of ia.byType("axis-option")){const o=i[r.optionsKey]!=null;o!==n.isEnabled(r)&&(o?(n.addModule(r,a=>a.moduleFactory(s)),t[r.optionsKey]=n.getModule(r)):(n.removeModule(r),delete t[r.optionsKey]))}}registerListeners(t,i){t.clearEventListeners();for(const[s,n]of Object.entries(i))ch(n)&&t.addEventListener(s,n)}};$i.chartsInstances=new WeakMap;E([Yn({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),$i.chartsInstances.set(e,this))},oldValue(e){$i.chartsInstances.delete(e)}})],$i.prototype,"container",2);E([Yn({newValue(e){this.resize("width option",{inWidth:e})}})],$i.prototype,"width",2);E([Yn({newValue(e){this.resize("height option",{inHeight:e})}})],$i.prototype,"height",2);E([Yn({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],$i.prototype,"minWidth",2);E([Yn({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],$i.prototype,"minHeight",2);E([Yn({newValue(e){this.resize("overrideDevicePixelRatio option",{inOverrideDevicePixelRatio:e})}})],$i.prototype,"overrideDevicePixelRatio",2);E([L($e)],$i.prototype,"padding",2);E([L($e)],$i.prototype,"seriesArea",2);E([L($e)],$i.prototype,"keyboard",2);E([L($e)],$i.prototype,"touch",2);E([L(ii(["standalone","integrated"],"a chart mode"))],$i.prototype,"mode",2);E([fi("chartCaptions.title")],$i.prototype,"title",2);E([fi("chartCaptions.subtitle")],$i.prototype,"subtitle",2);E([fi("chartCaptions.footnote")],$i.prototype,"footnote",2);E([L(et)],$i.prototype,"suppressFieldDotNotation",2);E([Yn({changeValue(e,t){this.onAxisChange(e,t)}})],$i.prototype,"axes",2);E([Yn({changeValue(e,t){this.onSeriesChange(e,t)}})],$i.prototype,"series",2);var Rx=$i,uae={2:(e,t)=>Math.log2(t),[Math.E]:(e,t)=>Math.log(t),10:(e,t)=>Math.log10(t)},hae=(e,t)=>Math.log(t)/Math.log(e);function f1(e,t,i){const s=Math.min(...t),n=uae[e]??hae;return s>=0?n(e,i):-n(e,-i)}var dae={[Math.E]:(e,t)=>Math.exp(t),10:(e,t)=>t>=0?10**t:1/10**-t},fae=(e,t)=>e**t;function g1(e,t,i){const s=Math.min(...t),n=dae[e]??fae;return s>=0?n(e,i):-n(e,-i)}var QA=class extends Vt{constructor(e=[1,10],t=[0,1]){super(e,t),this.type="log",this.defaultClamp=!0,this.base=10,this.log=i=>f1(this.base,this.domain,i),this.pow=i=>g1(this.base,this.domain,i)}toDomain(e){return e}transform(e){const[t,i]=Es(this.domain);return t>=0!=i>=0?NaN:t>=0?Math.log(e):-Math.log(-e)}transformInvert(e){const[t,i]=Es(this.domain);return t>=0!=i>=0?NaN:t>=0?Math.exp(e):-Math.exp(-e)}niceDomain(e,t=this.domain){if(t.length<2)return[];const{base:i}=this,[s,n]=t,r=s>n?Math.ceil:Math.floor,o=s>n?Math.floor:Math.ceil,a=g1(i,t,r(f1(i,t,s))),l=g1(i,t,o(f1(i,t,n)));return[a,l]}ticks({interval:e,tickCount:t=Vt.defaultTickCount},i=this.domain,s){if(!i||i.length<2||t<1)return[];const n=this.base,[r,o]=i,a=Math.min(r,o),l=Math.max(r,o);let u=this.log(a),h=this.log(l);if(e){const C=w=>w>=a&&w<=l,x=Math.min(Math.abs(e),Math.abs(h-u)),b=Up(u,h,x).map(this.pow).filter(C);if(!jp(b.length,this.getPixelRange()))return b}if(!d4(n)||h-u>=t)return DA(u,h,Math.min(h-u,t)).map(this.pow);let f=[];const g=a>0;u=Math.floor(u)-1,h=Math.round(h)+1;const m=Xd(this.range)/t;let y=1/0;for(let C=u;C<=h;C++){const x=this.convert(this.pow(C+1));for(let b=1;b<n;b++){const w=g?b:n-b+1,M=this.pow(C)*w,A=this.convert(M),T=Math.abs(y-A),k=Math.abs(A-x),R=T>=m&&k>=m;M>=a&&M<=l&&(b===1||R||f.length===0)&&(f.push(M),y=A)}}return f=F4(f,g,s),f}tickFormatter({specifier:e}){return e!=null?lB(e):String}datumFormatter(e){return this.tickFormatter(e)}},gae=class{constructor(e,t,i){this.root=new yae(e,t,i)}clear(e){this.root.clear(e)}addValue(e,t){const i={hitTester:e,value:t,distanceSquared:(s,n)=>e.distanceSquared(s,n)};this.root.addElem(i)}find(e,t){const i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,i),i.best}},pae=class{constructor(e,t,i,s){this.nw=e,this.ne=t,this.sw=i,this.se=s}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,i){this.nw.find(e,t,i),this.ne.find(e,t,i),this.sw.find(e,t,i),this.se.find(e,t,i)}},mae=class{constructor(e,t,i){this.capacity=e,this.maxdepth=t,this.boundary=i??Ze.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,i){this.findCondition(e,t,i)&&(this.subdivisions===void 0?this.findAction(e,t,i):this.subdivisions.find(e,t,i))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(const t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){const{x:e,y:t,width:i,height:s}=this.boundary,{capacity:n}=this,r=this.maxdepth-1,o=i/2,a=s/2,l=new Ze(e,t,o,a),u=new Ze(e+o,t,o,a),h=new Ze(e,t+a,o,a),f=new Ze(e+o,t+a,o,a);return new pae(this.child(n,r,l),this.child(n,r,u),this.child(n,r,h),this.child(n,r,f))}},yae=class N3 extends mae{addCondition(t){const{x:i,y:s}=t.hitTester.midPoint;return this.boundary.containsPoint(i,s)}findCondition(t,i,s){const{best:n}=s;return n.distanceSquared!==0&&this.boundary.distanceSquared(t,i)<n.distanceSquared}findAction(t,i,s){const n=tx(t,i,this.elems,s.best.distanceSquared);n.nearest!==void 0&&n.distanceSquared<s.best.distanceSquared&&(s.best=n)}child(t,i,s){return new N3(t,i,s)}},Do=class _3 extends Vt{constructor(){super([0,1],[0,1]),this.type="number"}static getTickStep(t,i,s){const{interval:n,tickCount:r=Vt.defaultTickCount,minTickCount:o,maxTickCount:a}=s;return n??Wp(t,i,r,o,a)}toDomain(t){return t}ticks({interval:t,tickCount:i=Vt.defaultTickCount,minTickCount:s,maxTickCount:n},r=this.domain,o){if(!r||r.length<2||i<1||!r.every(isFinite))return[];const[a,l]=r;if(t){const u=Math.abs(t);if(!jp((l-a)/u,this.getPixelRange()))return Up(a,l,u)}return DA(a,l,i,s,n,o)}niceDomain(t,i=this.domain){if(i.length<2)return[];const{tickCount:s=Vt.defaultTickCount}=t;let[n,r]=i;if(s===1)[n,r]=Vse(n,r);else if(s>1){const o=n>r?Math.ceil:Math.floor,a=n>r?Math.floor:Math.ceil,l=4;for(let u=0;u<l;u++){const h=n,f=r,g=_3.getTickStep(n,r,t),[m,y]=i;if(n=o(m/g)*g,r=a(y/g)*g,n===h&&r===f)break}}return[n,r]}tickFormatter({ticks:t,fractionDigits:i,specifier:s}){return s!=null?FF(t,s):n=>al(n,i)}datumFormatter({ticks:t,fractionDigits:i,specifier:s}){return s!=null?FF(t,s):n=>al(n,i+1)}};function bl(e){if(e.length===0)return null;let t=1/0,i=-1/0;for(const n of e){const r=n instanceof Date?n.getTime():n;typeof r=="number"&&(r<t&&(t=r),r>i&&(i=r))}const s=[t,i];return s.every(isFinite)?s:null}function JA(e,t,i){let s=!1;return e.length>2&&(e=bl(e)??[NaN,NaN]),isNaN(t)||(s||(s=t>e[0]),e=[t,e[1]]),isNaN(i)||(s||(s=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{extent:e,clipped:s}}var Fc=class extends km{constructor(e,t=new Do){super(e,t),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:s,clipped:n}=JA(e,t,i);return{domain:s,clipped:n}}};Fc.className="NumberAxis";Fc.type="number";E([L(ua(df,Am("max"))),kc(NaN)],Fc.prototype,"min",2);E([L(ua(df,Em("min"))),kc(NaN)],Fc.prototype,"max",2);var gh=class extends km{constructor(e){super(e,new pB),this.min=void 0,this.max=void 0}normaliseDataDomain(e){var n;let{min:t,max:i}=this,s=!1;return typeof t=="number"&&(t=new Date(t)),typeof i=="number"&&(i=new Date(i)),e.length>2&&(e=((n=bl(e))==null?void 0:n.map(r=>new Date(r)))??[]),t instanceof Date&&(s||(s=t>e[0]),e=[t,e[1]]),i instanceof Date&&(s||(s=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{domain:e,clipped:s}}};gh.className="TimeAxis";gh.type="time";E([L(ua(cA,Am("max")),{optional:!0})],gh.prototype,"min",2);E([L(ua(cA,Em("min")),{optional:!0})],gh.prototype,"max",2);var eE=class extends Tx{constructor(){super(...arguments),this.clipFocusBox=!0}getScaleInformation({xScale:e,yScale:t}){const i=Vt.is(e),s=Vt.is(t);return{isContinuousX:i,isContinuousY:s,xScaleType:e==null?void 0:e.type,yScaleType:t==null?void 0:t.type}}getModulePropertyDefinitions(){var i,s;const e=(i=this.axes.x)==null?void 0:i.scale,t=(s=this.axes.y)==null?void 0:s.scale;return this.moduleMap.mapModules(n=>n.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t}))).flat()}async requestDataModel(e,t,i){i.props.push(...this.getModulePropertyDefinitions());const{dataModel:s,processedData:n}=await e.request(this.id,t??[],i);return this.dataModel=s,this.processedData=n,this.dispatch("data-processed",{dataModel:s,processedData:n}),{dataModel:s,processedData:n}}isProcessedDataAnimatable(){var s,n;const e=(n=(s=this.processedData)==null?void 0:s.reduced)==null?void 0:n.animationValidation;if(!e)return!0;const{orderedKeys:t,uniqueKeys:i}=e;return t&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){const t=this.getNodeData();if(t===void 0||t.length===0)return;const i=this.computeFocusDatumIndex(e,t);if(i===void 0)return;const{clipFocusBox:s}=this,n=t[i],r={...e,datumIndex:i},o=this.computeFocusBounds(r);if(o!==void 0)return{bounds:o,clipFocusBox:s,datum:n,datumIndex:i}}computeFocusDatumIndex(e,t){const i=a=>{const{missing:l=!1,enabled:u=!0,focusable:h=!0}=t[a];return!l&&u&&h},s=(a,l)=>{for(;a>=0&&!i(a);)a+=l;return a===-1?void 0:a},n=(a,l)=>{for(;a<t.length&&!i(a);)a+=l;return a===t.length?void 0:a};let r;const o=ft(0,e.datumIndex,t.length-1);return e.datumIndexDelta<0?r=s(o,e.datumIndexDelta):e.datumIndexDelta>0?r=n(o,e.datumIndexDelta):r=n(o,1)??s(o,-1),r===void 0?e.datumIndexDelta===0?void 0:e.datumIndex-e.datumIndexDelta:r}},Sl=class extends ut{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};E([L(Bt,{optional:!0})],Sl.prototype,"fill",2);E([L(Wt,{optional:!0})],Sl.prototype,"fillOpacity",2);E([L(Bt,{optional:!0})],Sl.prototype,"stroke",2);E([L(Ve,{optional:!0})],Sl.prototype,"strokeWidth",2);E([L(Wt,{optional:!0})],Sl.prototype,"strokeOpacity",2);E([L(ha,{optional:!0})],Sl.prototype,"lineDash",2);E([L(Ve,{optional:!0})],Sl.prototype,"lineDashOffset",2);var kx=class extends ut{};E([L(Ve,{optional:!0})],kx.prototype,"strokeWidth",2);E([L(Wt,{optional:!0})],kx.prototype,"dimOpacity",2);E([L(et,{optional:!0})],kx.prototype,"enabled",2);var B3=class extends ut{constructor(){super(...arguments),this.color="black"}};E([L(Bt,{optional:!0})],B3.prototype,"color",2);var tE=class extends ut{constructor(){super(...arguments),this.enabled=!0}};E([L(et,{optional:!0})],tE.prototype,"enabled",2);var Pm=class extends ut{constructor(){super(...arguments),this.item=new Sl,this.series=new kx,this.text=new B3}};E([L($e)],Pm.prototype,"item",2);E([L($e)],Pm.prototype,"series",2);E([L($e)],Pm.prototype,"text",2);var gr=class extends ut{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new tE,this.highlightStyle=new Pm}};E([L(Fe,{optional:!0})],gr.prototype,"id",2);E([L(et)],gr.prototype,"visible",2);E([L(_4,{optional:!0})],gr.prototype,"focusPriority",2);E([L(et)],gr.prototype,"showInLegend",2);E([L(Fe)],gr.prototype,"cursor",2);E([L(gx)],gr.prototype,"nodeClickRange",2);E([L($e)],gr.prototype,"highlight",2);E([L($e)],gr.prototype,"highlightStyle",2);var ph={x:["xKey"],y:["yKey"]},mh={x:["xName"],y:["yName"]},iE=class extends Lm{constructor(e,t,i,s){super(e,t,i,s),this.xKey=s.properties.xKey,this.yKey=s.properties.yKey}},wl=class extends gr{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};E([L(Fe,{optional:!0})],wl.prototype,"legendItemName",2);E([L(et,{optional:!0})],wl.prototype,"pickOutsideVisibleMinorAxis",2);var yC=100,Pc=class extends eE{constructor({pathsPerSeries:e=["path"],hasMarkers:t=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:s=[],datumSelectionGarbageCollection:n=!0,markerSelectionGarbageCollection:r=!0,animationAlwaysUpdateSelections:o=!1,animationResetFns:a,directionKeys:l,directionNames:u,...h}){if(super({directionKeys:l,directionNames:u,canHaveAxes:!0,...h}),this.NodeEvent=iE,this.dataNodeGroup=this.contentGroup.appendChild(new ot({name:`${this.id}-series-dataNodes`,zIndex:0})),this.markerGroup=this.contentGroup.appendChild(new ot({name:`${this.id}-series-markers`,zIndex:1})),this.labelGroup=this.contentGroup.appendChild(new En({name:`${this.id}-series-labels`})),this.labelSelection=Ki.select(this.labelGroup,gs),this.highlightSelection=Ki.select(this.highlightNode,()=>this.opts.hasMarkers?new ms:this.nodeFactory()),this.highlightLabelSelection=Ki.select(this.highlightLabel,gs),this.annotationSelections=new Set,this.debug=ti.create(),!l||!u)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:e,hasMarkers:t,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:s,directionKeys:l,directionNames:u,animationResetFns:a,animationAlwaysUpdateSelections:o,datumSelectionGarbageCollection:n,markerSelectionGarbageCollection:r},this.paths=e.map(f=>new Fn({name:`${this.id}-${f}`})),this.datumSelection=Ki.select(this.dataNodeGroup,()=>this.nodeFactory(),n),this.markerSelection=Ki.select(this.markerGroup,ms,r),this.animationState=new Rm("empty",{empty:{update:{target:"ready",action:f=>this.animateEmptyUpdateReady(f)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:f=>this.animateReadyHighlight(f),highlightMarkers:f=>this.animateReadyHighlightMarkers(f),resize:f=>this.animateReadyResize(f),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:f=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(f):this.animateWaitingUpdateReady(f)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:f=>this.resetAllAnimation(f),reset:"empty"},clearing:{update:{target:"empty",action:f=>this.animateClearingUpdateEmpty(f)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){var e;return(e=this.contextNodeData)==null?void 0:e.nodeData}attachSeries(e,t,i){super.attachSeries(e,t,i),this.attachPaths(this.paths,t,i)}detachSeries(e,t,i){super.detachSeries(e,t,i),this.detachPaths(this.paths,t,i)}attachPaths(e,t,i){for(const s of e)this.contentGroup.appendChild(s)}detachPaths(e,t,i){for(const s of e)this.contentGroup.removeChild(s)}renderToOffscreenCanvas(){const e=this.getNodeData();return e!=null&&e.length>yC}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"?this.animationState.transition("skip"):e==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>this.onLegendItemClick(e)),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData=void 0}update({seriesRect:e}){var l,u;const{visible:t,_contextNodeData:i}=this,n=((u=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight())==null?void 0:u.series)===this,r=this.checkResize(e),o=this.updateHighlightSelection(n);this.updateSelections(t),this.updateNodes(o,n,t);const a=this.getAnimationData(e,i);a&&(r&&this.animationState.transition("resize",a),this.animationState.transition("update",a))}updateSelections(e){var t;const i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!e&&i)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=this.createNodeData();const s=this.isProcessedDataAnimatable();this._contextNodeData&&((t=this._contextNodeData).animationValid??(t.animationValid=s));const{dataModel:n,processedData:r}=this;n!==void 0&&r!==void 0&&this.dispatch("data-update",{dataModel:n,processedData:r})}this.updateSeriesSelections()}}updateSeriesSelections(e){const{datumSelection:t,labelSelection:i,markerSelection:s,paths:n}=this,r=this._contextNodeData;if(!r)return;const{nodeData:o,labelData:a,itemId:l}=r;this.updatePaths({seriesHighlighted:e,itemId:l,contextData:r,paths:n}),this.datumSelection=this.updateDatumSelection({nodeData:o,datumSelection:t}),this.labelSelection=this.updateLabelSelection({labelData:a,labelSelection:i})??i,this.opts.hasMarkers&&(this.markerSelection=this.updateMarkerSelection({nodeData:o,markerSelection:s}))}updateNodes(e,t,i){const{highlightSelection:s,highlightLabelSelection:n,opts:{hasMarkers:r,hasHighlightedLabels:o}}=this,a=!this.ctx.animationManager.isSkipped(),l=this.visible&&this._contextNodeData!=null&&i;this.contentGroup.visible=a||l,this.highlightGroup.visible=(a||l)&&t;const u=this.getOpacity();r?(this.updateMarkerNodes({markerSelection:s,isHighlight:!0}),this.animationState.transition("highlightMarkers",s)):(this.updateDatumNodes({datumSelection:s,isHighlight:!0}),this.animationState.transition("highlight",s)),o&&this.updateLabelNodes({labelSelection:n});const{dataNodeGroup:h,markerGroup:f,datumSelection:g,labelSelection:m,markerSelection:y,paths:C,labelGroup:x}=this,{itemId:b}=this.contextNodeData??{};h.opacity=u,h.visible=a||l,x.visible=l,r&&(f.opacity=u,f.visible=l),x&&(x.opacity=u),this.updatePathNodes({seriesHighlighted:t,itemId:b,paths:C,opacity:u,visible:l,animationEnabled:a}),h.visible&&(this.updateDatumNodes({datumSelection:g,highlightedItems:e,isHighlight:!1}),this.usesPlacedLabels||this.updateLabelNodes({labelSelection:m}),r&&this.updateMarkerNodes({markerSelection:y,isHighlight:!1}))}getHighlightLabelData(e,t){const i=e.filter(s=>s.datum===t.datum&&s.itemId===t.itemId);return i.length===0?void 0:i}getHighlightData(e,t){return t?[t]:void 0}updateHighlightSelection(e){var l;const{highlightSelection:t,highlightLabelSelection:i,_contextNodeData:s}=this;if(!s)return;const n=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight(),r=e&&(n!=null&&n.datum)?n:void 0;let o,a;if(r!=null){const u=this.isLabelEnabled(),{labelData:h,nodeData:f}=s;a=this.getHighlightData(f,r),o=u?this.getHighlightLabelData(h,r):void 0}return this.highlightSelection=this.updateHighlightSelectionItem({items:a,highlightSelection:t}),this.highlightLabelSelection=this.updateHighlightSelectionLabel({items:o,highlightLabelSelection:i}),a}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:e}of this.datumSelection)e.datum.missing!==!0&&(yield e)}getQuadTree(){if(this.quadtree===void 0){const{width:e,height:t}=this.ctx.scene.canvas,i=new Ze(0,0,e,t);this.quadtree=new gae(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodeExactShape(e){const t=super.pickNodeExactShape(e);if(t)return t;const{x:i,y:s}=e,{opts:{hasMarkers:n}}=this;let r;const{dataNodeGroup:o,markerGroup:a}=this;if(r=o.pickNode(i,s),!r&&n&&(r=a==null?void 0:a.pickNode(i,s)),r&&r.datum.missing!==!0)return{datum:r.datum,distance:0};for(const l of this.moduleMap.modules()){const{datum:u}=l.pickNodeExact(e)??{};if(u!=null&&(u==null?void 0:u.missing)!==!0)return{datum:u,distance:0}}}pickNodeClosestDatum(e){var h;const{x:t,y:i}=e,{axes:s,_contextNodeData:n}=this;if(!n)return;const r=s.x,o=s.y,a={x:t,y:i};let l=1/0,u;for(const f of n.nodeData){const{point:{x:g=NaN,y:m=NaN}={}}=f;if(isNaN(g)||isNaN(m)||!((r==null?void 0:r.inRange(g))&&(o==null?void 0:o.inRange(m))))continue;const C=Math.max((a.x-g)**2+(a.y-m)**2,0);C<l&&(l=C,u=f)}for(const f of this.moduleMap.modules()){const g=f.pickNodeNearest(e);if(g!==void 0&&g.distanceSquared<l){l=g.distanceSquared,u=g.datum;break}}if(u){const f=Math.max(Math.sqrt(l)-(((h=u.point)==null?void 0:h.size)??0),0);return{datum:u,distance:f}}}pickNodeMainAxisFirst(e,t){var y;const{x:i,y:s}=e,{axes:n,_contextNodeData:r}=this,{pickOutsideVisibleMinorAxis:o}=this.properties;if(!r)return;const a=n.x,l=n.y,u=[a,l].filter(mf.is).map(C=>C.direction);if(t&&u.length===0)return;const[h="x"]=u,f=[i,s];h!=="x"&&f.reverse();const g=[1/0,1/0];let m;for(const C of r.nodeData){const{x=NaN,y:b=NaN}=C.point??C.midPoint??{};if(isNaN(x)||isNaN(b)||C.missing===!0)continue;const w=[a==null?void 0:a.inRange(x),l==null?void 0:l.inRange(b)];if(h!=="x"&&w.reverse(),!w[0]||!o&&!w[1])continue;const M=[x,b];h!=="x"&&M.reverse();let A=!0;for(let T=0;T<M.length;T++){const k=Math.abs(M[T]-f[T]);if(k>g[T]){A=!1;break}else k<g[T]&&(g[T]=k,g.fill(1/0,T+1,g.length))}A&&(m=C)}if(m){let C=Math.max(g[0]**2+g[1]**2-(((y=m.point)==null?void 0:y.size)??0),0);for(const x of this.moduleMap.modules()){const b=x.pickNodeMainAxisFirst(e);if(b!==void 0&&b.distanceSquared<C){m=b.datum,C=b.distanceSquared;break}}return{datum:m,distance:Math.sqrt(C)}}}isPathOrSelectionDirty(){return!1}shouldFlipXY(){return!1}keysOrValues(e){var i,s,n;const t=this.dataModel.resolveProcessedDataIndexById(this,e);return((s=(i=this.processedData)==null?void 0:i.keys[t])==null?void 0:s.get(this.id))??((n=this.processedData)==null?void 0:n.columns[t])??[]}visibleRange(e,t,i){const s=this.keysOrValues(e),n=0;return l3((i==null?void 0:i.length)??s.length,t,r=>{const o=(i==null?void 0:i[r])??r;return this.xCoordinateRange(s[o],n,o)})}domainForVisibleRange(e,t,i,s,n,r){const{processedData:o,dataModel:a}=this,[l,u]=s,h=this.keysOrValues(i);if(n){const y=this.visibleRange(i,s,r);return a.getDomainBetweenRange(this,t,y,o)}const f=t.map(y=>this.keysOrValues(y));let g=1/0,m=-1/0;return h.forEach((y,C)=>{const[x,b]=this.xCoordinateRange(y,0,C);if(!(b<l||x>u))for(let w=0;w<t.length;w++){const M=f[w][C];g=Math.min(g,M),m=Math.max(m,M)}}),g>m?[NaN,NaN]:[g,m]}domainForClippedRange(e,t,i,s){const{processedData:n,dataModel:r,axes:o}=this,l=vae(o[e==="x"?"y":"x"]);if(!l)return t.flatMap(y=>r.getDomain(this,y,"value",n));const u=this.keysOrValues(i);if(s){const y=Cae(u.length,l,C=>u[C]);return r.getDomainBetweenRange(this,t,y,n)}const h=t.map(y=>this.keysOrValues(y)),f=l[0].valueOf(),g=l[1].valueOf(),m=[];return u.forEach((y,C)=>{const x=y.valueOf();if(x<f||x>g)return;const b=h.map(w=>w[C]);x>=f&&m.push(...b),x<=g&&m.push(...b)}),m}countVisibleItems(e,t,i,s,n){const{dataModel:r,processedData:o}=this;if(!r||!o)return 1/0;const a=this.keysOrValues(e),l=t.map(T=>r.resolveColumnById(this,T,o)),u=this.axes.x,h=this.axes.y,f=this.shouldFlipXY(),g=u.range,m=h.range,y=(T,k,R)=>T[0]+(R-k[0])/(k[1]-k[0])*(T[1]-T[0]),C=y(g,u.visibleRange,i[0]),x=y(g,u.visibleRange,i[1]),b=y(m,h.visibleRange,f?s[0]:s[1]),w=y(m,h.visibleRange,f?s[1]:s[0]),M=Math.round((i[0]+(i[1]-i[0])/2)*a.length),A=0;return c3(0,a.length-1,M,n,T=>{let[k,R]=this.xCoordinateRange(a[T],A,T),[F,I]=this.yCoordinateRange(l.map(N=>N[T]),A,T);return!It(k)||!It(R)||!It(F)||!It(I)?!1:(f&&([k,R,F,I]=[F,I,k,R]),k>=C&&R<=x&&F>=b&&I<=w)})}updateHighlightSelectionItem(e){const{opts:{hasMarkers:t}}=this,{items:i,highlightSelection:s}=e,n=i??[];if(t){const r=s;return this.updateMarkerSelection({nodeData:n,markerSelection:r})}else return this.updateDatumSelection({nodeData:n,datumSelection:s})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}updateDatumSelection(e){return e.datumSelection}updateDatumNodes(e){}updateMarkerSelection(e){return e.markerSelection}updateMarkerNodes(e){}updatePaths(e){e.paths.forEach(t=>t.visible=!1)}updatePathNodes(e){const{paths:t,opacity:i,visible:s}=e;for(const n of t)n.opacity=i,n.visible=s}resetPathAnimation(e){var i;const{path:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&e.paths.forEach(s=>{Ms([s],t)})}resetDatumAnimation(e){var i;const{datum:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Ms([e.datumSelection],t)}resetLabelAnimation(e){var i;const{label:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Ms([e.labelSelection],t)}resetMarkerAnimation(e){var i;const{marker:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&this.opts.hasMarkers&&Ms([e.markerSelection],t)}resetAllAnimation(e){var t;this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(e),this.resetDatumAnimation(e),this.resetLabelAnimation(e),this.resetMarkerAnimation(e),((t=e.contextData)==null?void 0:t.animationValid)===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var i;const{datum:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Ms([e],t)}animateReadyHighlightMarkers(e){var i;const{marker:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Ms([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(e,t){const{_contextNodeData:i}=this;return i?{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:t,paths:this.paths,seriesRect:e}:void 0}updateLabelSelection(e){return e.labelSelection}getScaling(e){if(e instanceof QA){const{range:t,domain:i}=e;return{type:"log",convert:s=>e.convert(s),domain:[i[0],i[1]],range:[t[0],t[1]]}}else if(e instanceof Vt){const{range:t,domain:i}=e;return{type:"continuous",domain:[i[0],i[1]],range:[t[0],t[1]]}}else if(e instanceof Sm){const{domain:t}=e;return{type:"category",domain:t,inset:e.inset,step:e.step}}}calculateScaling(){const e={};for(const t of Object.values(SA)){const i=this.axes[t];if(!i)continue;const s=this.getScaling(i.scale);s!=null&&(e[t]=s)}return e}};function vae(e){let t,i;if(e instanceof Fc&&(Number.isFinite(e.min)||Number.isFinite(e.max))?(t=Number.isFinite(e.min)?e.min:void 0,i=Number.isFinite(e.max)?e.max:void 0):e instanceof gh&&(e.min!=null||e.max!=null)&&({min:t,max:i}=e),!(t==null&&i==null))return t??(t=-1/0),i??(i=1/0),[t,i]}function Cae(e,t,i){const s=t[0].valueOf(),n=t[1].valueOf(),r=r4(0,e-1,a=>{var u;const l=(u=i(a))==null?void 0:u.valueOf();return!Number.isFinite(l)||l>=s});let o=n4(0,e-1,a=>{var u;const l=(u=i(a))==null?void 0:u.valueOf();return!Number.isFinite(l)||l<=n});return r==null||o==null?[0,0]:(o=Math.min(o+1,e),[r,o])}var xae=["top","right","bottom","left"],Ix=class G3 extends Rx{constructor(t,i){super(t,i),this.paired=!0,this.lastUpdateClipRect=void 0,this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}onAxisChange(t,i){super.onAxisChange(t,i),this.ctx!=null&&this.ctx.zoomManager.updateAxes(t)}destroySeries(t){super.destroySeries(t),this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}getChartType(){return"cartesian"}setRootClipRects(t){const{seriesRoot:i,annotationRoot:s}=this;i.setClipRect(t),s.setClipRect(t)}async processData(){await super.processData();for(const t of this.axes){const i=this.getSyncedDomain(t);i!=null&&t.setDomains(i)}this.ctx.updateService.dispatchProcessData({series:{shouldFlipXY:this.shouldFlipXY()}})}performLayout(t){const{seriesRoot:i,annotationRoot:s}=this,{clipSeries:n,seriesRect:r,visible:o}=this.updateAxes(t.layoutBox);this.seriesRoot.visible=o,this.seriesRect=r,this.animationRect=t.layoutBox;const{x:a,y:l}=r;if(t.width!==this.lastLayoutWidth||t.height!==this.lastLayoutHeight)for(const g of[i,s])g.translationX=Math.floor(a),g.translationY=Math.floor(l);else{const{translationX:g,translationY:m}=i;fl(this.id,"seriesRect",this.ctx.animationManager,[i,s],{translationX:g,translationY:m},{translationX:Math.floor(a),translationY:Math.floor(l)},{phase:"update"})}this.lastLayoutWidth=t.width,this.lastLayoutHeight=t.height;const u=r.clone().grow(this.seriesArea.padding),h=this.seriesArea.clip||n?u:void 0,{lastUpdateClipRect:f}=this;this.lastUpdateClipRect=h,this.ctx.animationManager.isActive()&&f!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:f,to:u,onUpdate:g=>this.setRootClipRects(g),onComplete:()=>this.setRootClipRects(h)}):this.setRootClipRects(h),this.ctx.layoutManager.emitLayoutComplete(t,{axes:this.axes.map(g=>g.getLayoutState()),series:{visible:o,rect:r,paddedRect:u},clipSeries:n})}updateAxes(t){const{clipSeries:i,seriesRect:s,overflows:n}=this.resolveAxesLayout(t);for(const r of this.axes)r.update(),r.setCrossLinesVisible(!n),this.clipAxis(r,s,t);return{clipSeries:i,seriesRect:s,visible:!n}}resolveAxesLayout(t){let i,s,n=0;const r=10;do if(s=i??this.getDefaultState(),i=this.updateAxesPass(new Map(s.axisAreaWidths),t.clone()),n++>r){Ne.warn("Max iterations reached. Unable to stabilize axes layout.");break}while(!this.isLayoutStable(i,s));return this.lastAreaWidths=i.axisAreaWidths,i}updateAxesPass(t,i){const s=new Map,n={};let r=!1,o=!1;for(const b of xae){const w=this.seriesArea.padding[b],M=this.axes.findLast(A=>A.position===b);M?M.seriesAreaPadding=w:i.shrink(w,b)}const a=(t.get("left")??0)+(t.get("right")??0),l=(t.get("top")??0)+(t.get("bottom")??0),u=this.buildCrossLinePadding(t);i.width<=a+u.hPadding||i.height<=l+u.vPadding?r=!0:i.shrink(u);const h=i.clone().shrink(Object.fromEntries(t));for(const b of this.axes){const{position:w="left",direction:M}=b;this.sizeAxis(b,h,w);const A=M==="y",{primaryTickCount:T,bbox:k}=b.calculateLayout(b.nice?n[M]:void 0);n[M]??(n[M]=T),o||(o=b.dataDomain.clipped||b.visibleRange[0]>0||b.visibleRange[1]<1),s.set(b.id,Math.ceil(b.thickness??(A?k==null?void 0:k.width:k==null?void 0:k.height)??0))}const f=Object.entries(eA(this.axes,b=>b.position??"left")),{width:g,height:m,pixelRatio:y}=this.ctx.scene,C=new Map,x=new Map;for(const[b,w]of f){let A=b==="left"||b==="right"?m%y:g%y,T=0;for(const k of w){x.set(k.id,A);const R=s.get(k.id)??0;T=Math.max(T,A+R),k.layoutConstraints.stacked&&(A+=R+G3.AxesPadding)}C.set(b,Math.ceil(T))}for(const[b,w]of f)this.positionAxes({axes:w,position:b,axisWidths:s,axisOffsets:x,axisAreaWidths:C,axisBound:i,seriesRect:h});return{clipSeries:o,seriesRect:h,axisAreaWidths:C,overflows:r}}buildCrossLinePadding(t){const i={top:0,right:0,bottom:0,left:0,hPadding:0,vPadding:0};this.axes.forEach(s=>{var n;(n=s.crossLines)==null||n.forEach(r=>{var o;(o=r.calculatePadding)==null||o.call(r,i)})});for(const[s,n=0]of Object.entries(i))i[s]=Math.max(n-(t.get(s)??0),0);return i.hPadding=i.left+i.right,i.vPadding=i.top+i.bottom,i}clampToOutsideSeriesRect(t,i,s,n){const r=s==="x"?t.x:t.y,o=s==="x"?t.width:t.height;return n===1?Math.min(i,r+o):Math.max(i,r)}getSyncedDomain(t){const i=this.modulesManager.getModule("sync");if(!(i!=null&&i.enabled))return;const s=i.getSyncedDomain(t);if(s&&t.dataDomain.domain.length){let n;const{domain:r}=t.scale;if(Vt.is(t.scale)){const[o,a]=Es(s);n=o!==r[0]||a!==r[1]}else n=!ea(s,r);n&&!this.skipSync&&i.updateSiblings()}return s}sizeAxis(t,i,s){const n=t instanceof mf,r=s==="left"||s==="right",{width:o,height:a}=i,l=r?a:o;let u=0,h=l,{min:f,max:g}=this.ctx.zoomManager.getAxisZoom(t.id);const{width:m,unit:y,align:C}=t.layoutConstraints;y==="px"?h=u+m:h=h*m/100,C==="end"&&(u=l-(h-u),h=l),r&&(n?[f,g]=[1-g,1-f]:[u,h]=[h,u]),t.range=[u,h],t.visibleRange=[f,g],t.gridLength=r?o:a}positionAxes(t){const{axes:i,axisBound:s,axisWidths:n,axisOffsets:r,axisAreaWidths:o,seriesRect:a,position:l}=t,u=o.get(l)??0;let h="x",f="y",g=1;(l==="top"||l==="bottom")&&(h="y",f="x");let m=s[h];(l==="right"||l==="bottom")&&(g=-1,m+=h==="x"?s.width:s.height);for(const y of i){const C=o.get(f==="x"?"left":"top")??0,x=n.get(y.id)??0,b=r.get(y.id)??0;y.gridPadding=u-b-x,y.translation[f]=s[f]+C,y.translation[h]=this.clampToOutsideSeriesRect(a,m+g*(b+x),h,g)}}shouldFlipXY(){return this.series.every(t=>t instanceof Pc&&t.shouldFlipXY())}getDefaultState(){const t=new Map;if(this.lastAreaWidths)for(const{position:i="left"}of this.axes){const s=this.lastAreaWidths.get(i);s!=null&&t.set(i,s)}return{axisAreaWidths:t,clipSeries:!1,overflows:!1}}isLayoutStable(t,i){if(i.overflows!==t.overflows||i.clipSeries!==t.clipSeries)return!1;for(const s of t.axisAreaWidths.keys())if(!i.axisAreaWidths.has(s))return!1;for(const[s,n]of i.axisAreaWidths.entries()){const r=t.axisAreaWidths.get(s);if((n!=null||r!=null)&&n!==r)return!1}return!0}clipAxis(t,i,s){var l,u;const n=Math.ceil(((l=t.gridLine)==null?void 0:l.width)??0),r=Math.ceil(((u=t.line)==null?void 0:u.width)??0);let{width:o,height:a}=i;switch(o+=t.direction==="x"?n:r,a+=t.direction==="y"?n:r,t.clipGrid(i.x,i.y,o,a),t.position){case"left":case"right":t.clipTickLines(s.x,i.y-n,s.width+n,i.height+n*2);break;case"top":case"bottom":t.clipTickLines(i.x-n,s.y,i.width+n*2,s.height+n);const{label:h,labelNodes:f,scale:g}=t;if(Vt.is(g)&&h.enabled&&h.avoidCollisions&&f.length>1){const m=f.toSorted((b,w)=>b.translationY-w.translationY),y=m.at(-1),C=y.getBBox(),x=i.x+C.y+C.height<=s.x+s.width+this.padding.right;if(y.visible=x,x||t.visibleRange[0]>0||t.visibleRange[1]<1)m[0].visible=!0;else{const b=m[0].getBBox();m[0].visible=b.y>=0}}break}}};Ix.className="CartesianChart";Ix.type="cartesian";Ix.AxesPadding=15;var bae=Ix,Sae={type:"chart",name:"cartesian",detect:XA,create(e,t){return new bae(e,t)}},S2=ti.create(!0,"opts"),gp=class{constructor(t,i,s){this.factoryApi=i,this.licenseManager=s,this.chart=t}async update(t){return S2.group("AgChartInstance.update()",async()=>{this.factoryApi.update(t,this),await this.chart.waitForUpdate()})}async updateDelta(t){return S2.group("AgChartInstance.updateDelta()",async()=>{this.factoryApi.updateUserDelta(this,t),await this.chart.waitForUpdate()})}getOptions(){const t=ns(this.chart.getOptions());for(const i of Object.keys(t))i.startsWith("_")&&delete t[i];return t}waitForUpdate(){return this.chart.waitForUpdate()}async download(t){const i=await this.prepareResizedChart(this,t);try{i.chart.download(t==null?void 0:t.fileName,t==null?void 0:t.fileFormat)}finally{i.destroy()}}async __toSVG(t){const i=await this.prepareResizedChart(this,{width:600,height:300,...t});try{return i.chart.toSVG()}finally{i.destroy()}}async getImageDataURL(t){const i=await this.prepareResizedChart(this,t);try{return i.chart.getCanvasDataURL(t==null?void 0:t.fileFormat)}finally{i.destroy()}}getState(){return this.factoryApi.caretaker.save(...this.getEnabledOriginators())}async setState(t){const i=this.getEnabledOriginators();if(!i.includes(this.chart.ctx.legendManager)){await this.setStateOriginators(t,i);return}await this.setStateOriginators(t,i.filter(s=>s!==this.chart.ctx.zoomManager)),await this.setStateOriginators(t,[this.chart.ctx.zoomManager])}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.releaseChart?(this.releaseChart(),this.releaseChart=void 0):this.chart&&(this.chart.publicApi=void 0,this.chart.destroy()),this.chart=null}async prepareResizedChart(t,i={}){var y,C;const{chart:s}=t,n=i.width??s.width??s.ctx.scene.canvas.width,r=i.height??s.height??s.ctx.scene.canvas.height,o=t.getState(),a=ia.hasEnterpriseModules(),l={...s.chartOptions.processedOverrides,container:document.createElement("div"),width:n,height:r};i.width!=null&&i.height!=null&&(l.overrideDevicePixelRatio=1);const u=s.getOptions();a&&(l.animation={enabled:!1},(y=this.licenseManager)!=null&&y.isDisplayWatermark()&&(l.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const h={...s.chartOptions.specialOverrides},f={...s.chartOptions.optionMetadata},g=this.factoryApi.create(u,l,h,f);await g.setState(o),g.chart.ctx.zoomManager.updateZoom("chartProxy",s.ctx.zoomManager.getZoom()),g.chart.ctx.legendManager.clearData(),g.chart.ctx.legendManager.update(s.ctx.legendManager.getData()),s.series.forEach((x,b)=>{x.visible||(g.chart.series[b].visible=!1)});const m=[];for(const x of s.modulesManager.legends())m.push(((C=x.legend.pagination)==null?void 0:C.currentPage)??0);for(const x of g.chart.modulesManager.legends()){const b=m.shift()??0;x.legend.pagination&&x.legend.pagination.setPage(b)}return g.chart.update(0,{forceNodeDataRefresh:!0}),await g.waitForUpdate(),g}getEnabledOriginators(){var u,h,f;const{chartOptions:{processedOptions:t,optionMetadata:i},ctx:{annotationManager:s,chartTypeOriginator:n,zoomManager:r,legendManager:o}}=this.chart,a=[];return"annotations"in t&&((u=t.annotations)!=null&&u.enabled)&&a.push(s),i.presetType==="price-volume"&&a.push(n),((h=t.navigator)!=null&&h.enabled||(f=t.zoom)!=null&&f.enabled)&&a.push(r),"legend"in this.chart&&a.push(o),a}async setStateOriginators(t,i){this.factoryApi.caretaker.restore(t,...i),this.chart.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),await this.chart.waitForUpdate()}};gp.chartInstances=new WeakMap;E([Yn({oldValue(e){e.destroyed||(e.publicApi=void 0),gp.chartInstances.delete(e)},newValue(e){e&&(e.publicApi=this,gp.chartInstances.set(e,this))}})],gp.prototype,"chart",2);var w2=gp,sE=class extends xx{constructor(e){super(),this.ctx=e,this.localeText=void 0}};E([Rc(e=>{e.ctx.localeManager.setLocaleText(e.localeText)}),L(N4,{optional:!0})],sE.prototype,"localeText",2);E([Rc(e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)}),L(In,{optional:!0})],sE.prototype,"getLocaleText",2);var wae={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new sE(e)},M2=class extends wm{getIndex(e){return super.getIndex(e)??this.getMatchIndex(e)}getMatchIndex(e){const t=JSON.stringify(e),i=this._domain.find(s=>JSON.stringify(s)===t);if(i!=null)return super.getIndex(i)}},Bg=new WeakMap;function vC(e,t){var s,n,r;const i=JSON.stringify(e,null,0);return Bg.has(t)||Bg.set(t,new Map),(s=Bg.get(t))!=null&&s.has(i)||(n=Bg.get(t))==null||n.set(i,t(e)),(r=Bg.get(t))==null?void 0:r.get(i)}function bn(e){const t=new Map,i=(...r)=>r.map(o=>typeof o=="object"||typeof o=="symbol"?o:(t.has(o)||t.set(o,{v:o}),t.get(o))),s={},n=new WeakMap;return(...r)=>{const o=r.length===0?[s]:i(...r);let a=n;for(const h of o.slice(0,-1))a.has(h)||a.set(h,new WeakMap),a=a.get(h);const l=o.at(-1);let u=a.get(l);return u||(u=e(...r),a.set(l,u)),u}}function Lx(e,t=[0,0]){for(const i of e)typeof i=="number"&&(i<0&&(t[0]+=i),i>0&&(t[1]+=i));return t}function Mae(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:s=>Lx(s)}}function z3(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:i=>Lx(i),groupAggregateFunction:(i,s=[0,0])=>(s[0]+=(i==null?void 0:i[0])??0,s[1]+=(i==null?void 0:i[1])??0,s),round:!0}}function Dae(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:s=>tc.extendDomain(s)}}function WM(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(t,i=[0,0])=>(i[0]+=(t==null?void 0:t[0])??0,i[1]+=(t==null?void 0:t[1])??0,i)}}function H3(e,t){return{id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:s=>Lx(s),groupAggregateFunction:(s,n=[0,0,-1])=>(n[0]+=(s==null?void 0:s[0])??0,n[1]+=(s==null?void 0:s[1])??0,n[2]++,n),finalFunction:(s=[0,0,0])=>{const n=s[0]+s[1];return n>=0?[0,n/s[2]]:[n/s[2],0]},round:!0}}function UM(e,t,i){const s={id:e,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:(n,r=[])=>{const o=r[1]-r[0];return t.aggregateFunction(n).map(a=>a/o)},round:!0};return t.groupAggregateFunction&&(s.groupAggregateFunction=t.groupAggregateFunction),s}function V3(e){return()=>{let t=0;return i=>It(i)?(t+=e?Math.max(0,i):i,t):i}}function W3(){return()=>{let e=0;return t=>{if(!It(t))return t;const i=e;return e+=t,i}}}function U3(e){return e!=null&&yx(e)}function Aae(e){return e!=null}function j3(e){switch(e){case"number":case"log":case"ordinal-time":case"time":case"color":return U3;default:return Aae}}function Y3(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function Ao(e,t,i={}){return{property:e,type:"key",valueType:Y3(t),validation:j3(t),...i}}function St(e,t,i={}){return{property:e,type:"value",valueType:Y3(t),validation:j3(t),...i}}function K3(e,t={}){return{property:e,type:"value",valueType:"range",missingValue:1,processor:()=>()=>1,...t}}function nE(e,t={}){const{min:i=-1/0,max:s=1/0,...n}=t;return{type:"value",property:e,valueType:"range",validation:U3,processor:()=>r=>It(r)?ft(i,r,s):r,...n}}function Kp(e,t,i={}){const{onlyPositive:s,...n}=i;return{...St(e,t,n),processor:V3(s)}}function Eae(e,t,i={}){return{...St(e,t,i),processor:W3()}}function mc(e,t,i,s,n){return[St(e,n,s),Q3(s.groupId,t,i,s.separateNegative),...s.rangeId!=null?[Dae(s.rangeId,s.groupId)]:[]]}function $3(e,t,i){return[St(e,t,i),J3(i.groupId)]}var X3={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,i)=>{const s=typeof i[0]=="number"?i[0]:Number(i[0]),n=Math.abs(s-e);return e=s,!isNaN(n)&&n>0&&n<t?n:t}}},Z3={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return(t=-1/0,i)=>{const s=typeof i[0]=="number"?i[0]:Number(i[0]),n=Math.abs(s-e);return e=s,!isNaN(n)&&n>0&&n>t?n:t}}},q3={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>e==null?void 0:e.slice().sort((t,i)=>{for(let s=0;s<t.length;s++){const n=t[s]-i[s];if(n!==0)return n}return 0})};function Tae({normaliseTo:e}){const t=(i,s)=>{if(s===0)return null;const n=(i??0)*e/s;return n>=0?Math.min(e,n):Math.max(-e,n)};return()=>()=>(i,s,n)=>{const r=Rae(i,s,n);for(const o of s)for(const a of n.datumIndices[o]){const l=i[o],u=l[a];if(u==null){l[a]=void 0;continue}l[a]=typeof u=="number"?t(u,r):u.map(h=>t(h,r))}}}function Rae(e,t,i){const s=[0,0];for(const n of t){const r=e[n];for(const o of i.datumIndices[n]){const a=r[o];if(a==null)continue;const l=typeof a=="number"?a:Math.max(...a.map(h=>h??0)),u=l<0?0:1;u===0?s[u]=Math.min(s[u],l):s[u]=Math.max(s[u],l)}}return Math.max(Math.abs(s[0]),s[1])}function Fx(e,t){return{type:"group-value-processor",matchGroupIds:e,adjust:vC({normaliseTo:t},Tae)}}function kae({normaliseTo:e,zeroDomain:t,rangeMin:i,rangeMax:s}){const n=e[1]-e[0],r=(o,a,l)=>{const u=e[0]+(o-a)/l*n;return l===0?t:u>=e[1]?e[1]:u<e[0]?e[0]:u};return()=>(o,a)=>{let[l,u]=o.domain.values[a];i!=null&&(l=i),s!=null&&(u=s);const h=u-l;o.domain.values[a]=[e[0],e[1]];const f=o.columns[a];for(let g=0;g<f.length;g+=1)f[g]=r(f[g],l,h)}}function Hu(e,t,i,s,n){return{type:"property-value-processor",property:e,adjust:vC({normaliseTo:t,rangeMin:s,rangeMax:n,zeroDomain:i},kae)}}var jM=1,YM=2,D2=(e,t,i,s)=>{var o,a;let n=jM|YM;if(t.valueType==="category")return i.length!==e&&(n&=-2),n;let r=(o=s[0])==null?void 0:o.valueOf();for(let l=1;n!==0&&l<s.length;l++){const u=(a=s[l])==null?void 0:a.valueOf();(!Number.isFinite(u)||r>u)&&(n&=-3),Number.isFinite(u)&&r===u&&(n&=-2),r=u}return n};function xf(e){return{type:"processor",property:"animationValidation",calculate(t){const{keys:i,values:s}=t.defs,{input:{count:n},domain:{keys:r,values:o},keys:a,columns:l}=t;let u=jM|YM;if(n!==0){for(let h=0;u!==0&&h<i.length;h++)for(const f of i[h].scopes)u&=D2(n,i[h],r[h],a[h].get(f));for(let h=0;u!==0&&h<s.length;h++){const f=s[h];e!=null&&e.includes(f.id)&&(u&=D2(n,f,o[h],l[h]))}}return{uniqueKeys:(u&jM)!==0,orderedKeys:(u&YM)!==0}}}}function Iae({mode:e,separateNegative:t}){return()=>()=>(i,s,n)=>{const r=[0,0];for(const o of s)for(const a of n.datumIndices[o]??[]){const l=i[o],u=l[a],h=ix(u)&&t?0:1;It(u)&&(e==="normal"&&(r[h]+=u),l[a]=r[h],e==="trailing"&&(r[h]+=u))}}}function Lae({mode:e,sum:t}){return()=>{const i=[];let s=!0;return()=>(n,r,o)=>{let a=0;for(const l of r){const u=n[l];for(const h of o.datumIndices[l]??[]){const f=u[h],g=s&&t==="current"?0:i[l];i[l]=f;const m=t==="current"?f:g;if(!It(f)||!It(g)){u[h]=a;continue}e==="normal"&&(a+=m),u[h]=a,e==="trailing"&&(a+=m)}}s=!1}}}function Q3(e,t,i,s=!1){let n;if(t.startsWith("window")){const r=t.endsWith("-trailing")?"trailing":"normal";n=vC({mode:r,sum:i},Lae)}else n=vC({mode:t,separateNegative:s},Iae);return{type:"group-value-processor",matchGroupIds:[e],adjust:n}}function Fae(){return()=>(e,t,i)=>{const s=new Float64Array(t.length);let n=0;for(const r of t){const o=e[r];for(const a of i.datumIndices[r]??[]){const l=o[a];s[n]=Number.isFinite(l)?l:NaN,n+=1,o[a]=s.subarray(0,n)}}}}function J3(e){return{type:"group-value-processor",matchGroupIds:[e],adjust:Fae}}function A2(e){return e.id??e.property}function Pae(e,t,i){var a,l;const s=new Map,n=t.defs.values;for(let u=0;u<n.length;u+=1){const h=n[u];if(((a=h.scopes)==null?void 0:a.includes(e))===!1)continue;const f=A2(h);if(s.has(f))return;s.set(f,u)}const r=[],o=i.defs.values;for(let u=0;u<o.length;u+=1){const h=o[u];if(((l=h.scopes)==null?void 0:l.includes(e))===!1)continue;const f=A2(h),g=s.get(f);if(g==null)return;s.delete(f),r.push({previousIndex:g,nextIndex:u})}if(s.size===0)return r}function p1(e,t,i,s,n){for(const{previousIndex:r,nextIndex:o}of i){const a=e[r],l=t[o],u=a[s],h=l[n];if(u!==h)return!1}return!0}function bf(e,t,i=!0){return{type:"processor",property:"diff",calculate(s,n){const r=new Map,o=new Map,a=new Map,l=new Map,u=t.keys,h=s.keys,f=t.columns,g=s.columns,m=Pae(e,t,s);if(m==null)return n;const y=Math.max(t.input.count,s.input.count);for(let b=0;b<y;b++){const w=b<t.input.count,M=b<s.input.count,A=w?fC(u,e,b):void 0,T=A!=null?Xi(A):"",k=M?fC(h,e,b):void 0,R=k!=null?Xi(k):"";if(M&&w&&T===R){p1(f,g,m,b,b)||a.set(R,b);continue}const F=l.get(R);F!=null?((i||!p1(f,g,m,F,b))&&(a.set(R,b),r.set(R,b)),l.delete(R)):M&&o.set(R,b);const I=o.get(T);I!=null?((i||!p1(f,g,m,I,b))&&(a.set(T,b),r.set(T,b)),o.delete(T)):w&&(a.delete(T),l.set(T,b))}const x={changed:o.size>0||a.size>0||l.size>0,added:new Set(o.keys()),updated:new Set(a.keys()),removed:new Set(l.keys()),moved:new Set(r.keys())};return{...n,[e]:x}}}}function Xi(e,...t){let i;return ai(e)?i=e.map(n=>IM(n)).join("___"):i=IM(e),(typeof i=="string"||typeof i=="number"||typeof i=="boolean"||i instanceof Date)&&t.length>0&&(i+=`___${t.join("___")}`),i}var Oae=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){e>this.right&&(this.right=e),e<this.left&&(this.left=e),t>this.bottom&&(this.bottom=t),t<this.top&&(this.top=t)}},Nae=class eG{constructor(t="",i,s){this.label=t,this.parent=i,this.refId=s,this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.index=0,this.screenX=0,this.depth=i?i.depth+1:0}insertTick(t,i){let s=this;for(let n=0;n<t.length;n++){const r=t[n],o=n!==t.length-1,{children:a}=s,l=a.find(u=>u.label===r);if(l&&o)s=l;else{const u=new eG(r,s,i);u.index=a.length,a.push(u),o&&(s=u)}}}getLeftSibling(){var t;return this.index>0?(t=this.parent)==null?void 0:t.children[this.index-1]:void 0}getLeftmostSibling(){var t;return this.index>0?(t=this.parent)==null?void 0:t.children[0]:void 0}nextLeft(){return this.children[0]}nextRight(){return this.children.at(-1)}getSiblings(){var t;return((t=this.parent)==null?void 0:t.children.filter((i,s)=>s!==this.index))??[]}};function _ae(e){const t=e.reduce((s,n)=>s<n.length?n.length:s,0),i=new Nae;for(let s=0;s<e.length;s++){const n=e[s];for(;n.length<t;)n.push("");i.insertTick(n,s)}return i}function Bae(e,t,i){const s=t.index-e.index,n=i/s;t.change-=n,t.shift+=i,e.change+=n,t.prelim+=i,t.mod+=i}function Gae(e,t,i){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:i}function zae({children:e}){let t=0,i=0;for(let s=e.length-1;s>=0;s--){const n=e[s];n.prelim+=t,n.mod+=t,i+=n.change,t+=n.shift+i}}function Hae(e,t){const i=e.getLeftSibling();if(i){let s=e,n=e,r=i,o=n.getLeftmostSibling(),a=n.mod,l=s.mod,u=r.mod,h=o.mod;for(;r.nextRight()&&n.nextLeft();){r=r.nextRight(),n=n.nextLeft(),o=o.nextLeft(),s=s.nextRight(),s.ancestor=e;const f=r.prelim+u-(n.prelim+a)+1;f>0&&(Bae(Gae(r,e,t),e,f),a+=f,l+=f),u+=r.mod,a+=n.mod,h+=o.mod,l+=s.mod}r.nextRight()&&!s.nextRight()?s.mod+=u-l:(n.nextLeft()&&!o.nextLeft()&&(o.mod+=a-h),t=e)}return t}function tG(e){const{children:t}=e;if(t.length){let[i]=t;for(const r of t)tG(r),i=Hae(r,i);zae(e);const s=(t[0].prelim+t.at(-1).prelim)/2,n=e.getLeftSibling();n?(e.prelim=n.prelim+1,e.mod=e.prelim-s):e.prelim=s}else{const i=e.getLeftSibling();e.prelim=i?i.prelim+1:0}}function iG(e,t,i){e.x=e.prelim+t,e.y=e.depth,i.insertNode(e);for(const s of e.children)iG(s,t+e.mod,i)}function sG(e){const{children:t}=e;let i=0;for(const s of t)sG(s),s.children.length?i+=s.leafCount:i++;e.leafCount=i,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[t.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function Vae(e){const t=new Wae,i=_ae(e);return tG(i),iG(i,-i.prelim,t),sG(i),t}var Wae=class{constructor(){this.dimensions=new Oae,this.nodes=[],this.depth=0}insertNode(e){this.depth<e.depth&&(this.depth=e.depth),this.dimensions.update(e.x,e.y),this.nodes.push(e)}scalingX(e,t){let i=1;if(e>0){const{left:s,right:n}=this.dimensions;i=e/(n-s)}return t&&(i*=-1),i}},Ml=class extends ut{constructor(){super(...arguments),this.enabled=!0}};E([L(et)],Ml.prototype,"enabled",2);E([L(et,{optional:!0})],Ml.prototype,"avoidCollisions",2);E([L(Bt,{optional:!0})],Ml.prototype,"color",2);E([L(Ve,{optional:!0})],Ml.prototype,"spacing",2);E([L(pl,{optional:!0})],Ml.prototype,"fontStyle",2);E([L(ml,{optional:!0})],Ml.prototype,"fontWeight",2);E([L(Tt.restrict({min:1}),{optional:!0})],Ml.prototype,"fontSize",2);E([L(Fe,{optional:!0})],Ml.prototype,"fontFamily",2);var Px=class extends ut{constructor(){super(...arguments),this.enabled=!0}};E([L(et)],Px.prototype,"enabled",2);E([L(Ve,{optional:!0})],Px.prototype,"width",2);E([L(Bt,{optional:!0})],Px.prototype,"stroke",2);var rE=class extends ut{constructor(){super(...arguments),this.label=new Ml,this.tick=new Px}};E([L($e)],rE.prototype,"label",2);E([L($e)],rE.prototype,"tick",2);var Sf=class extends mf{constructor(e){super(e,new M2),this.tickScale=new M2,this.depthOptions=new Mm(rE),this.includeInvisibleDomains=!0,this.tickScale.paddingInner=1,this.tickScale.paddingOuter=0}resizeTickTree(){if(!this.tickTreeLayout)return;const{nodes:e}=this.tickTreeLayout,{range:t,step:i,inset:s,bandwidth:n}=this.scale,r=Math.abs(t[1]-t[0])-i,o=this.tickTreeLayout.scalingX(r,t[0]>t[1]),a=s+n/2;let l=0;for(const u of e){const h=u.x*o;l>h&&(l=h),u.screenX=h+a}for(const u of e)u.screenX-=l}getDepthOptionsMap(e){var n,r,o,a;const t=[],{depthOptions:i,label:s}=this;for(let l=0;l<e;l++)t.push(((n=i[l])==null?void 0:n.label.enabled)??s.enabled?{enabled:!0,spacing:((r=i[l])==null?void 0:r.label.spacing)??s.spacing,lineHeight:bi.getLineHeight(((o=i[l])==null?void 0:o.label.fontSize)??s.fontSize??10),avoidCollisions:((a=i[l])==null?void 0:a.label.avoidCollisions)??s.avoidCollisions}:{enabled:!1,spacing:0,lineHeight:0,avoidCollisions:!1});return t}updateCategoryLabels(){this.computedLayout&&this.tickLabelGroupSelection.update(this.computedLayout.tickLabelLayout).each((e,t)=>e.setProperties(t))}updateAxisLine(){this.computedLayout&&(this.lineNode.visible=this.line.enabled,this.lineNode.stroke=this.line.stroke,this.lineNode.strokeWidth=this.line.width)}computeLayout(){var ae;if(this.updateDirection(),this.updateScale(),this.resizeTickTree(),!((ae=this.tickTreeLayout)!=null&&ae.depth))return{bbox:Ze.zero,separatorLayout:[],tickLabelLayout:[]};const{step:e}=this.scale,{title:t,label:i,range:s,depthOptions:n}=this,{depth:r,nodes:o}=this.tickTreeLayout,a=Math.ceil(i.fontSize/e),l=os(this.rotation),u=this.position==="top"||this.position==="bottom",h=i.getSideFlag(),f=[],g=new Map,m=new Qd,{defaultRotation:y,configuredRotation:C}=oC({rotation:i.rotation,parallel:i.parallel,regularFlipRotation:ri(l-Math.PI/2),parallelFlipRotation:ri(l)}),x=y+C,b=this.getDepthOptionsMap(r),w=(se,le)=>{var ee,O;const re=r-se.depth;if(!((ee=b[re])!=null&&ee.enabled)||le%a!==0||!h4(se.screenX,s))return!1;const J=this.formatTick(se.label,le-1),z=this.getLabelStyles({value:J,depth:re},(O=n[re])==null?void 0:O.label);return m.setProperties({...z,text:J,textAlign:"center",textBaseline:i.parallel?"hanging":"bottom",rotation:0,translationX:0,translationY:se.screenX}),!0};let M=0;const A={};o.forEach((se,le)=>{const re=r-se.depth,J=Ote(se.label);if(A[re]??(A[re]=1),A[re]<J&&(A[re]=J),!(!w(se,le)||!m.getBBox())&&(g.set(le,m.getBBox()),!se.leafCount)){m.rotation=x;const{width:ee}=m.getBBox();M<ee&&(M=ee)}});const T=IA(),k=h*b[0].spacing,R=new Map,F=se=>{let le=M;for(let re=1;re<=se;re++)le+=b[re].spacing,(i.mirrored||re!==se)&&(le+=A[re]*b[re].lineHeight);return le};o.forEach((se,le)=>{var O;if(le===0)return;const re=w(se,le),J=!se.children.length,z=r-se.depth;if(se.parent){const j=J?se.x:se.x-(se.leafCount-1)/2;if(!R.has(j)){const H=(O=this.depthOptions[z])==null?void 0:O.tick;let K=M;for(let ne=0;ne<=z;ne++)K+=b[ne].spacing,ne!==0&&(K+=A[ne]*b[ne].lineHeight);R.set(j,{tickSize:K,tickStroke:H==null?void 0:H.stroke,tickWidth:(H==null?void 0:H.enabled)!==!1?H==null?void 0:H.width:0})}}if(!re)return;if(m.x=k,m.y=0,J){const{width:j}=g.get(le),H=X4(x);m.rotation=x,m.textAlign="end",m.textBaseline="middle",m.rotationCenterX=k-j/2,m.translationX=(b[z].spacing-j)/2*H*h,i.mirrored&&(m.translationX+=j)}else m.rotation=u?y:-Math.PI/2,m.rotationCenterX=k,m.translationX=h*F(z);if(b[z].avoidCollisions){const j=J?e:se.leafCount*e;if(m.getBBox().height>j){g.delete(le);return}}const{text:ee=""}=m;f.push({text:ee,visible:!0,range:this.scale.range,tickId:T(ee),fill:m.fill,fontFamily:m.fontFamily,fontSize:m.fontSize,fontStyle:m.fontStyle,fontWeight:m.fontWeight,rotation:m.rotation,rotationCenterX:m.rotationCenterX,textAlign:m.textAlign,textBaseline:m.textBaseline,translationX:m.translationX,translationY:m.translationY,x:m.x,y:m.y}),g.set(le,Li.toCanvas(m))});const{enabled:I,stroke:N,width:G}=this.line;this.lineNode.datum={x:0,y1:s[0],y2:s[1]},this.lineNode.setProperties({stroke:N,strokeWidth:I?G:0});const V=[...R.values()];V.push(V[0]);const Q=[this.lineNode.getBBox(),new Ze(0,0,V[0].tickSize*h,0)];t.enabled&&(this.updateTitle(!1,V[0].tickSize),Q.push(t.caption.node.getBBox()));const pe=Ze.merge(Eu(g.values(),Q));return{bbox:this.getTransformBox(pe),separatorLayout:V,tickLabelLayout:f}}update(){if(!this.computedLayout)return;const{tickScale:e,gridLine:t,gridLength:i}=this,{separatorLayout:s}=this.computedLayout,n=e.ticks({nice:!1,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}).map((r,o)=>({...s[o],tick:r,tickId:Xi(r,o),tickLabel:r.filter(Boolean).join(" - "),translationY:Math.round(e.convert(r))}));this.gridLineGroupSelection.update(t.enabled&&i?n:[]),this.tickLineGroupSelection.update(this.tick.enabled?n:[]),this.updatePosition(),this.updateCategoryLabels(),this.updateAxisLine(),this.updateGridLines(),this.updateTickLines(),this.updateTitle(),this.resetSelectionNodes()}calculateLayout(){const{separatorLayout:e,tickLabelLayout:t,bbox:i}=this.computeLayout();return this.computedLayout={separatorLayout:e,tickLabelLayout:t},{bbox:i,primaryTickCount:void 0,niceDomain:this.scale.domain}}onGridVisibilityChange(){this.gridLineGroupSelection.clear(),this.tickLabelGroupSelection.clear()}updateScale(){super.updateScale(),this.tickScale.range=this.scale.range,this.scale.paddingOuter=this.scale.paddingInner/2}processData(){const{direction:e}=this,t=this.boundSeries.filter(n=>n.visible).flatMap(n=>n.getDomain(e));this.dataDomain={domain:bl(t)??this.filterDuplicateArrays(t),clipped:!1},this.isReversed()&&this.dataDomain.domain.reverse();const i=this.dataDomain.domain.map(n=>Jv(Ds(n)&&"value"in n?n.value:n));this.tickTreeLayout=Vae(i);const s=[];for(const n of this.tickTreeLayout.nodes)n.leafCount||n.refId==null||s.push(this.dataDomain.domain[n.refId]);return this.scale.domain=kte(this.dataDomain.domain,s),this.tickScale.domain=i.concat([[""]]),{animatable:!0}}updateGridLines(){if(!this.gridLength)return;const{width:e,style:t}=this.gridLine,i=this.gridLength*-this.label.getSideFlag();this.gridLineGroupSelection.each((s,n,r)=>{const{stroke:o,lineDash:a}=t[r%t.length],l=n.translationY;s.visible=this.inRange(l),s.x1=0,s.x2=i,s.y=l,s.stroke=o,s.strokeWidth=e,s.lineDash=a})}filterDuplicateArrays(e){const t=new Set;return e.filter(i=>{const s=ai(i)?JSON.stringify(i):i;return t.has(s)?!1:(t.add(s),!0)})}};Sf.className="GroupedCategoryAxis";Sf.type="grouped-category";E([L(uA)],Sf.prototype,"depthOptions",2);var nG=jt(e=>Hr(e)&&e!==0,"a non-zero number"),yh=class extends Fc{constructor(e){super(e,new QA),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:s,clipped:n}=JA(e,t,i);return s[0]<0&&s[1]>0||e[0]<0&&e[1]>0?(Ne.warn("The log axis domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:n}):s[0]===0||s[1]===0||e[0]===0||e[1]===0?(Ne.warn("The log axis domain contains a value of 0, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:n}):{domain:s,clipped:n}}set base(e){this.scale.base=e}get base(){return this.scale.base}defaultDatumFormatter(e,t){return String(e)}defaultLabelFormatter(e,t){return String(e)}};yh.className="LogAxis";yh.type="log";E([L(ua(df,nG,Am("max"))),kc(NaN)],yh.prototype,"min",2);E([L(ua(df,nG,Em("min"))),kc(NaN)],yh.prototype,"max",2);var Kg=(e,{x0:t,y0:i,x1:s,y1:n,cx:r,cy:o},a,l)=>{if(l&&e.moveTo(t,i),t!==s||i!==n){const u=Math.atan2(i-o,t-r),h=Math.atan2(n-o,s-r);e.arc(r,o,a,u,h)}else e.lineTo(t,i)},E2=1e-6,Hy=(e,t,i,s,n)=>{let r=!1,o=!1,a=s-Math.sqrt(Math.max(n**2-i**2,0)),l=0,u=0,h=i-Math.sqrt(Math.max(n**2-s**2,0));return a>e?(r=!0,a=e,l=i-Math.sqrt(Math.max(n**2-(s-e)**2))):a<E2&&(a=0),h>t?(o=!0,u=s-Math.sqrt(Math.max(n**2-(i-t)**2)),h=t):h<E2&&(h=0),{leading0:a,leading1:l,trailing0:u,trailing1:h,leadingClipped:r,trailingClipped:o}},vv=(e,t,i,s,n,r,o)=>{let{topLeft:a,topRight:l,bottomRight:u,bottomLeft:h}=r;const f=Math.max(a+h,l+u),g=Math.max(a+l,h+u);if(f<=0&&g<=0){o==null?e.rect(t,i,s,n):e.rect(o.x,o.y,o.width,o.height);return}else if(o==null&&a===l&&a===u&&a===h){e.roundRect(t,i,s,n,a);return}if(s<0&&(t+=s,s=Math.abs(s)),n<0&&(i+=n,n=Math.abs(n)),s<=0||n<=0)return;if(o==null)o=new Ze(t,i,s,n);else{const R=Math.max(t,o.x),F=Math.min(t+s,o.x+o.width),I=Math.max(i,o.y),N=Math.min(i+n,o.y+o.height);o=new Ze(R,I,F-R,N-I)}const m=Math.max(f/n,g/s,1);m>1&&(a/=m,l/=m,u/=m,h/=m);let y=!0,C=!0,x=!0,b=!0,w,M,A,T;if(y){const R=Hy(o.height,o.width,Math.max(t+a-o.x,0),Math.max(i+a-o.y,0),a);R.leadingClipped&&(b=!1),R.trailingClipped&&(C=!1);const F=Math.max(o.x+R.leading1,o.x),I=Math.max(o.y+R.leading0,o.y),N=Math.max(o.x+R.trailing1,o.x),G=Math.max(o.y+R.trailing0,o.y),V=t+a,Q=i+a;w={x0:F,y0:I,x1:N,y1:G,cx:V,cy:Q}}if(C){const R=Hy(o.width,o.height,Math.max(i+l-o.y,0),Math.max(o.x+o.width-(t+s-l),0),l);R.leadingClipped&&(y=!1),R.trailingClipped&&(x=!1);const F=Math.min(o.x+o.width-R.leading0,o.x+o.width),I=Math.max(o.y+R.leading1,o.y),N=Math.min(o.x+o.width-R.trailing0,o.x+o.width),G=Math.max(o.y+R.trailing1,o.y),V=t+s-l,Q=i+l;M={x0:F,y0:I,x1:N,y1:G,cx:V,cy:Q}}if(x){const R=Hy(o.height,o.width,Math.max(o.x+o.width-(t+s-u),0),Math.max(o.y+o.height-(i+n-u),0),u);R.leadingClipped&&(C=!1),R.trailingClipped&&(b=!1);const F=Math.min(o.x+o.width-R.leading1,o.x+o.width),I=Math.min(o.y+o.height-R.leading0,o.y+o.height),N=Math.min(o.x+o.width-R.trailing1,o.x+o.width),G=Math.min(o.y+o.height-R.trailing0,o.y+o.height),V=t+s-u,Q=i+n-u;A={x0:F,y0:I,x1:N,y1:G,cx:V,cy:Q}}if(b){const R=Hy(o.width,o.height,Math.max(o.y+o.height-(i+n-h),0),Math.max(t+h-o.x,0),h);R.leadingClipped&&(x=!1),R.trailingClipped&&(y=!1);const F=Math.max(o.x+R.leading0,o.x),I=Math.min(o.y+o.height-R.leading1,o.y+o.height),N=Math.max(o.x+R.trailing0,o.x),G=Math.min(o.y+o.height-R.trailing1,o.y+o.height),V=t+h,Q=i+n-h;T={x0:F,y0:I,x1:N,y1:G,cx:V,cy:Q}}let k=!1;y&&w!=null&&(Kg(e,w,a,!k),k||(k=!0)),C&&M!=null&&(Kg(e,M,l,!k),k||(k=!0)),x&&A!=null&&(Kg(e,A,u,!k),k||(k=!0)),b&&T!=null&&Kg(e,T,h,!k),e.closePath()},on=class extends Fn{constructor(){super(...arguments),this.borderPath=new Yp,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=Xr.defaultStyles.strokeWidth,this.effectiveStrokeWidth=Xr.defaultStyles.strokeWidth,this.hittester=super.isPointInPath.bind(this),this.distanceCalculator=super.distanceSquaredTransformedPoint.bind(this),this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var x;const{path:e,borderPath:t,crisp:i,topLeftCornerRadius:s,topRightCornerRadius:n,bottomRightCornerRadius:r,bottomLeftCornerRadius:o}=this;let{x:a,y:l,width:u,height:h,strokeWidth:f,clipBBox:g}=this;const y=1/(((x=this.layerManager)==null?void 0:x.canvas.pixelRatio)??1);let C=1;if(e.clear(!0),t.clear(!0),i&&(u<=y&&(C*=u/y),h<=y&&(C*=h/y),u=this.align(a,u),h=this.align(l,h),a=this.align(a),l=this.align(l),g=g!=null?new Ze(this.align(g.x),this.align(g.y),this.align(g.x,g.width),this.align(g.y,g.height)):void 0),f)if(u<y){const b=a+y/2;t.moveTo(b,l),t.lineTo(b,l+h),f=y,this.borderClipPath=void 0}else if(h<y){const b=l+y/2;t.moveTo(a,b),t.lineTo(a+u,b),f=y,this.borderClipPath=void 0}else if(f<u&&f<h){const b=f/2;a+=b,l+=b,u-=f,h-=f;const w=g==null?void 0:g.clone().shrink(b),M={topLeft:s>0?s-f:0,topRight:n>0?n-f:0,bottomRight:r>0?r-f:0,bottomLeft:o>0?o-f:0};this.borderClipPath=void 0,u>0&&h>0&&(w==null||(w==null?void 0:w.width)>0&&(w==null?void 0:w.height)>0)&&(vv(e,a,l,u,h,M,w),vv(t,a,l,u,h,M,w))}else this.borderClipPath=this.borderClipPath??new Yp,this.borderClipPath.clear(!0),this.borderClipPath.rect(a,l,u,h),t.rect(a,l,u,h);else{const b={topLeft:s,topRight:n,bottomRight:r,bottomLeft:o};this.borderClipPath=void 0,vv(e,a,l,u,h,b,g)}if([s,n,r,o].every(b=>b===0)){const b=this.getBBox();this.hittester=b.containsPoint.bind(b),this.distanceSquared=(w,M)=>this.getBBox().distanceSquared(w,M)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=f,this.lastUpdatePathStrokeWidth=f,this.microPixelEffectOpacity=C}computeBBox(){const{x:e,y:t,width:i,height:s,clipBBox:n}=this;return(n==null?void 0:n.clone())??new Ze(e,t,i,s)}isPointInPath(e,t){return this.hittester(e,t)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,t){return this.distanceCalculator(e,t)}applyFillAlpha(e){const{fillOpacity:t,microPixelEffectOpacity:i,opacity:s}=this;e.globalAlpha*=s*t*i}renderStroke(e){const{stroke:t,effectiveStrokeWidth:i}=this;if(t&&i){const{globalAlpha:s}=e,{strokeOpacity:n,lineDash:r,lineDashOffset:o,lineCap:a,lineJoin:l,borderPath:u,borderClipPath:h,opacity:f,microPixelEffectOpacity:g}=this;h&&e.clip(h.getPath2D()),this.applyStroke(e),e.globalAlpha*=f*n*g,e.lineWidth=i,r&&e.setLineDash(r),o&&(e.lineDashOffset=o),a&&(e.lineCap=a),l&&(e.lineJoin=l),e.stroke(u.getPath2D()),e.globalAlpha=s}}};on.className="Rect";E([lt()],on.prototype,"x",2);E([lt()],on.prototype,"y",2);E([lt()],on.prototype,"width",2);E([lt()],on.prototype,"height",2);E([lt()],on.prototype,"topLeftCornerRadius",2);E([lt()],on.prototype,"topRightCornerRadius",2);E([lt()],on.prototype,"bottomRightCornerRadius",2);E([lt()],on.prototype,"bottomLeftCornerRadius",2);E([lt()],on.prototype,"clipBBox",2);E([lt()],on.prototype,"crisp",2);var wf=class extends xx{constructor(e){super(),this.ctx=e,this.rectNode=new on,this.textNode=new gs,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(e.scene.attachNode(this.node),e.layoutManager.addListener("layout:complete",t=>this.onLayoutComplete(t)))}createNode(){return new ot({name:"background",zIndex:0})}onLayoutComplete(e){const{width:t,height:i}=e.chart;this.rectNode.width=t,this.rectNode.height=i}};E([L(et),Ts("node","visible")],wf.prototype,"visible",2);E([L(Bt,{optional:!0}),Ts("rectNode","fill")],wf.prototype,"fill",2);E([L($e,{optional:!0})],wf.prototype,"image",2);E([L(Fe,{optional:!0}),Ts("textNode")],wf.prototype,"text",2);var rG={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new wf(e)};function Uae({orientation:e,bboxes:t,maxHeight:i,maxWidth:s,itemPaddingY:n=0,itemPaddingX:r=0,forceResult:o=!1}){const a=e==="horizontal",l={max:a?s:i,fn:a?g=>g.width:g=>g.height,padding:a?r:n},u={max:a?i:s,fn:a?g=>g.height:g=>g.width,padding:a?n:r};let h=0;const f=[];for(;h<t.length;){const g=t.slice(h),m=jae(g,h,l,u,o);if(!m)return;h+=m.processedBBoxCount,f.push(m.pageIndices)}return Kae(f,e,t,n,r)}function jae(e,t,i,s,n){let o=Xae(e,i);if(o<1){if(!n)return;o=1}let a=o;for(;a>=1;){const l=Yae(e,t,a,i,s,n);if(l==null&&a<=1)return;if(l==null){a--;continue}if(typeof l=="number"){if(l<=1)return;a=l<a&&l>1?l:a,a--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function Yae(e,t,i,s,n,r){const o=[];let a=0,l=0,u=[];const h=[];for(let f=0;f<e.length;f++){const g=(f+i)%i;g===0&&(a+=l,l=0,u.length>0&&o.push(u),u=[]);const m=s.fn(e[f])+s.padding;h[g]=Math.max(h[g]??0,m),l=Math.max(l,n.fn(e[f])+n.padding);const y=a+l,C=!r||o.length>0;if(y>n.max&&C){u=[];break}if(h.reduce((b,w)=>b+w,0)>s.max&&!r)return h.length<i?h.length:void 0;u.push(f+t)}return u.length>0&&o.push(u),o.length>0?o:void 0}function Kae(e,t,i,s,n){let r=0,o=0;return{pages:e.map(l=>{t==="horizontal"&&(l=$ae(l));let u=0;const h=l.map(m=>{const y=m.map(b=>(u=Math.max(b,u),i[b]));let C=0,x=0;return y.forEach(b=>{C+=b.height+s,x=Math.max(x,b.width+n)}),{indices:m,bboxes:y,columnHeight:Math.ceil(C),columnWidth:Math.ceil(x)}});let f=0,g=0;return h.forEach(m=>{f+=m.columnWidth,g=Math.max(g,m.columnHeight)}),r=Math.max(f,r),o=Math.max(g,o),{columns:h,startIndex:l[0][0],endIndex:u,pageWidth:f,pageHeight:g}}),maxPageWidth:r,maxPageHeight:o}}function $ae(e){const t=[];for(const i of e[0])t.push([]);return e.forEach((i,s)=>{i.forEach((n,r)=>{t[r][s]=n})}),t}function Xae(e,t){const i=e.length;let s=0;for(let n=0;n<i;n++)if(s+=t.fn(e[n])+t.padding,s>t.max)return i/n<2?Math.ceil(i/2):n;return i}var Mf=class extends ut{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};E([L(Bt)],Mf.prototype,"color",2);E([L(pl,{optional:!0})],Mf.prototype,"fontStyle",2);E([L(ml,{optional:!0})],Mf.prototype,"fontWeight",2);E([L(Ve)],Mf.prototype,"fontSize",2);E([L(Fe)],Mf.prototype,"fontFamily",2);var Qa=class extends ut{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};E([L(Ve)],Qa.prototype,"size",2);E([L(Bt,{optional:!0})],Qa.prototype,"fill",2);E([L(Wt,{optional:!0})],Qa.prototype,"fillOpacity",2);E([L(Bt,{optional:!0})],Qa.prototype,"stroke",2);E([L(Ve)],Qa.prototype,"strokeWidth",2);E([L(Wt)],Qa.prototype,"strokeOpacity",2);var Ox=class extends ut{constructor(e){super(),this.parent=e,this.shape="triangle",this.size=15,this.padding=8}};E([Yn({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],Ox.prototype,"shape",2);E([L(Ve)],Ox.prototype,"size",2);E([L(Ve)],Ox.prototype,"padding",2);var vh=class extends ut{constructor(e,t){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.id=Qr(this),this.marker=new Ox(this),this.activeStyle=new Qa,this.inactiveStyle=new Qa,this.highlightStyle=new Qa,this.label=new Mf,this.group=new En({name:"pagination"}),this.labelNode=new gs,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this.nextButton=new ms,this.previousButton=new ms,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){switch(this._orientation=e,e){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){const e=this.labelNode.getBBox();this.nextButton.translationX=e.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){const{currentPage:e,totalPages:t,labelNode:i,label:{color:s,fontStyle:n,fontWeight:r,fontSize:o,fontFamily:a}}=this;i.text=`${e+1} / ${t}`,i.fill=s,i.fontStyle=n,i.fontWeight=r,i.fontSize=o,i.fontFamily=a}updateMarkers(){const{nextButton:e,previousButton:t,nextButtonDisabled:i,previousButtonDisabled:s,activeStyle:n,inactiveStyle:r,highlightStyle:o,highlightActive:a}=this,l=(u,h)=>h?r:u===a?o:n;this.updateMarker(e,l("next",i)),this.updateMarker(t,l("previous",s))}updateMarker(e,t){const{shape:i,size:s}=this.marker;e.shape=i,e.size=s,e.fill=t.fill,e.fillOpacity=t.fillOpacity??1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:t}=this,i=t===0,s=e===t-1,n=e===0;this.nextButtonDisabled=s||i,this.previousButtonDisabled=n||i}setPage(e){e=ft(0,e,Math.max(0,this.totalPages-1)),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}getCursor(e){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[e]?void 0:"pointer"}onClick(e,t){e.preventDefault(),t==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):t==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(e){this.highlightActive=e,this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(e){e.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){const e=Li.toCanvas(this.previousButton),t=Li.toCanvas(this.nextButton);return{prev:e,next:t}}};vh.className="Pagination";E([L($e)],vh.prototype,"marker",2);E([L($e)],vh.prototype,"activeStyle",2);E([L($e)],vh.prototype,"inactiveStyle",2);E([L($e)],vh.prototype,"highlightStyle",2);E([L($e)],vh.prototype,"label",2);var oE=class extends ut{constructor(){super(...arguments),this._dirty=!0}markDirty(){this._dirty=!0}markClean(e){this._dirty=!1}isDirty(){return this._dirty}},Zae=new Set(["circle","cross","diamond","heart","pin","plus","square","star","triangle"]);function qae(e){return typeof e=="string"&&Zae.has(e)}var aE=jt(e=>qae(e)||typeof e=="function","a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),an=class extends oE{constructor(){super(...arguments),this.enabled=!0,this.shape="circle",this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){const{size:e,shape:t,fill:i,fillOpacity:s,stroke:n,strokeWidth:r,strokeOpacity:o,lineDash:a,lineDashOffset:l}=this;return{size:e,shape:t,fill:i,fillOpacity:s,stroke:n,strokeWidth:r,strokeOpacity:o,lineDash:a,lineDashOffset:l}}getDiameter(){return this.size+this.strokeWidth}};E([L(et),Xe()],an.prototype,"enabled",2);E([L(aE),Xe()],an.prototype,"shape",2);E([L(Ve),Xe()],an.prototype,"size",2);E([L(Bt,{optional:!0}),Xe()],an.prototype,"fill",2);E([L(Wt),Xe()],an.prototype,"fillOpacity",2);E([L(Bt,{optional:!0}),Xe()],an.prototype,"stroke",2);E([L(Ve),Xe()],an.prototype,"strokeWidth",2);E([L(Wt),Xe()],an.prototype,"strokeOpacity",2);E([L(ha)],an.prototype,"lineDash",2);E([L(Ve)],an.prototype,"lineDashOffset",2);E([L(In,{optional:!0}),Xe()],an.prototype,"itemStyler",2);function $p(e,t,i){e.fill=(i==null?void 0:i.fill)??t.fill,e.fillOpacity=(i==null?void 0:i.fillOpacity)??t.fillOpacity??1,e.stroke=(i==null?void 0:i.stroke)??t.stroke,e.strokeOpacity=(i==null?void 0:i.strokeOpacity)??t.strokeOpacity??1,e.strokeWidth=(i==null?void 0:i.strokeWidth)??t.strokeWidth??0,e.lineDash=(i==null?void 0:i.lineDash)??t.lineDash,e.lineDashOffset=(i==null?void 0:i.lineDashOffset)??t.lineDashOffset??0}var Qae=class{constructor(e,t){this.idPrefix=t,this.dirty=!0,this.destroyFns=new UB,this.itemList=e.proxyInteractionService.createProxyContainer({type:"list",domManagerId:`${t}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"}}),this.paginationGroup=e.proxyInteractionService.createProxyContainer({type:"group",domManagerId:`${t}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal"}),this.itemDescription=Mt("p"),this.itemDescription.style.display="none",this.itemDescription.id=`${t}-ariaDescription`,this.itemDescription.textContent=this.getItemAriaDescription(e.localeManager),this.itemList.getElement().append(this.itemDescription)}destroy(){this.destroyFns.destroy()}initLegendList(e){if(!this.dirty)return;const{ctx:t,itemSelection:i,datumReader:s,itemListener:n}=e,r=t.localeManager,o=i.length;i.each((a,l,u)=>{var f;(f=a.proxyButton)==null||f.destroy(),a.proxyButton=t.proxyInteractionService.createProxyElement({type:"listswitch",textContent:this.getItemAriaText(r,s.getItemLabel(l),u,o),ariaChecked:!!a.datum.enabled,ariaDescribedBy:this.itemDescription.id,parent:this.itemList});const h=a.proxyButton;h.addListener("click",g=>n.onClick(g.sourceEvent,a.datum,h)),h.addListener("dblclick",g=>n.onDoubleClick(g.sourceEvent,a.datum)),h.addListener("mouseenter",g=>n.onHover(g.sourceEvent,a)),h.addListener("mouseleave",()=>n.onLeave()),h.addListener("contextmenu",g=>n.onContextClick(g.sourceEvent,a)),h.addListener("blur",()=>n.onLeave()),h.addListener("focus",g=>n.onHover(g.sourceEvent,a)),h.addListener("drag-start",()=>{})}),this.dirty=!1}update(e){e.visible&&(this.initLegendList(e),this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!0)),this.updateVisibility(e.visible)}updateVisibility(e){this.itemList.setHidden(!e),this.paginationGroup.setHidden(!e)}updateItemProxyButtons({itemSelection:e,group:t,pagination:i,interactive:s}){const n=Li.toCanvas(t);this.itemList.setBounds(n);const r=Math.max(...e.nodes().map(o=>o.getBBox().height));e.each((o,a)=>{if(o.proxyButton){const l=o.pageIndex===i.currentPage,{x:u,y:h,height:f,width:g}=Li.toCanvas(o),m=(r-f)/2,y={x:u-n.x,y:h-m-n.y,height:r,width:g};o.proxyButton.setCursor("pointer"),o.proxyButton.setEnabled(s&&l),o.proxyButton.setBounds(y)}})}updatePaginationProxyButtons(e,t){var r,o,a,l,u,h,f,g;const{pagination:i}=e;if(this.paginationGroup.setHidden(!i.visible),t&&"ctx"in e){const{ctx:m,oldPages:y,newPages:C}=e,x=((y==null?void 0:y.length)??C.length)>1,b=C.length>1;x!==b&&(b?(this.prevButton=m.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.paginationGroup}),this.prevButton.addListener("click",w=>this.onPageButton(e,w,"previous")),this.prevButton.addListener("mouseenter",()=>i.onMouseHover("previous")),this.prevButton.addListener("mouseleave",()=>i.onMouseHover(void 0)),this.nextButton??(this.nextButton=m.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.paginationGroup})),this.nextButton.addListener("click",w=>this.onPageButton(e,w,"next")),this.nextButton.addListener("mouseenter",()=>i.onMouseHover("next")),this.nextButton.addListener("mouseleave",()=>i.onMouseHover(void 0))):((r=this.nextButton)==null||r.destroy(),(o=this.prevButton)==null||o.destroy(),this.nextButton=void 0,this.prevButton=void 0))}const{prev:s,next:n}=i.computeCSSBounds();(a=this.prevButton)==null||a.setBounds(s),(l=this.nextButton)==null||l.setBounds(n),(u=this.prevButton)==null||u.setEnabled(i.currentPage!==0),(h=this.nextButton)==null||h.setEnabled(i.currentPage!==i.totalPages-1),(f=this.nextButton)==null||f.setCursor(i.getCursor("next")),(g=this.prevButton)==null||g.setCursor(i.getCursor("previous"))}onPageButton(e,t,i){e.pagination.onClick(t.sourceEvent,i),this.updatePaginationProxyButtons(e,!1)}onDataUpdate(e,t){this.dirty=e.length!==t.length||e.some((i,s,n)=>{const[r,o]=[t[s],e[s]];return r.id!==o.id})}onLocaleChanged(e,t,i){const s=t.length;t.each(({proxyButton:n},r,o)=>{const a=n==null?void 0:n.getElement();if(a!=null){const l=i.getItemLabel(r);a.textContent=this.getItemAriaText(e,l,o,s)}}),this.itemDescription.textContent=this.getItemAriaDescription(e)}onPageChange(e){this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!1)}getItemAriaText(e,t,i,s){return i>=0&&t?(i++,e.t("ariaLabelLegendItem",{label:t,index:i,count:s})):e.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(e){return e.t("ariaDescriptionLegendItem")}};function T2(e,t,i,s){const n={defaultPrevented:!1,apiEvent:{type:e,itemId:t,seriesId:i,event:s,preventDefault:()=>n.defaultPrevented=!0}};return n}var eo=class extends hh(ot){constructor(){super({name:"markerLabelGroup"}),this.symbolsGroup=this.appendChild(new ot({name:"legend-markerLabel-symbols"})),this.label=this.appendChild(new gs),this.enabled=!0,this.pageIndex=NaN,this.spacing=0,this.length=0,this.isCustomMarker=!1,this.marker=this.symbolsGroup.appendChild(new ms({zIndex:1})),this.line=this.symbolsGroup.appendChild(new fr({zIndex:0}));const{label:e,line:t,symbolsGroup:i}=this;t.visible=!1,i.renderToOffscreenCanvas=!0,i.optimizeForInfrequentRedraws=!0,e.textBaseline="middle",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.fill="black",e.y=1}destroy(){var e;super.destroy(),(e=this.proxyButton)==null||e.destroy()}setEnabled(e){this.enabled=e,this.refreshVisibilities()}refreshVisibilities(){const e=this.enabled?1:.5;this.label.opacity=e,this.opacity=e}layout(){const{marker:e,line:t,length:i,isCustomMarker:s}=this;let n=0,r=0;if(e.visible){const{size:o}=e,a=ms.anchor(e.shape);n=(a.x-.5)*o+i/2,r=(a.y-.5)*o,s?(e.x=0,e.y=0,e.translationX=n,e.translationY=r):(e.x=n,e.y=r,e.translationX=0,e.translationY=0)}t.visible&&(t.x1=0,t.x2=i,t.y1=0,t.y2=0)}preRender(e){const t=super.preRender(e);return this.layout(),t}layoutLabel(){const{length:e,spacing:t}=this;this.label.x=e+t}computeBBox(){return this.layout(),super.computeBBox()}};eo.className="MarkerLabel";E([Ts("label")],eo.prototype,"text",2);E([Ts("label")],eo.prototype,"fontStyle",2);E([Ts("label")],eo.prototype,"fontWeight",2);E([Ts("label")],eo.prototype,"fontSize",2);E([Ts("label")],eo.prototype,"fontFamily",2);E([Ts("label","fill")],eo.prototype,"color",2);E([Rc(e=>e.layoutLabel())],eo.prototype,"spacing",2);E([Rc(e=>e.layoutLabel())],eo.prototype,"length",2);E([Xe()],eo.prototype,"isCustomMarker",2);var Oc=class extends ut{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};E([L(Ve,{optional:!0})],Oc.prototype,"maxLength",2);E([L(Bt)],Oc.prototype,"color",2);E([L(pl,{optional:!0})],Oc.prototype,"fontStyle",2);E([L(ml,{optional:!0})],Oc.prototype,"fontWeight",2);E([L(Ve)],Oc.prototype,"fontSize",2);E([L(Fe)],Oc.prototype,"fontFamily",2);E([L(In,{optional:!0})],Oc.prototype,"formatter",2);var Df=class extends ut{constructor(){super(...arguments),this.shape=void 0,this.size=15,this.padding=8}};E([L(aE,{optional:!0})],Df.prototype,"shape",2);E([L(Ve)],Df.prototype,"size",2);E([L(Ve)],Df.prototype,"padding",2);E([L(Ve,{optional:!0})],Df.prototype,"strokeWidth",2);E([L(et)],Df.prototype,"enabled",2);var lE=class extends ut{};E([L(Ve,{optional:!0})],lE.prototype,"strokeWidth",2);E([L(Ve,{optional:!0})],lE.prototype,"length",2);var Nc=class extends ut{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new Df,this.label=new Oc,this.line=new lE}};E([L(Ve,{optional:!0})],Nc.prototype,"maxWidth",2);E([L(Ve)],Nc.prototype,"paddingX",2);E([L(Ve)],Nc.prototype,"paddingY",2);E([L(et)],Nc.prototype,"showSeriesStroke",2);E([L($e)],Nc.prototype,"marker",2);E([L($e)],Nc.prototype,"label",2);E([L($e)],Nc.prototype,"line",2);var cE=class extends ut{};E([L(In,{optional:!0})],cE.prototype,"legendItemClick",2);E([L(In,{optional:!0})],cE.prototype,"legendItemDoubleClick",2);var Gg="legend-visibility",m1="legend-other-series",$n=class extends ut{constructor(e){super(),this.ctx=e,this.id=Qr(this),this.group=new En({name:"legend",zIndex:14}),this.itemSelection=Ki.select(this.group,eo),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new Nc,this.listeners=new cE,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.pagination=new vh(t=>e.updateService.update(t),t=>this.updatePageNumber(t)),this.pagination.attachPagination(this.group),this.destroyFns.push(e.contextMenuRegistry.registerDefaultAction({id:Gg,type:"legend",label:"contextMenuToggleSeriesVisibility",action:t=>this.contextToggleVisibility(t)}),e.contextMenuRegistry.registerDefaultAction({id:m1,type:"legend",label:"contextMenuToggleOtherSeries",action:t=>this.contextToggleOtherSeries(t)}),e.legendManager.addListener("legend-change",this.onLegendDataChange.bind(this))),this.destroyFns.push(e.layoutManager.registerElement(1,t=>this.positionLegend(t)),e.localeManager.addListener("locale-changed",()=>this.onLocaleChanged()),()=>this.group.remove()),this.domProxy=new Qae(this.ctx,this.id),this.ctx.historyManager.addMementoOriginator(e.legendManager)}set data(e){Qu(e,this._data)||(this.domProxy.onDataUpdate(this._data,e),this._data=e,this.updateGroupVisibility())}get data(){return this._data}onLegendDataChange({legendData:e=[]}){this.enabled&&(this.data=e.filter(t=>!t.hideInLegend))}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach(e=>e()),this.itemSelection.clear(),this.domProxy.destroy()}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}getItemLabel(e){const{ctx:{callbackCache:t}}=this,{formatter:i}=this.item.label;if(i){const s=e.datum;return t.call(i,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId,...s&&{datum:s}})}return e.label.text}calcLayout(e,t){const{paddingX:i,paddingY:s,label:n,maxWidth:r,label:{maxLength:o=1/0,fontStyle:a,fontWeight:l,fontSize:u,fontFamily:h}}=this.item,f=[...this.data];this.reverseOrder&&f.reverse(),this.itemSelection.update(f);const g=[],m=bi.toFontString(n),C=r??e*.8,x=this.calculateMarkerWidth();if(this.itemSelection.each((I,N)=>{I.fontStyle=a,I.fontWeight=l,I.fontSize=u,I.fontFamily=h;const G=this.updateMarkerLabel(I,N,x),V=N.itemId??N.id,pe=(this.getItemLabel(N)??"<unknown>").replace(/\r?\n/g," ");I.text=this.truncate(pe,o,C,G,m,V),g.push(I.getBBox())}),e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};const b=this.size,w=this.oldSize;b[0]=e,b[1]=t,(b[0]!==w[0]||b[1]!==w[1])&&(w[0]=b[0],w[1]=b[1]);const{pages:M,maxPageHeight:A,maxPageWidth:T}=this.updatePagination(g,e,t),k=this.pages;this.pages=M,this.maxPageSize=[T-i,A-s];const R=this.pagination.currentPage,F=this.pages[R];return this.pages.length<1||!F?(this.visible=!1,{oldPages:k}):(this.visible=!0,this.updatePositions(R),this.update(),{oldPages:k})}isCustomMarker(e,t){return e&&t!==void 0&&typeof t!="string"}calcSymbolsEnabled(e){const{showSeriesStroke:t,marker:i}=this.item,s=!!i.enabled||!t||(e.marker.enabled??!0),n=!!(e.line&&t),r=this.isCustomMarker(s,e.marker.shape);return{markerEnabled:s,lineEnabled:n,isCustomMarker:r}}calcSymbolsLengths(e){const{marker:t,line:i}=this.item,{markerEnabled:s,lineEnabled:n}=this.calcSymbolsEnabled(e),{strokeWidth:r}=this.getMarkerStyles(e),{strokeWidth:o}=n?this.getLineStyles(e):{strokeWidth:0};let a;const{shape:l}=e.marker;if(this.isCustomMarker(s,l)){const f=new ms;f.shape=l,f.updatePath();const g=f.getBBox();a=Math.max(g.width,g.height)}const u=s?t.size:0,h=n?i.length??25:0;return{markerLength:u,markerStrokeWidth:r,lineLength:h,lineStrokeWidth:o,customMarkerSize:a}}calculateMarkerWidth(){let e=0;return this.itemSelection.each((t,i)=>{const{symbol:s}=i,{markerLength:n,lineLength:r,customMarkerSize:o=-1/0}=this.calcSymbolsLengths(s);e=Math.max(e,r,o,n)}),e}updateMarkerLabel(e,t,i){const{marker:s,paddingX:n}=this.item,{symbol:r}=t;let o=n;const{markerEnabled:a,lineEnabled:l,isCustomMarker:u}=this.calcSymbolsEnabled(r),h=s.padding;(a||l)&&(o+=h+i);const{marker:f,line:g}=e;return f.visible=a,f.visible&&(f.shape=s.shape??r.marker.shape??"square",f.size=s.size,$p(f,this.getMarkerStyles(r))),g.visible=l,g.visible&&$p(g,this.getLineStyles(r)),e.length=i,e.spacing=h,e.isCustomMarker=u,o}truncate(e,t,i,s,n,r){let o=!1;e.length>t&&(e=e.substring(0,t),o=!0);const a=yl.getMeasurer({font:n}),l=bA.truncateLine(e,a,i-s,o);return l.endsWith(bi.EllipsisChar)?this.truncatedItems.add(r):this.truncatedItems.delete(r),l}updatePagination(e,t,i){const s=this.getOrientation(),n=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=s,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:r,maxPageHeight:o,maxPageWidth:a,paginationBBox:l,paginationVertical:u}=this.calculatePagination(e,t,i),h=r.findIndex(M=>M.endIndex>=n);this.pagination.currentPage=ft(0,h,r.length-1);const{paddingX:f,paddingY:g}=this.item,m=8,y=a-f,C=o-g;let x=0,b=-l.y-this.item.marker.size/2;u?b+=C+m:(x+=-l.x+y+m,b+=(C-l.height)/2),this.pagination.translationX=x,this.pagination.translationY=b,this.pagination.update(),this.pagination.updateMarkers();let w=0;return this.itemSelection.each((M,A,T)=>{var k;T>(((k=r[w])==null?void 0:k.endIndex)??1/0)&&w++,M.pageIndex=w}),{maxPageHeight:o,maxPageWidth:a,pages:r}}calculatePagination(e,t,i){const{paddingX:s,paddingY:n}=this.item,r=this.getOrientation(),o=["left","right"].includes(this.position);let a=this.pagination.getBBox(),l=new Ze(0,0,0,0),u=[],h=0,f=0,g=0;const m=C=>C.width===a.width&&C.height===a.height,y=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(g++>10){Ne.warn("unable to find stable legend layout.");break}a=l;const C=t-(o?0:a.width),x=i-(o?a.height:0),b=Uae({orientation:r,bboxes:e,maxHeight:x,maxWidth:C,itemPaddingY:n,itemPaddingX:s,forceResult:y});u=(b==null?void 0:b.pages)??[],h=(b==null?void 0:b.maxPageWidth)??0,f=(b==null?void 0:b.maxPageHeight)??0;const w=u.length;if(this.pagination.visible=w>1,this.pagination.totalPages=w,this.pagination.update(),this.pagination.updateMarkers(),l=this.pagination.getBBox(),!this.pagination.visible)break}while(!m(l));return{maxPageWidth:h,maxPageHeight:f,pages:u,paginationBBox:l,paginationVertical:o}}updatePositions(e=0){const{item:{paddingY:t},itemSelection:i,pages:s}=this;if(s.length<1||!s[e])return;const{columns:n,startIndex:r,endIndex:o}=s[e];let a=0,l=0;const u=n.length,h=n[0].indices.length,f=this.getOrientation()==="horizontal",g=n[0].bboxes[0].height+t,m=[];i.each((y,C,x)=>{if(x<r||x>o){y.visible=!1;return}const b=x-r;let w,M;f?(w=b%u,M=Math.floor(b/u)):(w=Math.floor(b/h),M=b%h),y.visible=!0;const A=n[w];A&&(l=Math.floor(g*M),a=Math.floor(m[M]??0),m[M]=(m[M]??0)+A.columnWidth,y.translationX=a,y.translationY=l)})}updatePageNumber(e){const{itemSelection:t,group:i,pagination:s,pages:n,toggleSeries:r}=this,{startIndex:o,endIndex:a}=n[e];o===0?this.paginationTrackingIndex=0:e===n.length-1?this.paginationTrackingIndex=a:this.paginationTrackingIndex=Math.floor((o+a)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),this.domProxy.onPageChange({itemSelection:t,group:i,pagination:s,interactive:r}),this.ctx.updateService.update(6)}update(){const{label:{color:e}}=this.item;this.itemSelection.each((t,i)=>{t.setEnabled(i.enabled),t.color=e}),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:e,ctx:{contextMenuRegistry:t}}=this;e?(t.hideAction(Gg),t.hideAction(m1)):(t.showAction(Gg),t.showAction(m1))}getLineStyles(e){const{stroke:t,strokeOpacity:i=1,strokeWidth:s,lineDash:n}=e.line??{},r=Math.min(2,s??1);return{stroke:t,strokeOpacity:i,strokeWidth:this.item.line.strokeWidth??r,lineDash:n}}getMarkerStyles(e){const{fill:t,stroke:i,strokeOpacity:s=1,fillOpacity:n=1,strokeWidth:r,lineDash:o,lineDashOffset:a}=e.marker,l=Math.min(2,r??1);return{fill:t,stroke:i,strokeOpacity:s,fillOpacity:n,strokeWidth:this.item.marker.strokeWidth??l,lineDash:o,lineDashOffset:a}}computePagedBBox(){const e=ot.computeChildrenBBox(this.group.children());if(this.pages.length>1){const[t,i]=this.maxPageSize;e.height=Math.max(i,e.height),e.width=Math.max(t,e.width)}return e}findNode(e){const{datum:t,proxyButton:i}=this.itemSelection.select(s=>{var n;return((n=s.datum)==null?void 0:n.itemId)===e.itemId})[0]??{};if(t===void 0||i===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${t}, proxyButton: ${JSON.stringify(i)} }`);return{datum:t,proxyButton:i}}contextToggleVisibility(e){const{datum:t,proxyButton:i}=this.findNode(e);this.doClick(e.event,t,i)}contextToggleOtherSeries(e){this.doDoubleClick(e.event,this.findNode(e).datum)}onContextClick(e,t){var a;const i=t.datum;this.preventHidingAll&&((a=this.contextMenuDatum)!=null&&a.enabled)&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(Gg):this.ctx.contextMenuRegistry.enableAction(Gg);const{offsetX:s,offsetY:n}=e,{x:r,y:o}=Li.toCanvasPoint(t,s,n);this.ctx.contextMenuRegistry.dispatchContext("legend",{sourceEvent:e,canvasX:r,canvasY:o},{legendItem:i})}onClick(e,t,i){this.doClick(e,t,i)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(e=>e.getLegendData("category")).filter(e=>e.enabled).length}doClick(e,t,i){const{listeners:{legendItemClick:s},ctx:{chartService:n,highlightManager:r},preventHidingAll:o,toggleSeries:a}=this;if(!t)return!1;const{legendType:l,seriesId:u,itemId:h,enabled:f}=t,g=n.series.find(C=>C.id===u);if(!g)return!1;let m=f;const y=T2("click",h,g.id,e);return s==null||s(y.apiEvent),y.defaultPrevented||(a&&(m=!f,o&&!m&&this.getVisibleItemCount()<2&&(m=!0),i.setChecked(m),this.ctx.chartEventManager.legendItemClick(l,g,h,m,t.legendItemName)),m?r.updateHighlight(this.id,{series:g,itemId:h,datum:void 0,datumIndex:void 0}):r.updateHighlight(this.id),this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0,skipAnimations:t.skipAnimations??!1})),!0}onDoubleClick(e,t){this.doDoubleClick(e,t)&&e.preventDefault()}doDoubleClick(e,t){const{listeners:{legendItemDoubleClick:i},ctx:{chartService:s},toggleSeries:n}=this;if(s.mode==="integrated"||!t)return!1;const{legendType:r,id:o,itemId:a,seriesId:l}=t,u=s.series.find(f=>f.id===o);if(!u)return!1;const h=T2("dblclick",a,u.id,e);if(i==null||i(h.apiEvent),h.defaultPrevented)return!0;if(n){const f=s.series.flatMap(y=>y.getLegendData("category")),g=f.filter(y=>y.enabled).length,m=f.find(y=>y.itemId===a&&y.seriesId===l);this.ctx.chartEventManager.legendItemDoubleClick(r,u,a,(m==null?void 0:m.enabled)??!1,g,m==null?void 0:m.legendItemName)}return this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(e,t){let i;if(e instanceof FocusEvent){const{x:r,y:o}=Li.toCanvas(t).computeCenter();i={type:"keyboard",canvasX:r,canvasY:o}}else{e.preventDefault();const{x:r,y:o}=Li.toCanvasPoint(t,e.offsetX,e.offsetY);i={type:"pointermove",canvasX:r,canvasY:o}}const{canvasX:s,canvasY:n}=i;return{canvasX:s,canvasY:n,lastPointerEvent:i,showArrow:!1}}onHover(e,t){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(t.pageIndex);const i=t.datum,s=i?this.ctx.chartService.series.find(n=>n.id===(i==null?void 0:i.id)):void 0;if(i&&this.truncatedItems.has(i.itemId??i.id)){const n=this.toTooltipMeta(e,t);this.ctx.tooltipManager.updateTooltip(this.id,n,{type:"structured",title:this.getItemLabel(i)})}else this.ctx.tooltipManager.removeTooltip(this.id);i!=null&&i.enabled&&s?this.updateHighlight({series:s,itemId:i==null?void 0:i.itemId,datum:void 0,datumIndex:void 0}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(e){this.ctx.interactionManager.isState(32)?this.ctx.highlightManager.updateHighlight(this.id,e):this.ctx.interactionManager.isState(2)&&(this.pendingHighlightDatum=e,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.domProxy.onLocaleChanged(this.ctx.localeManager,this.itemSelection,this)}positionLegend(e){const t=this.positionLegendScene(e);this.positionLegendDOM(t)}positionLegendScene(e){if(!this.enabled||!this.data.length)return;const{layoutBox:t}=e,{x:i,y:s,width:n,height:r}=t,[o,a]=this.calculateLegendDimensions(t),{oldPages:l}=this.calcLayout(o,a),u=this.computePagedBBox(),h=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return r-u.height;case"right":default:return n-u.width}};if(this.visible){const f=this.spacing;let g,m;switch(this.position){case"top":case"bottom":g=(n-u.width)/2,m=h(),t.shrink(u.height+f,this.position);break;case"left":case"right":default:g=h(),m=(r-u.height)/2,t.shrink(u.width+f,this.position)}this.group.translationX=Math.floor(i+g-u.x),this.group.translationY=Math.floor(s+m-u.y)}return l}positionLegendDOM(e){const{ctx:t,itemSelection:i,pagination:s,pages:n,toggleSeries:r,group:o,listeners:{legendItemClick:a,legendItemDoubleClick:l}}=this,u=this.visible&&this.enabled,h=r||l!=null||a!=null;this.domProxy.update({visible:u,interactive:h,ctx:t,itemSelection:i,group:o,pagination:s,oldPages:e,newPages:n,datumReader:this,itemListener:this})}calculateLegendDimensions(e){const{width:t,height:i}=e,s=t/i,n=.5,r=.2,o=.25;let a,l;switch(this.position){case"top":case"bottom":{const u=s<1?Math.min(n,r*(1/s)):r;a=this.maxWidth?Math.min(this.maxWidth,t):t,l=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*u);break}case"left":case"right":default:{const u=s>1?Math.min(n,o*s):o;a=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*u),l=this.maxHeight?Math.min(this.maxHeight,i):i}}return[a,l]}};$n.className="Legend";E([L(et)],$n.prototype,"toggleSeries",2);E([L($e)],$n.prototype,"pagination",2);E([L($e)],$n.prototype,"item",2);E([L($e)],$n.prototype,"listeners",2);E([Rc((e,t,i)=>{if(e.updateGroupVisibility(),t===i)return;const{ctx:{legendManager:s,stateManager:n}}=e;i===!1&&t===!0&&n.restoreState(s)}),L(et)],$n.prototype,"enabled",2);E([L(hA)],$n.prototype,"position",2);E([L(Ve,{optional:!0})],$n.prototype,"maxWidth",2);E([L(Ve,{optional:!0})],$n.prototype,"maxHeight",2);E([L(et,{optional:!0})],$n.prototype,"reverseOrder",2);E([L(ii(["horizontal","vertical"],"an orientation"),{optional:!0})],$n.prototype,"orientation",2);E([L(et,{optional:!0})],$n.prototype,"preventHidingAll",2);E([L(Ve)],$n.prototype,"spacing",2);var Jae={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new $n(e),packageType:"community",removable:"standalone-only"},oG={};qr(oG,{CARTESIAN_AXIS_TYPE:()=>cG,CARTESIAN_POSITION:()=>lG,FONT_SIZE:()=>aG,FONT_SIZE_RATIO:()=>uE,POLAR_AXIS_SHAPE:()=>hG,POLAR_AXIS_TYPE:()=>uG});var aG=(e=>(e[e.SMALLEST=8]="SMALLEST",e[e.SMALLER=10]="SMALLER",e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=14]="LARGE",e[e.LARGEST=17]="LARGEST",e))(aG||{}),uE=(e=>(e[e.SMALLEST=.6666666666666666]="SMALLEST",e[e.SMALLER=.8333333333333334]="SMALLER",e[e.SMALL=1]="SMALL",e[e.MEDIUM=1.0833333333333333]="MEDIUM",e[e.LARGE=1.1666666666666667]="LARGE",e[e.LARGEST=1.4166666666666667]="LARGEST",e))(uE||{}),lG=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e))(lG||{}),cG=(e=>(e.CATEGORY="category",e.GROUPED_CATEGORY="grouped-category",e.ORDINAL_TIME="ordinal-time",e.NUMBER="number",e.TIME="time",e.LOG="log",e))(cG||{}),uG=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(uG||{}),hG=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(hG||{}),hE={};qr(hE,{DEFAULT_ANNOTATION_HANDLE_FILL:()=>Gm,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>Vm,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Wm,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>Zp,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>qp,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>zm,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>Hm,DEFAULT_BACKGROUND_COLOUR:()=>Nx,DEFAULT_CAPTION_ALIGNMENT:()=>cc,DEFAULT_CAPTION_LAYOUT_STYLE:()=>lc,DEFAULT_COLOR_RANGE:()=>Vx,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>Xn,DEFAULT_FIBONACCI_STROKES:()=>Xp,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>rs,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>Ii,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>ga,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>to,DEFAULT_GRIDLINE_ENABLED:()=>qo,DEFAULT_HIERARCHY_FILLS:()=>Ux,DEFAULT_HIERARCHY_STROKES:()=>jx,DEFAULT_POLAR_SERIES_STROKE:()=>Hx,DEFAULT_SEPARATION_LINES_COLOUR:()=>Om,DEFAULT_SHADOW_COLOUR:()=>_c,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>Wx,DEFAULT_TEXTBOX_COLOR:()=>Ym,DEFAULT_TEXTBOX_FILL:()=>Um,DEFAULT_TEXTBOX_STROKE:()=>jm,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Bm,DEFAULT_TOOLBAR_POSITION:()=>Km,IS_COMMUNITY:()=>dE,IS_DARK_THEME:()=>Od,IS_ENTERPRISE:()=>fE,PALETTE_ALT_DOWN_FILL:()=>yE,PALETTE_ALT_DOWN_STROKE:()=>pE,PALETTE_ALT_NEUTRAL_FILL:()=>vE,PALETTE_ALT_NEUTRAL_STROKE:()=>zx,PALETTE_ALT_UP_FILL:()=>mE,PALETTE_ALT_UP_STROKE:()=>gE,PALETTE_DOWN_FILL:()=>_m,PALETTE_DOWN_STROKE:()=>Bx,PALETTE_NEUTRAL_FILL:()=>Gx,PALETTE_NEUTRAL_STROKE:()=>Af,PALETTE_UP_FILL:()=>Nm,PALETTE_UP_STROKE:()=>_x});var Od=Symbol("is-dark-theme"),dE=Symbol("is-community"),fE=Symbol("is-enterprise"),Om=Symbol("default-separation-lines-colour"),Nx=Symbol("default-background-colour"),_c=Symbol("default-shadow-colour"),lc=Symbol("default-caption-layout-style"),cc=Symbol("default-caption-alignment"),_x=Symbol("palette-up-stroke"),Bx=Symbol("palette-down-stroke"),Nm=Symbol("palette-up-fill"),_m=Symbol("palette-down-fill"),Af=Symbol("palette-neutral-stroke"),Gx=Symbol("palette-neutral-fill"),gE=Symbol("palette-alt-up-stroke"),pE=Symbol("palette-alt-down-stroke"),mE=Symbol("palette-alt-up-fill"),yE=Symbol("palette-alt-down-fill"),vE=Symbol("palette-gray-fill"),zx=Symbol("palette-gray-stroke"),Hx=Symbol("default-polar-series-stroke"),Xn=Symbol("default-diverging-series-colour-range"),Vx=Symbol("default-colour-range"),Wx=Symbol("default-sparkline-crosshair-stroke"),to=Symbol("default-gauge-series-colour-range"),ga=Symbol("default-funnel-series-colour-range"),Ux=Symbol("default-hierarchy-fills"),jx=Symbol("default-hierarchy-strokes"),Ii=Symbol("default-financial-charts-annotation-stroke"),Xp=Symbol("default-hierarchy-strokes"),Bm=Symbol("default-text-annotation-color"),rs=Symbol("default-financial-charts-annotation-background-fill"),Gm=Symbol("default-annotation-handle-fill"),zm=Symbol("default-annotation-statistics-fill"),Hm=Symbol("default-annotation-statistics-stroke"),Vm=Symbol("default-annotation-statistics-color"),Wm=Symbol("default-annotation-statistics-divider-stroke"),Zp=Symbol("default-annotation-statistics-fill"),qp=Symbol("default-annotation-statistics-stroke"),Um=Symbol("default-textbox-fill"),jm=Symbol("default-textbox-stroke"),Ym=Symbol("default-textbox-color"),Km=Symbol("default-toolbar-position"),qo=Symbol("default-gridline-enabled");function dG(e,t){return i=>t(i)?[{...e[0],position:e[1].position},{...e[1],position:e[0].position}]:e}function $m({takeColors:e}){const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}}function CE(e){return{marker:$m(e)}}function CC(e,t,i,s,n){const{addPhaseFn:r,updatePhaseFn:o,removePhaseFn:a}=n,l=(u,h,f)=>{i.animate({id:`${e}_${t}_${h.id}_${u}`,groupId:e,from:0,to:1,ease:zp,collapsable:!1,onUpdate(g,m){m&&u!=="removed"||(h.path.clear(!0),f(g,h),h.checkPathDirty())},onStop(){u==="added"&&(h.path.clear(!0),f(1,h),h.checkPathDirty())},phase:xo[u]})};for(const u of s)i.isSkipped()||(l("removed",u,a),l("updated",u,o)),l("added",u,r)}function Nt({id:e},t,i,...s){fl(e,t,i,s,{opacity:0},{opacity:1},{phase:"trailing"})}function uc({id:e},t,i,...s){fl(e,t,i,s,{opacity:1},{opacity:0},{phase:"remove"})}function Dl(e){return{opacity:1}}var Oo=class extends oE{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};E([L(et),Xe()],Oo.prototype,"enabled",2);E([L(Bt),Xe()],Oo.prototype,"color",2);E([L(Tt),Xe()],Oo.prototype,"xOffset",2);E([L(Tt),Xe()],Oo.prototype,"yOffset",2);E([L(Ve),Xe()],Oo.prototype,"blur",2);var fG=class extends ut{constructor(){super(...arguments),this.enabled=!1}};E([L(et)],fG.prototype,"enabled",2);var ln=class extends ut{constructor(){super(...arguments),this.enabled=!0,this.interaction=new fG,this.position=new Cf,this.range=void 0,this.class=void 0}formatTooltip(e,t){var s;const i=(s=this.renderer)==null?void 0:s.call(this,t);return typeof i=="string"?{type:"raw",rawHtmlString:i}:i!=null?{type:"structured",...e,...i}:{type:"structured",...e}}};E([L(et)],ln.prototype,"enabled",2);E([L(et,{optional:!0})],ln.prototype,"showArrow",2);E([L(In,{optional:!0})],ln.prototype,"renderer",2);E([L($e)],ln.prototype,"interaction",2);E([L($e)],ln.prototype,"position",2);E([L(gx,{optional:!0})],ln.prototype,"range",2);E([L(Fe,{optional:!0})],ln.prototype,"class",2);var gG=ii(["linear","smooth","step"],"a line style"),pG=ii(["start","middle","end"]),Ef=class extends ut{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};E([L(gG)],Ef.prototype,"type",2);E([L(Wt)],Ef.prototype,"tension",2);E([L(pG)],Ef.prototype,"position",2);var Zi=class extends wl{constructor(){super(...arguments),this.xName=void 0,this.defaultColorRange=[],this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Ef,this.shadow=new Oo,this.marker=new an,this.label=new vs,this.tooltip=new ln,this.connectMissingData=!1}};E([L(Fe)],Zi.prototype,"xKey",2);E([L(Fe,{optional:!0})],Zi.prototype,"xName",2);E([L(Fe)],Zi.prototype,"yKey",2);E([L(Fe,{optional:!0})],Zi.prototype,"yName",2);E([L(Fe,{optional:!0})],Zi.prototype,"yFilterKey",2);E([L(Ve,{optional:!0})],Zi.prototype,"normalizedTo",2);E([L(hr)],Zi.prototype,"defaultColorRange",2);E([L(Ec(G4,Bt))],Zi.prototype,"fill",2);E([L(Wt)],Zi.prototype,"fillOpacity",2);E([L(Bt)],Zi.prototype,"stroke",2);E([L(Ve)],Zi.prototype,"strokeWidth",2);E([L(Wt)],Zi.prototype,"strokeOpacity",2);E([L(ha)],Zi.prototype,"lineDash",2);E([L(Ve)],Zi.prototype,"lineDashOffset",2);E([L($e)],Zi.prototype,"interpolation",2);E([L($e)],Zi.prototype,"shadow",2);E([L($e)],Zi.prototype,"marker",2);E([L($e)],Zi.prototype,"label",2);E([L($e)],Zi.prototype,"tooltip",2);E([L(et)],Zi.prototype,"connectMissingData",2);function aa(e){switch(e.type){case"linear":case"step":return[{x:e.x0,y:e.y0},{x:e.x1,y:e.y1}];case"cubic":return[{x:e.cp0x,y:e.cp0y},{x:e.cp3x,y:e.cp3y}]}}function ele(e){const t=aa(e);return t[0].x>t[1].x&&t.reverse(),t}function tle(e,t){const{x:i,y:s}=t;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:i,y0:s,x1:i,y1:s};case"step":return{type:"step",moveTo:e.moveTo,x0:i,y0:s,x1:i,y1:s,stepX:i};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:i,cp0y:s,cp1x:i,cp1y:s,cp2x:i,cp2y:s,cp3x:i,cp3y:s}}}function Qp(e,t,i){const[s,n]=aa(e),r=n.x!==s.x?(i.x-t.x)/(n.x-s.x):0,o=n.y!==s.y?(i.y-t.y)/(n.y-s.y):0;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:t.x,cp0y:t.y,cp1x:i.x-(e.cp2x-s.x)*r,cp1y:i.y-(e.cp2y-s.y)*o,cp2x:i.x-(e.cp1x-s.x)*r,cp2y:i.y-(e.cp1y-s.y)*o,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y,stepX:i.x-(e.stepX-s.x)*r}}}function mG(e,t,i){const{moveTo:s}=e,[n,r]=ele(e),{x:o,y:a}=n,{x:l,y:u}=r;if(i<o)return Qp(e,n,n);if(t>l)return Qp(e,r,r);switch(e.type){case"linear":{const h=a===u?void 0:(u-a)/(l-o),f=h==null?a:h*(t-o)+a,g=h==null?a:h*(i-o)+a;return{type:"linear",moveTo:s,x0:t,y0:f,x1:i,y1:g}}case"step":if(i<=e.stepX){const h=e.y0;return{type:"step",moveTo:s,x0:t,y0:h,x1:i,y1:h,stepX:i}}else if(t>=e.stepX){const h=e.y1;return{type:"step",moveTo:s,x0:t,y0:h,x1:i,y1:h,stepX:t}}else{const{y0:h,y1:f,stepX:g}=e;return{type:"step",moveTo:s,x0:t,y0:h,x1:i,y1:f,stepX:g}}case"cubic":{const h=pC(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t);let[f,g]=mC(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,h);const m=pC(g[0].x,g[1].x,g[2].x,g[3].x,i);return[g,f]=mC(g[0].x,g[0].y,g[1].x,g[1].y,g[2].x,g[2].y,g[3].x,g[3].y,m),{type:"cubic",moveTo:s,cp0x:g[0].x,cp0y:g[0].y,cp1x:g[1].x,cp1y:g[1].y,cp2x:g[2].x,cp2y:g[2].y,cp3x:g[3].x,cp3y:g[3].y}}}}function ile(e){const t=[];let i=0,s=NaN,n=NaN;for(const{x:r,y:o}of e){if(i>0){const a=i===1;t.push({type:"linear",moveTo:a,x0:s,y0:n,x1:r,y1:o})}i+=1,s=r,n=o}return t}var sle={start:0,middle:.5,end:1};function nle(e,t){const i=[];let s=0,n=NaN,r=NaN;const o=typeof t=="number"?t:sle[t];for(const{x:a,y:l}of e){if(s>0){const u=s===1,h=n+(a-n)*o;i.push({type:"step",moveTo:u,x0:n,y0:r,x1:a,y1:l,stepX:h})}s+=1,n=a,r=l}return i}var Vy=.05;function rle(e,t){const i=Array.isArray(e)?e:Array.from(e);if(i.length<=1)return[];const s=i.map((r,o)=>{const a=o===0?r:i[o-1],l=o===i.length-1?r:i[o+1],u=o===0||o===i.length-1;if(Math.sign(a.y-r.y)===Math.sign(l.y-r.y))return 0;if(!u){const h=Math.abs(a.y-l.y),f=Math.abs(r.y-a.y)/h,g=Math.abs(r.y-l.y)/h;if(f<=Vy||1-f<=Vy||g<=Vy||1-g<=Vy)return 0}return(l.y-a.y)/(l.x-a.x)});s[1]===0&&(s[0]*=2),s[s.length-2]===0&&(s[s.length-1]*=2);const n=[];for(let r=1;r<i.length;r+=1){const o=i[r-1],a=s[r-1],l=i[r],u=s[r],h=l.x-o.x,f=l.y-o.y;let g=h*t/3,m=h*a*t/3,y=h*t/3,C=h*u*t/3;u===0&&Math.abs(m)>Math.abs(f)&&(g*=Math.abs(f/m),m=Math.sign(m)*Math.abs(f)),a===0&&Math.abs(C)>Math.abs(f)&&(y*=Math.abs(f/C),C=Math.sign(C)*Math.abs(f)),n.push({type:"cubic",moveTo:r===1,cp0x:o.x,cp0y:o.y,cp1x:o.x+g,cp1y:o.y+m,cp2x:l.x-y,cp2y:l.y-C,cp3x:l.x,cp3y:l.y})}return n}function ts(e,t,i){return(t-e)*i+e}function ole(e,t){const{x0:i,y0:s,x1:n,y1:r}=e,a=(r-s)/(n-i)*(t-i)+s;return{leftCp1x:i,leftCp1y:s,leftCp2x:t,leftCp2y:a,stepX:t,stepY0:a,stepY1:a,rightCp1x:t,rightCp1y:a,rightCp2x:n,rightCp2y:r}}function ale(e,t){const{cp0x:i,cp0y:s,cp1x:n,cp1y:r,cp2x:o,cp2y:a,cp3x:l,cp3y:u}=e,h=pC(i,n,o,l,t),[f,g]=mC(i,s,n,r,o,a,l,u,h),m=f[3].y;return{leftCp1x:f[1].x,leftCp1y:f[1].y,leftCp2x:f[2].x,leftCp2y:f[2].y,stepX:t,stepY0:m,stepY1:m,rightCp1x:g[1].x,rightCp1y:g[1].y,rightCp2x:g[2].x,rightCp2y:g[2].y}}function lle(e){const{x0:t,y0:i,x1:s,y1:n,stepX:r}=e;return{leftCp1x:(t+r)/2,leftCp1y:i,leftCp2x:(t+r)/2,leftCp2y:i,stepX:r,stepY0:i,stepY1:n,rightCp1x:(r+s)/2,rightCp1y:n,rightCp2x:(r+s)/2,rightCp2y:n}}function R2(e,t){return e.type==="linear"?ole(e,t):e.type==="cubic"?ale(e,t):lle(e)}function yG(e,t,i,s,n,r,o){switch(t){case 0:o?e.moveTo(n,r):e.moveTo(i,s);break;case 1:o?e.lineTo(n,r):e.lineTo(i,s);break}}function vG(e,t,i,s,n,r){r?e.lineTo(t,i):e.lineTo(s,n)}function CG(e,t,i,s,n,r,o,a,l,u){u?e.cubicCurveTo(r,o,s,n,t,i):e.cubicCurveTo(s,n,r,o,a,l)}function xG(e,t,i,s,n,r,o){o?(e.lineTo(r,n),e.lineTo(r,i),e.lineTo(t,i)):(e.lineTo(r,i),e.lineTo(r,n),e.lineTo(s,n))}function KM(e,t,i,s){const[n,r]=aa(t);switch(yG(e,i,n.x,n.y,r.x,r.y,s),t.type){case"linear":vG(e,t.x0,t.y0,t.x1,t.y1,s);break;case"cubic":CG(e,t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,s);break;case"step":xG(e,t.x0,t.y0,t.x1,t.y1,t.stepX,s);break}}function bG(e,t,i){const[s,n]=aa(e),[r,o]=aa(t),a=ts(s.x,r.x,i),l=ts(s.y,r.y,i),u=ts(n.x,o.x,i),h=ts(n.y,o.y,i);return[{x:a,y:l},{x:u,y:h}]}function $M(e,t,i,s,n,r){const[{x:o,y:a},{x:l,y:u}]=bG(t,i,s);if(yG(e,n,o,a,l,u,r),t.type==="cubic"&&i.type==="cubic"){const h=ts(t.cp1x,i.cp1x,s),f=ts(t.cp1y,i.cp1y,s),g=ts(t.cp2x,i.cp2x,s),m=ts(t.cp2y,i.cp2y,s);CG(e,o,a,h,f,g,m,l,u,r)}else if(t.type==="step"&&i.type==="step"){const h=ts(t.stepX,i.stepX,s);xG(e,o,a,l,u,h,r)}else if(t.type==="linear"&&i.type==="linear")vG(e,o,a,l,u,r);else{let h;t.type==="step"?h=t.stepX:i.type==="step"?h=i.stepX:h=(o+l)/2;const f=R2(t,h),g=R2(i,h),m=ts(f.leftCp1x,g.leftCp1x,s),y=ts(f.leftCp1y,g.leftCp1y,s),C=ts(f.leftCp2x,g.leftCp2x,s),x=ts(f.leftCp2y,g.leftCp2y,s),b=ts(f.stepX,g.stepX,s),w=ts(f.stepY0,g.stepY0,s),M=ts(f.stepY1,g.stepY1,s),A=ts(f.rightCp1x,g.rightCp1x,s),T=ts(f.rightCp1y,g.rightCp1y,s),k=ts(f.rightCp2x,g.rightCp2x,s),R=ts(f.rightCp2y,g.rightCp2y,s);r?(e.cubicCurveTo(k,R,A,T,b,M),e.lineTo(b,w),e.cubicCurveTo(C,x,m,y,o,a)):(e.cubicCurveTo(m,y,C,x,b,w),e.lineTo(b,M),e.cubicCurveTo(A,T,k,R,l,u))}}var SG=(e=>(e[e.Zero=0]="Zero",e[e.Split=1]="Split",e))(SG||{});function cle(e,t){return e==null||t==null||typeof e!="object"||typeof t!="object"?!1:"id"in e&&"id"in t?e.id===t.id:e.toString()===t.toString()}function Xs(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),t.type==="continuous"&&typeof e=="number")return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof e=="number")return t.convert(e);if(t.type!=="category")return NaN;const i=t.domain.findIndex(n=>n===e);return i>=0||t.domain.findIndex(n=>cle(e,n))>=0?t.inset+t.step*i:NaN}function Wr(e){return IM(e).valueOf()}function k2({data:e},t){return e.map((i,s)=>({xValue0Index:t.indexOf(Wr(i.xValue0)),xValue1Index:t.indexOf(Wr(i.xValue1)),datumIndex:s}))}function ule(e,t){const i=t.scales.x,s=e.scales.x;if((i==null?void 0:i.type)!=="category"||(s==null?void 0:s.type)!=="category")return!0;let n=-1/0;for(const r of i.domain){const o=Xs(r,s);if(Number.isFinite(o)){if(o<n)return!1;n=o}}return!0}function hle(e,t){let i=-1/0;for(const s of e){const n=Xs(s.value,t.scales.x);if(Number.isFinite(n)){if(n<i)return!1;i=n}}return!0}function dle(e,t){const i=new Map;for(const{xValue0:h,xValue1:f}of e.data){const g=Wr(h),m=Wr(f);i.set(g,h).set(m,f)}const s=Array.from(i,([h,f])=>({axisValue:h,value:f}));s.sort((h,f)=>Xs(h.value,e.scales.x)-Xs(f.value,e.scales.x));const n=[];for(const{xValue0:h,xValue1:f}of t.data){const g=Wr(h),m=Wr(f);i.has(g)||(i.set(g,h),n.push({axisValue:g,value:h})),i.has(m)||(i.set(m,f),n.push({axisValue:m,value:f}))}n.sort((h,f)=>Xs(h.value,t.scales.x)-Xs(f.value,t.scales.x));const r=s;let o=0;for(const h of n){for(let f=r.length-1;f>o;f-=1){const g=Xs(h.value,t.scales.x),m=Xs(r[f].value,t.scales.x);if(g>m){o=f+1;break}}r.splice(o,0,h),o+=1}if(!hle(r,t))return;const a=r.map(h=>h.axisValue),l=k2(t,a),u=k2(e,a);return{axisValues:a,oldDataAxisIndices:l,newDataAxisIndices:u}}function I2(e,t,i){if(i.xValue1Index===i.xValue0Index+1)return e;const s=aa(e),n=(s[1].x-s[0].x)/(i.xValue1Index-i.xValue0Index),r=s[0].x+(t-i.xValue0Index)*n,o=r+n;return mG(e,r,o)}function wG(e,t){const[i,s]=aa(e),n=Xs(0,t.scales.y);return Qp(e,{x:i.x,y:n},{x:s.x,y:n})}function MG(e){const[t,i]=aa(e);return tle(e,{x:(t.x+i.x)/2,y:(t.y+i.y)/2})}function DG(e,t,i,s,n,r){var f,g;let o,a;if(n.xValue0Index>=r.xValue1Index){const m=(f=s.findLast(C=>C.xValue1Index<=r.xValue1Index))==null?void 0:f.datumIndex,y=m!=null?i.data[m]:void 0;o=y==null?void 0:y.xValue1,a=y==null?void 0:y.yValue1}else if(n.xValue0Index<=r.xValue0Index){const m=(g=s.find(C=>C.xValue0Index>=r.xValue0Index))==null?void 0:g.datumIndex,y=m!=null?i.data[m]:void 0;o=y==null?void 0:y.xValue0,a=y==null?void 0:y.yValue0}if(o==null||a==null)switch(t){case 0:return wG(e,i);case 1:return MG(e)}const l=Xs(o,i.scales.x),u=Xs(a,i.scales.y),h={x:l,y:u};return Qp(e,h,h)}function xE(e,t){var n;if(t==null)return;const i=Wr(e.xValue0),s=Wr(e.xValue1);return(n=t.find(r=>Wr(r.xValue0)===i&&Wr(r.xValue1)===s))==null?void 0:n.span}function L2(e,t,i,s,n,r,o){const a=e.data[s.datumIndex],l=a.span,u=xE(a,n);if(u!=null)o.removed.push({from:u,to:u}),o.moved.push({from:u,to:l}),o.added.push({from:l,to:l});else{const h=DG(l,t,e,i,s,r);o.added.push({from:h,to:l})}}function F2(e,t,i,s,n,r,o){const a=e.data[s.datumIndex],l=a.span,u=xE(a,n);if(u!=null)o.removed.push({from:l,to:l}),o.moved.push({from:l,to:u}),o.added.push({from:u,to:u});else{const h=DG(l,t,e,i,s,r);o.removed.push({from:l,to:h})}}function P2(e,t,i,s,n){const r=t[n.xValue0Index],o=i.data.find(x=>Wr(x.xValue0)===r),a=t[n.xValue1Index],l=i.data.find(x=>Wr(x.xValue1)===a);if(o==null||l==null)return;const[{x:u},{x:h}]=aa(e),f=Xs(o.xValue0,i.scales.x),g=Xs(o.yValue0,i.scales.y),m=Xs(l.xValue1,i.scales.x),y=Xs(l.yValue1,i.scales.y);let C=s.data[n.datumIndex].span;return C=Qp(C,{x:f,y:g},{x:m,y}),C=mG(C,u,h),C}function fle(e,t,i,s,n,r,o,a,l){const u=n+1,h=o.find(M=>M.xValue0Index<=n&&M.xValue1Index>=u),f=r.find(M=>M.xValue0Index<=n&&M.xValue1Index>=u),g=t.zeroData,m=e.zeroData;if(h==null&&f!=null){L2(e,i,r,f,g,a,l);return}else if(h!=null&&f==null){F2(t,i,o,h,m,a,l);return}else if(h==null||f==null)return;let y;h.xValue0Index===f.xValue0Index&&h.xValue1Index===f.xValue1Index?y=0:h.xValue0Index<=f.xValue0Index&&h.xValue1Index>=f.xValue1Index?y=-1:h.xValue0Index>=f.xValue0Index&&h.xValue1Index<=f.xValue1Index?y=1:y=0;const C=t.data[h.datumIndex],x=I2(C.span,n,h),b=e.data[f.datumIndex],w=I2(b.span,n,f);if(y===1){const M=P2(x,s,t,e,f);M!=null?(l.removed.push({from:x,to:M}),l.moved.push({from:M,to:w}),l.added.push({from:w,to:w})):F2(t,i,o,h,m,a,l)}else if(y===-1){const M=P2(w,s,e,t,h);M!=null?(l.removed.push({from:x,to:x}),l.moved.push({from:x,to:M}),l.added.push({from:M,to:w})):L2(e,i,r,f,g,a,l)}else l.removed.push({from:x,to:x}),l.moved.push({from:x,to:w}),l.added.push({from:w,to:w})}function gle(e,t,i,s){var u,h,f,g;const n={removed:[],moved:[],added:[]},{axisValues:r,oldDataAxisIndices:o,newDataAxisIndices:a}=e,l={xValue0Index:Math.max(((u=o.at(0))==null?void 0:u.xValue0Index)??-1/0,((h=a.at(0))==null?void 0:h.xValue0Index)??-1/0),xValue1Index:Math.min(((f=o.at(-1))==null?void 0:f.xValue1Index)??1/0,((g=a.at(-1))==null?void 0:g.xValue1Index)??1/0)};for(let m=0;m<r.length-1;m+=1)fle(t,i,s,r,m,a,o,l,n);return n}function O2(e,t,i){const{span:s}=t;switch(i){case 0:return xE(t,e.zeroData)??wG(s,e);case 1:return MG(s)}}function ple(e,t,i){const s=[],n=[];for(const r of t.data){const o=r.span,a=O2(t,r,i);n.push({from:o,to:a})}for(const r of e.data){const o=r.span,a=O2(e,r,i);s.push({from:a,to:o})}return{removed:n,moved:[],added:s}}function pp(e,t,i){if(!ule(e,t))return;const s=dle(e,t);return s==null?ple(e,t,i):gle(s,e,t,i)}function N2(e){return e.type==="continuous"||e.type==="log"}function _2(e){return e.type==="category"}function Nd(e,t){return e===void 0||t===void 0?e!==void 0||t!==void 0:N2(e)&&N2(t)?e.type===t.type&&ea(e.domain,t.domain)&&ea(e.range,t.range):_2(e)&&_2(t)?e.inset===t.inset&&e.step===t.step&&ea(e.domain,t.domain):!1}function Jp(e){return e==null?!1:e.type==="category"?e.domain.every(t=>t!=null):e.domain.every(t=>Number.isFinite(t)||t instanceof Date)&&e.range.every(t=>Number.isFinite(t))}function xC(e,t){let i;const s=e.map(n=>n.point);switch(t.type){case"linear":i=ile(s);break;case"smooth":i=rle(s,t.tension);break;case"step":i=nle(s,t.position);break}return i.map((n,r)=>({span:n,xValue0:e[r].xDatum,yValue0:e[r].yDatum,xValue1:e[r+1].xDatum,yValue1:e[r+1].yDatum}))}function AG(e,t,i=.001){return Math.abs(e.x-t.x)<i&&Math.abs(e.y-t.y)<i}function bE({path:e},t){let i;for(const{span:s}of t){const[n,r]=aa(s),o=i!=null&&AG(i,n)?1:0;KM(e,s,o,!1),i=r}}function Cv(e,t,i){let s;for(const n of i){const[r,o]=bG(n.from,n.to,e),a=s!=null&&AG(s,r)?1:0;$M(t.path,n.from,n.to,e,a,!1),s=o}}function SE(e,t,i){const s=(a,l)=>Cv(a,l,t.removed),n=(a,l)=>Cv(a,l,t.moved),r=(a,l)=>Cv(a,l,t.added),o=wE(e,i);return{status:e,path:{addPhaseFn:r,updatePhaseFn:n,removePhaseFn:s},pathProperties:o}}function wE(e,t){const i=t==="none"?"updated":e,s={fromFn:n=>{let r;return e==="removed"?r={finish:{visible:!1}}:e==="added"?r={start:{visible:!0}}:r={},{phase:xo[i],...r}},toFn:n=>({phase:xo[i]})};return t==="fade"?{fromFn:n=>({opacity:e==="added"?0:n.opacity,...s.fromFn(n)}),toFn:n=>({opacity:e==="removed"?0:1,...s.toFn(n)})}:s}function EG(e,t,i){var u,h;const s=((u=e.scales.x)==null?void 0:u.type)==="category",n=((h=t.scales.x)==null?void 0:h.type)==="category";if(s!==n||!Jp(e.scales.x)||!Jp(t.scales.x)||e.strokeData==null||t.strokeData==null)return;let r="updated";t.visible&&!e.visible?r="removed":!t.visible&&e.visible&&(r="added");const o=pp({scales:e.scales,data:e.strokeData.spans},{scales:t.scales,data:t.strokeData.spans},1);if(o==null)return;const a=SE(r,o,"fade"),l=((i==null?void 0:i.changed)??!0)||!Nd(e.scales.x,t.scales.x)||!Nd(e.scales.y,t.scales.y)||r!=="updated";return{status:r,stroke:a,hasMotion:l}}function TG({path:e},{spans:t,phantomSpans:i}){for(let s=0;s<t.length;s+=1){const{span:n}=t[s],r=i[s].span;KM(e,n,0,!1),KM(e,r,1,!0),e.closePath()}}function xv(e,{path:t},i,s){for(let n=0;n<i.length;n+=1){const r=i[n],o=s[n];$M(t,r.from,r.to,e,0,!1),$M(t,o.from,o.to,e,1,!0),t.closePath()}}function RG(e,t,i,s){const n=(l,u)=>xv(l,u,t.removed,i.removed),r=(l,u)=>xv(l,u,t.moved,i.moved),o=(l,u)=>xv(l,u,t.added,i.added),a=wE(e,s);return{status:e,path:{addPhaseFn:o,updatePhaseFn:r,removePhaseFn:n},pathProperties:a}}function kG(e,t){var f,g;const i=((f=e.scales.x)==null?void 0:f.type)==="category",s=((g=t.scales.x)==null?void 0:g.type)==="category";if(i!==s||!Jp(e.scales.x)||!Jp(t.scales.x))return;let n="updated";t.visible&&!e.visible?n="removed":!t.visible&&e.visible&&(n="added");const r=pp({scales:e.scales,data:e.fillData.spans},{scales:t.scales,data:t.fillData.spans},0);if(r==null)return;const o=pp({scales:e.scales,data:e.fillData.phantomSpans},{scales:t.scales,data:t.fillData.phantomSpans},0);if(o==null)return;const a=pp({scales:e.scales,data:e.strokeData.spans,zeroData:e.fillData.phantomSpans},{scales:t.scales,data:t.strokeData.spans,zeroData:t.fillData.phantomSpans},0);if(a==null)return;const l="none",u=RG(n,r,o,l),h=SE(n,a,l);return{status:n,fill:u,stroke:h}}function em({id:e},t,i,...s){const n={phase:i?xo[i]:"trailing"};fl(e,"markers",t,s,{opacity:0},{opacity:1},n),s.forEach(r=>r.cleanup())}function ME({id:e},t,...i){fl(e,"markers",t,i,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),i.forEach(s=>s.cleanup())}function DE({id:e,nodeDataDependencies:t},i,...s){const n=t.seriesRectWidth;ki(e,"markers",i,s,{fromFn:(a,l)=>{var f;const u=((f=l.midPoint)==null?void 0:f.x)??n;let h=ft(0,b4(u/n),1);return isNaN(h)&&(h=0),{scalingX:0,scalingY:0,delay:h,duration:sC,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function Xm(e){return{opacity:1,scalingX:1,scalingY:1}}function tm(e,t){var i,s;return{translationX:((i=t.point)==null?void 0:i.x)??NaN,translationY:((s=t.point)==null?void 0:s.y)??NaN}}function Zm(e,{datumIndex:t}){const i=e.getNodeData();if(i===void 0)return;const s=i[t],{point:n}=s;if(s==null||n==null)return;const r=4+(n.focusSize??e.getFormattedMarkerStyle(s).size),o=r/2,a=s.point.x-o,l=s.point.y-o;return Li.toCanvas(e.contentGroup,new Ze(a,l,r,r))}function AE({id:e,visible:t,nodeDataDependencies:i},s,...n){const{seriesRectWidth:r,seriesRectHeight:o}=i;fl(e,"path_properties",s,n,{clipX:0},{clipX:r},{phase:"initial",start:{clip:!0,clipY:o,visible:t},finish:{clip:!1,visible:t}})}function bC({id:e},t,i,s="add",...n){fl(e,t,i,n,{opacity:0},{opacity:1},{phase:s})}function EE(e){return t=>({visible:e.getVisible(),opacity:e.getOpacity(),clipScalingX:1,clip:!1})}function SC({nodeDataDependencies:e},t){const i=s=>isFinite(s)?s:0;t.clipX=i(e.seriesRectWidth),t.clipY=i(e.seriesRectHeight)}var mle=.125,yle=.25,TE=class extends Pc{constructor(e){super({moduleCtx:e,directionKeys:ph,directionNames:mh,pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:EE({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Dl,marker:(t,i)=>({...Xm(),...tm(t,i)})}}),this.properties=new Zi,this.connectsToYAxis=!0,this.backgroundGroup=new ot({name:`${this.id}-background`,zIndex:0}),this._isStacked=void 0}get pickModeAxis(){return"main"}renderToOffscreenCanvas(){return super.renderToOffscreenCanvas()||this.contextNodeData!=null&&(this.contextNodeData.fillData.spans.length>yC||this.contextNodeData.strokeData.spans.length>yC)}attachSeries(e,t,i){super.attachSeries(e,t,i),e.appendChild(this.backgroundGroup)}detachSeries(e,t,i){super.detachSeries(e,t,i),e==null||e.removeChild(this.backgroundGroup)}attachPaths([e,t]){this.backgroundGroup.appendChild(e),this.contentGroup.appendChild(t),t.zIndex=-1}detachPaths([e,t]){this.backgroundGroup.removeChild(e),this.contentGroup.removeChild(t)}isStacked(){var t;return(((t=this.seriesGrouping)==null?void 0:t.stackCount)??1)>1}setSeriesIndex(e){const t=this.isStacked();return!super.setSeriesIndex(e)&&this._isStacked===t?!1:(this._isStacked=t,t?(this.backgroundGroup.zIndex=[0,e],this.contentGroup.zIndex=[1,e,0]):(this.backgroundGroup.zIndex=[1,e,0,0],this.contentGroup.zIndex=[1,e,0,1]),!0)}async processData(e){var w,M;if(this.data==null||!this.properties.isValid())return;const{data:t,visible:i,seriesGrouping:{groupIndex:s=this.id,stackCount:n=1}={}}=this,{xKey:r,yKey:o,yFilterKey:a,connectMissingData:l,normalizedTo:u}=this.properties,h=!this.ctx.animationManager.isSkipped(),f=(w=this.axes.x)==null?void 0:w.scale,g=(M=this.axes.y)==null?void 0:M.scale,{xScaleType:m,yScaleType:y}=this.getScaleInformation({xScale:f,yScale:g}),C={value:`area-stack-${s}-yValue`,values:`area-stack-${s}-yValues`,stack:`area-stack-${s}-yValue-stack`,marker:`area-stack-${s}-yValues-marker`},x=[];fv(u)&&x.push(Fx(Object.values(C),u)),h&&x.push(xf());const b={invalidValue:null};(fv(u)||l)&&n>1&&(b.invalidValue=0),i||(b.forceValue=0),await this.requestDataModel(e,t,{props:[Ao(r,m,{id:"xValue"}),St(o,y,{id:"yValueRaw",...b}),...a!=null?[St(a,y,{id:"yFilterRaw"})]:[],...$3(o,y,{id:"yValueStack",...b,groupId:C.stack}),St(o,y,{id:"yValue",...b,groupId:C.value}),...mc(o,"window","current",{id:"yValueEnd",...b,groupId:C.values},y),...mc(o,"normal","current",{id:"yValueCumulative",...b,groupId:C.marker},y),...x],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}xCoordinateRange(e,t){const{marker:i}=this.properties,s=this.axes.x.scale.convert(e),n=i.enabled?.5*i.size*t:0;return[s-n,s+n]}yCoordinateRange(e,t){const{marker:i}=this.properties,s=this.axes.y.scale.convert(e[0]),n=i.enabled?.5*i.size*t:0;return[s-n,s+n]}getSeriesDomain(e){const{processedData:t,dataModel:i,axes:s}=this;if(!t||!i)return[];const n=s.y;if(e==="x"){const o=i.resolveProcessedDataDefById(this,"xValue"),a=i.getDomain(this,"xValue","key",t);return(o==null?void 0:o.def.type)==="key"&&o.def.valueType==="category"?a:jn(bl(a))}const r=this.domainForClippedRange("y",["yValueEnd"],"xValue",!0);if(n instanceof yh||n instanceof gh)return jn(r);{const o=Number.isFinite(r[1]-r[0])?[r[0]>0?0:r[0],r[1]<0?0:r[1]]:[];return jn(o)}}getSeriesRange(e,t){const[i,s]=this.domainForVisibleRange("y",["yValueEnd"],"xValue",t,!0);return[Math.min(i,0),Math.max(s,0)]}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["yValueEnd"],e,t,i)}createNodeData(){var ne;const{axes:e,data:t,processedData:i,dataModel:s}=this,n=e.x,r=e.y;if(!n||!r||!t||!s||(i==null?void 0:i.type)!=="grouped"||!this.properties.isValid())return;const{yKey:o,xKey:a,yFilterKey:l,marker:u,label:h,fill:f,stroke:g,connectMissingData:m,interpolation:y}=this.properties,{scale:C}=n,{scale:x}=r,{isContinuousY:b}=this.getScaleInformation({xScale:C,yScale:x}),w=(C.bandwidth??0)/2,M=s.resolveKeysById(this,"xValue",i),A=s.resolveColumnById(this,"yValueEnd",i),T=s.resolveColumnById(this,"yValueRaw",i),k=s.resolveColumnById(this,"yValueCumulative",i),R=l!=null?s.resolveColumnById(this,"yFilterRaw",i):void 0,F=s.resolveColumnById(this,"yValueStack",i),I=(ge,ce,ue)=>{let de;return(fv(this.properties.normalizedTo)?b&&yx(ue):!isNaN(ue))&&(de=ce),{x:C.convert(ge)+w,y:x.convert(de),size:u.size}},N=[],G=[],{visibleSameStackCount:V}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let Q=!1;const{dataSources:pe}=i,ae=pe.get(this.id)??[];for(const{datumIndex:ge}of s.forEachGroupDatum(this,i)){const ce=M[ge];if(ce==null)return;const ue=ae[ge],de=T[ge],Le=k[ge],X=A[ge],ze=Number.isFinite(de),_e=I(ce,+Le,de),je=R!=null?R[ge]===de:void 0;if(je===!1&&(Q=!0),ze&&u&&G.push({series:this,itemId:o,datum:ue,datumIndex:ge,midPoint:{x:_e.x,y:_e.y},cumulativeValue:X,yValue:de,xValue:ce,yKey:o,xKey:a,point:_e,fill:u.fill??f,stroke:u.stroke??g,strokeWidth:u.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth),selected:je}),ze&&h){const Ue=this.getLabelText(h,{value:de,datum:ue,xKey:a,yKey:o,xName:this.properties.xName,yName:this.properties.yName});N.push({series:this,itemId:o,datum:ue,datumIndex:ge,x:_e.x,y:_e.y,labelText:Ue})}}const se=ge=>ge.flatMap(ce=>Array.isArray(ce)?xC(ce,y):new Array(ce.skip).fill(null)),le=(ge,ce)=>({point:{x:C.convert(ge)+w,y:x.convert(ce)},xDatum:ge,yDatum:ce}),re=ge=>{const ce=[];for(const{datumIndexes:[ue,de,Le]}of s.forEachGroupDatumTuple(this,i)){const X=M[de],ze=F[de],_e=ze[ge],je=Number.isFinite(_e);if(m&&!je)continue;const Ue=ue!=null?F[ue]:void 0,we=Le!=null?F[Le]:void 0;let qe=0,ht=0;for(let st=0;st<=ge;st+=1){const Xt=ze[st];if(Number.isFinite(Xt)){const qt=Ue==null||Number.isFinite(Ue[st]),Lt=we==null||Number.isFinite(we[st]);qt&&(qe+=Xt),Lt&&(ht+=Xt)}}const rt=ce[ce.length-1];if(!m&&(qe!==ht||!je))if(!je&&Array.isArray(rt)&&rt.length===1)ce[ce.length-1]={skip:1};else{const st=le(X,qe),Xt=le(X,ht);Array.isArray(rt)?rt.push(st):rt!=null&&(rt.skip+=1),ce.push(je?[Xt]:{skip:0})}else{const st=Math.max(qe,ht),Xt=le(X,st);Array.isArray(rt)?rt.push(Xt):rt!=null?(rt.skip+=1,ce.push([Xt])):ce.push([Xt])}}return se(ce)},J=((ne=this.seriesGrouping)==null?void 0:ne.stackIndex)??0,z=()=>{const ge=Array.from(s.forEachGroupDatum(this,i),({datumIndex:ce})=>{const ue=M[ce],Le=F[ce][J];if(!(m&&!Number.isFinite(Le)))return le(ue,0)}).filter(ce=>ce!=null);return xC(ge,y)},ee=re(J),O=ee.map(()=>null);for(let ge=J-1;ge>=-1;ge-=1){let ce;for(let ue=0;ue<O.length;ue+=1)O[ue]==null&&(ce??(ce=ge!==-1?re(ge):z()),O[ue]=ce[ue])}const j=ee.map((ge,ce)=>ge??O[ce]),H=ee.filter(ge=>ge!=null);return{itemId:o,fillData:{itemId:o,spans:j,phantomSpans:O},strokeData:{itemId:o,spans:H},labelData:N,nodeData:G,scales:this.calculateScaling(),visible:this.visible,stackVisible:V>0,crossFiltering:Q}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){var u;const{opacity:t,visible:i,animationEnabled:s}=e,[n,r]=e.paths,o=((u=this.contextNodeData)==null?void 0:u.crossFiltering)===!0,a=this.getStrokeWidth(this.properties.strokeWidth);r.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:a,strokeOpacity:this.properties.strokeOpacity*(o?yle:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:t,visible:i||s});const{fill:l}=this.properties;if(Q4(l)){const h=this.getGradientFillOptions(l,this.properties.defaultColorRange);n.gradientFillOptions=h}n.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity*(o?mle:1),fillShadow:this.properties.shadow,opacity:t,visible:i||s}),SC(this,r),SC(this,n)}updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){for(const i of e)i.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(const i of e)i.path.clear(),i.markDirty()}updateFillPath(e,t){const[i]=e;i.path.clear(),TG(i,t.fillData),i.markDirty()}updateStrokePath(e,t){const{spans:i}=t.strokeData,[,s]=e;s.path.clear(),bE(s,i),s.markDirty()}updateMarkerSelection(e){var n;const{nodeData:t,markerSelection:i}=e,s=this.properties.marker.enabled||((n=this.contextNodeData)==null?void 0:n.crossFiltering)===!0;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(s?t:[])}getMarkerItemBaseStyle(e){const{marker:t}=this.properties,i=e?this.properties.highlightStyle.item:void 0;return{fill:(i==null?void 0:i.fill)??t.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??t.fillOpacity,stroke:(i==null?void 0:i.stroke)??t.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??t.strokeWidth,strokeOpacity:(i==null?void 0:i.strokeOpacity)??t.strokeOpacity}}getMarkerItemStyleOverrides(e,t,i,s,n,r){const{marker:o}=this.properties,{itemStyler:a}=o;if(a==null)return;const{id:l,properties:u}=this,{xKey:h,yKey:f}=u,{xDomain:g,yDomain:m}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));return this.cachedDatumCallback(Xi(e,r?"highlight":"node"),()=>a({seriesId:l,...pc(t,h,f,g,m),xValue:i,yValue:s,highlighted:r,...n}))}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:s,yKey:n,marker:r,fill:o,stroke:a,strokeWidth:l,fillOpacity:u,strokeOpacity:h,highlightStyle:f}=this.properties,g=this.getSeriesDomain("x"),m=this.getSeriesDomain("y"),y=bt(i&&f.item,r.getStyle(),{fill:o,stroke:a,strokeWidth:l,fillOpacity:u,strokeOpacity:h});t.each((C,x)=>{this.updateMarkerStyle(C,r,{...pc(x,s,n,g,m),highlighted:i},y,{selected:x.selected})}),i||this.properties.marker.markClean()}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}updateLabelNodes(e){const{labelSelection:t}=e,{enabled:i,fontStyle:s,fontWeight:n,fontSize:r,fontFamily:o,color:a}=this.properties.label;t.each((l,u)=>{const{x:h,y:f,labelText:g}=u;g&&i&&this.visible?(l.fontStyle=s,l.fontWeight=n,l.fontSize=r,l.fontFamily=o,l.textAlign="center",l.textBaseline="bottom",l.text=g,l.x=h,l.y=f-10,l.fill=a,l.visible=!0):l.visible=!1})}getTooltipContent(e){var w;const{id:t,dataModel:i,processedData:s,axes:n,properties:r}=this,{xKey:o,xName:a,yKey:l,yName:u,tooltip:h}=r,f=n.x,g=n.y;if(!i||!s||!f||!g)return;const{datumIndex:m}=e,y=(w=s.dataSources.get(this.id))==null?void 0:w[m],C=i.resolveKeysById(this,"xValue",s)[m],x=i.resolveColumnById(this,"yValueRaw",s)[m];if(C==null)return;const b=this.getMarkerItemBaseStyle(!1);return Object.assign(b,this.getMarkerItemStyleOverrides(String(m),y,C,x,b,!1)),h.formatTooltip({heading:f.formatDatum(C),symbol:this.legendItemSymbol(),data:[{label:u,fallbackLabel:l,value:g.formatDatum(x)}]},{seriesId:t,datum:y,title:u,xKey:o,xName:a,yKey:l,yName:u,...b,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:i,strokeOpacity:s,strokeWidth:n,lineDash:r,marker:o}=this.properties,a=!o.enabled||o.fill===void 0;return{marker:{shape:o.shape,fill:a?e:o.fill,fillOpacity:a?i:o.fillOpacity,stroke:o.stroke??t,strokeOpacity:o.strokeOpacity,strokeWidth:o.strokeWidth,lineDash:o.lineDash,lineDashOffset:o.lineDashOffset,enabled:o.enabled||n<=0},line:{stroke:t,strokeOpacity:s,strokeWidth:n,lineDash:r}}}getLegendData(e){if(!this.properties.isValid()||e!=="category")return[];const{id:t,ctx:{legendManager:i},visible:s}=this,{yKey:n,yName:r,legendItemName:o,showInLegend:a}=this.properties;return[{legendType:e,id:t,itemId:n,seriesId:t,enabled:s&&i.getItemEnabled({seriesId:t,itemId:n}),label:{text:o??r??n},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!a}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,contextData:s,paths:n}=e,{animationManager:r}=this.ctx;this.updateAreaPaths(n,s),AE(this,r,...n),Ms([t],tm),DE(this,r,t),Nt(this,"labels",r,i)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateAreaPaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:s,contextData:n,paths:r,previousContextData:o}=e,[a,l]=r;if(a==null&&l==null)return;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const u=()=>{this.resetPathAnimation(e),this.updateAreaPaths(r,n)},h=()=>{t.skipCurrentBatch(),u()};if(n==null||o==null){u(),em(this,t,"added",i),bC(this,"fill_path_properties",t,"add",a),bC(this,"stroke_path_properties",t,"add",l),Nt(this,"labels",t,s);return}if(n.crossFiltering!==o.crossFiltering){h();return}const f=kG(n,o);if(f===void 0){h();return}else if(f.status==="no-op")return;em(this,t,void 0,i),ki(this.id,"fill_path_properties",t,[a],f.fill.pathProperties),CC(this.id,"fill_path_update",t,[a],f.fill.path),ki(this.id,"stroke_path_properties",t,[l],f.stroke.pathProperties),CC(this.id,"stroke_path_update",t,[l],f.stroke.path),Nt(this,"labels",t,s),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(r,n)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ot}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=e,s=this.getSeriesDomain("x"),n=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,{...pc(e,t,i,s,n),highlighted:!0})}computeFocusBounds(e){return Zm(this,e)}};TE.className="AreaSeries";TE.type="area";var vle={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:e=>new TE(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:_c,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}},paletteFactory:e=>{const{marker:t}=CE(e),i=e.themeTemplateParameters.get(Vx);return{fill:t.fill,stroke:t.stroke,marker:t,defaultColorRange:i}}};function RE(e,t){for(const i of t){const s=i.datum;s===void 0?Ne.error("undefined datum"):e.addValue(i,s)}}function kE(e,t){const{x:i,y:s}=t,{nearest:n,distanceSquared:r}=e.getQuadTree().find(i,s);if(n!==void 0)return{datum:n.value,distance:Math.sqrt(r)}}var IE=class extends wl{constructor(){super(...arguments),this.direction="vertical"}};E([L(V4)],IE.prototype,"direction",2);var IG=class extends Pc{constructor(){super(...arguments),this.groupScale=new wm,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(e,t){const i=typeof t=="boolean"?1:.5,s=It(this.smallestDataInterval)?this.smallestDataInterval*i:0,n=bl(e)??[NaN,NaN];return typeof t=="boolean"?n[t?0:1]-=(t?1:-1)*s:(n[0]-=s,n[1]+=s),jn(n)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){const e=this.getCategoryDirection();return this.axes[e]}getBandwidth(e){return Vt.is(e.scale)?e.scale.calcBandwidth(this.smallestDataInterval):e.scale.bandwidth}xCoordinateRange(e){const t=this.axes[this.getCategoryDirection()],i=t.scale,s=this.getBandwidth(t)??0,n=Vt.is(i)?s*-.5:0,r=i.convert(e)+n;return[r,r+s]}yCoordinateRange(e){const i=this.axes[this.getBarDirection()].scale,s=e.map(n=>i.convert(n));if(s.length===1){const n=i.convert(0);return[Math.min(s[0],n),Math.max(s[0],n)]}return[Math.min(...s),Math.max(...s)]}updateGroupScale(e){const t=[],{groupScale:i}=this,s=this.getBandwidth(e),{index:n,visibleGroupCount:r}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let a=0;a<r;a++)t.push(String(a));return i.domain=t,i.range=[0,s??0],e instanceof Sf?i.paddingInner=e.groupPaddingInner:e instanceof mf?(i.paddingInner=e.groupPaddingInner,i.round=i.padding!==0):i.padding=0,{barWidth:i.bandwidth>=1?i.bandwidth:i.rawBandwidth,groupIndex:n}}resolveKeyDirection(e){return this.getBarDirection()==="x"?e==="x"?"y":"x":e}initQuadTree(e){RE(e,this.datumNodesIter())}pickNodeClosestDatum(e){return kE(this,e)}},LE=class extends vs{constructor(){super(...arguments),this.placement="inside-center",this.padding=0}};E([L(ii(["inside-center","inside-start","inside-end","outside-start","outside-end"],"a placement"))],LE.prototype,"placement",2);E([L(Tt)],LE.prototype,"padding",2);var Pi=class extends IE{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Oo,this.label=new LE,this.tooltip=new ln,this.sparklineMode=!1,this.fastDataProcessing=!1}};E([L(Fe)],Pi.prototype,"xKey",2);E([L(Fe,{optional:!0})],Pi.prototype,"xName",2);E([L(Fe)],Pi.prototype,"yKey",2);E([L(Fe,{optional:!0})],Pi.prototype,"yName",2);E([L(Fe,{optional:!0})],Pi.prototype,"yFilterKey",2);E([L(Fe,{optional:!0})],Pi.prototype,"stackGroup",2);E([L(Tt,{optional:!0})],Pi.prototype,"normalizedTo",2);E([L(Bt)],Pi.prototype,"fill",2);E([L(Wt)],Pi.prototype,"fillOpacity",2);E([L(Bt)],Pi.prototype,"stroke",2);E([L(Ve)],Pi.prototype,"strokeWidth",2);E([L(Wt)],Pi.prototype,"strokeOpacity",2);E([L(ha)],Pi.prototype,"lineDash",2);E([L(Ve)],Pi.prototype,"lineDashOffset",2);E([L(Ve)],Pi.prototype,"cornerRadius",2);E([L(et,{optional:!0})],Pi.prototype,"crisp",2);E([L(In,{optional:!0})],Pi.prototype,"itemStyler",2);E([L($e,{optional:!0})],Pi.prototype,"shadow",2);E([L($e)],Pi.prototype,"label",2);E([L($e)],Pi.prototype,"tooltip",2);E([L(et)],Pi.prototype,"sparklineMode",2);E([L(et)],Pi.prototype,"fastDataProcessing",2);function LG(e,t,i,s){if(t!=null){const[n,r]=t;if(n!==0||r!==1)return!1}if(Vt.is(e)){const n=e.calcBandwidth(s)-e.calcBandwidth(i);if(n>0&&n<1)return!1}return!0}var y1=e=>ix(e.yValue??0);function im(e,t,i){const{startingX:s,startingY:n}=xle(e,t);return{isVertical:e,calculate:(o,a)=>{let l=e?o.x:s,u=e?n:o.y,h=e?o.width:0,f=e?0:o.height;const{opacity:g=1}=o;a&&(isNaN(l)||isNaN(u))&&({x:l,y:u}=a,h=e?a.width:0,f=e?0:a.height,e&&!y1(a)?u+=a.height:!e&&y1(a)&&(l+=a.width));let m;return o.clipBBox==null?m=void 0:y1(o)?m=e?new Ze(l,u-f,h,f):new Ze(l-h,u,h,f):m=new Ze(l,u,h,f),{x:l,y:u,width:h,height:f,clipBBox:m,opacity:g}},mode:i}}function Cle(e,t){return{isVertical:e,calculate:i=>({x:e?i.x:i.x+i.width/2,y:e?i.y+i.height/2:i.y,width:e?i.width:0,height:e?0:i.height,clipBBox:i.clipBBox,opacity:i.opacity??1}),mode:t}}function sm(e){const t=r=>r==null||isNaN(r.x)||isNaN(r.y);return{toFn:(r,o,a)=>a==="removed"&&r.datum==null&&e.mode==="fade"?{...nm(r,o),opacity:0}:a==="removed"||t(o)?e.calculate(o,r.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,clipBBox:o.clipBBox,opacity:o.opacity??1},fromFn:(r,o,a)=>{a==="updated"&&t(o)?a="removed":a==="updated"&&t(r.previousDatum)&&(a="added");let l;a==="added"&&r.previousDatum==null&&e.mode==="fade"?l={...nm(r,o),opacity:0}:a==="unknown"||a==="added"?l=e.calculate(o,r.previousDatum):l={x:r.x,y:r.y,width:r.width,height:r.height,clipBBox:r.clipBBox,opacity:r.opacity??1};const u=xo[a];return{...l,phase:u}},applyFn:(r,o,a)=>{var l;r.setProperties(o),r.crisp=a==="end"&&(((l=r.datum)==null?void 0:l.crisp)??!1)}}}function xle(e,t){const i=t[e?"y":"x"];let s=1/0,n=0;return i?(e?n=i.scale.convert(Vt.is(i.scale)?0:Math.max(...i.range)):s=i.scale.convert(Vt.is(i.scale)?0:Math.min(...i.range)),{startingX:s,startingY:n}):{startingX:s,startingY:n}}function nm(e,{x:t,y:i,width:s,height:n,clipBBox:r,opacity:o=1}){var a;return{x:t,y:i,width:s,height:n,clipBBox:r,opacity:o,crisp:((a=e.datum)==null?void 0:a.crisp)??!1}}function FE(e,t){if(t===void 0)return;const{x:i,y:s,width:n,height:r}=t;return Li.toCanvas(e.contentGroup,new Ze(i,s,n,r))}function FG(e,t,i){if(t.enabled&&i){const{x:s,y:n,text:r,textAlign:o,textBaseline:a}=i,{color:l,fontStyle:u,fontWeight:h,fontSize:f,fontFamily:g}=t;e.setProperties({visible:!0,x:s,y:n,text:r,fill:l,fontStyle:u,fontWeight:h,fontSize:f,fontFamily:g,textAlign:o,textBaseline:a})}else e.visible=!1}var ble={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function PG({isUpward:e,isVertical:t,placement:i,padding:s=0,rect:n}){let r=n.x+n.width/2,o=n.y+n.height/2,a="center",l="middle";if(i!=="inside-center"){const u=(e?1:-1)*(t?-1:1),{direction:h,textAlignment:f}=ble[i],g=(h+1)*.5;if(t){const m=e?n.y+n.height:n.y,y=n.height*u;o=m+y*g+s*f*u,l=f===u?"top":"bottom"}else{const m=e?n.x:n.x+n.width,y=n.width*u;r=m+y*g+s*f*u,a=f===u?"left":"right"}}return{x:r,y:o,textAlign:a,textBaseline:l}}var Sle=0,wle=1,Mle=2,Dle=3,Ale=4,Yx=class extends IG{constructor(e){super({moduleCtx:e,directionKeys:ph,directionNames:mh,pickModes:[2,1,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:nm,label:Dl}}),this.properties=new Pi,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}async processData(e){var F,I,N,G,V,Q;if(!this.properties.isValid()||!this.data)return;const{xKey:t,yKey:i,yFilterKey:s,normalizedTo:n,fastDataProcessing:r}=this.properties,{seriesGrouping:{groupIndex:o=this.id}={},data:a}=this,l=((F=this.seriesGrouping)==null?void 0:F.groupCount)??0,h=(((I=this.seriesGrouping)==null?void 0:I.stackCount)??0)>=1||n!=null,f=!r||l>1||h,g=!this.ctx.animationManager.isSkipped(),m=(N=this.getCategoryAxis())==null?void 0:N.scale,y=(G=this.getValueAxis())==null?void 0:G.scale,{isContinuousX:C,xScaleType:x,yScaleType:b}=this.getScaleInformation({xScale:m,yScale:y}),w=`bar-stack-${o}-yValues`,M=`${w}-trailing`,A=this.visible?{}:{forceValue:0},T=[Ao(t,x,{id:"xValue"}),St(i,b,{id:"yValue-raw",invalidValue:null,...A})];this.crossFilteringEnabled()&&T.push(St(s,b,{id:"yFilterValue",invalidValue:null,...A})),h&&T.push(...mc(i,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:w,separateNegative:!0,...A},b),...mc(i,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:M,separateNegative:!0,...A},b)),C&&T.push(X3,Z3),It(n)&&T.push(Fx([w,M],Math.abs(n))),g&&this.processedData&&T.push(bf(this.id,this.processedData)),(g||!f)&&T.push(xf());const{dataModel:k,processedData:R}=await this.requestDataModel(e,a,{props:T,groupByKeys:f,groupByData:!f});this.dataAggregationFilters=this.aggregateData(k,R),this.smallestDataInterval=(V=R.reduced)==null?void 0:V.smallestKeyInterval,this.largestDataInterval=(Q=R.reduced)==null?void 0:Q.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){var o;const{processedData:t,dataModel:i}=this;if(i==null||t==null)return[];if(e===this.getCategoryDirection()){const a=i.resolveProcessedDataDefById(this,"xValue"),l=i.getDomain(this,"xValue","key",t);return(a==null?void 0:a.def.type)==="key"&&a.def.valueType==="category"?l:this.padBandExtent(l)}const s=(o=this.dataModel)!=null&&o.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";let n=this.domainForClippedRange("y",[s],"xValue",!0);const r=this.crossFilteringEnabled()?i.getDomain(this,"yFilterValue","value",t):void 0;if(r!=null&&(n=[Math.min(n[0],r[0]),Math.max(n[1],r[1])]),this.getValueAxis()instanceof yh)return jn(n);{const a=Number.isFinite(n[1]-n[0])?[Math.min(0,n[0]),Math.max(0,n[1])]:[];return jn(a)}}getSeriesRange(e,t){var r;const i=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",[s,n]=this.domainForVisibleRange("y",[i],"xValue",t,!0);return[Math.min(s,0),Math.max(n,0)]}getVisibleItems(e,t,i){var n;const s=(n=this.dataModel)!=null&&n.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";return this.countVisibleItems("xValue",[s],e,t,i)}aggregateData(e,t){}createNodeData(){var z;const{dataModel:e,processedData:t,groupScale:i,dataAggregationFilters:s}=this,n=this.getCategoryAxis(),r=this.getValueAxis();if(!e||!t||!n||!r||!this.properties.isValid())return;const o=(z=t.dataSources)==null?void 0:z.get(this.id);if(o==null)return;const a=n.scale,l=r.scale,{xKey:u,yKey:h,xName:f,yName:g,legendItemName:m,label:y}=this.properties,C=r.isReversed(),{barWidth:x,groupIndex:b}=this.updateGroupScale(n),w=i.convert(String(b)),M=Vt.is(a)?x*-.5:0,A=e.resolveKeysById(this,"xValue",t),T=e.resolveColumnById(this,"yValue-raw",t),k=this.crossFilteringEnabled()?e.resolveColumnById(this,"yFilterValue",t):void 0,R=!this.ctx.animationManager.isSkipped(),F=ee=>a.convert(A[ee])+w+M,I=this.properties.crisp??LG(n==null?void 0:n.scale,n==null?void 0:n.visibleRange,this.smallestDataInterval,this.largestDataInterval),N=l.convert(0),G=({datum:ee,datumIndex:O,valueIndex:j,xValue:H,yValue:K,cumulativeValue:ne,phantom:ge,currY:ce,prevY:ue,x:de,width:Le,isPositive:X,yRange:ze,labelText:_e,opacity:je,crossScale:Ue=1})=>{const we=X!==C,qe=l.convert(ce),ht=l.convert(ue),rt=l.convert(ze),st=this.getBarDirection()==="x",Xt=Le*.5*(1-Ue),qt={x:st?Math.min(qe,ht):de+Xt,y:st?de+Xt:Math.min(qe,ht),width:st?Math.abs(ht-qe):Le*Ue,height:st?Le*Ue:Math.abs(ht-qe)},Lt=new Ze(qt.x,qt.y,qt.width,qt.height),cs={x:st?Math.min(N,rt):de+Xt,y:st?de+Xt:Math.min(N,rt),width:st?Math.abs(N-rt):Le*Ue,height:st?Le*Ue:Math.abs(N-rt)},Vs=this.shouldFlipXY()?qt.height:qt.width;return{series:this,itemId:ge?Xi(h,ge):h,datum:ee,datumIndex:O,valueIndex:j,cumulativeValue:ne,phantom:ge,xValue:H,yValue:K,yKey:h,xKey:u,capDefaults:{lengthRatioMultiplier:Vs,lengthMax:Vs},x:cs.x,y:cs.y,width:cs.width,height:cs.height,midPoint:{x:qt.x+qt.width/2,y:qt.y+qt.height/2},opacity:je,topLeftCornerRadius:st!==we,topRightCornerRadius:we,bottomRightCornerRadius:st===we,bottomLeftCornerRadius:!we,clipBBox:Lt,crisp:I,label:_e!=null?{text:_e,...PG({isUpward:we,isVertical:!st,placement:y.placement,padding:y.padding,rect:qt})}:void 0,missing:K==null,focusable:!ge}},V=[],Q=[],pe=[],ae=(ee,O,j,H,K,ne,ge,ce)=>{const ue=A[ee];if(ue==null)return;const de=T[ee],Le=k!=null?Number(k[ee]):void 0,X=de>=0&&!Object.is(de,-0);if(!Number.isFinite(ne)||Le!=null&&!Number.isFinite(Le))return;const ze=de!=null?this.getLabelText(this.properties.label,{datum:o[ee],value:Le??de,xKey:u,yKey:h,xName:f,yName:g,legendItemName:m}):void 0,_e=Le!=null&&Le>de,je=G({datum:o[ee],datumIndex:ee,valueIndex:O,xValue:ue,yValue:Le??de,cumulativeValue:Le??ne,phantom:!1,currY:Le!=null?K+Le:ne,prevY:K,x:j,width:H,isPositive:X,yRange:Math.max(K+(Le??-1/0),ge),labelText:ze,opacity:ce,crossScale:_e?.6:void 0});if(Q.push(je),pe.push(je),Le!=null){const Ue=G({datum:o[ee],datumIndex:ee,valueIndex:O,xValue:ue,yValue:Le,cumulativeValue:Le,phantom:!0,currY:ne,prevY:K,x:j,width:H,isPositive:X,yRange:ge,labelText:void 0,opacity:ce,crossScale:void 0});V.push(Ue)}},[se,le]=a.range,re=le-se,J=s==null?void 0:s.find(ee=>ee.maxRange>re);if(t.type==="grouped"){const ee=x,O=e.hasColumnById(this,"yValue-start"),j=O?e.resolveColumnById(this,"yValue-start",t):void 0,H=O?e.resolveColumnById(this,"yValue-end",t):void 0,K=O?e.resolveProcessedDataIndexById(this,"yValue-range"):-1;for(const{datumIndex:ne,valueIndex:ge,group:{aggregation:ce}}of e.forEachGroupDatum(this,t)){const ue=F(ne),de=T[ne],Le=de>=0&&!Object.is(de,-0),X=O?Number(j==null?void 0:j[ne]):0,ze=O?Number(H==null?void 0:H[ne]):de;let _e=ze;O&&(_e=ce[K][Le?1:0]),ae(ne,ge,ue,ee,X,ze,_e,1)}}else if(J==null){const ee=x;let[O,j]=this.visibleRange("xValue",n.range);t.input.count<1e3&&(O=0,j=t.input.count);for(let H=O;H<j;H+=1){const K=F(H),ne=Number(T[H]);ae(H,0,K,ee,0,ne,ne,1)}}else{const{indexData:ee,indices:O}=J,[j,H]=this.visibleRange("xValue",n.range,O);for(let K=j;K<H;K+=1){const ne=K*Ale,ge=ee[ne+Sle],ce=ee[ne+wle],ue=ee[ne+Mle],de=ee[ne+Dle];if(ge===-1)continue;const Le=F((ge+ce)/2|0),X=Math.abs(F(ce)-F(ge))+x,ze=A[de]!=null?Number(T[de]):NaN,_e=A[ue]!=null?Number(T[ue]):NaN;if(ze>0){const je=_e>=0?_e/ze:1;ae(de,0,Le,X,0,ze,ze,je)}if(_e<0){const je=ze<=0?ze/_e:1;ae(ue,1,Le,X,0,_e,_e,je)}}}return{itemId:h,nodeData:V.length>0?[...V,...Q]:Q,labelData:pe,scales:this.calculateScaling(),visible:this.visible||R,groupScale:this.getScaling(this.groupScale)}}nodeFactory(){return new on}getHighlightData(e,t){const i=e.find(s=>s.datum===t.datum&&!s.phantom);return i!=null?[i]:void 0}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>this.getDatumId(t))}getItemBaseStyle(e){const{properties:t}=this,{cornerRadius:i}=t,s=e?t.highlightStyle.item:void 0;return{fill:(s==null?void 0:s.fill)??t.fill,fillOpacity:(s==null?void 0:s.fillOpacity)??t.fillOpacity,stroke:(s==null?void 0:s.stroke)??t.stroke,strokeWidth:(s==null?void 0:s.strokeWidth)??this.getStrokeWidth(t.strokeWidth),strokeOpacity:(s==null?void 0:s.strokeOpacity)??t.strokeOpacity,lineDash:(s==null?void 0:s.lineDash)??t.lineDash??[],lineDashOffset:(s==null?void 0:s.lineDashOffset)??t.lineDashOffset,cornerRadius:i}}getItemStyleOverrides(e,t,i,s,n,r){const{id:o,properties:a}=this,{xKey:l,yKey:u,itemStyler:h}=a;if(h==null)return;const{xDomain:f,yDomain:g}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));return this.cachedDatumCallback(Xi(e,r?"highlight":"node"),()=>h({seriesId:o,...pc(t,l,u,f,g),xValue:i,yValue:s,highlighted:r,...n}))}updateDatumNodes(e){if(!this.properties.isValid())return;const{shadow:t}=this.properties,i=this.getCategoryDirection()==="x",s=this.getItemBaseStyle(e.isHighlight);e.datumSelection.each((n,r)=>{var l,u;const o=this.getItemStyleOverrides(String(r.datumIndex),r.datum,r.xValue,r.yValue,s,e.isHighlight);n.opacity=r.opacity??0,$p(n,s,o);const a=(o==null?void 0:o.cornerRadius)??s.cornerRadius;n.topLeftCornerRadius=r.topLeftCornerRadius?a:0,n.topRightCornerRadius=r.topRightCornerRadius?a:0,n.bottomRightCornerRadius=r.bottomRightCornerRadius?a:0,n.bottomLeftCornerRadius=r.bottomLeftCornerRadius?a:0,n.visible=i?(((l=r.clipBBox)==null?void 0:l.width)??r.width)>0:(((u=r.clipBBox)==null?void 0:u.height)??r.height)>0,n.crisp=r.crisp,n.fillShadow=t})}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t,i=>{i.pointerEvents=1})}updateLabelNodes(e){e.labelSelection.each((t,i)=>{FG(t,this.properties.label,i.label)})}getTooltipContent(e){var M;const{id:t,dataModel:i,processedData:s,properties:n}=this,{xKey:r,xName:o,yKey:a,yName:l,legendItemName:u,stackGroup:h,tooltip:f}=n,g=this.getCategoryAxis(),m=this.getValueAxis();if(!i||!s||!g||!m)return;const{datumIndex:y}=e,C=(M=s.dataSources.get(this.id))==null?void 0:M[y],x=i.resolveKeysById(this,"xValue",s)[y],b=i.resolveColumnById(this,"yValue-raw",s)[y];if(x==null)return;const w=this.getItemBaseStyle(!1);return Object.assign(w,this.getItemStyleOverrides(String(y),C,x,b,w,!1)),f.formatTooltip({heading:g.formatDatum(x),symbol:this.legendItemSymbol(),data:[{label:l,fallbackLabel:a,value:m.formatDatum(b)}]},{seriesId:t,datum:C,title:l,xKey:r,xName:o,yKey:a,yName:l,legendItemName:u,stackGroup:h,...w,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:i,fillOpacity:s,strokeOpacity:n,lineDash:r,lineDashOffset:o}=this.properties;return{marker:{fill:e,fillOpacity:s,stroke:t,strokeWidth:i,strokeOpacity:n,lineDash:r,lineDashOffset:o}}}getLegendData(e){const{showInLegend:t}=this.properties;if(e!=="category"||!this.properties.isValid())return[];const{id:i,ctx:{legendManager:s},visible:n}=this,{yKey:r,yName:o,legendItemName:a}=this.properties;return[{legendType:"category",id:i,itemId:r,seriesId:i,enabled:n&&s.getItemEnabled({seriesId:i,itemId:r}),label:{text:a??o??r},symbol:this.legendItemSymbol(),legendItemName:a,hideInLegend:!t}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t,annotationSelections:i}){const s=sm(im(this.isVertical(),this.axes,"normal"));ki(this.id,"nodes",this.ctx.animationManager,[e],s),Nt(this,"labels",this.ctx.animationManager,t),Nt(this,"annotations",this.ctx.animationManager,...i)}animateWaitingUpdateReady(e){var h,f,g,m,y;const{datumSelection:t,labelSelection:i,annotationSelections:s,previousContextData:n}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);let r=(g=(f=(h=this.processedData)==null?void 0:h.reduced)==null?void 0:f.diff)==null?void 0:g[this.id];r==null&&((y=(m=this.processedData)==null?void 0:m.reduced)==null?void 0:y.diff)!=null&&(r={changed:!0,added:new Set(Array.from(t,({datum:C})=>this.getDatumId(C))),updated:new Set,removed:new Set,moved:new Set});const o=n==null?"fade":"normal",a=sm(im(this.isVertical(),this.axes,o));ki(this.id,"nodes",this.ctx.animationManager,[t],a,(C,x)=>this.getDatumId(x),r);const l=n!=null&&(!Nd(e.contextData.scales.x,n.scales.x)||!Nd(e.contextData.scales.y,n.scales.y)||!Nd(e.contextData.groupScale,e.previousContextData.groupScale));(((r==null?void 0:r.changed)??!1)||l)&&(Nt(this,"labels",this.ctx.animationManager,i),Nt(this,"annotations",this.ctx.animationManager,...s))}getDatumId(e){return Xi(e.xValue,e.valueIndex,e.phantom)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){var i;const t=(i=this.contextNodeData)==null?void 0:i.nodeData[e].clipBBox;return FE(this,t)}};Yx.className="BarSeries";Yx.type="bar";var OG={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:e=>new Yx(e),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:dG([{type:"number",position:"left"},{type:"category",position:"bottom"}],e=>(e==null?void 0:e.direction)==="horizontal"),themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$if:[{$or:[{$eq:[{$path:"./placement"},"outside-start"]},{$eq:[{$path:"./placement"},"outside-end"]}]},{$ref:"textColor"},{$ref:"backgroundColor"}]},placement:"inside-center"},shadow:{enabled:!1,color:_c,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:$m},PE=class extends an{constructor(){super(...arguments),this.maxSize=30}};E([L(Ve),Xe()],PE.prototype,"maxSize",2);E([L(dx,{optional:!0}),Xe()],PE.prototype,"domain",2);var NG=class extends vs{constructor(){super(...arguments),this.placement="top"}};E([L(dA)],NG.prototype,"placement",2);var Yt=class extends wl{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new NG,this.tooltip=new ln,this.marker=new PE}};E([L(Fe)],Yt.prototype,"xKey",2);E([L(Fe)],Yt.prototype,"yKey",2);E([L(Fe)],Yt.prototype,"sizeKey",2);E([L(Fe,{optional:!0})],Yt.prototype,"labelKey",2);E([L(Fe,{optional:!0})],Yt.prototype,"colorKey",2);E([L(Fe,{optional:!0})],Yt.prototype,"xFilterKey",2);E([L(Fe,{optional:!0})],Yt.prototype,"yFilterKey",2);E([L(Fe,{optional:!0})],Yt.prototype,"sizeFilterKey",2);E([L(Fe,{optional:!0})],Yt.prototype,"xName",2);E([L(Fe,{optional:!0})],Yt.prototype,"yName",2);E([L(Fe,{optional:!0})],Yt.prototype,"sizeName",2);E([L(Fe,{optional:!0})],Yt.prototype,"labelName",2);E([L(Fe,{optional:!0})],Yt.prototype,"colorName",2);E([L(dx,{optional:!0})],Yt.prototype,"colorDomain",2);E([L(hr)],Yt.prototype,"colorRange",2);E([L(Fe,{optional:!0})],Yt.prototype,"title",2);E([fi("marker.shape")],Yt.prototype,"shape",2);E([fi("marker.size")],Yt.prototype,"size",2);E([fi("marker.maxSize")],Yt.prototype,"maxSize",2);E([fi("marker.domain",{optional:!0})],Yt.prototype,"domain",2);E([fi("marker.fill",{optional:!0})],Yt.prototype,"fill",2);E([fi("marker.fillOpacity")],Yt.prototype,"fillOpacity",2);E([fi("marker.stroke",{optional:!0})],Yt.prototype,"stroke",2);E([fi("marker.strokeWidth")],Yt.prototype,"strokeWidth",2);E([fi("marker.strokeOpacity")],Yt.prototype,"strokeOpacity",2);E([fi("marker.lineDash")],Yt.prototype,"lineDash",2);E([fi("marker.lineDashOffset")],Yt.prototype,"lineDashOffset",2);E([fi("marker.itemStyler",{optional:!0})],Yt.prototype,"itemStyler",2);E([L($e)],Yt.prototype,"label",2);E([L($e)],Yt.prototype,"tooltip",2);var Ele=class extends iE{constructor(e,t,i,s){super(e,t,i,s),this.sizeKey=s.properties.sizeKey}},OE=class extends Pc{constructor(e){super({moduleCtx:e,directionKeys:ph,directionNames:mh,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Dl,marker:Xm},usesPlacedLabels:!0}),this.NodeEvent=Ele,this.clipFocusBox=!1,this.properties=new Yt,this.sizeScale=new Do,this.colorScale=new Tc}get pickModeAxis(){return"main-category"}async processData(e){var k,R;if(!this.properties.isValid()||this.data==null||!this.visible)return;const t=(k=this.axes.x)==null?void 0:k.scale,i=(R=this.axes.y)==null?void 0:R.scale,{xScaleType:s,yScaleType:n}=this.getScaleInformation({xScale:t,yScale:i}),r=this.colorScale.type,o=this.sizeScale.type,{xKey:a,yKey:l,sizeKey:u,xFilterKey:h,yFilterKey:f,sizeFilterKey:g,labelKey:m,colorDomain:y,colorRange:C,colorKey:x,marker:b}=this.properties,{dataModel:w,processedData:M}=await this.requestDataModel(e,this.data,{props:[St(a,s,{id:"xValue"}),St(l,n,{id:"yValue"}),...h!=null?[St(h,s,{id:"xFilterValue"})]:[],...f!=null?[St(f,n,{id:"yFilterValue"})]:[],...g!=null?[St(g,o,{id:"sizeFilterValue"})]:[],St(u,o,{id:"sizeValue"}),...x?[St(x,r,{id:"colorValue"})]:[],...m?[St(m,"band",{id:"labelValue"})]:[]]}),A=w.resolveProcessedDataIndexById(this,"sizeValue"),T=M.domain.values[A]??[];if(this.sizeScale.domain=b.domain?b.domain:T,x){const F=w.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=y??M.domain.values[F]??[],this.colorScale.range=C,this.colorScale.update()}this.animationState.transition("updateData")}xCoordinateRange(e,t,i){const{properties:s,sizeScale:n}=this,{size:r,sizeKey:o}=s,a=this.axes.x.scale.convert(e),l=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,h=.5*(l!=null?n.convert(l[i]):r)*t;return[a-h,a+h]}yCoordinateRange(e,t,i){const{properties:s,sizeScale:n}=this,{size:r,sizeKey:o}=s,a=this.axes.y.scale.convert(e[0]),l=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,h=.5*(l!=null?n.convert(l[i]):r)*t;return[a-h,a+h]}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const s={x:"xValue",y:"yValue"},n=s[e],r=t.resolveProcessedDataDefById(this,n),o=t.getDomain(this,n,"value",i);if((r==null?void 0:r.def.type)==="value"&&(r==null?void 0:r.def.valueType)==="category")return o;const l=s[e==="x"?"y":"x"],u=this.domainForClippedRange(e,[n],l,!1);return jn(bl(u))}getSeriesRange(e,t){return this.domainForVisibleRange("y",["yValue"],"xValue",t,!1)}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["yValue"],e,t,i)}createNodeData(){var j;const{axes:e,dataModel:t,processedData:i,colorScale:s,sizeScale:n,visible:r}=this,{xKey:o,yKey:a,sizeKey:l,xFilterKey:u,yFilterKey:h,sizeFilterKey:f,labelKey:g,xName:m,yName:y,sizeName:C,labelName:x,label:b,colorKey:w,marker:M}=this.properties,{placement:A}=b,T=ms.anchor(M.shape),k=e.x,R=e.y;if(!(t&&i&&r&&k&&R))return;const F=t.resolveColumnById(this,"xValue",i),I=t.resolveColumnById(this,"yValue",i),N=l!=null?t.resolveColumnById(this,"sizeValue",i):void 0,G=w!=null?t.resolveColumnById(this,"colorValue",i):void 0,V=g!=null?t.resolveColumnById(this,"labelValue",i):void 0,Q=u!=null?t.resolveColumnById(this,"xFilterValue",i):void 0,pe=h!=null?t.resolveColumnById(this,"yFilterValue",i):void 0,ae=f!=null?t.resolveColumnById(this,"sizeFilterValue",i):void 0,se=k.scale,le=R.scale,re=(se.bandwidth??0)/2,J=(le.bandwidth??0)/2,z=[];n.range=[M.size,M.maxSize];const ee=b.getFont(),O=yl.getMeasurer({font:ee});return(j=i.dataSources.get(this.id))==null||j.forEach((H,K)=>{const ne=F[K],ge=I[K],ce=N==null?void 0:N[K],ue=se.convert(ne)+re,de=le.convert(ge)+J;let Le;Q!=null&&pe!=null&&(Le=Q[K]===ne&&pe[K]===ge,ae!=null&&Le&&(Le=ae[K]===ce));const X=this.getLabelText(b,{value:V!=null?V[K]:ge,datum:H,xKey:o,yKey:a,sizeKey:l,labelKey:g,xName:m,yName:y,sizeName:C,labelName:x}),ze=O.measureText(String(X)),_e=ce!=null?n.convert(ce):M.size,je=G!=null?s.convert(G[K]):void 0;z.push({series:this,itemId:a,yKey:a,xKey:o,datum:H,datumIndex:K,xValue:ne,yValue:ge,sizeValue:ce,point:{x:ue,y:de,size:_e},midPoint:{x:ue,y:de},fill:je,label:{text:X,...ze},anchor:T,placement:A,selected:Le})}),{itemId:a,nodeData:z,labelData:z,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return this.isLabelEnabled()?((e=this.contextNodeData)==null?void 0:e.labelData)??[]:[]}updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());const s=this.properties.marker.enabled?t:[];return i.update(s,void 0,n=>Xi([n.xValue,n.yValue,n.label.text]))}getMarkerItemBaseStyle(e){const{properties:t}=this,{marker:i}=t,s=e?t.highlightStyle.item:void 0;return{fill:(s==null?void 0:s.fill)??i.fill,fillOpacity:(s==null?void 0:s.fillOpacity)??i.fillOpacity,stroke:(s==null?void 0:s.stroke)??i.stroke,strokeWidth:(s==null?void 0:s.strokeWidth)??i.strokeWidth,strokeOpacity:(s==null?void 0:s.strokeOpacity)??i.strokeOpacity,lineDash:(s==null?void 0:s.lineDash)??i.lineDash,lineDashOffset:(s==null?void 0:s.lineDashOffset)??i.lineDashOffset}}getMarkerItemStyleOverrides(e,t,i,s){const{id:n,properties:r}=this,{xKey:o,yKey:a,sizeKey:l,labelKey:u,marker:h}=r,{itemStyler:f}=h;if(f!=null)return this.cachedDatumCallback(Xi(e,s?"highlight":"node"),()=>f({seriesId:n,datum:t,xKey:o,yKey:a,sizeKey:l,labelKey:u,highlighted:s,...i}))}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:s,yKey:n,sizeKey:r,labelKey:o,marker:a}=this.properties,{size:l,shape:u,fill:h,fillOpacity:f,stroke:g,strokeWidth:m,strokeOpacity:y,lineDash:C,lineDashOffset:x}=bt(i&&this.properties.highlightStyle.item,a.getStyle()),b={size:l,shape:u,fill:h,fillOpacity:f,stroke:g,strokeWidth:m,strokeOpacity:y,lineDash:C,lineDashOffset:x};this.sizeScale.range=[a.size,a.maxSize],t.each((w,M)=>{this.updateMarkerStyle(w,a,{datum:M,highlighted:i,xKey:s,yKey:n,sizeKey:r,labelKey:o},b,{selected:M.selected})}),i||this.properties.marker.markClean()}updatePlacedLabelData(e){this.labelSelection.update(e.map(t=>({...t.datum,point:{x:t.x,y:t.y,size:t.datum.point.size}})),t=>{t.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each((i,s)=>{var n,r;i.text=s.label.text,i.fill=t.color,i.x=((n=s.point)==null?void 0:n.x)??0,i.y=((r=s.point)==null?void 0:r.y)??0,i.fontStyle=t.fontStyle,i.fontWeight=t.fontWeight,i.fontSize=t.fontSize,i.fontFamily=t.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipContent(e){var F;const{id:t,dataModel:i,processedData:s,axes:n,properties:r}=this,{xKey:o,xName:a,yKey:l,yName:u,sizeKey:h,sizeName:f,labelKey:g,labelName:m,title:y,tooltip:C}=r,x=n.x,b=n.y;if(!i||!s||!x||!b)return;const{datumIndex:w}=e,M=(F=s.dataSources.get(this.id))==null?void 0:F[w],A=i.resolveColumnById(this,"xValue",s)[w],T=i.resolveColumnById(this,"yValue",s)[w];if(A==null)return;const k=[{label:a,fallbackLabel:o,value:x.formatDatum(A)},{label:u,fallbackLabel:l,value:b.formatDatum(T)}];if(h!=null){const I=i.resolveColumnById(this,"sizeValue",s)[w];k.push({label:f,fallbackLabel:h,value:String(I)})}const R=this.getMarkerItemBaseStyle(!1);return Object.assign(R,this.getMarkerItemStyleOverrides(String(w),M,R,!1)),C.formatTooltip({title:y,symbol:this.legendItemSymbol(),data:k},{seriesId:t,datum:M,title:l,xKey:o,xName:a,yKey:l,yName:u,sizeKey:h,sizeName:f,labelKey:g,labelName:m,...R,...this.getModuleTooltipParams()})}legendItemSymbol(){const{marker:e}=this.properties,{shape:t,fill:i,stroke:s,fillOpacity:n,strokeOpacity:r,strokeWidth:o,lineDash:a,lineDashOffset:l}=e;return{marker:{shape:t,fill:i??"rgba(0, 0, 0, 0)",stroke:s??"rgba(0, 0, 0, 0)",fillOpacity:n,strokeOpacity:r,strokeWidth:o,lineDash:a,lineDashOffset:l}}}getLegendData(){if(!this.properties.isValid())return[];const{id:e,ctx:{legendManager:t},visible:i}=this,{yKey:s,yName:n,title:r}=this.properties;return[{legendType:"category",id:e,itemId:s,seriesId:e,enabled:i&&t.getItemEnabled({seriesId:e,itemId:s}),label:{text:r??n??s},symbol:this.legendItemSymbol()}]}animateEmptyUpdateReady({markerSelection:e,labelSelection:t}){ME(this,this.ctx.animationManager,e),Nt(this,"labels",this.ctx.animationManager,t)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ot}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,sizeKey:s,labelKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,sizeKey:s,labelKey:n,highlighted:!1})}computeFocusBounds(e){return Zm(this,e)}};OE.className="BubbleSeries";OE.type="bubble";var Tle={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:e=>new OE(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}},paletteFactory:$m},as=class extends wl{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Oo,this.label=new vs,this.tooltip=new ln}};E([L(Fe)],as.prototype,"xKey",2);E([L(Fe,{optional:!0})],as.prototype,"yKey",2);E([L(Fe,{optional:!0})],as.prototype,"xName",2);E([L(Fe,{optional:!0})],as.prototype,"yName",2);E([L(Bt,{optional:!0})],as.prototype,"fill",2);E([L(Wt)],as.prototype,"fillOpacity",2);E([L(Bt,{optional:!0})],as.prototype,"stroke",2);E([L(Ve)],as.prototype,"strokeWidth",2);E([L(Wt)],as.prototype,"strokeOpacity",2);E([L(ha)],as.prototype,"lineDash",2);E([L(Ve)],as.prototype,"lineDashOffset",2);E([L(Ve)],as.prototype,"cornerRadius",2);E([L(et)],as.prototype,"areaPlot",2);E([L(Dm,{optional:!0})],as.prototype,"bins",2);E([L(ii(["count","sum","mean"],"a histogram aggregation"))],as.prototype,"aggregation",2);E([L(Ve,{optional:!0})],as.prototype,"binCount",2);E([L($e)],as.prototype,"shadow",2);E([L($e)],as.prototype,"label",2);E([L($e)],as.prototype,"tooltip",2);var B2=10,NE=class extends Pc{constructor(e){super({moduleCtx:e,directionKeys:ph,directionNames:mh,pickModes:[1,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:nm,label:Dl}}),this.properties=new as,this.calculatedBins=[]}deriveBins(e){const t=DA(e[0],e[1],B2),i=Wp(e[0],e[1],B2),[s]=t,n=r=>[r,r+i];return[[s-i,s],...t.map(n)]}calculateNiceBins(e,t){const i=Math.floor(e[0]),s=e[1],n=t||1,{start:r,binSize:o}=this.calculateNiceStart(i,s,n);return this.getBins(r,s,o,n)}getBins(e,t,i,s){const n=[],r=this.calculatePrecision(i);for(let o=0;o<s;o++){const a=Math.round((e+o*i)*r)/r;let l=Math.round((e+(o+1)*i)*r)/r;o===s-1&&(l=Math.max(l,t)),n[o]=[a,l]}return n}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,i){const s=Math.abs(t-e)/i,n=Math.floor(Math.log10(s)),r=Math.pow(10,n);return{start:Math.floor(e/r)*r,binSize:s}}async processData(e){var f,g;this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:t,yKey:i,areaPlot:s,aggregation:n}=this.properties,r=(f=this.axes.x)==null?void 0:f.scale,o=(g=this.axes.y)==null?void 0:g.scale,{xScaleType:a,yScaleType:l}=this.getScaleInformation({yScale:o,xScale:r}),u=[Ao(t,a),q3];if(i){let m=WM("groupAgg");n==="count"||(n==="sum"?m=z3("groupAgg"):n==="mean"&&(m=H3("groupAgg"))),s&&(m=UM("groupAgg",m)),u.push(St(i,l,{invalidValue:void 0}),m)}else{u.push(K3("count"));let m=WM("groupAgg");s&&(m=UM("groupAgg",m)),u.push(m)}const h=m=>{const y=jn(m.domain.keys[0]);if(y.length===0)return m.domain.groups=[],()=>[];const C=Hr(this.properties.binCount)?this.calculateNiceBins(y,this.properties.binCount):this.properties.bins??this.deriveBins(y),x=C.length;return this.calculatedBins=[...C],b=>{let w=b[0];if(uf(w)&&(w=w.getTime()),!Hr(w))return[];for(let M=0;M<x;M++){const A=C[M];if(w>=A[0]&&w<A[1]||M===x-1&&w<=A[1])return A}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&u.push(bf(this.id,this.processedData,!1)),await this.requestDataModel(e,this.data,{props:u,groupByFn:h}),this.animationState.transition("updateData")}xCoordinateRange(){return[NaN,NaN]}yCoordinateRange(){return[NaN,NaN]}getSeriesDomain(e){var o,a,l;const{processedData:t,dataModel:i}=this;if(!t||!i||!this.calculatedBins.length)return[];const s=i.getDomain(this,"groupAgg","aggregate",t),n=(o=this.calculatedBins)==null?void 0:o[0][0],r=(l=this.calculatedBins)==null?void 0:l[(((a=this.calculatedBins)==null?void 0:a.length)??0)-1][1];return jn(e==="x"?[n,r]:s)}getSeriesRange(e,[t,i]){const{dataModel:s,processedData:n}=this;if(!s||(n==null?void 0:n.type)!=="grouped")return[NaN,NaN];const r=this.axes.x.scale,o=0;let a=-1/0;return n.groups.forEach(({keys:l,aggregation:u})=>{const[[h,f]=[0,0]]=u,[g,m]=l,[y,C]=Es([r.convert(g),r.convert(m)]);if(C>=t&&y<=i){const x=h+f;a=Math.max(a,x)}}),o>a?[NaN,NaN]:[o,a]}createNodeData(){const{id:e,axes:t,processedData:i,dataModel:s}=this,n=t.x,r=t.y;if(!n||!r||!s)return;const{scale:o}=n,{scale:a}=r,{xKey:l,yKey:u,xName:h,yName:f}=this.properties,g=this.properties.label.formatter??(C=>String(C.value)),m=[],y={itemId:this.properties.yKey??this.id,nodeData:m,labelData:m,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||i==null||i.type!=="grouped"||(i.groups.forEach((C,x)=>{const{keys:b,datumIndices:w,aggregation:M}=C,[[A,T]=[0,0]]=M,k=w.length,R=b,[F,I]=R,N=[...s.forEachDatum(this,i,C)],G=o.convert(F),V=o.convert(I),Q=A+T,pe=a.convert(0),ae=a.convert(Q),se=Math.abs(V-G),le=Math.abs(ae-pe),re=Math.min(G,V),J=Math.min(pe,ae);let z;Q!==0&&(z={x:re+se/2,y:J+le/2,text:this.cachedDatumCallback(Xi(x,"label"),()=>g({value:Q,datum:N,seriesId:e,xKey:l,yKey:u,xName:h,yName:f}))??String(Q)});const ee={x:re+se/2,y:J+le/2},O=r.isReversed();m.push({series:this,datumIndex:x,datum:N,aggregatedValue:Q,frequency:k,domain:R,yKey:u,xKey:l,x:re,y:J,xValue:G,yValue:ae,width:se,height:le,midPoint:ee,topLeftCornerRadius:!O,topRightCornerRadius:!O,bottomRightCornerRadius:O,bottomLeftCornerRadius:O,label:z,crisp:!0})}),m.sort((C,x)=>C.x-x.x)),y}nodeFactory(){return new on}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e;return i.update(t,void 0,s=>s.domain.join("_"))}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return{fill:(i==null?void 0:i.fill)??t.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??t.fillOpacity,stroke:(i==null?void 0:i.stroke)??t.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(t.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??t.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??t.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??t.lineDashOffset,cornerRadius:t.cornerRadius}}updateDatumNodes(e){const{isHighlight:t}=e,{shadow:i}=this.properties,s=this.getItemBaseStyle(t);e.datumSelection.each((n,r)=>{const{cornerRadius:o}=s,{topLeftCornerRadius:a,topRightCornerRadius:l,bottomRightCornerRadius:u,bottomLeftCornerRadius:h}=r;$p(n,s),n.topLeftCornerRadius=a?o:0,n.topRightCornerRadius=l?o:0,n.bottomRightCornerRadius=u?o:0,n.bottomLeftCornerRadius=h?o:0,n.crisp=r.crisp,n.fillShadow=i,n.visible=r.height>0})}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,s=>{s.pointerEvents=1,s.textAlign="center",s.textBaseline="middle"})}updateLabelNodes(e){const{fontStyle:t,fontWeight:i,fontFamily:s,fontSize:n,color:r}=this.properties.label,o=this.isLabelEnabled();e.labelSelection.each((a,l)=>{o&&(l!=null&&l.label)?(a.text=l.label.text,a.x=l.label.x,a.y=l.label.y,a.fontStyle=t,a.fontWeight=i,a.fontFamily=s,a.fontSize=n,a.fill=r,a.visible=!0):a.visible=!1})}initQuadTree(e){const{value:t}=this.contentGroup.children().next();t&&RE(e,t.children())}pickNodeClosestDatum(e){return kE(this,e)}getTooltipContent(e){const{id:t,dataModel:i,processedData:s,axes:n,properties:r,ctx:{localeManager:o}}=this,{xKey:a,xName:l,yKey:u,yName:h,tooltip:f}=r,g=n.x,m=n.y;if(!i||(s==null?void 0:s.type)!=="grouped"||!g||!m)return;const y=e.datumIndex,C=s.groups[y],{aggregation:x,datumIndices:b,keys:w}=C,[[M,A]=[0,0]]=x,T=b.length,k=w,[R,F]=k,I=M+A,N={data:[...i.forEachDatum(this,s,C)],aggregatedValue:I,frequency:T,domain:k},G=[{label:l,fallbackLabel:a,value:`${g.formatDatum(R)} - ${g.formatDatum(F)}`},{label:o.t("seriesHistogramTooltipFrequency"),value:m.formatDatum(T)}];if(u!=null){let V;switch(r.aggregation){case"sum":V=o.t("seriesHistogramTooltipSum",{yName:h});break;case"mean":V=o.t("seriesHistogramTooltipMean",{yName:h});break;case"count":V=o.t("seriesHistogramTooltipCount",{yName:h});break}G.push({label:V,value:m.formatDatum(I)})}return f.formatTooltip({symbol:this.legendItemSymbol(),data:G},{seriesId:t,datum:N,title:h,xKey:a,xName:l,yKey:u,yName:h,xRange:[R,F],frequency:T,...this.getItemBaseStyle(!1)})}legendItemSymbol(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:s,strokeOpacity:n,lineDash:r,lineDashOffset:o}=this.properties;return{marker:{fill:e??"rgba(0, 0, 0, 0)",stroke:i??"rgba(0, 0, 0, 0)",fillOpacity:t,strokeOpacity:n,strokeWidth:s,lineDash:r,lineDashOffset:o}}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:i},visible:s}=this,{xKey:n,yName:r,showInLegend:o}=this.properties;return[{legendType:"category",id:t,itemId:n,seriesId:t,enabled:s&&i.getItemEnabled({seriesId:t,itemId:n}),label:{text:r??n??"Frequency"},symbol:this.legendItemSymbol(),hideInLegend:!o}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){const i=sm(im(!0,this.axes,"normal"));ki(this.id,"datums",this.ctx.animationManager,[e],i),Nt(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){var s,n,r;const t=(r=(n=(s=this.processedData)==null?void 0:s.reduced)==null?void 0:n.diff)==null?void 0:r[this.id],i=sm(im(!0,this.axes,"normal"));ki(this.id,"datums",this.ctx.animationManager,[e.datumSelection],i,(o,a)=>Xi(a.domain),t),Nt(this,"labels",this.ctx.animationManager,e.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){var t;return FE(this,(t=this.contextNodeData)==null?void 0:t.nodeData[e])}};NE.className="HistogramSeries";NE.type="histogram";var Rle={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:e=>new NE(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},shadow:{enabled:!1,color:_c,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}}},ls=class extends wl{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Ef,this.marker=new an,this.label=new vs,this.tooltip=new ln,this.connectMissingData=!1,this.sparklineMode=!1}};E([L(Fe)],ls.prototype,"xKey",2);E([L(Fe)],ls.prototype,"yKey",2);E([L(Fe,{optional:!0})],ls.prototype,"xName",2);E([L(Fe,{optional:!0})],ls.prototype,"yName",2);E([L(Fe,{optional:!0})],ls.prototype,"yFilterKey",2);E([L(Fe,{optional:!0})],ls.prototype,"stackGroup",2);E([L(Ve,{optional:!0})],ls.prototype,"normalizedTo",2);E([L(Fe,{optional:!0})],ls.prototype,"title",2);E([L(Bt)],ls.prototype,"stroke",2);E([L(Ve)],ls.prototype,"strokeWidth",2);E([L(Wt)],ls.prototype,"strokeOpacity",2);E([L(ha)],ls.prototype,"lineDash",2);E([L(Ve)],ls.prototype,"lineDashOffset",2);E([L($e)],ls.prototype,"interpolation",2);E([L($e)],ls.prototype,"marker",2);E([L($e)],ls.prototype,"label",2);E([L($e)],ls.prototype,"tooltip",2);E([L(et)],ls.prototype,"connectMissingData",2);E([L(et)],ls.prototype,"sparklineMode",2);var kle=.25,Kx=class extends Pc{constructor(e){super({moduleCtx:e,directionKeys:ph,directionNames:mh,hasMarkers:!0,pickModes:[2,1,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:EE({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Dl,marker:(t,i)=>({...Xm(),...tm(t,i)})}}),this.clipFocusBox=!1,this.properties=new ls,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":"main-category"}async processData(e){var T,k;if(this.data==null||!this.properties.isValid())return;const{data:t,visible:i,seriesGrouping:{groupIndex:s=this.id,stackCount:n=0}={}}=this,{xKey:r,yKey:o,yFilterKey:a,connectMissingData:l,normalizedTo:u}=this.properties,h=!this.ctx.animationManager.isSkipped(),f=(T=this.axes.x)==null?void 0:T.scale,g=(k=this.axes.y)==null?void 0:k.scale,{isContinuousX:m,xScaleType:y,yScaleType:C}=this.getScaleInformation({xScale:f,yScale:g}),x=n>=1||u!=null,b={invalidValue:null};l&&x&&(b.invalidValue=0),x&&!i&&(b.forceValue=0);const w=[];if((!m||x)&&w.push(Ao(r,y,{id:"xKey"})),w.push(St(r,y,{id:"xValue"}),St(o,C,{id:"yValueRaw",...b,invalidValue:void 0})),a!=null&&w.push(St(a,C,{id:"yFilterRaw"})),x){const R=[`line-stack-${s}-yValues`,`line-stack-${s}-yValues-trailing`,`line-stack-${s}-yValues-marker`];w.push(...mc(o,"window","current",{id:"yValueEnd",...b,groupId:R[0]},C),...mc(o,"window-trailing","current",{id:"yValueStart",...b,groupId:R[1]},C),...mc(o,"normal","current",{id:"yValueCumulative",...b,groupId:R[2]},C)),fv(u)&&w.push(Fx([R[0],R[1],R[2]],u))}h&&(w.push(xf(m?["xValue"]:void 0)),this.processedData&&w.push(bf(this.id,this.processedData)));const{dataModel:M,processedData:A}=await this.requestDataModel(e,t,{props:w,groupByKeys:x,groupByData:!x});this.dataAggregationFilters=this.aggregateData(M,A),this.animationState.transition("updateData")}xCoordinateRange(e,t){const{marker:i}=this.properties,s=this.axes.x.scale.convert(e),n=i.enabled?.5*i.size*t:0;return[s-n,s+n]}yCoordinateRange(e,t){const{marker:i}=this.properties,s=this.axes.y.scale.convert(e[0]),n=i.enabled?.5*i.size*t:0;return[s-n,s+n]}getSeriesDomain(e){var r;const{dataModel:t,processedData:i}=this;if(!t||!i)return[];if(e==="x"){const o=t.resolveProcessedDataDefById(this,"xValue"),a=t.getDomain(this,"xValue","value",i);return(o==null?void 0:o.def.type)==="value"&&o.def.valueType==="category"?a:jn(bl(a))}const s=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw",n=this.domainForClippedRange("y",[s],"xValue",!0);return jn(n)}getSeriesRange(e,t){var s;const i=(s=this.dataModel)!=null&&s.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.domainForVisibleRange("y",[i],"xValue",t,!0)}getVisibleItems(e,t,i){var n;const s=(n=this.dataModel)!=null&&n.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.countVisibleItems("xValue",[s],e,t,i)}aggregateData(e,t){}createNodeData(){var ce;const{dataModel:e,processedData:t,axes:i,dataAggregationFilters:s}=this,n=i.x,r=i.y;if(!e||!t||!n||!r)return;const{xKey:o,yKey:a,yFilterKey:l,xName:u,yName:h,marker:f,label:g,connectMissingData:m,interpolation:y,legendItemName:C}=this.properties,x=(ce=this.dataModel)==null?void 0:ce.hasColumnById(this,"yValueEnd"),b=n.scale,w=r.scale,M=(b.bandwidth??0)/2,A=(w.bandwidth??0)/2,T=f.enabled?f.size:0,k=t.dataSources.get(this.id)??[],R=e.resolveColumnById(this,"xValue",t),F=e.resolveColumnById(this,"yValueRaw",t),I=x?e.resolveColumnById(this,"yValueEnd",t):void 0,N=x?e.resolveColumnById(this,"yValueCumulative",t):F,G=l!=null?e.resolveColumnById(this,"yFilterRaw",t):void 0,V=ue=>b.convert(R[ue])+M,Q=ue=>w.convert(N[ue])+A,pe={lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},ae=[];let se;const le=ue=>{const de=k[ue],Le=R[ue],X=F[ue],ze=I==null?void 0:I[ue],_e=G==null?void 0:G[ue],je=V(ue),Ue=Q(ue);if(!Number.isFinite(je))return;if(X!=null){const qe=g.enabled?this.getLabelText(g,{value:X,datum:de,xKey:o,yKey:a,xName:u,yName:h,legendItemName:C}):void 0;ae.push({series:this,datum:de,datumIndex:ue,yKey:a,xKey:o,point:{x:je,y:Ue,size:T},midPoint:{x:je,y:Ue},cumulativeValue:ze,yValue:X,xValue:Le,capDefaults:pe,labelText:qe,selected:_e})}if(se==null)return;const we=se[se.length-1];if(X!=null){const qe={point:{x:je,y:Ue},xDatum:Le,yDatum:X};Array.isArray(we)?we.push(qe):we!=null?(we.skip+=1,se.push([qe])):se.push([qe])}else m||(Array.isArray(we)||we==null?se.push({skip:0}):we.skip+=1)},[re,J]=b.range,z=J-re,ee=s==null?void 0:s.find(ue=>ue.maxRange>z),O=ee==null?void 0:ee.indices;let[j,H]=this.visibleRange("xValue",n.range,O);j=Math.max(j-1,0),H=Math.min(H+1,(O==null?void 0:O.length)??R.length),t.input.count<1e3&&(j=0,H=t.input.count),O==null&&(se=[]);for(let ue=j;ue<H;ue+=1)le((O==null?void 0:O[ue])??ue);const K=se==null?void 0:se.flatMap(ue=>Array.isArray(ue)?xC(ue,y):[]),ne=K!=null?{itemId:a,spans:K}:void 0,ge=(G==null?void 0:G.some((ue,de)=>ue===F[de]))??!1;return{itemId:a,nodeData:ae,labelData:ae,strokeData:ne,scales:this.calculateScaling(),visible:this.visible,crossFiltering:ge}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){var o;const{paths:[t],opacity:i,visible:s,animationEnabled:n}=e,r=((o=this.contextNodeData)==null?void 0:o.crossFiltering)===!0;t.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:i,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity*(r?kle:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),n||(t.visible=s),SC(this,t)}getMarkerItemBaseStyle(e){const{properties:t}=this,{marker:i}=t,s=e?t.highlightStyle.item:void 0;return{size:i.size,shape:i.shape,fill:(s==null?void 0:s.fill)??i.fill,fillOpacity:(s==null?void 0:s.fillOpacity)??i.fillOpacity,stroke:(s==null?void 0:s.stroke)??i.stroke,strokeWidth:(s==null?void 0:s.strokeWidth)??i.strokeWidth,strokeOpacity:(s==null?void 0:s.strokeOpacity)??i.strokeOpacity,lineDash:(s==null?void 0:s.lineDash)??i.lineDash,lineDashOffset:(s==null?void 0:s.lineDashOffset)??i.lineDashOffset}}getMarkerItemStyleOverrides(e,t,i,s){const{id:n,properties:r}=this,{xKey:o,yKey:a,marker:l}=r,{itemStyler:u}=l;if(u!=null)return this.cachedDatumCallback(Xi(e,s?"highlight":"node"),()=>{const h=this.getSeriesDomain("x"),f=this.getSeriesDomain("y");return u({seriesId:n,...pc(t,o,a,h,f),highlighted:s,...i})})}updateMarkerSelection(e){var n;let{nodeData:t}=e;const{markerSelection:i}=e;return t=this.properties.marker.enabled||((n=this.contextNodeData)==null?void 0:n.crossFiltering)===!0?t:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(t,void 0,r=>Xi(r.xValue))}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:s,yKey:n,stroke:r,strokeWidth:o,strokeOpacity:a,marker:l,highlightStyle:u}=this.properties,h=this.getSeriesDomain("x"),f=this.getSeriesDomain("y"),g=bt(i&&u.item,l.getStyle(),{stroke:r,strokeWidth:o,strokeOpacity:a}),m=this.ctx.animationManager.isSkipped();t.each((y,C)=>{this.updateMarkerStyle(y,l,{...pc(C,s,n,h,f),highlighted:i},g,{applyTranslation:m,selected:C.selected})}),i||l.markClean()}updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}updateLabelNodes(e){const{enabled:t,fontStyle:i,fontWeight:s,fontSize:n,fontFamily:r,color:o}=this.properties.label;e.labelSelection.each((a,l)=>{t&&(l!=null&&l.labelText)?(a.fontStyle=i,a.fontWeight=s,a.fontSize=n,a.fontFamily=r,a.textAlign="center",a.textBaseline="bottom",a.text=l.labelText,a.x=l.point.x,a.y=l.point.y-10,a.fill=o,a.visible=!0):a.visible=!1})}getTooltipContent(e){var w;const{id:t,dataModel:i,processedData:s,axes:n,properties:r}=this,{xKey:o,xName:a,yKey:l,yName:u,tooltip:h}=r,f=n.x,g=n.y;if(!i||!s||!f||!g)return;const{datumIndex:m}=e,y=(w=s.dataSources.get(this.id))==null?void 0:w[m],C=i.resolveColumnById(this,"xValue",s)[m],x=i.resolveColumnById(this,"yValueRaw",s)[m];if(C==null)return;const b=this.getMarkerItemBaseStyle(!1);return Object.assign(b,this.getMarkerItemStyleOverrides(String(m),y,b,!1)),h.formatTooltip({heading:f.formatDatum(C),symbol:this.legendItemSymbol(),data:[{label:u,fallbackLabel:l,value:g.formatDatum(x)}]},{seriesId:t,datum:y,title:u,xKey:o,xName:a,yKey:l,yName:u,...b,...this.getModuleTooltipParams()})}legendItemSymbol(){const e="rgba(0, 0, 0, 0)",{stroke:t,strokeOpacity:i,strokeWidth:s,lineDash:n,marker:r}=this.properties;return{marker:{shape:r.shape,fill:r.fill??e,stroke:r.stroke??t??e,fillOpacity:r.fillOpacity,strokeOpacity:r.strokeOpacity,strokeWidth:r.strokeWidth,lineDash:r.lineDash,lineDashOffset:r.lineDashOffset,enabled:r.enabled},line:{stroke:t??e,strokeOpacity:i,strokeWidth:s,lineDash:n}}}getLegendData(e){if(!(this.properties.isValid()&&e==="category"))return[];const{id:t,ctx:{legendManager:i},visible:s}=this,{yKey:n,yName:r,title:o,legendItemName:a,showInLegend:l}=this.properties;return[{legendType:"category",id:t,itemId:n,legendItemName:a,seriesId:t,enabled:s&&i.getItemEnabled({seriesId:t,itemId:n}),label:{text:a??o??r??n},symbol:this.legendItemSymbol(),hideInLegend:!l}]}updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}plotNodeDataPoints(e,t){if(t.length===0)return;const i=t[0].point;e.moveTo(i.x,i.y);for(let s=1;s<t.length;s+=1){const{x:n,y:r}=t[s].point;e.lineTo(n,r)}}updateLinePaths(e,t){var n;const i=(n=t.strokeData)==null?void 0:n.spans,[s]=e;s.path.clear(),i!=null?bE(s,i):this.plotNodeDataPoints(s.path,t.nodeData),s.markDirty()}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:s,contextData:n,paths:r}=e,{animationManager:o}=this.ctx;this.updateLinePaths(r,n),AE(this,o,...r),Ms([t],tm),DE(this,o,t),Nt(this,"labels",o,i),Nt(this,"annotations",o,...s)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateLinePaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var g,m,y;const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:s,annotationSelections:n,contextData:r,paths:o,previousContextData:a}=e,[l]=o;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const u=()=>{this.resetPathAnimation(e),this.updateLinePaths(o,r)},h=()=>{t.skipCurrentBatch(),u()};if(r==null||a==null){u(),em(this,t,"added",i),bC(this,"path_properties",t,"add",l),Nt(this,"labels",t,s),Nt(this,"annotations",t,...n);return}if(r.crossFiltering!==a.crossFiltering){h();return}const f=EG(r,a,(y=(m=(g=this.processedData)==null?void 0:g.reduced)==null?void 0:m.diff)==null?void 0:y[this.id]);if(f===void 0){h();return}else if(f.status==="no-op")return;ki(this.id,"path_properties",t,[l],f.stroke.pathProperties),f.status==="added"?this.updateLinePaths(o,r):f.status==="removed"?this.updateLinePaths(o,a):CC(this.id,"path_update",t,[l],f.stroke.path),f.hasMotion&&(em(this,t,void 0,i),Nt(this,"labels",t,s),Nt(this,"annotations",t,...n))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new ot}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=this.properties,s=this.getSeriesDomain("x"),n=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,{...pc(e,t,i,s,n),highlighted:!0})}computeFocusBounds(e){return Zm(this,e)}};Kx.className="LineSeries";Kx.type="line";var _G={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:e=>new Kx(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:e=>{const{marker:t}=CE(e);return{stroke:t.fill,marker:t}}},BG=class extends vs{constructor(){super(...arguments),this.placement="top"}};E([L(dA)],BG.prototype,"placement",2);var gi=class extends wl{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new BG,this.tooltip=new ln,this.marker=new an}};E([L(Fe)],gi.prototype,"xKey",2);E([L(Fe)],gi.prototype,"yKey",2);E([L(Fe,{optional:!0})],gi.prototype,"labelKey",2);E([L(Fe,{optional:!0})],gi.prototype,"colorKey",2);E([L(Fe,{optional:!0})],gi.prototype,"xFilterKey",2);E([L(Fe,{optional:!0})],gi.prototype,"yFilterKey",2);E([L(Fe,{optional:!0})],gi.prototype,"xName",2);E([L(Fe,{optional:!0})],gi.prototype,"yName",2);E([L(Fe,{optional:!0})],gi.prototype,"labelName",2);E([L(Fe,{optional:!0})],gi.prototype,"colorName",2);E([L(dx,{optional:!0})],gi.prototype,"colorDomain",2);E([L(hr)],gi.prototype,"colorRange",2);E([L(Fe,{optional:!0})],gi.prototype,"title",2);E([fi("marker.shape")],gi.prototype,"shape",2);E([fi("marker.size")],gi.prototype,"size",2);E([fi("marker.fill")],gi.prototype,"fill",2);E([fi("marker.fillOpacity")],gi.prototype,"fillOpacity",2);E([fi("marker.stroke")],gi.prototype,"stroke",2);E([fi("marker.strokeWidth")],gi.prototype,"strokeWidth",2);E([fi("marker.strokeOpacity")],gi.prototype,"strokeOpacity",2);E([fi("marker.lineDash")],gi.prototype,"lineDash",2);E([fi("marker.lineDashOffset")],gi.prototype,"lineDashOffset",2);E([fi("marker.itemStyler",{optional:!0})],gi.prototype,"itemStyler",2);E([L($e)],gi.prototype,"label",2);E([L($e)],gi.prototype,"tooltip",2);var _E=class extends Pc{constructor(e){super({moduleCtx:e,directionKeys:ph,directionNames:mh,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:Xm,label:Dl},usesPlacedLabels:!0}),this.clipFocusBox=!1,this.properties=new gi,this.colorScale=new Tc}get pickModeAxis(){return"main-category"}async processData(e){var x,b;if(!this.properties.isValid()||this.data==null||!this.visible)return;const t=(x=this.axes.x)==null?void 0:x.scale,i=(b=this.axes.y)==null?void 0:b.scale,{xScaleType:s,yScaleType:n}=this.getScaleInformation({xScale:t,yScale:i}),r=this.colorScale.type,{xKey:o,yKey:a,xFilterKey:l,yFilterKey:u,labelKey:h,colorKey:f,colorDomain:g,colorRange:m}=this.properties,{dataModel:y,processedData:C}=await this.requestDataModel(e,this.data,{props:[St(o,s,{id:"xValue"}),St(a,n,{id:"yValue"}),...l!=null?[St(l,s,{id:"xFilterValue"})]:[],...u!=null?[St(u,n,{id:"yFilterValue"})]:[],...f?[St(f,r,{id:"colorValue"})]:[],...h?[St(h,"band",{id:"labelValue"})]:[]]});if(f){const w=y.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=g??C.domain.values[w]??[],this.colorScale.range=m,this.colorScale.update()}this.animationState.transition("updateData")}xCoordinateRange(e,t){const i=this.axes.x.scale.convert(e),s=.5*this.properties.size*t;return[i-s,i+s]}yCoordinateRange(e,t){const i=this.axes.y.scale.convert(e[0]),s=.5*this.properties.size*t;return[i-s,i+s]}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const s={x:"xValue",y:"yValue"},n=s[e],r=t.resolveProcessedDataDefById(this,n),o=t.getDomain(this,n,"value",i);if((r==null?void 0:r.def.type)==="value"&&(r==null?void 0:r.def.valueType)==="category")return o;const l=s[e==="x"?"y":"x"],u=this.domainForClippedRange(e,[n],l,!1);return jn(bl(u))}getSeriesRange(e,t){return this.domainForVisibleRange("y",["yValue"],"xValue",t,!1)}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["yValue"],e,t,i)}createNodeData(){const{axes:e,dataModel:t,processedData:i,colorScale:s,visible:n}=this,{xKey:r,yKey:o,xFilterKey:a,yFilterKey:l,labelKey:u,colorKey:h,xName:f,yName:g,labelName:m,marker:y,label:C}=this.properties,{placement:x}=C,b=ms.anchor(y.shape),w=e.x,M=e.y;if(!(t&&i&&n&&w&&M))return;const A=t.resolveColumnById(this,"xValue",i),T=t.resolveColumnById(this,"yValue",i),k=h!=null?t.resolveColumnById(this,"colorValue",i):void 0,R=u!=null?t.resolveColumnById(this,"labelValue",i):void 0,F=a!=null?t.resolveColumnById(this,"xFilterValue",i):void 0,I=l!=null?t.resolveColumnById(this,"yFilterValue",i):void 0,N=w.scale,G=M.scale,V=(N.bandwidth??0)/2,Q=(G.bandwidth??0)/2,pe=[],ae=C.getFont(),se=yl.getMeasurer({font:ae});return(i.dataSources.get(this.id)??[]).forEach((re,J)=>{const z=A[J],ee=T[J],O=N.convert(z)+V,j=G.convert(ee)+Q,H=F!=null&&I!=null?F[J]===z&&I[J]===ee:void 0,K=this.getLabelText(C,{value:R!=null?R==null?void 0:R[J]:ee,datum:re,xKey:r,yKey:o,labelKey:u,xName:f,yName:g,labelName:m}),ne=se.measureText(K),ge=k!=null?s.convert(k[J]):void 0;pe.push({series:this,itemId:o,yKey:o,xKey:r,datum:re,datumIndex:J,xValue:z,yValue:ee,capDefaults:{lengthRatioMultiplier:y.getDiameter(),lengthMax:1/0},point:{x:O,y:j,size:y.size},midPoint:{x:O,y:j},fill:ge,label:{text:K,...ne},anchor:b,placement:x,selected:H})}),{itemId:o,nodeData:pe,labelData:pe,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return this.isLabelEnabled()?((e=this.contextNodeData)==null?void 0:e.labelData)??[]:[]}updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?t:[])}getMarkerItemBaseStyle(e){const{properties:t}=this,{marker:i}=t,s=e?t.highlightStyle.item:void 0;return{fill:(s==null?void 0:s.fill)??i.fill,fillOpacity:(s==null?void 0:s.fillOpacity)??i.fillOpacity,stroke:(s==null?void 0:s.stroke)??i.stroke,strokeWidth:(s==null?void 0:s.strokeWidth)??i.strokeWidth,strokeOpacity:(s==null?void 0:s.strokeOpacity)??i.strokeOpacity,lineDash:(s==null?void 0:s.lineDash)??i.lineDash,lineDashOffset:(s==null?void 0:s.lineDashOffset)??i.lineDashOffset}}getMarkerItemStyleOverrides(e,t,i,s){const{id:n,properties:r}=this,{xKey:o,yKey:a,labelKey:l,marker:u}=r,{itemStyler:h}=u;if(h!=null)return this.cachedDatumCallback(Xi(e,s?"highlight":"node"),()=>h({seriesId:n,datum:t,xKey:o,yKey:a,labelKey:l,highlighted:s,...i}))}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:s,yKey:n,labelKey:r,marker:o,highlightStyle:a}=this.properties,l=bt(i&&a.item,o.getStyle());t.each((u,h)=>{this.updateMarkerStyle(u,o,{datum:h,highlighted:i,xKey:s,yKey:n,labelKey:r},l,{selected:h.selected})}),i||o.markClean()}updatePlacedLabelData(e){this.labelSelection.update(e.map(t=>({...t.datum,point:{x:t.x,y:t.y,size:t.datum.point.size}})),t=>{t.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each((i,s)=>{var n,r;i.text=s.label.text,i.fill=t.color,i.x=((n=s.point)==null?void 0:n.x)??0,i.y=((r=s.point)==null?void 0:r.y)??0,i.fontStyle=t.fontStyle,i.fontWeight=t.fontWeight,i.fontSize=t.fontSize,i.fontFamily=t.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipContent(e){var T;const{id:t,dataModel:i,processedData:s,axes:n,properties:r}=this,{xKey:o,xName:a,yKey:l,yName:u,labelKey:h,labelName:f,title:g,tooltip:m}=r,y=n.x,C=n.y;if(!i||!s||!y||!C)return;const{datumIndex:x}=e,b=(T=s.dataSources.get(this.id))==null?void 0:T[x],w=i.resolveColumnById(this,"xValue",s)[x],M=i.resolveColumnById(this,"yValue",s)[x];if(w==null)return;const A=this.getMarkerItemBaseStyle(!1);return Object.assign(A,this.getMarkerItemStyleOverrides(String(x),b,A,!1)),m.formatTooltip({symbol:this.legendItemSymbol(),title:g,data:[{label:a,fallbackLabel:o,value:y.formatDatum(w)},{label:u,fallbackLabel:l,value:C.formatDatum(M)}]},{seriesId:t,datum:b,title:u,xKey:o,xName:a,yKey:l,yName:u,labelKey:h,labelName:f,...A,...this.getModuleTooltipParams()})}legendItemSymbol(){const{shape:e,fill:t,stroke:i,fillOpacity:s,strokeOpacity:n,strokeWidth:r,lineDash:o,lineDashOffset:a}=this.properties.marker;return{marker:{shape:e,fill:t??"rgba(0, 0, 0, 0)",stroke:i??"rgba(0, 0, 0, 0)",fillOpacity:s,strokeOpacity:n,strokeWidth:r,lineDash:o,lineDashOffset:a}}}getLegendData(e){if(!this.properties.isValid()||e!=="category")return[];const{yKey:t,yName:i,title:s,showInLegend:n}=this.properties,{id:r,ctx:{legendManager:o},visible:a}=this;return[{legendType:"category",id:r,itemId:t,seriesId:r,enabled:a&&o.getItemEnabled({seriesId:r,itemId:t}),label:{text:s??i??t},symbol:this.legendItemSymbol(),hideInLegend:!n}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:s}=e;ME(this,this.ctx.animationManager,t),Nt(this,"labels",this.ctx.animationManager,i),Nt(this,"annotations",this.ctx.animationManager,...s)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ot}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,labelKey:s}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,labelKey:s,highlighted:!0})}computeFocusBounds(e){return Zm(this,e)}};_E.className="ScatterSeries";_E.type="scatter";var Ile={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:e=>new _E(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:$m},GG=class XM{constructor(t,i,s,n){this.startAngle=t,this.endAngle=i,this.innerRadius=s,this.outerRadius=n}clone(){const{startAngle:t,endAngle:i,innerRadius:s,outerRadius:n}=this;return new XM(t,i,s,n)}equals(t){return this.startAngle===t.startAngle&&this.endAngle===t.endAngle&&this.innerRadius===t.innerRadius&&this.outerRadius===t.outerRadius}[ex](t,i){return new XM(this.startAngle*(1-i)+t.startAngle*i,this.endAngle*(1-i)+t.endAngle*i,this.innerRadius*(1-i)+t.innerRadius*i,this.outerRadius*(1-i)+t.outerRadius*i)}};function zG({startAngle:e,endAngle:t,innerRadius:i,outerRadius:s}){let n=1/0,r=1/0,o=-1/0,a=-1/0;const l=(u,h)=>{n=Math.min(u,n),r=Math.min(h,r),o=Math.max(u,o),a=Math.max(h,a)};return l(i*Math.cos(e),i*Math.sin(e)),l(i*Math.cos(t),i*Math.sin(t)),l(s*Math.cos(e),s*Math.sin(e)),l(s*Math.cos(t),s*Math.sin(t)),ac(0,e,t)&&l(s,0),ac(Math.PI*.5,e,t)&&l(0,s),ac(Math.PI,e,t)&&l(-s,0),ac(Math.PI*1.5,e,t)&&l(0,-s),new Ze(n,r,o-n,a-r)}function wC(e,t,i){const s=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:n,outerRadius:r}=i;if(i.startAngle===i.endAngle||s<Math.min(n,r)||s>Math.max(n,r))return!1;const o=Vp(i.startAngle),a=Vp(i.endAngle),l=Math.atan2(t,e);return o<a?l<=a&&l>=o:l<=a&&l>=-Math.PI||l>=o&&l<=Math.PI}function G2(e,t){const{startAngle:i,endAngle:s,innerRadius:n,outerRadius:r}=t,o={x:r*Math.cos(i),y:r*Math.sin(i)},a={x:r*Math.cos(s),y:r*Math.sin(s)},l=n===0?{x:0,y:0}:{x:n*Math.cos(i),y:n*Math.sin(i)},u=n===0?{x:0,y:0}:{x:n*Math.cos(s),y:n*Math.sin(s)};return wd(e.start.x,e.start.y,e.end.x,e.end.y,o.x,o.y,l.x,l.y)||wd(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,u.x,u.y)||R3(0,0,r,i,s,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function HG(e,t){const i={x:e.x,y:e.y},s={x:e.x+e.width,y:e.y},n={x:e.x,y:e.y+e.height},r={x:e.x+e.width,y:e.y+e.height};return G2({start:i,end:s},t)||G2({start:n,end:r},t)}function z2(e,t,i,s){if(i===0&&s===0)return 0;if(Math.asin(Math.abs(1*i)/(e+1*i))+Math.asin(Math.abs(1*s)/(e+1*s))-t<0)return 1;let r=0,o=1;for(let a=0;a<8;a+=1){const l=(r+o)/2;Math.asin(Math.abs(l*i)/(e+l*i))+Math.asin(Math.abs(l*s)/(e+l*s))-t<0?r=l:o=l}return r}var Lle=1e-6;function yc(e,t){return mx(e,t)<Lle?t:ri(e-t)+t}function Wy(e,t,i=0){const n=Math.abs(t-e)>=2*Math.PI?2*Math.PI:ri(t-e);return e=yc(e,i),t=e+n,{startAngle:e,endAngle:t}}function Uy(e,t,i,s,n,r){const o=Math.sin(r),a=Math.cos(r),l=e**2+t**2-i**2;let u,h,f,g;if(a>.5){const M=o/a,A=1+M**2,T=-2*(e+t*M),k=T**2-4*A*l;if(k<0)return;const R=(-T+Math.sqrt(k))/(2*A),F=(-T-Math.sqrt(k))/(2*A);u=R,h=R*M,f=F,g=F*M}else{const M=a/o,A=1+M**2,T=-2*(t+e*M),k=T**2-4*A*l;if(k<0)return;const R=(-T+Math.sqrt(k))/(2*A),F=(-T-Math.sqrt(k))/(2*A);u=R*M,h=R,f=F*M,g=F}const m=a,y=o,C=u*m+h*y,x=f*m+g*y,b=C>0?yc(Math.atan2(h-t,u-e),s):NaN,w=x>0?yc(Math.atan2(g-t,f-e),s):NaN;if(b>=s&&b<=n)return b;if(w>=s&&w<=n)return w}function jy(e,t,i,s,n,r){const o=Math.hypot(e,t),a=(o**2-i**2+r**2)/(2*o),l=o-a,u=Math.atan2(t,e),h=Math.acos(-l/i),f=yc(u+h,s),g=yc(u-h,s);if(f>=s&&f<=n)return f;if(g>=s&&g<=n)return g}var v1=class{constructor(e,t,i,s,n){this.cx=e,this.cy=t,this.r=i,this.a0=s,this.a1=n,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){e==null||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){e==null||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},Rs=class extends Fn{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return zG(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:e}=this;let{innerRadius:t,outerRadius:i}=this;return t=t>0?t+e:0,i=Math.max(i-e,0),{innerRadius:t,outerRadius:i}}normalizedClipSector(){const{clipSector:e}=this;if(e==null)return;const{startAngle:t,endAngle:i}=Wy(this.startAngle,this.endAngle),{innerRadius:s,outerRadius:n}=this.normalizedRadii(),r=Wy(e.startAngle,e.endAngle,t);return new GG(Math.max(t,r.startAngle),Math.min(i,r.endAngle),Math.max(s,e.innerRadius),Math.min(n,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,t,i,s,n,r,o,a){if(e<=0)return;const{startAngle:l,endAngle:u}=Wy(this.startAngle,this.endAngle),{innerRadius:h,outerRadius:f}=this.normalizedRadii(),g=this.normalizedClipSector();if(a&&h<=0)return;const m=a?this.getAngleOffset(h+e):this.getAngleOffset(f-e),y=o?l+m+t:u-m-t,C=a?h+e:f-e,x=C*Math.cos(y),b=C*Math.sin(y);if(g!=null&&(!o&&!(y>=l-1e-6&&y<=g.endAngle-1e-6)||o&&!(y>=g.startAngle+1e-6&&y<=u-1e-6)||a&&C<g.innerRadius-1e-6||!a&&C>g.outerRadius+1e-6))return;const w=new v1(x,b,e,i,s);if(g!=null){a?(w.clipStart(Uy(x,b,e,i,s,g.endAngle)),w.clipEnd(Uy(x,b,e,i,s,g.startAngle))):(w.clipStart(Uy(x,b,e,i,s,g.startAngle)),w.clipEnd(Uy(x,b,e,i,s,g.endAngle)));let R,F;if(o?(R=jy(x,b,e,i,s,g.innerRadius),F=jy(x,b,e,i,s,g.outerRadius)):(R=jy(x,b,e,i,s,g.outerRadius),F=jy(x,b,e,i,s,g.innerRadius)),w.clipStart(R),w.clipEnd(F),R!=null){const{x:I,y:N}=w.pointAt(R),G=yc(Math.atan2(N,I),l);o?r==null||r.clipStart(G):n.clipEnd(G)}if(F!=null){const{x:I,y:N}=w.pointAt(F),G=yc(Math.atan2(N,I),l);o?n.clipStart(G):r==null||r.clipEnd(G)}}if(g!=null){const{x:R,y:F}=w.pointAt((w.a0+w.a1)/2);if(!wC(R,F,g))return}const{x:M,y:A}=w.pointAt(o===a?w.a0:w.a1),T=yc(Math.atan2(A,M),l),k=a?r:n;return o?k==null||k.clipStart(T):k==null||k.clipEnd(T),w}updatePath(){const{path:t,centerX:i,centerY:s,concentricEdgeInset:n,radialEdgeInset:r}=this;let{startOuterCornerRadius:o,endOuterCornerRadius:a,startInnerCornerRadius:l,endInnerCornerRadius:u}=this;const{startAngle:h,endAngle:f}=Wy(this.startAngle,this.endAngle),{innerRadius:g,outerRadius:m}=this.normalizedRadii(),y=this.normalizedClipSector(),C=f-h,x=C>=2*Math.PI-1e-6;if(t.clear(),g===0&&m===0||g>m)return;if(((y==null?void 0:y.startAngle)??h)===((y==null?void 0:y.endAngle)??f))return;if(x&&this.clipSector==null&&o===0&&a===0&&l===0&&u===0){t.moveTo(i+m*Math.cos(h),s+m*Math.sin(h)),t.arc(i,s,m,h,f),g>n&&(t.moveTo(i+g*Math.cos(f),s+g*Math.sin(f)),t.arc(i,s,g,f,h,!0)),t.closePath();return}else if(this.clipSector==null&&Math.abs(g-m)<1e-6){t.arc(i,s,m,h,f,!1),t.arc(i,s,m,f,h,!0),t.closePath();return}const b=this.getAngleOffset(g),w=this.getAngleOffset(m);if(C<2*w)return;const A=((y==null?void 0:y.innerRadius)??g)>n,T=g<n||C<2*b,k=m-g,R=Math.max(o,l,a,u),F=R>0?Math.min(k/R,1):1;o*=F,a*=F,l*=F,u*=F;const I=z2(m,C-2*w,-o,-a);if(o*=I,a*=I,!T&&A){const ce=z2(g,C-2*b,l,u);l*=ce,u*=ce}else l=0,u=0;const N=Math.max(o+l,a+u),G=N>0?Math.min(k/N,1):1;o*=G,a*=G,l*=G,u*=G;let V=0,Q=0;const pe=o/(m-o),ae=a/(m-a);if(pe>=0&&pe<1-1e-6)V=Math.asin(pe);else{V=C/2;const ce=m/(1/Math.sin(V)+1);o=Math.min(ce,o)}if(ae>=0&&ae<1-1e-6)Q=Math.asin(ae);else{Q=C/2;const ce=m/(1/Math.sin(Q)+1);a=Math.min(ce,a)}const se=Math.asin(l/(g+l)),le=Math.asin(u/(g+u)),re=(y==null?void 0:y.outerRadius)??m,J=this.getAngleOffset(re),z=new v1(0,0,re,h+J,f-J),ee=(y==null?void 0:y.innerRadius)??g,O=this.getAngleOffset(ee),j=A?new v1(0,0,ee,h+O,f-O):void 0;y!=null&&(z.clipStart(y.startAngle),z.clipEnd(y.endAngle),j==null||j.clipStart(y.startAngle),j==null||j.clipEnd(y.endAngle));const H=this.arc(o,V,h-Math.PI*.5,h+V,z,j,!0,!1),K=this.arc(a,Q,f-Q,f+Math.PI*.5,z,j,!1,!1),ne=this.arc(u,le,f+Math.PI*.5,f+Math.PI-le,z,j,!1,!0),ge=this.arc(l,se,h+Math.PI+se,h+Math.PI*1.5,z,j,!0,!0);if(T){const ce=C<Math.PI*.5?r*(1+Math.cos(C))/Math.sin(C):NaN;let ue;ce>0&&ce<m?ue=Math.max(Math.hypot(r,ce),g):ue=r,ue=Math.max(ue,g);const de=h+C*.5;t.moveTo(i+ue*Math.cos(de),s+ue*Math.sin(de))}else if(!((ge==null?void 0:ge.isValid())===!0||(j==null?void 0:j.isValid())===!0)){const ce=h+C/2,ue=g*Math.cos(ce),de=g*Math.sin(ce);t.moveTo(i+ue,s+de)}if((H==null?void 0:H.isValid())===!0){const{cx:ce,cy:ue,r:de,a0:Le,a1:X}=H;t.arc(i+ce,s+ue,de,Le,X)}if(z.isValid()){const{r:ce,a0:ue,a1:de}=z;t.arc(i,s,ce,ue,de)}if((K==null?void 0:K.isValid())===!0){const{cx:ce,cy:ue,r:de,a0:Le,a1:X}=K;t.arc(i+ce,s+ue,de,Le,X)}if(!T){if((ne==null?void 0:ne.isValid())===!0){const{cx:ce,cy:ue,r:de,a0:Le,a1:X}=ne;t.arc(i+ce,s+ue,de,Le,X)}if((j==null?void 0:j.isValid())===!0){const{r:ce,a0:ue,a1:de}=j;t.arc(i,s,ce,de,ue,!0)}if((ge==null?void 0:ge.isValid())===!0){const{cx:ce,cy:ue,r:de,a0:Le,a1:X}=ge;t.arc(i+ce,s+ue,de,Le,X)}}t.closePath()}isPointInPath(e,t){const{startAngle:i,endAngle:s,innerRadius:n,outerRadius:r}=this.clipSector??this;return wC(e-this.centerX,t-this.centerY,{startAngle:i,endAngle:s,innerRadius:Math.min(n,r),outerRadius:Math.max(n,r)})}};Rs.className="Sector";E([lt()],Rs.prototype,"centerX",2);E([lt()],Rs.prototype,"centerY",2);E([lt()],Rs.prototype,"innerRadius",2);E([lt()],Rs.prototype,"outerRadius",2);E([lt()],Rs.prototype,"startAngle",2);E([lt()],Rs.prototype,"endAngle",2);E([lt()],Rs.prototype,"clipSector",2);E([lt()],Rs.prototype,"concentricEdgeInset",2);E([lt()],Rs.prototype,"radialEdgeInset",2);E([lt()],Rs.prototype,"startOuterCornerRadius",2);E([lt()],Rs.prototype,"endOuterCornerRadius",2);E([lt()],Rs.prototype,"startInnerCornerRadius",2);E([lt()],Rs.prototype,"endInnerCornerRadius",2);var Yi={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Xo={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},VG=class extends ei{constructor(){super(...arguments),this.showInLegend=!1}};E([L(et)],VG.prototype,"showInLegend",2);var BE=class extends vs{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};E([L(Fe)],BE.prototype,"text",2);E([L(Tt)],BE.prototype,"spacing",2);var GE=class extends ut{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};E([L(Bt)],GE.prototype,"fill",2);E([L(Wt)],GE.prototype,"fillOpacity",2);var Tf=class extends vs{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};E([L(Ve)],Tf.prototype,"offset",2);E([L(Tt.restrict({min:0,max:360}))],Tf.prototype,"minAngle",2);E([L(Ve)],Tf.prototype,"minSpacing",2);E([L(Ve)],Tf.prototype,"maxCollisionOffset",2);E([L(et)],Tf.prototype,"avoidCollisions",2);var zE=class extends vs{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};E([L(Tt)],zE.prototype,"positionOffset",2);E([L(Wt)],zE.prototype,"positionRatio",2);var $x=class extends ut{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};E([L(hr,{optional:!0})],$x.prototype,"colors",2);E([L(Ve)],$x.prototype,"length",2);E([L(Ve)],$x.prototype,"strokeWidth",2);var Et=class extends gr{constructor(){super(...arguments),this.fills=Object.values(Yi),this.strokes=Object.values(Xo),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.innerLabels=new Mm(BE),this.title=new VG,this.innerCircle=new GE,this.shadow=new Oo,this.calloutLabel=new Tf,this.sectorLabel=new zE,this.calloutLine=new $x,this.tooltip=new ln}isValid(){const e=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(Ne.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):e}};E([L(Fe)],Et.prototype,"angleKey",2);E([L(Fe,{optional:!0})],Et.prototype,"angleName",2);E([L(Fe,{optional:!0})],Et.prototype,"angleFilterKey",2);E([L(Fe,{optional:!0})],Et.prototype,"radiusKey",2);E([L(Fe,{optional:!0})],Et.prototype,"radiusName",2);E([L(Ve,{optional:!0})],Et.prototype,"radiusMin",2);E([L(Ve,{optional:!0})],Et.prototype,"radiusMax",2);E([L(Fe,{optional:!0})],Et.prototype,"calloutLabelKey",2);E([L(Fe,{optional:!0})],Et.prototype,"calloutLabelName",2);E([L(Fe,{optional:!0})],Et.prototype,"sectorLabelKey",2);E([L(Fe,{optional:!0})],Et.prototype,"sectorLabelName",2);E([L(Fe,{optional:!0})],Et.prototype,"legendItemKey",2);E([L(hr)],Et.prototype,"fills",2);E([L(hr)],Et.prototype,"strokes",2);E([L(Wt)],Et.prototype,"fillOpacity",2);E([L(Wt)],Et.prototype,"strokeOpacity",2);E([L(ha)],Et.prototype,"lineDash",2);E([L(Ve)],Et.prototype,"lineDashOffset",2);E([L(Ve)],Et.prototype,"cornerRadius",2);E([L(In,{optional:!0})],Et.prototype,"itemStyler",2);E([L(Tt)],Et.prototype,"rotation",2);E([L(Tt)],Et.prototype,"outerRadiusOffset",2);E([L(Wt)],Et.prototype,"outerRadiusRatio",2);E([L(Tt,{optional:!0})],Et.prototype,"innerRadiusOffset",2);E([L(Wt,{optional:!0})],Et.prototype,"innerRadiusRatio",2);E([L(Ve)],Et.prototype,"strokeWidth",2);E([L(Tt)],Et.prototype,"sectorSpacing",2);E([L(et)],Et.prototype,"hideZeroValueSectorsInLegend",2);E([L(uA)],Et.prototype,"innerLabels",2);E([L($e)],Et.prototype,"title",2);E([L($e)],Et.prototype,"innerCircle",2);E([L($e)],Et.prototype,"shadow",2);E([L($e)],Et.prototype,"calloutLabel",2);E([L($e)],Et.prototype,"sectorLabel",2);E([L($e)],Et.prototype,"calloutLine",2);E([L($e)],Et.prototype,"tooltip",2);function Vu(e,t,i,s){const n=[i.convert(0),i.convert(1)],r=[s.convert(0),s.convert(1)],o=Math.PI/-2+os(t),a=e?"initial":"update",l=({radius:y})=>({innerRadius:n[0],outerRadius:n[0]+(n[1]-n[0])*y}),u=({radius:y})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*y});return{nodes:{toFn:(y,C,x,{prevLive:b})=>{var F,I;let{startAngle:w,endAngle:M,innerRadius:A,outerRadius:T}=C;const{stroke:k,fill:R}=C.sectorFormat;if(x==="removed"&&b?(w=(F=b.datum)==null?void 0:F.endAngle,M=(I=b.datum)==null?void 0:I.endAngle):x==="removed"&&!b&&(w=o,M=o),x==="removed"){const N=l(C);A=N.innerRadius,T=N.outerRadius}return{startAngle:w,endAngle:M,outerRadius:T,innerRadius:A,stroke:k,fill:R}},fromFn:(y,C,x,{prevFromProps:b})=>{let{startAngle:w,endAngle:M,innerRadius:A,outerRadius:T}=y,{fill:k,stroke:R}=C.sectorFormat;if(x==="unknown"||x==="added"&&!b?(w=o,M=o,A=C.innerRadius,T=C.outerRadius):x==="added"&&b&&(w=b.endAngle??o,M=b.endAngle??o,A=b.innerRadius??C.innerRadius,T=b.outerRadius??C.outerRadius),x==="added"&&!e){const F=u(C);A=F.innerRadius,T=F.outerRadius}return x==="updated"&&(k=y.fill??k,R=(typeof y.stroke=="string"?y.stroke:void 0)??R),{startAngle:w,endAngle:M,innerRadius:A,outerRadius:T,fill:k,stroke:R,phase:a}}},innerCircle:{fromFn:(y,C)=>{var x;return{size:((x=y.previousDatum)==null?void 0:x.radius)??y.size??0,phase:a}},toFn:(y,C)=>({size:C.radius??0})}}}function HE(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}function VE(e,t){const i=t.y-e.centerY,s=t.x-e.centerX,n=Math.atan2(i,s),r=e.getItemNodes();for(const o of r)if(o.datum.missing!==!0&&ac(n,o.startAngle,o.endAngle)){const a=Math.sqrt(s*s+i*i);let l=0;return a<o.innerRadius?l=o.innerRadius-a:a>o.outerRadius&&(l=a-o.outerRadius),{datum:o.datum,distance:l}}}var WG=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.FOREGROUND=1]="FOREGROUND",e[e.HIGHLIGHT=2]="HIGHLIGHT",e[e.LABEL=3]="LABEL",e))(WG||{}),Xx=class extends eE{constructor({useLabelLayer:e=!1,pickModes:t=[1,0],canHaveAxes:i=!1,animationResetFns:s,...n}){super({...n,useLabelLayer:e,pickModes:t,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:i}),this.itemGroup=this.contentGroup.appendChild(new ot),this.nodeData=[],this.itemSelection=Ki.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=Ki.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=Ki.select(this.highlightGroup,()=>this.nodeFactory()),this.highlightLabelSelection=Ki.select(this.highlightLabel,()=>this.labelFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.animationResetFns=s,this.animationState=new Rm("empty",{empty:{update:{target:"ready",action:r=>this.animateEmptyUpdateReady(r)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:r=>this.animateReadyHighlight(r),highlightMarkers:r=>this.animateReadyHighlightMarkers(r),resize:r=>this.animateReadyResize(r),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:r=>this.animateWaitingUpdateReady(r)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:r=>this.animateClearingUpdateEmpty(r)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[e,1],this.highlightGroup.zIndex=[e,2],this.labelGroup.zIndex=[e,3],!0):!1}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}labelFactory(){const e=new gs;return e.pointerEvents=1,e}addChartEventListeners(){var e;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}getInnerRadius(){return 0}computeLabelsBBox(e,t){return null}resetAllAnimation(){const{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&Ms([this.itemSelection,this.highlightSelection],e),t&&Ms([this.labelSelection,this.highlightLabelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){const{item:t,label:i}=this.animationResetFns??{};t&&Ms([this.highlightSelection],t),i&&Ms([this.highlightLabelSelection],i)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}computeFocusBounds(e){var i;const t=(i=this.getNodeData())==null?void 0:i[e.datumIndex];if(t!==void 0)return this.itemSelection.select(s=>s instanceof Fn&&s.datum===t)[0]}getSeriesRange(e,t){return[NaN,NaN]}},Fle=class extends Lm{constructor(e,t,i,s){super(e,t,i,s),this.angleKey=s.properties.angleKey,this.radiusKey=s.properties.radiusKey,this.calloutLabelKey=s.properties.calloutLabelKey,this.sectorLabelKey=s.properties.sectorLabelKey}},WE=class extends Xx{constructor(e){super({moduleCtx:e,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:HE,label:Dl}}),this.properties=new Et,this.phantomNodeData=void 0,this.backgroundGroup=new En({name:`${this.id}-background`,zIndex:0}),this.noVisibleData=!1,this.previousRadiusScale=new Do,this.radiusScale=new Do,this.phantomGroup=this.backgroundGroup.appendChild(new ot({name:"phantom"})),this.phantomSelection=Ki.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new ot({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Ki(this.calloutLabelGroup,ot),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new ot({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ms({shape:"circle"})),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new ms({shape:"circle"})),this.innerLabelsGroup=this.contentGroup.appendChild(new ot({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new ot({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=Ki.select(this.innerLabelsGroup,gs),this.innerCircleSelection=Ki.select(this.innerCircleGroup,()=>new ms({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=Fle,this.angleScale=new Do,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(e,t,i){super.attachSeries(e,t,i),e==null||e.appendChild(this.backgroundGroup)}detachSeries(e,t,i){super.detachSeries(e,t,i),e==null||e.removeChild(this.backgroundGroup)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.backgroundGroup.zIndex=[0,e],!0):!1}nodeFactory(){return new Rs}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(e){var C,x;if(this.data==null||!this.properties.isValid())return;const{visible:t,id:i}=this,{angleKey:s,angleFilterKey:n,radiusKey:r,calloutLabelKey:o,sectorLabelKey:a,legendItemKey:l}=this.properties,u=(b,w,M)=>t&&this.ctx.legendManager.getItemEnabled({seriesId:i,itemId:M}),h=!this.ctx.animationManager.isSkipped(),f=[],g=[];l?f.push(Ao(l,"band",{id:"legendItemKey"})):o?f.push(Ao(o,"band",{id:"calloutLabelKey"})):a&&f.push(Ao(a,"band",{id:"sectorLabelKey"}));const m=this.radiusScale.type,y=this.angleScale.type;r&&g.push(nE(r,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),St(r,m,{id:"radiusRaw"}),Hu("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),o&&g.push(St(o,"band",{id:"calloutLabelValue"})),a&&g.push(St(a,"band",{id:"sectorLabelValue"})),l&&g.push(St(l,"band",{id:"legendItemValue"})),n&&g.push(Kp(n,y,{id:"angleFilterValue",onlyPositive:!0,validation:u,invalidValue:0}),St(n,y,{id:"angleFilterRaw"}),Hu("angleFilterValue",[0,1],0,0)),h&&this.processedData&&f.length>0&&g.push(bf(this.id,this.processedData)),g.push(xf()),await this.requestDataModel(e,this.data,{props:[...f,Kp(s,y,{id:"angleValue",onlyPositive:!0,validation:u,invalidValue:0}),St(s,y,{id:"angleRaw"}),Hu("angleValue",[0,1],0,0),...g]});for(const b of((x=(C=this.processedData)==null?void 0:C.defs)==null?void 0:x.values)??[]){const{id:w,missing:M,property:A}=b,T=jA(this,M);w!=="angleRaw"&&T>0&&Ne.warnOnce(`no value was found for the key '${String(A)}' on ${T} data element${T>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataValues(e,t){const i=e.resolveColumnById(this,"angleValue",t),s=e.resolveColumnById(this,"angleRaw",t),n=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterValue",t):void 0,r=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterRaw",t):void 0,o=this.properties.radiusKey?e.resolveColumnById(this,"radiusValue",t):void 0,a=this.properties.radiusKey?e.resolveColumnById(this,"radiusRaw",t):void 0,l=this.properties.calloutLabelKey?e.resolveColumnById(this,"calloutLabelValue",t):void 0,u=this.properties.sectorLabelKey?e.resolveColumnById(this,"sectorLabelValue",t):void 0,h=this.properties.legendItemKey?e.resolveColumnById(this,"legendItemValue",t):void 0;return{angleValues:i,angleRawValues:s,angleFilterValues:n,angleFilterRawValues:r,radiusValues:o,radiusRawValues:a,calloutLabelValues:l,sectorLabelValues:u,legendItemValues:h}}createNodeData(){var F;const{id:e,processedData:t,dataModel:i,angleScale:s,ctx:{legendManager:n},visible:r}=this,{rotation:o,innerRadiusRatio:a}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:e,nodeData:[],labelData:[]};if(!i||(t==null?void 0:t.type)!=="ungrouped")return;const{angleValues:l,angleRawValues:u,angleFilterValues:h,angleFilterRawValues:f,radiusValues:g,radiusRawValues:m,calloutLabelValues:y,sectorLabelValues:C,legendItemValues:x}=this.getProcessedDataValues(i,t),b=(f==null?void 0:f.some((I,N)=>I>u[N]))??!1;let w=0,M=0;const A=[],T=f!=null?[]:void 0,k=t.dataSources.get(this.id)??[],R=(F=t.invalidData)==null?void 0:F.get(this.id);return k.forEach((I,N)=>{if((R==null?void 0:R[N])===!0)return;const G=b?h[N]:l[N],V=f!=null&&!b?Math.sqrt(f[N]/u[N]):1,Q=s.convert(w)+os(o);w=G,M+=G;const pe=s.convert(w)+os(o),ae=Math.abs(pe-Q),se=Q+ae/2,le=u[N],J=((g==null?void 0:g[N])??1)*V,z=m==null?void 0:m[N],ee=x==null?void 0:x[N],O=this.getLabels(I,se,ae,!0,y==null?void 0:y[N],C==null?void 0:C[N],ee),j=this.getSectorFormat(I,N,!1),H={itemId:N,series:this,datum:I,datumIndex:N,angleValue:le,midAngle:se,midCos:Math.cos(se),midSin:Math.sin(se),startAngle:Q,endAngle:pe,radius:J,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(J),0),sectorFormat:j,radiusValue:z,legendItemValue:ee,enabled:r&&n.getItemEnabled({seriesId:e,itemId:N}),focusable:!0,...O};A.push(H),T!=null&&T.push({...H,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1})}),this.zerosumOuterRing.visible=M===0,this.zerosumInnerRing.visible=M===0&&a!=null&&a!==1&&a>0,{itemId:e,nodeData:A,labelData:A,phantomNodeData:T}}getLabels(e,t,i,s,n,r,o){const{calloutLabel:a,sectorLabel:l,legendItemKey:u}=this.properties,h=!s||a.enabled?this.properties.calloutLabelKey:void 0,f=!s||l.enabled?this.properties.sectorLabelKey:void 0;if(!h&&!f&&!u)return{};const g={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},m={};return h&&i>=os(a.minAngle)&&(m.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(a,{...g,value:n}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),f&&(m.sectorLabel={text:this.getLabelText(l,{...g,value:r})}),u!=null&&o!=null&&(m.legendItem={key:u,text:o}),m}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Vp(e),s=-.75*Math.PI,n=i-s,r=Math.floor(n/(Math.PI/2)),o=tA(r,t.length);return t[o]}getSectorFormat(e,t,i){const{angleKey:s,radiusKey:n,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fills:l,strokes:u,itemStyler:h}=this.properties,f=u[t%u.length],{fill:g,fillOpacity:m,stroke:y,strokeWidth:C,strokeOpacity:x,lineDash:b,lineDashOffset:w,cornerRadius:M}=bt(i&&this.properties.highlightStyle.item,{fill:l.length>0?l[t%l.length]:void 0,stroke:f,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let A;return h&&(A=this.cachedDatumCallback(this.getDatumId(e,t)+(i?"-highlight":"-hide"),()=>h({datum:e,angleKey:s,radiusKey:n,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fill:g,fillOpacity:m,stroke:y,strokeWidth:C,strokeOpacity:x,lineDash:b,lineDashOffset:w,cornerRadius:M,highlighted:i,seriesId:this.id}))),{fill:(A==null?void 0:A.fill)??g,fillOpacity:(A==null?void 0:A.fillOpacity)??m,stroke:(A==null?void 0:A.stroke)??y,strokeWidth:(A==null?void 0:A.strokeWidth)??C,strokeOpacity:(A==null?void 0:A.strokeOpacity)??x,lineDash:(A==null?void 0:A.lineDash)??b,lineDashOffset:(A==null?void 0:A.lineDashOffset)??w,cornerRadius:(A==null?void 0:A.cornerRadius)??M}}getInnerRadius(){const{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:i=0}=this.properties,s=e*t+i;return s===e||s<0?0:s}getOuterRadius(){const{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){var s;const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=n=>({...n,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(n.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(s=this.phantomNodeData)==null?void 0:s.map(i)}getTitleTranslationY(){var n;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+(((n=this.properties.title)==null?void 0:n.spacing)??0),s=Math.max(0,-e);return-e-i-s}update({seriesRect:e}){const{title:t}=this.properties,i={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},s=ll(this.nodeDataDependencies,i)!=null;if(s&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(s),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){const n=this.getTitleTranslationY();t.node.y=isFinite(n)?n:0;const r=t.node.getBBox();t.node.visible=t.enabled&&isFinite(n)&&!this.bboxIntersectsSurroundingSeries(r)}for(const n of[this.zerosumInnerRing,this.zerosumOuterRing])n.fillOpacity=0,n.stroke=this.properties.calloutLabel.color,n.strokeWidth=1,n.strokeOpacity=1;this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(e)}updateTitleNodes(){var i,s;const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&((i=this.labelGroup)==null||i.removeChild(e.node)),t&&(t.node.textBaseline="bottom",(s=this.labelGroup)==null||s.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){var t;const e=i=>{const s=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,s),y:i.midSin*Math.max(0,s)}};this.nodeData.forEach(e),(t=this.phantomNodeData)==null||t.forEach(e)}updateSelections(){this.updateGroupSelection(),this.updateInnerCircleSelection()}updateGroupSelection(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,highlightLabelSelection:s,calloutLabelSelection:n,labelSelection:r,innerLabelsSelection:o}=this,a=this.nodeData.map(u=>({...u,sectorFormat:{...u.sectorFormat}})),l=(u,h)=>{u.update(h,void 0,f=>this.getDatumId(f.datum,f.datumIndex)),this.ctx.animationManager.isSkipped()&&u.cleanup()};l(e,this.nodeData),l(t,a),l(i,this.phantomNodeData??[]),n.update(this.calloutNodeData,u=>{const h=new fr;h.tag=0,h.pointerEvents=1,u.appendChild(h);const f=new gs;f.tag=1,f.pointerEvents=1,u.appendChild(f)}),r.update(this.nodeData),s.update(a),o.update(this.properties.innerLabels,u=>{u.pointerEvents=1})}updateInnerCircleSelection(){const{innerCircle:e}=this.properties;let t=0;const i=this.getInnerRadius();if(i>0){const n=Math.min(i,this.getOuterRadius());t=Math.ceil(n*2+1)}const s=e?[{radius:t}]:[];this.innerCircleSelection.update(s)}updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),{visible:i}=this;this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(t==null?void 0:t.series)===this,this.highlightLabel.visible=i&&(t==null?void 0:t.series)===this,this.labelGroup.visible=i,this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((r,{radius:o})=>{var a,l;r.setProperties({fill:(a=this.properties.innerCircle)==null?void 0:a.fill,opacity:(l=this.properties.innerCircle)==null?void 0:l.fillOpacity,size:o})});const s=this.ctx.animationManager.isSkipped(),n=(r,o,a,l)=>{const u=this.getSectorFormat(o.datum,o.itemId,l);o.sectorFormat.fill=u.fill,o.sectorFormat.stroke=u.stroke,s&&(r.startAngle=o.startAngle,r.endAngle=o.endAngle,r.innerRadius=o.innerRadius,r.outerRadius=o.outerRadius),(l||s)&&(r.fill=u.fill,r.stroke=u.stroke),r.strokeWidth=u.strokeWidth,r.fillOpacity=u.fillOpacity,r.strokeOpacity=u.strokeOpacity,r.lineDash=u.lineDash,r.lineDashOffset=u.lineDashOffset,r.cornerRadius=u.cornerRadius,r.fillShadow=this.properties.shadow;const h=Math.max((this.properties.sectorSpacing+(u.stroke!=null?u.strokeWidth:0))/2,0);r.inset=h,r.lineJoin=this.properties.sectorSpacing>=0||h>0?"miter":"round"};this.itemSelection.each((r,o,a)=>n(r,o,a,!1)),this.highlightSelection.each((r,o,a)=>{n(r,o,a,!0),r.visible=o.itemId===(t==null?void 0:t.itemId)}),this.phantomSelection.each((r,o,a)=>n(r,o,a,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:e}=this.properties,t=e.length,i=e.strokeWidth,s=e.colors??this.properties.strokes,{offset:n}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((r,o)=>{const a=r.datum,{calloutLabel:l,outerRadius:u}=a;if(l!=null&&l.text&&!l.hidden&&u!==0){r.visible=!0,r.strokeWidth=i,r.stroke=s[o%s.length],r.fill=void 0;const h=a.midCos*u,f=a.midSin*u;let g=a.midCos*(u+t),m=a.midSin*(u+t);if((l.collisionTextAlign??l.collisionOffsetY!==0)&&l.box!=null){const C=l.box;let x=g,b=m;g<C.x?x=C.x:g>C.x+C.width&&(x=C.x+C.width),m<C.y?b=C.y:m>C.y+C.height&&(b=C.y+C.height);const w=x-g,M=b-m,A=Math.sqrt(Math.pow(w,2)+Math.pow(M,2)),T=A-n;T>0&&(g=g+w*T/A,m=m+M*T/A)}r.x1=h,r.y1=f,r.x2=g,r.y2=m}else r.visible=!1})}getLabelOverflow(e,t,i){const s=-this.centerX,n=s+i.width,r=-this.centerY,o=r+i.height,a=1;let l=1;t.x+a<s?l=(t.x+t.width-s)/t.width:t.x+t.width-a>n&&(l=(n-t.x)/t.width);const u=t.y+a<r||t.y+t.height-a>o,h=l===1?e.length:Math.floor(e.length*l)-1,f=this.bboxIntersectsSurroundingSeries(t);return{textLength:h,hasVerticalOverflow:u,hasSurroundingSeriesOverflow:f}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(t==null)return!1;const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=t**2;return i.some(n=>n.x**2+n.y**2>s)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:s,minSpacing:n}=t,r=e.convert(0),o=b=>!b.calloutLabel||b.outerRadius===0,a=this.calloutNodeData,l=a.filter(b=>!o(b));if(l.forEach(b=>{const w=b.calloutLabel;w!=null&&(w.hidden=!1,w.collisionTextAlign=void 0,w.collisionOffsetY=0)}),l.length<=1)return;const u=l.filter(b=>b.midCos<0).sort((b,w)=>b.midSin-w.midSin),h=l.filter(b=>b.midCos>=0).sort((b,w)=>b.midSin-w.midSin),f=l.filter(b=>{var w;return b.midSin<0&&((w=b.calloutLabel)==null?void 0:w.textAlign)==="center"}).sort((b,w)=>b.midCos-w.midCos),g=l.filter(b=>{var w;return b.midSin>=0&&((w=b.calloutLabel)==null?void 0:w.textAlign)==="center"}).sort((b,w)=>b.midCos-w.midCos),m=b=>{const w=b.calloutLabel;if(w==null)return Ze.zero.clone();const M=b.outerRadius+i.length+s,A=b.midCos*M,T=b.midSin*M+w.collisionOffsetY,k=w.collisionTextAlign??w.textAlign,R=w.textBaseline;return gs.computeBBox(w.text,A,T,{font:this.properties.calloutLabel,textAlign:k,textBaseline:R})},y=(b,w,M)=>{const A=m(b).grow(n/2),T=m(w).grow(n/2);A.x<T.x+T.width&&A.x+A.width>T.x&&(M==="to-top"?A.y<T.y+T.height:A.y+A.height>T.y)&&(w.calloutLabel.collisionOffsetY=M==="to-top"?A.y-T.y-T.height:A.y+A.height-T.y)},C=b=>{const w=b.slice().sort((A,T)=>Math.abs(A.midSin)-Math.abs(T.midSin))[0],M=b.indexOf(w);for(let A=M-1;A>=0;A--){const T=b[A+1],k=b[A];y(T,k,"to-top")}for(let A=M+1;A<b.length;A++){const T=b[A-1],k=b[A];y(T,k,"to-bottom")}},x=b=>{const w=l.some(F=>F.calloutLabel.collisionOffsetY!==0),M=b.map(F=>m(F)),A=M.map(F=>F.clone().grow(n/2));let T=!1;for(let F=0;F<A.length&&!T;F++){const I=A[F];for(let N=F+1;N<b.length;N++){const G=A[N];if(I.collidesBBox(G)){T=!0;break}}}const k=a.map(F=>{const{startAngle:I,endAngle:N,outerRadius:G}=F;return{startAngle:I,endAngle:N,innerRadius:r,outerRadius:G}}),R=M.some(F=>k.some(I=>HG(F,I)));!T&&!w&&!R||b.filter(F=>F.calloutLabel.textAlign==="center").forEach(F=>{const I=F.calloutLabel;F.midCos<0?I.collisionTextAlign="right":F.midCos>0?I.collisionTextAlign="left":I.collisionTextAlign="center"})};C(u),C(h),x(f),x(g)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:s}=this.properties,n=s.length,{offset:r,color:o}=i,a=new gs;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const{datum:u}=l,h=u.calloutLabel,f=t.convert(u.radius),g=Math.max(0,f);if(!(h!=null&&h.text)||g===0||h.hidden){l.visible=!1;return}const m=g+n+r,y=u.midCos*m,C=u.midSin*m+h.collisionOffsetY,x={textAlign:h.collisionTextAlign??h.textAlign,textBaseline:h.textBaseline};a.text=h.text,a.x=y,a.y=C,a.setFont(this.properties.calloutLabel),a.setAlign(x);const b=a.getBBox();let w=h.text,M=!0;if(i.avoidCollisions){const{textLength:A,hasVerticalOverflow:T}=this.getLabelOverflow(h.text,b,e);w=h.text.length===A?h.text:`${h.text.substring(0,A)}`,M=!T}l.text=w,l.x=y,l.y=C,l.setFont(this.properties.calloutLabel),l.setAlign(x),l.fill=o,l.visible=M})}computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:s}=this.properties,n=s.length,{offset:r,maxCollisionOffset:o,minSpacing:a}=i;if(!i.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],u=new gs;let h;const{title:f}=this.properties;if(f!=null&&f.text&&f.enabled){const g=this.getTitleTranslationY();isFinite(g)&&(u.text=f.text,u.x=0,u.y=g,u.setFont(f),u.setAlign({textBaseline:"bottom",textAlign:"center"}),h=u.getBBox(),l.push(h))}return this.calloutNodeData.forEach(g=>{const m=g.calloutLabel;if(!m||g.outerRadius===0)return null;const y=g.outerRadius+n+r,C=g.midCos*y,x=g.midSin*y+m.collisionOffsetY;u.text=m.text,u.x=C,u.y=x,u.setFont(this.properties.calloutLabel),u.setAlign({textAlign:m.collisionTextAlign??m.textAlign,textBaseline:m.textBaseline});const b=u.getBBox();if(m.box=b,Math.abs(m.collisionOffsetY)>o){m.hidden=!0;return}if(h){const w=-this.centerY,M=new Ze(h.x-a,w,h.width+2*a,h.y+h.height+a-w);if(b.collidesBBox(M)){m.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:w,hasVerticalOverflow:M,hasSurroundingSeriesOverflow:A}=this.getLabelOverflow(m.text,b,t),T=m.text.length>2&&w<2;if(M||T||A){m.hidden=!0;return}}m.hidden=!1,l.push(b)}),l.length===0?null:Ze.merge(l)}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:s,fontWeight:n,fontFamily:r,positionOffset:o,positionRatio:a,color:l}=this.properties.sectorLabel,u=(h,f)=>{const{sectorLabel:g,outerRadius:m}=f;let y=!1;if(g&&m!==0){const C=t*(1-a)+m*a+o;h.fill=l,h.fontStyle=s,h.fontWeight=n,h.fontSize=i,h.fontFamily=r,h.text=g.text,h.x=f.midCos*C,h.y=f.midSin*C,h.textAlign="center",h.textBaseline="middle";const x=h.getBBox(),b=[[x.x,x.y],[x.x+x.width,x.y],[x.x+x.width,x.y+x.height],[x.x,x.y+x.height]],{startAngle:w,endAngle:M}=f,A={startAngle:w,endAngle:M,innerRadius:t,outerRadius:m};b.every(([T,k])=>wC(T,k,A))&&(y=!0)}h.visible=y};this.labelSelection.each(u),this.highlightLabelSelection.each(u)}updateInnerLabelNodes(){const e=[],t=[];this.innerLabelsSelection.each((h,f)=>{const{fontStyle:g,fontWeight:m,fontSize:y,fontFamily:C,color:x}=f;h.fontStyle=g,h.fontWeight=m,h.fontSize=y,h.fontFamily=C,h.text=f.text,h.x=0,h.y=0,h.fill=x,h.textAlign="center",h.textBaseline="alphabetic",e.push(h.getBBox()),t.push(f.spacing)});const i=h=>h===0?0:t[h],s=h=>h===t.length-1?0:t[h],n=e.reduce((h,f,g)=>h+f.height+i(g)+s(g),0),r=Math.max(...e.map(h=>h.width)),o=this.getInnerRadius(),l=Math.sqrt(Math.pow(r/2,2)+Math.pow(n/2,2))<=(o>0?o:this.getOuterRadius()),u=[];for(let h=0,f=-n/2;h<e.length;h++){const m=e[h].height+f+i(h);u.push(m),f=m+s(h)}this.innerLabelsSelection.each((h,f,g)=>{h.y=u[g],h.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}pickNodeClosestDatum(e){return VE(this,e)}getTooltipContent(e){var F;const{id:t,dataModel:i,processedData:s,properties:n}=this,{legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:l,sectorLabelName:u,angleKey:h,angleName:f,radiusKey:g,radiusName:m,tooltip:y}=n,C=this.properties.title.text;if(!i||!s)return;const{datumIndex:x}=e,b=(F=s.dataSources.get(this.id))==null?void 0:F[x],{angleRawValues:w,legendItemValues:M,calloutLabelValues:A,sectorLabelValues:T}=this.getProcessedDataValues(i,s),k=w[x],R=(M==null?void 0:M[x])??(o===h||A==null?void 0:A[x])??(l===h||T==null?void 0:T[x])??f;return y.formatTooltip({title:C,symbol:this.legendItemSymbol(x),data:[{label:R,fallbackLabel:h,value:al(k,3)}]},{seriesId:t,datum:b,title:f,legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:l,sectorLabelName:u,angleKey:h,angleName:f,radiusKey:g,radiusName:m,...this.getSectorFormat(b,x,!1)})}legendItemSymbol(e){var s,n;const t=(n=(s=this.processedData)==null?void 0:s.dataSources.get(this.id))==null?void 0:n[e],i=this.getSectorFormat(t,e,!1);return{marker:{fill:i.fill,stroke:i.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}}}getLegendData(e){var A,T,k,R,F,I;const{visible:t,processedData:i,dataModel:s,id:n,ctx:{legendManager:r}}=this;if(!s||!i||!this.properties.isValid()||e!=="category")return[];const{angleKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:u,showInLegend:h}=this.properties;if(!u&&(!a||a===o)&&(!l||l===o))return[];const{angleRawValues:f,calloutLabelValues:g,sectorLabelValues:m,legendItemValues:y}=this.getProcessedDataValues(s,i),C=((A=this.properties.title)==null?void 0:A.showInLegend)&&this.properties.title.text,x=[],b=this.properties.hideZeroValueSectorsInLegend,w=i.dataSources.get(this.id),M=(T=i.invalidData)==null?void 0:T.get(this.id);for(let N=0;N<i.input.count;N++){const G=w==null?void 0:w[N],V=f[N];if((M==null?void 0:M[N])===!0||b&&V===0)continue;const Q=[];C&&Q.push(C);const pe=this.getLabels(G,2*Math.PI,2*Math.PI,!1,g==null?void 0:g[N],m==null?void 0:m[N],y==null?void 0:y[N]);u&&pe.legendItem!==void 0?Q.push(pe.legendItem.text):a&&a!==o&&((k=pe.calloutLabel)==null?void 0:k.text)!==void 0?Q.push((R=pe.calloutLabel)==null?void 0:R.text):l&&l!==o&&((F=pe.sectorLabel)==null?void 0:F.text)!==void 0&&Q.push((I=pe.sectorLabel)==null?void 0:I.text),Q.length!==0&&x.push({legendType:"category",id:n,datum:G,itemId:N,seriesId:n,enabled:t&&r.getItemEnabled({seriesId:n,itemId:N}),label:{text:Q.join(" - ")},symbol:this.legendItemSymbol(N),legendItemName:u!=null?G[u]:void 0,hideInLegend:!h})}return x}setLegendState(e){const{id:t,ctx:{legendManager:i,updateService:s}}=this;e.forEach((n,r)=>i.toggleItem({enabled:n,seriesId:t,itemId:r})),i.update(),s.update(4)}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=Vu(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);ki(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(s,n)=>this.getDatumId(n.datum,n.datumIndex)),ki(this.id,"innerCircle",t,[this.innerCircleSelection],i.innerCircle),Nt(this,"callout",t,this.calloutLabelSelection),Nt(this,"sector",t,this.labelSelection),Nt(this,"highlight",t,this.highlightLabelSelection),Nt(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var m,y,C,x;const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:s,radiusScale:n,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,a=(y=(m=s==null?void 0:s.reduced)==null?void 0:m.diff)==null?void 0:y[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=((a==null?void 0:a.moved.size)??0)===0,u=((s==null?void 0:s.defs.keys.length)??0)>0,h=((x=(C=s==null?void 0:s.reduced)==null?void 0:C.animationValidation)==null?void 0:x.uniqueKeys)??!0;(!l||!u||!h)&&this.ctx.animationManager.skipCurrentBatch();const f=!this.nodeData.some(b=>b.enabled),g=Vu(!1,this.properties.rotation,n,r);ki(this.id,"nodes",o,[e,t,i],g.nodes,(b,w)=>this.getDatumId(w.datum,w.datumIndex),a),ki(this.id,"innerCircle",o,[this.innerCircleSelection],g.innerCircle),Nt(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Nt(this,"sector",this.ctx.animationManager,this.labelSelection),Nt(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.noVisibleData!==f&&(this.noVisibleData=f,Nt(this,"inner",this.ctx.animationManager,this.innerLabelsSelection)),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:s,previousRadiusScale:n}=this,{animationManager:r}=this.ctx,o=Vu(!1,this.properties.rotation,s,n);ki(this.id,"nodes",r,[e,t,i],o.nodes,(a,l)=>this.getDatumId(l.datum,l.datumIndex)),ki(this.id,"innerCircle",r,[this.innerCircleSelection],o.innerCircle),uc(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),uc(this,"sector",this.ctx.animationManager,this.labelSelection),uc(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),uc(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(e,t){var r,o,a;const{calloutLabelKey:i,sectorLabelKey:s,legendItemKey:n}=this.properties;return(a=(o=(r=this.processedData)==null?void 0:r.reduced)==null?void 0:o.animationValidation)!=null&&a.uniqueKeys?n?Xi(e[n]):i?Xi(e[i]):s?Xi(e[s]):`${t}`:`${t}`}};WE.className="DonutSeries";WE.type="donut";var Ple={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:_c,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:2}},legend:{enabled:!0}},Ole={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:_c,xOffset:3,yOffset:3,blur:5}},legend:{enabled:!0}},UG=({takeColors:e,colorsCount:t})=>{const{fills:i,strokes:s}=e(t);return{fills:i,strokes:s,calloutLine:{colors:s}}},Nle={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:e=>new WE(e),tooltipDefaults:{range:"exact"},themeTemplate:Ple,paletteFactory:UG},jG=class extends ei{constructor(){super(...arguments),this.showInLegend=!1}};E([L(et)],jG.prototype,"showInLegend",2);var Rf=class extends vs{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};E([L(Ve)],Rf.prototype,"offset",2);E([L(Tt.restrict({min:0,max:360}))],Rf.prototype,"minAngle",2);E([L(Ve)],Rf.prototype,"minSpacing",2);E([L(Ve)],Rf.prototype,"maxCollisionOffset",2);E([L(et)],Rf.prototype,"avoidCollisions",2);var UE=class extends vs{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};E([L(Tt)],UE.prototype,"positionOffset",2);E([L(Wt)],UE.prototype,"positionRatio",2);var Zx=class extends ut{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};E([L(hr,{optional:!0})],Zx.prototype,"colors",2);E([L(Ve)],Zx.prototype,"length",2);E([L(Ve)],Zx.prototype,"strokeWidth",2);var Gt=class extends gr{constructor(){super(...arguments),this.fills=Object.values(Yi),this.strokes=Object.values(Xo),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.title=new jG,this.shadow=new Oo,this.calloutLabel=new Rf,this.sectorLabel=new UE,this.calloutLine=new Zx,this.tooltip=new ln}};E([L(Fe)],Gt.prototype,"angleKey",2);E([L(Fe,{optional:!0})],Gt.prototype,"angleName",2);E([L(Fe,{optional:!0})],Gt.prototype,"angleFilterKey",2);E([L(Fe,{optional:!0})],Gt.prototype,"radiusKey",2);E([L(Fe,{optional:!0})],Gt.prototype,"radiusName",2);E([L(Ve,{optional:!0})],Gt.prototype,"radiusMin",2);E([L(Ve,{optional:!0})],Gt.prototype,"radiusMax",2);E([L(Fe,{optional:!0})],Gt.prototype,"calloutLabelKey",2);E([L(Fe,{optional:!0})],Gt.prototype,"calloutLabelName",2);E([L(Fe,{optional:!0})],Gt.prototype,"sectorLabelKey",2);E([L(Fe,{optional:!0})],Gt.prototype,"sectorLabelName",2);E([L(Fe,{optional:!0})],Gt.prototype,"legendItemKey",2);E([L(hr)],Gt.prototype,"fills",2);E([L(hr)],Gt.prototype,"strokes",2);E([L(Wt)],Gt.prototype,"fillOpacity",2);E([L(Wt)],Gt.prototype,"strokeOpacity",2);E([L(ha)],Gt.prototype,"lineDash",2);E([L(Ve)],Gt.prototype,"lineDashOffset",2);E([L(Ve)],Gt.prototype,"cornerRadius",2);E([L(In,{optional:!0})],Gt.prototype,"itemStyler",2);E([L(Tt)],Gt.prototype,"rotation",2);E([L(Tt)],Gt.prototype,"outerRadiusOffset",2);E([L(Wt)],Gt.prototype,"outerRadiusRatio",2);E([L(Ve)],Gt.prototype,"strokeWidth",2);E([L(Tt)],Gt.prototype,"sectorSpacing",2);E([L(et)],Gt.prototype,"hideZeroValueSectorsInLegend",2);E([L($e)],Gt.prototype,"title",2);E([L($e)],Gt.prototype,"shadow",2);E([L($e)],Gt.prototype,"calloutLabel",2);E([L($e)],Gt.prototype,"sectorLabel",2);E([L($e)],Gt.prototype,"calloutLine",2);E([L($e)],Gt.prototype,"tooltip",2);var _le=class extends Lm{constructor(e,t,i,s){super(e,t,i,s),this.angleKey=s.properties.angleKey,this.radiusKey=s.properties.radiusKey,this.calloutLabelKey=s.properties.calloutLabelKey,this.sectorLabelKey=s.properties.sectorLabelKey}},jE=class extends Xx{constructor(e){super({moduleCtx:e,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:HE,label:Dl}}),this.properties=new Gt,this.phantomNodeData=void 0,this.backgroundGroup=new En({name:`${this.id}-background`,zIndex:0}),this.previousRadiusScale=new Do,this.radiusScale=new Do,this.phantomGroup=this.backgroundGroup.appendChild(new ot({name:"phantom"})),this.phantomSelection=Ki.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new ot({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Ki(this.calloutLabelGroup,ot),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new ot({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ms({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=_le,this.angleScale=new Do,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(e,t,i){super.attachSeries(e,t,i),e.appendChild(this.backgroundGroup)}detachSeries(e,t,i){super.detachSeries(e,t,i),e==null||e.removeChild(this.backgroundGroup)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.backgroundGroup.zIndex=[0,e],!0):!1}nodeFactory(){const e=new Rs;return e.miterLimit=1e9,e}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(e){var x,b,w,M,A;if(this.data==null||!this.properties.isValid())return;const{visible:t,id:i,ctx:{legendManager:s}}=this,{angleKey:n,angleFilterKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:u}=this.properties,h=(T,k,R)=>t&&s.getItemEnabled({seriesId:i,itemId:R}),f=!this.ctx.animationManager.isSkipped(),g=[],m=[];u?g.push(Ao(u,"band",{id:"legendItemKey"})):a?g.push(Ao(a,"band",{id:"calloutLabelKey"})):l&&g.push(Ao(l,"band",{id:"sectorLabelKey"}));const y=this.radiusScale.type,C=this.angleScale.type;o&&m.push(nE(o,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),St(o,y,{id:"radiusRaw"}),Hu("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),a&&m.push(St(a,"band",{id:"calloutLabelValue"})),l&&m.push(St(l,"band",{id:"sectorLabelValue"})),u&&m.push(St(u,"band",{id:"legendItemValue"})),r&&m.push(Kp(r,C,{id:"angleFilterValue",onlyPositive:!0,validation:h,invalidValue:0}),St(r,C,{id:"angleFilterRaw"}),Hu("angleFilterValue",[0,1],0,0)),f&&((w=(b=(x=this.processedData)==null?void 0:x.reduced)==null?void 0:b.animationValidation)!=null&&w.uniqueKeys)&&g.length>0&&m.push(bf(this.id,this.processedData)),m.push(xf()),await this.requestDataModel(e,this.data,{props:[...g,Kp(n,C,{id:"angleValue",onlyPositive:!0,validation:h,invalidValue:0}),St(n,C,{id:"angleRaw"}),Hu("angleValue",[0,1],0,0),...m]});for(const T of((A=(M=this.processedData)==null?void 0:M.defs)==null?void 0:A.values)??[]){const{id:k,missing:R,property:F}=T,I=jA(this,R);k!=="angleRaw"&&I>0&&Ne.warnOnce(`no value was found for the key '${String(F)}' on ${I} data element${I>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataValues(e,t){const i=e.resolveColumnById(this,"angleValue",t),s=e.resolveColumnById(this,"angleRaw",t),n=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterValue",t):void 0,r=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterRaw",t):void 0,o=this.properties.radiusKey?e.resolveColumnById(this,"radiusValue",t):void 0,a=this.properties.radiusKey?e.resolveColumnById(this,"radiusRaw",t):void 0,l=this.properties.calloutLabelKey?e.resolveColumnById(this,"calloutLabelValue",t):void 0,u=this.properties.sectorLabelKey?e.resolveColumnById(this,"sectorLabelValue",t):void 0,h=this.properties.legendItemKey?e.resolveColumnById(this,"legendItemValue",t):void 0;return{angleValues:i,angleRawValues:s,angleFilterValues:n,angleFilterRawValues:r,radiusValues:o,radiusRawValues:a,calloutLabelValues:l,sectorLabelValues:u,legendItemValues:h}}createNodeData(){var R;const{id:e,processedData:t,dataModel:i,angleScale:s,ctx:{legendManager:n},visible:r}=this,{rotation:o}=this.properties;if(!i||(t==null?void 0:t.type)!=="ungrouped")return;const{angleValues:a,angleRawValues:l,angleFilterValues:u,angleFilterRawValues:h,radiusValues:f,radiusRawValues:g,calloutLabelValues:m,sectorLabelValues:y,legendItemValues:C}=this.getProcessedDataValues(i,t),x=(h==null?void 0:h.some((F,I)=>F>l[I]))??!1;let b=0,w=0;const M=[],A=h!=null?[]:void 0,T=t.dataSources.get(this.id)??[],k=(R=t.invalidData)==null?void 0:R.get(this.id);return T.forEach((F,I)=>{if((k==null?void 0:k[I])===!0)return;const N=x?u[I]:a[I],G=h!=null&&!x?Math.sqrt(h[I]/l[I]):1,V=s.convert(b)+os(o);b=N,w+=N;const Q=s.convert(b)+os(o),pe=Math.abs(Q-V),ae=V+pe/2,se=l[I],re=((f==null?void 0:f[I])??1)*G,J=g==null?void 0:g[I],z=C==null?void 0:C[I],ee=this.getLabels(F,ae,pe,!0,m==null?void 0:m[I],y==null?void 0:y[I],z),O=this.getSectorFormat(F,I,!1),j={itemId:I,series:this,datum:F,datumIndex:I,angleValue:se,midAngle:ae,midCos:Math.cos(ae),midSin:Math.sin(ae),startAngle:V,endAngle:Q,radius:re,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(re),0),sectorFormat:O,radiusValue:J,legendItemValue:z,enabled:r&&n.getItemEnabled({seriesId:e,itemId:I}),...ee};M.push(j),A!=null&&A.push({...j,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)})}),this.zerosumOuterRing.visible=w===0,{itemId:e,nodeData:M,labelData:M,phantomNodeData:A}}getLabels(e,t,i,s,n,r,o){const{calloutLabel:a,sectorLabel:l,legendItemKey:u}=this.properties,h=!s||a.enabled?this.properties.calloutLabelKey:void 0,f=!s||l.enabled?this.properties.sectorLabelKey:void 0;if(!h&&!f&&!u)return{};const g={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},m={};return h&&i>=os(a.minAngle)&&(m.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(a,{...g,value:n}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),f&&(m.sectorLabel={text:this.getLabelText(l,{...g,value:r})}),u!=null&&o!=null&&(m.legendItem={key:u,text:o}),m}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Vp(e),s=-.75*Math.PI,n=i-s,r=Math.floor(n/(Math.PI/2)),o=tA(r,t.length);return t[o]}getSectorFormat(e,t,i){const{angleKey:s,radiusKey:n,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fills:l,strokes:u,itemStyler:h}=this.properties,f=u[t%u.length],{fill:g,fillOpacity:m,stroke:y,strokeWidth:C,strokeOpacity:x,lineDash:b,lineDashOffset:w,cornerRadius:M}=bt(i&&this.properties.highlightStyle.item,{fill:l.length>0?l[t%l.length]:void 0,stroke:f,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let A;return h&&(A=this.cachedDatumCallback(this.getDatumId(e,t)+(i?"-highlight":"-hide"),()=>h({datum:e,angleKey:s,radiusKey:n,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fill:g,strokeOpacity:x,stroke:y,strokeWidth:C,fillOpacity:m,lineDash:b,lineDashOffset:w,cornerRadius:M,highlighted:i,seriesId:this.id}))),{fill:(A==null?void 0:A.fill)??g,fillOpacity:(A==null?void 0:A.fillOpacity)??m,stroke:(A==null?void 0:A.stroke)??y,strokeWidth:(A==null?void 0:A.strokeWidth)??C,strokeOpacity:(A==null?void 0:A.strokeOpacity)??x,lineDash:(A==null?void 0:A.lineDash)??b,lineDashOffset:(A==null?void 0:A.lineDashOffset)??w,cornerRadius:(A==null?void 0:A.cornerRadius)??M}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(e){var s;const t=[0,this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=n=>({...n,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(n.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(s=this.phantomNodeData)==null?void 0:s.map(i)}getTitleTranslationY(){var n;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+(((n=this.properties.title)==null?void 0:n.spacing)??0),s=Math.max(0,-e);return-e-i-s}update({seriesRect:e}){const{title:t}=this.properties,i={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},s=ll(this.nodeDataDependencies,i)!=null;if(s&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(s),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){const n=this.getTitleTranslationY();t.node.y=isFinite(n)?n:0;const r=t.node.getBBox();t.node.visible=t.enabled&&isFinite(n)&&!this.bboxIntersectsSurroundingSeries(r)}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(e)}updateTitleNodes(){var i,s;const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&((i=this.labelGroup)==null||i.removeChild(e.node)),t&&(t.node.textBaseline="bottom",(s=this.labelGroup)==null||s.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){var t;const e=i=>{const s=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,s),y:i.midSin*Math.max(0,s)}};this.nodeData.forEach(e),(t=this.phantomNodeData)==null||t.forEach(e)}updateSelections(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,highlightLabelSelection:s,calloutLabelSelection:n,labelSelection:r}=this,o=this.nodeData.map(l=>({...l,sectorFormat:{...l.sectorFormat}})),a=(l,u)=>{l.update(u,void 0,h=>this.getDatumId(h.datum,h.datumIndex)),this.ctx.animationManager.isSkipped()&&l.cleanup()};a(e,this.nodeData),a(t,o),a(i,this.phantomNodeData??[]),n.update(this.calloutNodeData,l=>{const u=new fr;u.tag=0,u.pointerEvents=1,l.appendChild(u);const h=new gs;h.tag=1,h.pointerEvents=1,l.appendChild(h)}),r.update(this.nodeData),s.update(o)}updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),{visible:i}=this;this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(t==null?void 0:t.series)===this,this.highlightLabel.visible=i&&(t==null?void 0:t.series)===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity();const s=this.ctx.animationManager.isSkipped(),n=(r,o,a,l)=>{const u=this.getSectorFormat(o.datum,o.itemId,l);o.sectorFormat.fill=u.fill,o.sectorFormat.stroke=u.stroke,s&&(r.startAngle=o.startAngle,r.endAngle=o.endAngle,r.innerRadius=o.innerRadius,r.outerRadius=o.outerRadius),(l||s)&&(r.fill=u.fill,r.stroke=u.stroke),r.strokeWidth=u.strokeWidth,r.fillOpacity=u.fillOpacity,r.strokeOpacity=u.strokeOpacity,r.lineDash=u.lineDash,r.lineDashOffset=u.lineDashOffset,r.cornerRadius=u.cornerRadius,r.fillShadow=this.properties.shadow;const h=Math.max((this.properties.sectorSpacing+(u.stroke!=null?u.strokeWidth:0))/2,0);r.inset=h,r.lineJoin=this.properties.sectorSpacing>=0||h>0?"miter":"round"};this.itemSelection.each((r,o,a)=>n(r,o,a,!1)),this.highlightSelection.each((r,o,a)=>{n(r,o,a,!0),r.visible=o.itemId===(t==null?void 0:t.itemId)}),this.phantomSelection.each((r,o,a)=>n(r,o,a,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:e}=this.properties,t=e.length,i=e.strokeWidth,s=e.colors??this.properties.strokes,{offset:n}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((r,o)=>{const a=r.datum,{calloutLabel:l,outerRadius:u}=a;if(l!=null&&l.text&&!l.hidden&&u!==0){r.visible=!0,r.strokeWidth=i,r.stroke=s[o%s.length],r.fill=void 0;const h=a.midCos*u,f=a.midSin*u;let g=a.midCos*(u+t),m=a.midSin*(u+t);if((l.collisionTextAlign??l.collisionOffsetY!==0)&&l.box!=null){const C=l.box;let x=g,b=m;g<C.x?x=C.x:g>C.x+C.width&&(x=C.x+C.width),m<C.y?b=C.y:m>C.y+C.height&&(b=C.y+C.height);const w=x-g,M=b-m,A=Math.sqrt(Math.pow(w,2)+Math.pow(M,2)),T=A-n;T>0&&(g=g+w*T/A,m=m+M*T/A)}r.x1=h,r.y1=f,r.x2=g,r.y2=m}else r.visible=!1})}getLabelOverflow(e,t,i){const s=-this.centerX,n=s+i.width,r=-this.centerY,o=r+i.height,a=1;let l=1;t.x+a<s?l=(t.x+t.width-s)/t.width:t.x+t.width-a>n&&(l=(n-t.x)/t.width);const u=t.y+a<r||t.y+t.height-a>o,h=l===1?e.length:Math.floor(e.length*l)-1,f=this.bboxIntersectsSurroundingSeries(t);return{textLength:h,hasVerticalOverflow:u,hasSurroundingSeriesOverflow:f}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(t==null)return!1;const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=t**2;return i.some(n=>n.x**2+n.y**2>s)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:s,minSpacing:n}=t,r=e.convert(0),o=b=>!b.calloutLabel||b.outerRadius===0,a=this.calloutNodeData,l=a.filter(b=>!o(b));if(l.forEach(b=>{const w=b.calloutLabel;w!=null&&(w.hidden=!1,w.collisionTextAlign=void 0,w.collisionOffsetY=0)}),l.length<=1)return;const u=l.filter(b=>b.midCos<0).sort((b,w)=>b.midSin-w.midSin),h=l.filter(b=>b.midCos>=0).sort((b,w)=>b.midSin-w.midSin),f=l.filter(b=>{var w;return b.midSin<0&&((w=b.calloutLabel)==null?void 0:w.textAlign)==="center"}).sort((b,w)=>b.midCos-w.midCos),g=l.filter(b=>{var w;return b.midSin>=0&&((w=b.calloutLabel)==null?void 0:w.textAlign)==="center"}).sort((b,w)=>b.midCos-w.midCos),m=b=>{const w=b.calloutLabel;if(w==null)return Ze.zero.clone();const M=b.outerRadius+i.length+s,A=b.midCos*M,T=b.midSin*M+w.collisionOffsetY,k=w.collisionTextAlign??w.textAlign,R=w.textBaseline;return gs.computeBBox(w.text,A,T,{font:this.properties.calloutLabel,textAlign:k,textBaseline:R})},y=(b,w,M)=>{const A=m(b).grow(n/2),T=m(w).grow(n/2);A.x<T.x+T.width&&A.x+A.width>T.x&&(M==="to-top"?A.y<T.y+T.height:A.y+A.height>T.y)&&(w.calloutLabel.collisionOffsetY=M==="to-top"?A.y-T.y-T.height:A.y+A.height-T.y)},C=b=>{const w=b.slice().sort((A,T)=>Math.abs(A.midSin)-Math.abs(T.midSin))[0],M=b.indexOf(w);for(let A=M-1;A>=0;A--){const T=b[A+1],k=b[A];y(T,k,"to-top")}for(let A=M+1;A<b.length;A++){const T=b[A-1],k=b[A];y(T,k,"to-bottom")}},x=b=>{const w=l.some(F=>F.calloutLabel.collisionOffsetY!==0),M=b.map(F=>m(F)),A=M.map(F=>F.clone().grow(n/2));let T=!1;for(let F=0;F<A.length&&!T;F++){const I=A[F];for(let N=F+1;N<b.length;N++){const G=A[N];if(I.collidesBBox(G)){T=!0;break}}}const k=a.map(F=>{const{startAngle:I,endAngle:N,outerRadius:G}=F;return{startAngle:I,endAngle:N,innerRadius:r,outerRadius:G}}),R=M.some(F=>k.some(I=>HG(F,I)));!T&&!w&&!R||b.filter(F=>F.calloutLabel.textAlign==="center").forEach(F=>{const I=F.calloutLabel;F.midCos<0?I.collisionTextAlign="right":F.midCos>0?I.collisionTextAlign="left":I.collisionTextAlign="center"})};C(u),C(h),x(f),x(g)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:s}=this.properties,n=s.length,{offset:r,color:o}=i,a=new gs;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const{datum:u}=l,h=u.calloutLabel,f=t.convert(u.radius),g=Math.max(0,f);if(!(h!=null&&h.text)||g===0||h.hidden){l.visible=!1;return}const m=g+n+r,y=u.midCos*m,C=u.midSin*m+h.collisionOffsetY,x={textAlign:h.collisionTextAlign??h.textAlign,textBaseline:h.textBaseline};a.text=h.text,a.x=y,a.y=C,a.setFont(this.properties.calloutLabel),a.setAlign(x);const b=a.getBBox();let w=h.text,M=!0;if(i.avoidCollisions){const{textLength:A,hasVerticalOverflow:T}=this.getLabelOverflow(h.text,b,e);w=h.text.length===A?h.text:`${h.text.substring(0,A)}`,M=!T}l.text=w,l.x=y,l.y=C,l.setFont(this.properties.calloutLabel),l.setAlign(x),l.fill=o,l.visible=M})}computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:s}=this.properties,n=s.length,{offset:r,maxCollisionOffset:o,minSpacing:a}=i;if(!i.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],u=new gs;let h;const{title:f}=this.properties;if(f!=null&&f.text&&f.enabled){const g=this.getTitleTranslationY();isFinite(g)&&(u.text=f.text,u.x=0,u.y=g,u.setFont(f),u.setAlign({textBaseline:"bottom",textAlign:"center"}),h=u.getBBox(),l.push(h))}return this.calloutNodeData.forEach(g=>{const m=g.calloutLabel;if(!m||g.outerRadius===0)return null;const y=g.outerRadius+n+r,C=g.midCos*y,x=g.midSin*y+m.collisionOffsetY;u.text=m.text,u.x=C,u.y=x,u.setFont(this.properties.calloutLabel),u.setAlign({textAlign:m.collisionTextAlign??m.textAlign,textBaseline:m.textBaseline});const b=u.getBBox();if(m.box=b,Math.abs(m.collisionOffsetY)>o){m.hidden=!0;return}if(h){const w=-this.centerY,M=new Ze(h.x-a,w,h.width+2*a,h.y+h.height+a-w);if(b.collidesBBox(M)){m.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:w,hasVerticalOverflow:M,hasSurroundingSeriesOverflow:A}=this.getLabelOverflow(m.text,b,t),T=m.text.length>2&&w<2;if(M||T||A){m.hidden=!0;return}}m.hidden=!1,l.push(b)}),l.length===0?null:Ze.merge(l)}updateSectorLabelNodes(){var g;const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:s,fontWeight:n,fontFamily:r,positionOffset:o,positionRatio:a,color:l}=this.properties.sectorLabel,u=t>0,h=((g=this.ctx.legendManager.getData(this.id))==null?void 0:g.filter(m=>m.enabled).length)===1,f=(m,y)=>{const{sectorLabel:C,outerRadius:x,startAngle:b,endAngle:w}=y;let M=!1;if(C&&x!==0){const A=t*(1-a)+x*a+o;m.fill=l,m.fontStyle=s,m.fontWeight=n,m.fontSize=i,m.fontFamily=r,m.text=C.text,!u&&h?(m.x=0,m.y=0):(m.x=y.midCos*A,m.y=y.midSin*A),m.textAlign="center",m.textBaseline="middle";const k=m.getBBox(),R=[[k.x,k.y],[k.x+k.width,k.y],[k.x+k.width,k.y+k.height],[k.x,k.y+k.height]],F={startAngle:b,endAngle:w,innerRadius:t,outerRadius:x};R.every(([I,N])=>wC(I,N,F))&&(M=!0)}m.visible=M};this.labelSelection.each(f),this.highlightLabelSelection.each(f)}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2}pickNodeClosestDatum(e){return VE(this,e)}getTooltipContent(e){var F;const{id:t,dataModel:i,processedData:s,properties:n}=this,{legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:l,sectorLabelName:u,angleKey:h,angleName:f,radiusKey:g,radiusName:m,tooltip:y}=n,C=this.properties.title.text;if(!i||!s)return;const{datumIndex:x}=e,b=(F=s.dataSources.get(this.id))==null?void 0:F[x],{angleRawValues:w,legendItemValues:M,calloutLabelValues:A,sectorLabelValues:T}=this.getProcessedDataValues(i,s),k=w[x],R=(M==null?void 0:M[x])??(o===h||A==null?void 0:A[x])??(l===h||T==null?void 0:T[x])??f;return y.formatTooltip({title:C,symbol:this.legendItemSymbol(x),data:[{label:R,fallbackLabel:h,value:al(k,3)}]},{seriesId:t,datum:b,title:f,legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:l,sectorLabelName:u,angleKey:h,angleName:f,radiusKey:g,radiusName:m,...this.getSectorFormat(b,x,!1)})}legendItemSymbol(e){var s,n;const t=(n=(s=this.processedData)==null?void 0:s.dataSources.get(this.id))==null?void 0:n[e],i=this.getSectorFormat(t,e,!1);return{marker:{fill:i.fill,stroke:i.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}}}getLegendData(e){var A,T,k,R,F,I;const{id:t,visible:i,processedData:s,dataModel:n,ctx:{legendManager:r}}=this;if(!n||!s||e!=="category")return[];const{angleKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:u,showInLegend:h}=this.properties;if(!u&&(!a||a===o)&&(!l||l===o))return[];const{calloutLabelValues:f,sectorLabelValues:g,legendItemValues:m,angleRawValues:y}=this.getProcessedDataValues(n,s),C=((A=this.properties.title)==null?void 0:A.showInLegend)&&this.properties.title.text,x=[],b=this.properties.hideZeroValueSectorsInLegend,w=s.dataSources.get(this.id),M=(T=s.invalidData)==null?void 0:T.get(this.id);for(let N=0;N<s.input.count;N++){const G=w==null?void 0:w[N],V=y[N];if((M==null?void 0:M[N])===!0||b&&V===0)continue;const Q=[];C&&Q.push(C);const pe=this.getLabels(G,2*Math.PI,2*Math.PI,!1,f==null?void 0:f[N],g==null?void 0:g[N],m==null?void 0:m[N]);u&&pe.legendItem!==void 0?Q.push(pe.legendItem.text):a&&a!==o&&((k=pe.calloutLabel)==null?void 0:k.text)!==void 0?Q.push((R=pe.calloutLabel)==null?void 0:R.text):l&&l!==o&&((F=pe.sectorLabel)==null?void 0:F.text)!==void 0&&Q.push((I=pe.sectorLabel)==null?void 0:I.text),Q.length!==0&&x.push({legendType:"category",id:t,datum:G,itemId:N,seriesId:t,enabled:i&&r.getItemEnabled({seriesId:t,itemId:N}),label:{text:Q.join(" - ")},symbol:this.legendItemSymbol(N),legendItemName:u!=null?G[u]:void 0,hideInLegend:!h})}return x}setLegendState(e){const{id:t,ctx:{legendManager:i,updateService:s}}=this;e.forEach((n,r)=>i.toggleItem({enabled:n,seriesId:t,itemId:r})),i.update(),s.update(4)}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=Vu(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);ki(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(s,n)=>this.getDatumId(n.datum,n.datumIndex)),Nt(this,"callout",t,this.calloutLabelSelection),Nt(this,"sector",t,this.labelSelection),Nt(this,"highlight",t,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var g,m,y,C;const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:s,radiusScale:n,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,a=(m=(g=s==null?void 0:s.reduced)==null?void 0:g.diff)==null?void 0:m[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=((a==null?void 0:a.moved.size)??0)===0,u=((s==null?void 0:s.defs.keys.length)??0)>0,h=((C=(y=s==null?void 0:s.reduced)==null?void 0:y.animationValidation)==null?void 0:C.uniqueKeys)??!0;(!l||!u||!h)&&this.ctx.animationManager.skipCurrentBatch();const f=Vu(!1,this.properties.rotation,n,r);ki(this.id,"nodes",o,[e,t,i],f.nodes,(x,b)=>this.getDatumId(b.datum,b.datumIndex),a),Nt(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Nt(this,"sector",this.ctx.animationManager,this.labelSelection),Nt(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:s,previousRadiusScale:n}=this,{animationManager:r}=this.ctx,o=Vu(!1,this.properties.rotation,s,n);ki(this.id,"nodes",r,[e,t,i],o.nodes,(a,l)=>this.getDatumId(l.datum,l.datumIndex)),uc(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),uc(this,"sector",this.ctx.animationManager,this.labelSelection),uc(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(e,t){var r,o,a;const{calloutLabelKey:i,sectorLabelKey:s,legendItemKey:n}=this.properties;return(a=(o=(r=this.processedData)==null?void 0:r.reduced)==null?void 0:o.animationValidation)!=null&&a.uniqueKeys?n?Xi(e[n]):i?Xi(e[i]):s?Xi(e[s]):`${t}`:`${t}`}};jE.className="PieSeries";jE.type="pie";var Ble={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:e=>new jE(e),tooltipDefaults:{range:"exact"},themeTemplate:Ole,paletteFactory:UG};function Gle(){ia.register(rG,Jae,wae,vle,OG,Tle,_G,Ile,Nle,Ble,Rle);for(const e of[Fc,mf,gh,Sf,yh])qa.register(e.type,{moduleFactory:t=>new e(t)})}function zle(){for(const e of ia.modules){if(e.packageType==="enterprise"&&!poe(e)&&Ne.errorOnce("Unexpected enterprise module registered: "+e.identifier),e.type==="root"&&e.themeTemplate)for(const t of e.chartTypes)GM.set(t,e.themeTemplate);if(e.type==="series"){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);zn.register(e.identifier,e)}if(e.type==="series-option"&&e.themeTemplate)for(const t of e.seriesTypes)zn.setThemeTemplate(t,e.themeTemplate);if(e.type==="axis-option"&&e.themeTemplate)for(const t of e.axisTypes){const i=qa.getThemeTemplate(t),s=bt(e.themeTemplate,i);qa.setThemeTemplate(t,s)}e.type==="axis"&&qa.register(e.identifier,e),e.type==="legend"&&YA.register(e.identifier,e)}if(ia.hasEnterpriseModules()){const e=moe();e.length>0&&Ne.errorOnce("Enterprise modules expected but not registered: ",e)}}var tf=class extends kA{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}updatePosition(){super.updatePosition();const e=lC(this),t=TA(e);this.axisGroup.setProperties(this.getAxisTransform()),this.gridLineGroupSelection.each(t),this.tickLineGroupSelection.each(t),this.tickLabelGroupSelection.each(RA())}computeLabelsBBox(e,t){return null}computeRange(){}getAxisLinePoints(){}};E([L(ii(["polygon","circle"],"a polar axis shape"))],tf.prototype,"shape",2);E([L(Wt)],tf.prototype,"innerRadiusRatio",2);var YE=class extends Rx{constructor(e,t){super(e,t),this.padding=new Ic(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}async performLayout(e){const{layoutBox:t}=e;t.shrink(this.seriesArea.padding.toJson());const i=t.clone();this.seriesRect=i,this.animationRect=i,this.seriesRoot.translationX=i.x,this.seriesRoot.translationY=i.y,await this.computeCircle(i),this.axes.forEach(s=>s.update()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:i,paddedRect:i}})}updateAxes(e,t,i,s){var l;const n=this.axes.find(u=>u.direction==="x"),r=this.axes.find(u=>u.direction==="y");if(!(n instanceof tf)||!(r instanceof tf))return;const o=n.scale,a=r.innerRadiusRatio;n.innerRadiusRatio=a,n.computeRange(),n.gridLength=s,r.gridAngles=(l=o.ticks({nice:n.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}))==null?void 0:l.map(u=>o.convert(u)),r.gridRange=n.range,r.range=[s,s*a],[n,r].forEach(u=>{u.translation.x=e.x+t,u.translation.y=e.y+i,u.calculateLayout()})}async computeCircle(e){const t=this.series.filter(Hle),i=this.axes.filter(Vle),s=(u,h,f)=>{this.updateAxes(e,u,h,f),t.forEach(m=>{m.centerX=u,m.centerY=h,m.radius=f});const g=t.filter(m=>m.type==="donut"||m.type==="pie");if(g.length>1){const m=g.map(y=>{const C=y.getInnerRadius();return{series:y,innerRadius:C}}).sort((y,C)=>y.innerRadius-C.innerRadius);m.at(-1).series.surroundingRadius=void 0;for(let y=0;y<m.length-1;y++)m[y].series.surroundingRadius=m[y+1].innerRadius}},n=e.width/2,r=e.height/2,o=Math.max(0,Math.min(e.width,e.height)/2);let a=o;s(n,r,a);const l=async({hideWhenNecessary:u=!1}={})=>{const h=[];for(const m of Eu(i,t)){const y=await m.computeLabelsBBox({hideWhenNecessary:u},e);y&&h.push(y)}if(h.length===0){s(n,r,o);return}const f=Ze.merge(h),g=this.refineCircle(f,a,e);s(g.centerX,g.centerY,g.radius),a=g.radius};await l(),await l(),await l(),await l({hideWhenNecessary:!0}),await l({hideWhenNecessary:!0});for(const u of Eu(i,t))await u.computeLabelsBBox({hideWhenNecessary:!0},e);return{radius:a,centerX:n,centerY:r}}refineCircle(e,t,i){const n=-t,r=-t,o=t,a=t;let l=Math.max(0,n-e.x),u=Math.max(0,r-e.y),h=Math.max(0,e.x+e.width-o),f=Math.max(0,e.y+e.height-a);l=h=Math.max(l,h),u=f=Math.max(u,f);const g=i.width-l-h,m=i.height-u-f;let y=Math.min(g,m)/2;const C=.5*i.width/2,x=.5*i.height/2,b=Math.min(C,x);if(y<b){y=b;const A=l+h,T=u+f;if(2*y+T>i.height){const k=i.height-2*y;Math.min(u,f)*2>k?(u=k/2,f=k/2):u>f?u=k-f:f=k-u}if(2*y+A>i.width){const k=i.width-2*y;Math.min(l,h)*2>k?(l=k/2,h=k/2):l>h?l=k-h:h=k-l}}const w=l+2*y+h,M=u+2*y+f;return{centerX:(i.width-w)/2+l+y,centerY:(i.height-M)/2+u+y,radius:y}}};YE.className="PolarChart";YE.type="polar";function Hle(e){return e instanceof Xx}function Vle(e){return e instanceof tf}var Wle={type:"chart",name:"polar",detect:w3,create(e,t){return new YE(e,t)}},Sn={isEnterprise:!1},YG=(e=>(e.POINTER="pointer",e.NODE="node",e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e))(YG||{}),Nr=Symbol("IGNORED_PROP");function rr(e,t){const i={};for(const[s,n]of Object.entries(t))n!==Nr&&Object.hasOwn(e,s)&&(i[s]=n);return i}function KG(e){if(e===void 0)return;const{enabled:t,showArrow:i,range:s,position:n,delay:r,wrapping:o}=e;return Object.fromEntries(Object.entries({enabled:t,showArrow:i,range:s,position:n,delay:r,wrapping:o}).filter(([l,u])=>u!==void 0))}function Ule(e){return e.type==="radial-gauge"}function jle(e){return e.type==="linear-gauge"}function Yle(e){const{animation:t,background:i,container:s,contextMenu:n,footnote:r,height:o,listeners:a,locale:l,minHeight:u,minWidth:h,overrideDevicePixelRatio:f,padding:g,subtitle:m,theme:y,title:C,width:x,type:b,cursor:w,nodeClickRange:M,tooltip:A,value:T,scale:k={},startAngle:R,endAngle:F,highlightStyle:I,segmentation:N,bar:G,needle:V,targets:Q,outerRadius:pe,innerRadius:ae,outerRadiusRatio:se,innerRadiusRatio:le,cornerRadius:re,cornerMode:J,label:z,secondaryLabel:ee,spacing:O,...j}=e,{fills:H,fillMode:K,fill:ne,fillOpacity:ge,stroke:ce,strokeWidth:ue,strokeOpacity:de,lineDash:Le,lineDashOffset:X,min:ze=0,max:_e=1,interval:je={},label:Ue={}}=k,we=rr(e,{animation:t,background:i,container:s,contextMenu:n,footnote:r,height:o,listeners:a,locale:l,minHeight:u,minWidth:h,overrideDevicePixelRatio:f,padding:g,subtitle:m,theme:y,title:C,tooltip:KG(A),width:x}),qe=rr(k,{fills:H,fillMode:K,fill:ne,fillOpacity:ge,stroke:ce,strokeWidth:ue,strokeOpacity:de,lineDash:Le,lineDashOffset:X}),ht=rr(e,{startAngle:Nr,endAngle:Nr,needle:V!=null?{enabled:!0,...V}:Nr,scale:qe,type:b,cursor:w,nodeClickRange:M,listeners:a,tooltip:A,value:T,highlightStyle:I,segmentation:N,bar:G,targets:Q,outerRadius:pe,innerRadius:ae,outerRadiusRatio:se,innerRadiusRatio:le,cornerRadius:re,cornerMode:J,label:z,secondaryLabel:ee,spacing:O,...j});return{...we,series:[ht],axes:[{type:"angle-number",min:ze,max:_e,startAngle:R,endAngle:F,interval:je??{},label:Ue??{}},{type:"radius-number"}]}}function Kle(e){const{animation:t,background:i,container:s,contextMenu:n,footnote:r,height:o,listeners:a,locale:l,minHeight:u,minWidth:h,overrideDevicePixelRatio:f,padding:g,subtitle:m,theme:y,title:C,width:x,type:b,cursor:w,nodeClickRange:M,tooltip:A,value:T,scale:k={},direction:R="vertical",thickness:F,highlightStyle:I,segmentation:N,bar:G,targets:V,cornerRadius:Q,cornerMode:pe,label:ae,...se}=e,{fills:le,fillMode:re,fill:J,fillOpacity:z,stroke:ee,strokeWidth:O,strokeOpacity:j,lineDash:H,lineDashOffset:K,min:ne=0,max:ge=1,interval:ce={},label:ue={}}=k,de=rr(e,{animation:t,background:i,container:s,contextMenu:n,footnote:r,height:o,listeners:a,locale:l,minHeight:u,minWidth:h,overrideDevicePixelRatio:f,padding:g,subtitle:m,theme:y,title:C,tooltip:KG(A),width:x}),Le=rr(k,{fills:le,fillMode:re,fill:J,fillOpacity:z,stroke:ee,strokeWidth:O,strokeOpacity:j,lineDash:H,lineDashOffset:K}),X=rr(e,{scale:Le,type:b,cursor:w,nodeClickRange:M,listeners:a,tooltip:A,value:T,direction:R,thickness:F,highlightStyle:I,segmentation:N,bar:G,targets:V,cornerRadius:Q,cornerMode:pe,label:ae,...se}),{placement:ze,..._e}=ue;let je,Ue;const we=R==="horizontal";we?(je=ze==="before"?"top":"bottom",Ue="left"):(je=ze==="after"?"right":"left",Ue="bottom");const qe={type:"number",position:je,min:ne,max:ge,reverse:!we,interval:ce,label:_e,nice:!1},ht={type:"number",position:Ue,min:0,max:1,label:{enabled:!1}};return{...de,series:[X],axes:we?[qe,ht]:[ht,qe]}}function H2(e,t){if(t==null)return e;const{targets:i,...s}=t;return e=bt(e,s),e.targets!=null&&i!=null&&(e.targets=iC(e.targets,i)),e}function $le(e,t){if(Ule(e)){const w=H2(e,t);return Yle(w)}else if(jle(e)){const w=H2(e,t);return Kle(w)}const{animation:i,background:s,container:n,contextMenu:r,footnote:o,height:a,listeners:l,locale:u,minHeight:h,minWidth:f,padding:g,subtitle:m,theme:y,title:C,tooltip:x,width:b}=e;return rr(e,{animation:i,background:s,container:n,contextMenu:r,footnote:o,height:a,listeners:l,locale:u,minHeight:h,minWidth:f,padding:g,subtitle:m,theme:y,title:C,tooltip:x,width:b})}var Ir={stroke:Ii},Fs={fill:Gm},V2={color:"white",fill:Ii},_a={color:Ii},MC={color:Bm,fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"}},Yy={...MC,textAlign:"left"},ZM={...MC,fontSize:{$ref:"fontSize"},color:Vm,fill:zm,stroke:Hm,strokeWidth:1,divider:{stroke:Wm,strokeWidth:1,strokeOpacity:.5}},C1={...Ir,background:{fill:rs,fillOpacity:.2},handle:{...Fs},text:{..._a},statistics:{...ZM}},Xle={line:{...Ir,handle:{...Fs},text:{..._a}},"horizontal-line":{...Ir,handle:{...Fs},axisLabel:{...V2},text:{..._a}},"vertical-line":{...Ir,handle:{...Fs},axisLabel:{...V2},text:{..._a}},"disjoint-channel":{...Ir,background:{fill:rs,fillOpacity:.2},handle:{...Fs},text:{..._a}},"parallel-channel":{...Ir,background:{fill:rs,fillOpacity:.2},handle:{...Fs},text:{..._a}},"fibonacci-retracement":{...Ir,strokes:Xp,rangeStroke:Ii,handle:{...Fs},text:{..._a,position:"center"},label:{...MC,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},"fibonacci-retracement-trend-based":{...Ir,strokes:Xp,rangeStroke:Ii,handle:{...Fs},text:{..._a,position:"center"},label:{...MC,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},callout:{...Ir,...Yy,color:{$ref:"textColor"},handle:{...Fs},fill:rs,fillOpacity:.2},comment:{...Yy,color:"white",fontWeight:700,handle:{...Fs},fill:Ii},note:{...Yy,color:Ym,fill:Ii,stroke:{$ref:"backgroundColor"},strokeWidth:1,strokeOpacity:1,handle:{...Fs},background:{fill:Um,stroke:jm,strokeWidth:1}},text:{...Yy,handle:{...Fs}},arrow:{...Ir,handle:{...Fs},text:{..._a}},"arrow-up":{fill:Nm,handle:{...Fs,stroke:Ii}},"arrow-down":{fill:_m,handle:{...Fs,stroke:Ii}},"date-range":{...C1},"price-range":{...C1},"date-price-range":{...C1},"quick-date-price-range":{up:{...Ir,fill:rs,fillOpacity:.2,handle:{...Fs},statistics:{...ZM,color:"#fff",fill:rs,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}},down:{...Ir,stroke:qp,fill:Zp,fillOpacity:.2,handle:{...Fs,stroke:qp},statistics:{...ZM,color:"#fff",fill:Zp,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}}}};function fs(e,t){if(Ds(e))return t(e)}var Zle=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],qle=[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"fibonacci-retracement-drawing",tooltip:"toolbarAnnotationsFibonacciAnnotations",value:"fibonacci-menu"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}];function Qle(e,t,i){var Q,pe,ae,se;const{dateKey:s="date",highKey:n="high",openKey:r="open",lowKey:o="low",closeKey:a="close",volumeKey:l="volume",chartType:u="candlestick",navigator:h=!1,volume:f=!0,rangeButtons:g=!0,statusBar:m=!0,toolbar:y=!0,zoom:C=!0,theme:x,data:b,...w}=e,M=ece(x,u,s,n,o,r,a),A=Jle(x,i,r,a,f,l),k={navigator:{enabled:h,...f?{miniChart:{enabled:h,series:[{type:"line",xKey:s,yKey:l,marker:{enabled:!1}}]},height:40,minHandle:{height:46},maxHandle:{height:46}}:null}},R=typeof x=="string"?!0:((se=(ae=(pe=(Q=x==null?void 0:x.overrides)==null?void 0:Q.common)==null?void 0:pe.annotations)==null?void 0:ae.axesButtons)==null?void 0:se.enabled)??!0,F={annotations:{enabled:y,optionsToolbar:{enabled:y},snap:!0,axesButtons:{enabled:R},toolbar:{enabled:y,buttons:qle,padding:0},data:b,xKey:s,volumeKey:f?l:void 0}},I=m?{statusBar:{enabled:!0,data:b,highKey:n,openKey:r,lowKey:o,closeKey:a,volumeKey:f?l:void 0}}:null,N={zoom:{enabled:C,autoScaling:{enabled:!0},enableIndependentAxes:!0}},G={ranges:{enabled:g}},V=f?[{type:"number",position:"left",keys:[l],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"}}]:[];return{theme:{baseTheme:typeof x=="string"?x:"ag-financial",...bt(typeof x=="object"?x:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:5},chartToolbar:{enabled:y},annotations:{...Xle}}}})},animation:{enabled:!1},legend:{enabled:!1},series:[...A,...M],axes:[{type:"number",position:"right",keys:[r,a,n,o],interval:{maxSpacing:fs(x,le=>{var re,J,z,ee,O;return(O=(ee=(z=(J=(re=le.overrides)==null?void 0:re.common)==null?void 0:J.axes)==null?void 0:z.number)==null?void 0:ee.interval)==null?void 0:O.maxSpacing})??45},label:{format:fs(x,le=>{var re,J,z,ee,O;return(O=(ee=(z=(J=(re=le.overrides)==null?void 0:re.common)==null?void 0:J.axes)==null?void 0:z.number)==null?void 0:ee.label)==null?void 0:O.format})??".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...V,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:b,...F,...k,...I,...N,...G,...w}}function Jle(e,t,i,s,n,r){if(!n)return[];const o=fs(e,l=>{var u,h,f;return(f=(h=(u=l.overrides)==null?void 0:u.bar)==null?void 0:h.series)==null?void 0:f.fill}),a=o?{fill:o}:{itemStyler({datum:l}){const{up:u,down:h}=t().palette;return{fill:l[i]<l[s]?u==null?void 0:u.fill:h==null?void 0:h.fill}}};return[{type:"bar",xKey:"date",yKey:r,tooltip:{enabled:!1},highlight:{enabled:!1},fillOpacity:fs(e,l=>{var u,h,f;return(f=(h=(u=l.overrides)==null?void 0:u.bar)==null?void 0:h.series)==null?void 0:f.fillOpacity})??.5,...a,focusPriority:1,fastDataProcessing:!0}]}var x1="range-area";function ece(e,t,i,s,n,r,o){const a={xKey:i,openKey:r,closeKey:o,highKey:s,lowKey:n},l={xKey:i,yKey:o},u={pickOutsideVisibleMinorAxis:!0};switch(t??"candlestick"){case"ohlc":return tce(u,a);case"line":return ice(u,e,l);case"step-line":return sce(u,e,l);case"hlc":return nce(u,e,l,a);case"high-low":return rce(u,e,a);case"candlestick":return W2(u,a);case"hollow-candlestick":return oce(u,e,a);default:return Ne.warnOnce(`unknown chart type: ${t}; expected one of: ${Zle.join(", ")}`),W2(u,a)}}function tce(e,t){return[{type:"ohlc",focusPriority:0,...e,...t}]}function ice(e,t,i){return[{type:"line",focusPriority:0,...e,...i,stroke:fs(t,s=>{var n,r,o;return(o=(r=(n=s.overrides)==null?void 0:n.line)==null?void 0:r.series)==null?void 0:o.stroke})??Af,marker:fs(t,s=>{var n,r,o;return(o=(r=(n=s.overrides)==null?void 0:n.line)==null?void 0:r.series)==null?void 0:o.marker})??{enabled:!1}}]}function sce(e,t,i){return[{type:"line",focusPriority:0,...e,...i,stroke:fs(t,s=>{var n,r,o;return(o=(r=(n=s.overrides)==null?void 0:n.line)==null?void 0:r.series)==null?void 0:o.stroke})??Af,interpolation:fs(t,s=>{var n,r,o;return(o=(r=(n=s.overrides)==null?void 0:n.line)==null?void 0:r.series)==null?void 0:o.interpolation})??{type:"step"},marker:fs(t,s=>{var n,r,o;return(o=(r=(n=s.overrides)==null?void 0:n.line)==null?void 0:r.series)==null?void 0:o.marker})??{enabled:!1}}]}function nce(e,t,i,{xKey:s,highKey:n,closeKey:r,lowKey:o}){const a=$G(x1,t);return[{type:x1,focusPriority:0,...e,xKey:s,yHighKey:n,yLowKey:r,fill:a.fill??Nm,stroke:a.stroke??_x,fillOpacity:fs(t,l=>{var u,h,f;return(f=(h=(u=l.overrides)==null?void 0:u["range-area"])==null?void 0:h.series)==null?void 0:f.fillOpacity})??.3,strokeWidth:fs(t,l=>{var u,h,f;return(f=(h=(u=l.overrides)==null?void 0:u["range-area"])==null?void 0:h.series)==null?void 0:f.strokeWidth})??2},{type:x1,focusPriority:0,...e,xKey:s,yHighKey:r,yLowKey:o,fill:a.fill??_m,stroke:a.stroke??Bx,fillOpacity:fs(t,l=>{var u,h,f;return(f=(h=(u=l.overrides)==null?void 0:u["range-area"])==null?void 0:h.series)==null?void 0:f.fillOpacity})??.3,strokeWidth:fs(t,l=>{var u,h,f;return(f=(h=(u=l.overrides)==null?void 0:u["range-area"])==null?void 0:h.series)==null?void 0:f.strokeWidth})??2},{type:"line",...e,...i,stroke:fs(t,l=>{var u,h,f;return(f=(h=(u=l.overrides)==null?void 0:u.line)==null?void 0:h.series)==null?void 0:f.stroke})??zx,strokeWidth:fs(t,l=>{var u,h,f;return(f=(h=(u=l.overrides)==null?void 0:u.line)==null?void 0:h.series)==null?void 0:f.strokeWidth})??2,marker:fs(t,l=>{var u,h,f;return(f=(h=(u=l.overrides)==null?void 0:u.line)==null?void 0:h.series)==null?void 0:f.marker})??{enabled:!1}}]}function rce(e,t,{xKey:i,highKey:s,lowKey:n}){const r=$G("range-bar",t);return[{type:"range-bar",...e,xKey:i,yHighKey:s,yLowKey:n,fill:r.fill??Gx,stroke:r.stroke??Af,tooltip:{range:"nearest"},focusPriority:0,fastDataProcessing:!0}]}function W2(e,t){return[{type:"candlestick",focusPriority:0,...e,...t}]}function oce(e,t,i){var n;const s=fs(t,r=>{var o,a,l;return(l=(a=(o=r.overrides)==null?void 0:o.candlestick)==null?void 0:a.series)==null?void 0:l.item});return[{type:"candlestick",focusPriority:0,...e,...i,item:{up:{fill:((n=s==null?void 0:s.up)==null?void 0:n.fill)??"transparent"}}}]}function $G(e,t){const i=fs(t,n=>{var r,o,a;return(a=(o=(r=n.overrides)==null?void 0:r[e])==null?void 0:o.series)==null?void 0:a.fill}),s=fs(t,n=>{var r,o,a;return(a=(o=(r=n.overrides)==null?void 0:r[e])==null?void 0:o.series)==null?void 0:a.stroke});return{fill:i,stroke:s}}var XG={title:{enabled:!1},label:{enabled:!1},line:{enabled:!1},gridLine:{enabled:!1},crosshair:{enabled:!1,stroke:Wx,lineDash:[0],label:{enabled:!1}}},b1={...XG,nice:!1},S1={position:{type:"sparkline"}},w1={style:[{stroke:{$ref:"gridLineColor"}}],width:2},ace={number:{gridLine:w1},time:{gridLine:w1},category:{gridLine:w1}},lce={overrides:{common:{animation:{enabled:!1},contextMenu:{enabled:!1},keyboard:{enabled:!1},background:{visible:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:{...b1,interval:{values:[0]}},log:{...b1},time:{...b1},category:{...XG}}},bar:{series:{crisp:!1,label:{placement:"inside-end",padding:4},sparklineMode:!0},tooltip:{...S1,range:"nearest"},axes:ace},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},series:{sparklineMode:!0,strokeWidth:1,marker:{enabled:!1,size:3},tooltip:S1}},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},series:{strokeWidth:1,fillOpacity:.4,tooltip:S1}}}},ZG=bn(cce);function cce(e,t){return typeof e=="string"?{...t,baseTheme:e}:e!=null?{...e,baseTheme:ZG(e.baseTheme,t)}:t}function qG(e){if(Array.isArray(e)&&e.length!==0){const t=e[0];if(typeof t=="number")return{data:e.map((s,n)=>({x:n,y:s})),series:[{xKey:"x",yKey:"y"}],datumKey:"y"};if(Array.isArray(t))return{data:e.map(s=>({x:s[0],y:s[1],datum:s})),series:[{xKey:"x",yKey:"y"}],datumKey:"datum"}}return{data:e}}function uce(e,t){switch(e==null?void 0:e.type){case"number":{const{type:i,min:s,max:n,reverse:r}=e;return rr(e,{type:i,reverse:r,min:s,max:n})}case"time":{const{type:i,min:s,max:n,reverse:r}=e;return rr(e,{type:i,reverse:r,min:s,max:n})}case"category":{const{type:i,paddingInner:s,paddingOuter:n,reverse:r}=e;return rr(e,{type:i,reverse:r,paddingInner:s,paddingOuter:n})}}return{type:t}}function hce(e,t,i){const s={};return(e==null?void 0:e.stroke)!=null&&(s.style=[{stroke:e==null?void 0:e.stroke}],s.enabled??(s.enabled=!0)),(e==null?void 0:e.strokeWidth)!=null&&(s.width=e==null?void 0:e.strokeWidth,s.enabled??(s.enabled=!0)),i.type==="bar"&&i.direction!=="horizontal"&&(s.enabled??(s.enabled=!0)),(e==null?void 0:e.visible)!=null&&(s.enabled=e.visible),s.enabled??(s.enabled=t),s}var dce=bn((e,t,i)=>s=>{var h;const n=s.datum[s.xKey],r=s.datum[s.yKey],o=i!=null?s.datum[i]:s.datum,a=(h=t==null?void 0:t.renderer)==null?void 0:h.call(t,{context:e,datum:o,xValue:n,yValue:r});if(typeof a=="string")return a;const l=a==null?void 0:a.title,u=a==null?void 0:a.content;return l!=null&&u!=null?{heading:l,title:void 0,data:[{label:void 0,value:u}]}:{heading:l??u??r.toFixed(2),title:void 0,data:[]}});function fce(e){const{background:t,container:i,height:s,listeners:n,locale:r,minHeight:o,minWidth:a,overrideDevicePixelRatio:l,padding:u,width:h,theme:f,data:g,crosshair:m,axis:y,min:C,max:x,tooltip:b,context:w,...M}=e,A=rr(e,{background:t,container:i,height:s,listeners:n,locale:r,minHeight:o,minWidth:a,overrideDevicePixelRatio:l,padding:u,width:h,tooltip:Nr,context:Nr,data:Nr,crosshair:Nr,axis:Nr,min:Nr,max:Nr,theme:Nr}),{data:T,series:[k]=[],datumKey:R}=qG(g),F=M;k!=null&&Object.assign(F,k),F.tooltip={...b,renderer:dce(w,b,R)},A.theme=ZG(f,lce),A.data=T,A.series=[F];const I=F.type!=="bar"||F.direction!=="horizontal",[N,G]=I?["bottom","left"]:["left","bottom"],V={...uce(y,"category"),position:N,...rr(e,{crosshair:m})},Q={type:"number",gridLine:hce(y,!1,e),position:G,...rr(e,{min:C,max:x})};return A.axes=I?[Q,V]:[V,Q],A}var gce={"price-volume":Qle,gauge:$le,sparkline:fce},pce={sparkline:qG};function U2(e,t){var o,a,l,u;let i=[];const s=D3(e),n=xl(e),r=n?mi.get(n):"unknown";for(const h of yf)if(!(r!=="unknown"&&!h.chartTypes.includes(r))){if(h.type==="root"||h.type==="legend"){const f=e[h.optionsKey];if(f==null)continue;h.optionsInnerKey?f[h.optionsInnerKey]&&(i.push(`${h.optionsKey}.${h.optionsInnerKey}`),delete f[h.optionsInnerKey]):(i.push(h.optionsKey),delete e[h.optionsKey])}else if(h.type==="axis"){if(!("axes"in e)||!((o=e.axes)!=null&&o.some(f=>f.type===h.identifier)))continue;i.push(`axis[type=${h.identifier}]`),e.axes=e.axes.filter(f=>f.type!==h.identifier)}else if(h.type==="axis-option"){if(!("axes"in e)||!((a=e.axes)!=null&&a.some(f=>f[h.optionsKey])))continue;i.push(`axis.${h.optionsKey}`),e.axes.forEach(f=>{f[h.optionsKey]&&delete f[h.optionsKey]})}else if(h.type==="series"){if(h.community||!((l=e.series)!=null&&l.some(f=>f.type===h.identifier)))continue;i.push(`series[type=${h.identifier}]`),e.series=e.series.filter(f=>f.type!==h.identifier)}else if(h.type==="series-option"){if(!((u=e.series)!=null&&u.some(f=>f[h.optionsKey])))continue;i.push(`series.${h.optionsKey}`),e.series.forEach(f=>{f[h.optionsKey]&&delete f[h.optionsKey]})}}if(i.length&&!t){s&&(i=["AgCharts.createGauge"]);let h="ag-charts-enterprise",f="https://www.ag-grid.com/charts/javascript/installation/";e.mode==="integrated"&&(h="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",f="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),Ne.warnOnce([`unable to use these enterprise features as '${h}' has not been loaded:`,"",...i,"",`See: ${f}`].join(`
`))}}function mce(e){const t="mode"in e&&e.mode==="integrated";for(const i of ia.byType("root","legend")){const s=e[i.optionsKey],n=s!=null&&s.enabled===!1,r=!("removable"in i)||i.removable===!0||i.removable==="standalone-only"&&!t;n&&r&&delete e[i.optionsKey]}}function qM(e){return e!=null&&e.up||e!=null&&e.down||e!=null&&e.neutral?"user-full":e!=null&&e.fills||e!=null&&e.strokes?"user-indexed":"inbuilt"}var Ky="white",QM={get cartesian(){return{seriesTypes:mi.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:mi.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:mi.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:mi.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:mi.flowProportionTypes,commonOptions:[]}},get standalone(){return{seriesTypes:mi.standaloneTypes,commonOptions:[]}},get gauge(){return{seriesTypes:mi.gaugeTypes,commonOptions:[]}}},yce={"radial-gauge":!0,"linear-gauge":!0};function j2(e){return yce[e]===!0}var vce=Object.values(QM).reduce((e,{commonOptions:t})=>e.concat(t),[]),Lr=class JM{static getAxisDefaults(t){return bt(t,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}},label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:11,color:{$ref:"textColor"},avoidCollisions:!0},line:{enabled:!0,width:1,stroke:{$ref:"axisColor"}},tick:{enabled:!1,width:1,stroke:{$ref:"axisColor"}},gridLine:{enabled:!0,style:[{stroke:{$ref:"gridLineColor"},lineDash:[]}]},crossLines:{enabled:!1,fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},padding:5,color:{$ref:"textColor"}}},crosshair:{enabled:!0}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:{$ref:"backgroundColor"}},padding:{top:{$ref:"padding"},right:{$ref:"padding"},bottom:{$ref:"padding"},left:{$ref:"padding"}},seriesArea:{padding:{top:0,right:0,bottom:0,left:0}},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.4166666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},wrapping:"hyphenate",layoutStyle:lc,textAlign:cc},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:lc,textAlign:cc},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:lc,textAlign:cc},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:{$ref:"foregroundColor"}},inactiveStyle:{fill:{$ref:"subtleTextColor"}},highlightStyle:{fill:{$ref:"foregroundColor"}},label:{color:{$ref:"textColor"}}}},tooltip:{enabled:!0,darkTheme:Od,delay:0},overlays:{darkTheme:Od},listeners:{}}}constructor(t={}){const{overrides:i,palette:s}=ns(t),n=this.createChartConfigPerChartType(this.getDefaults()),r={};i&&this.mergeOverrides(n,r,i);const{fills:o,strokes:a,...l}=this.getDefaultColors();this.palette=lp(bt(s,{fills:Object.values(o),strokes:Object.values(a),...l})),this.paletteType=qM(s),this.config=lp(this.templateTheme(n)),this.presets=lp(r)}mergeOverrides(t,i,s){for(const{seriesTypes:n,commonOptions:r}of Object.values(QM)){const o={...s.common};for(const a of vce)r.includes(a)||delete o[a];if(o)for(const a of n){const l=a;j2(l)||(t[l]=bt(o,t[l]))}}mi.seriesTypes.forEach(n=>{const r=n,o=s[r];j2(r)?i[r]=o:t[r]=bt(o,t[r])})}createChartConfigPerChartType(t){for(const[i,{seriesTypes:s}]of Object.entries(QM)){const n=GM.get(i);for(const r of s)t[r]??(t[r]=ns(n))}return t}getDefaults(){const t=(i,s)=>{const n={},r={axes:{},...YA.getThemeTemplates(),...this.getChartDefaults(),...GM.get(i)};for(const o of s){n[o]=bt(zn.getThemeTemplate(o),n[o]??ns(r));const{axes:a}=n[o];for(const l of qa.keys())a[l]=bt(a[l],qa.getThemeTemplate(l),JM.cartesianAxisDefault[l])}return n};return bt(t("cartesian",mi.cartesianTypes),t("polar",mi.polarTypes),t("hierarchy",mi.hierarchyTypes),t("topology",mi.topologyTypes),t("flow-proportion",mi.flowProportionTypes),t("standalone",mi.standaloneTypes),t("gauge",mi.gaugeTypes))}static applyTemplateTheme(t,i,s){if(ai(t))for(let n=0;n<t.length;n++){const r=t[n];typeof r=="symbol"&&(s!=null&&s.has(r))&&(t[n]=s.get(r))}else for(const[n,r]of Object.entries(t))typeof r=="symbol"&&(s!=null&&s.has(r))&&(t[n]=s.get(r))}templateTheme(t,i=!0){const s=i?ns(t):t,n=this.getTemplateParameters();return Wa(s,JM.applyTemplateTheme,void 0,void 0,n),s}getDefaultColors(){return{fills:Yi,strokes:Xo,up:{fill:Yi.GREEN,stroke:Xo.GREEN},down:{fill:Yi.RED,stroke:Xo.RED},neutral:{fill:Yi.GRAY,stroke:Xo.GRAY},altUp:{fill:Yi.BLUE,stroke:Xo.BLUE},altDown:{fill:Yi.ORANGE,stroke:Xo.ORANGE},altNeutral:{fill:Yi.GRAY,stroke:Xo.GRAY}}}getPublicParameters(){return{accentColor:"#2196f3",axisColor:{$foregroundBackgroundMix:[.675]},backgroundColor:Ky,borderColor:{$foregroundBackgroundMix:[.818]},foregroundColor:"#464646",fontFamily:"Verdana, sans-serif",fontSize:12,fontWeight:400,gridLineColor:{$foregroundBackgroundAccentMix:[.93,.085]},padding:20,subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.38]},textColor:{$ref:"foregroundColor"},chromeBackgroundColor:{$foregroundBackgroundMix:[.975]},chromeFontFamily:{$ref:"fontFamily"},chromeFontSize:{$ref:"fontSize"},chromeFontWeight:{$ref:"fontWeight"},chromeTextColor:"#181d1f",chromeSubtleTextColor:{$mix:[{$ref:"chromeTextColor"},{$ref:"backgroundColor"},.38]},inputBackgroundColor:{$ref:"backgroundColor"},inputTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$ref:"foregroundColor"},crosshairLabelTextColor:{$ref:"backgroundColor"}}}getTemplateParameters(){var n,r,o,a,l,u,h,f,g,m,y,C;const{isEnterprise:t}=Sn,i=new Map;i.set(Od,!1),i.set(fE,t),i.set(dE,!t),i.set(Om,"#d9d9d9"),i.set(Nx,Ky),i.set(_c,"#00000080"),i.set(Xn,[Yi.ORANGE,Yi.YELLOW,Yi.GREEN]),i.set(Vx,[Yi.BLUE,Yi.RED]),i.set(Wx,"#aaa"),i.set(to,[Yi.GREEN,Yi.YELLOW,Yi.RED]),i.set(ga,["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"]),i.set(lc,"block"),i.set(cc,"center"),i.set(Ux,["#fff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),i.set(jx,["#fff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),i.set(Xp,["#797b86","#e24c4a","#f49d2d","#65ab58","#409682","#4db9d2","#5090dc","#3068f9","#e24c4a","#913aac","#d93e64"]),i.set(Hx,Ky),i.set(Ii,Yi.BLUE),i.set(rs,Yi.BLUE),i.set(Bm,Yi.BLUE),i.set(Gm,Ky),i.set(zm,"#fafafa"),i.set(Hm,"#ddd"),i.set(Vm,"#000"),i.set(Wm,"#181d1f"),i.set(Zp,"#e35c5c"),i.set(qp,"#e35c5c"),i.set(Um,"#fafafa"),i.set(jm,"#ddd"),i.set(Ym,"#000"),i.set(Km,"top"),i.set(qo,!1);const s=this.getDefaultColors();return i.set(_x,((n=this.palette.up)==null?void 0:n.stroke)??s.up.stroke),i.set(Nm,((r=this.palette.up)==null?void 0:r.fill)??s.up.fill),i.set(Bx,((o=this.palette.down)==null?void 0:o.stroke)??s.down.stroke),i.set(_m,((a=this.palette.down)==null?void 0:a.fill)??s.down.fill),i.set(Af,((l=this.palette.neutral)==null?void 0:l.stroke)??s.neutral.stroke),i.set(Gx,((u=this.palette.neutral)==null?void 0:u.fill)??s.neutral.fill),i.set(gE,((h=this.palette.altUp)==null?void 0:h.stroke)??s.up.stroke),i.set(mE,((f=this.palette.altUp)==null?void 0:f.fill)??s.up.fill),i.set(pE,((g=this.palette.altDown)==null?void 0:g.stroke)??s.down.stroke),i.set(yE,((m=this.palette.altDown)==null?void 0:m.fill)??s.down.fill),i.set(vE,((y=this.palette.altNeutral)==null?void 0:y.fill)??s.altNeutral.fill),i.set(zx,((C=this.palette.altNeutral)==null?void 0:C.stroke)??s.altNeutral.stroke),i}};Lr.cartesianAxisDefault={number:Lr.getAxisDefaults({line:{enabled:!1}}),log:Lr.getAxisDefaults({base:10,line:{enabled:!1},interval:{minSpacing:NaN}}),category:Lr.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:qo},crosshair:{enabled:!1}}),"grouped-category":Lr.getAxisDefaults({tick:{enabled:!0,stroke:Om},label:{spacing:10,rotation:270},paddingInner:.4,groupPaddingInner:.2,crosshair:{enabled:!1}}),time:Lr.getAxisDefaults({gridLine:{enabled:qo}}),"ordinal-time":Lr.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:qo}}),"angle-category":Lr.getAxisDefaults({label:{spacing:5},gridLine:{enabled:qo}}),"angle-number":Lr.getAxisDefaults({label:{spacing:5},gridLine:{enabled:qo}}),"radius-category":Lr.getAxisDefaults({line:{enabled:!1}}),"radius-number":Lr.getAxisDefaults({line:{enabled:!1}})};var Al=Lr,$y="#192232",pn={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},cu={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},kf=class extends Al{getDefaultColors(){return{fills:pn,strokes:cu,up:{fill:pn.GREEN,stroke:cu.GREEN},down:{fill:pn.RED,stroke:cu.RED},neutral:{fill:pn.GRAY,stroke:cu.GRAY},altUp:{fill:pn.BLUE,stroke:cu.BLUE},altDown:{fill:pn.ORANGE,stroke:cu.ORANGE},altNeutral:{fill:pn.GRAY,stroke:cu.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),axisColor:{$foregroundBackgroundMix:[.263]},backgroundColor:$y,borderColor:{$foregroundBackgroundMix:[.784]},chromeBackgroundColor:{$foregroundBackgroundMix:[.93]},foregroundColor:"#fff",gridLineColor:{$foregroundBackgroundAccentMix:[.743,.01]},subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.57]},chromeTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$foregroundBackgroundAccentMix:[.35,.1]}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Od,!0),e.set(Hx,$y),e.set(Om,"#7f8389"),e.set(Xn,[pn.ORANGE,pn.YELLOW,pn.GREEN]),e.set(to,[pn.GREEN,pn.YELLOW,pn.RED]),e.set(ga,["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"]),e.set(Ux,["#192834","#253746","#324859","#3f596c","#4d6a80"]),e.set(jx,["#192834","#3b5164","#496275","#577287","#668399"]),e.set(Nx,$y),e.set(Ii,pn.BLUE),e.set(Bm,"#fff"),e.set(rs,pn.BLUE),e.set(Gm,$y),e.set(zm,"#28313e"),e.set(Hm,"#4b525d"),e.set(Vm,"#fff"),e.set(Wm,"#fff"),e.set(Um,"#28313e"),e.set(jm,"#4b525d"),e.set(Ym,"#fff"),e}constructor(e){super(e)}},Tr={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},uu={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Cce=class extends kf{getDefaultColors(){return{fills:{...Tr},strokes:{...uu},up:{fill:Tr.GREEN,stroke:uu.GREEN},down:{fill:Tr.RED,stroke:uu.RED},neutral:{fill:Tr.BLUE,stroke:uu.BLUE},altUp:{fill:Tr.GREEN,stroke:uu.GREEN},altDown:{fill:Tr.RED,stroke:uu.RED},altNeutral:{fill:Tr.GRAY,stroke:uu.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),gridLineColor:{$foregroundBackgroundAccentMix:[.88,.01]},padding:0}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Xn,[Tr.GREEN,Tr.BLUE,Tr.RED]),e.set(Ii,Tr.BLUE),e.set(rs,Tr.BLUE),e.set(lc,"overlay"),e.set(cc,"left"),e.set(Km,"bottom"),e.set(qo,!0),e}},Rr={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},hu={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},xce=class extends Al{getDefaultColors(){return{fills:{...Rr},strokes:{...hu},up:{fill:Rr.GREEN,stroke:hu.GREEN},down:{fill:Rr.RED,stroke:hu.RED},neutral:{fill:Rr.BLUE,stroke:hu.BLUE},altUp:{fill:Rr.GREEN,stroke:hu.GREEN},altDown:{fill:Rr.RED,stroke:hu.RED},altNeutral:{fill:Rr.GRAY,stroke:hu.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),gridLineColor:{$foregroundBackgroundAccentMix:[.94,.01]},padding:0}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Xn,[Rr.GREEN,Rr.BLUE,Rr.RED]),e.set(Ii,Rr.BLUE),e.set(rs,Rr.BLUE),e.set(lc,"overlay"),e.set(cc,"left"),e.set(Km,"bottom"),e.set(qo,!0),e}},mn={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},du={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},bce=class extends kf{getDefaultColors(){return{fills:mn,strokes:du,up:{fill:mn.GREEN,stroke:du.GREEN},down:{fill:mn.RED,stroke:du.RED},neutral:{fill:mn.GRAY,stroke:du.GRAY},altUp:{fill:mn.BLUE,stroke:du.BLUE},altDown:{fill:mn.RED,stroke:du.RED},altNeutral:{fill:mn.GRAY,stroke:du.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Xn,[mn.ORANGE,mn.YELLOW,mn.GREEN]),e.set(ga,["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"]),e.set(to,[mn.GREEN,mn.YELLOW,mn.RED]),e.set(Ii,mn.BLUE),e.set(rs,mn.BLUE),e}},yn={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},fu={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},Sce=class extends Al{getDefaultColors(){return{fills:yn,strokes:fu,up:{fill:yn.GREEN,stroke:fu.GREEN},down:{fill:yn.RED,stroke:fu.RED},neutral:{fill:yn.GRAY,stroke:fu.GRAY},altUp:{fill:yn.BLUE,stroke:fu.BLUE},altDown:{fill:yn.RED,stroke:fu.RED},altNeutral:{fill:yn.GRAY,stroke:fu.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Xn,[yn.ORANGE,yn.YELLOW,yn.GREEN]),e.set(ga,["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"]),e.set(to,[yn.GREEN,yn.YELLOW,yn.RED]),e.set(Ii,yn.BLUE),e.set(rs,yn.BLUE),e}},Wi={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},gu={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},wce=class extends kf{getDefaultColors(){return{fills:Wi,strokes:gu,up:{fill:Wi.GREEN,stroke:gu.GREEN},down:{fill:Wi.RED,stroke:gu.RED},neutral:{fill:Wi.GRAY,stroke:gu.GRAY},altUp:{fill:Wi.BLUE,stroke:gu.BLUE},altDown:{fill:Wi.RED,stroke:gu.RED},altNeutral:{fill:Wi.GRAY,stroke:gu.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Xn,[Wi.BLUE,Wi.RED]),e.set(ga,[Wi.BLUE,Wi.PURPLE,Wi.MAGENTA,Wi.PINK,Wi.RED,Wi.ORANGE,Wi.YELLOW,Wi.GREEN]),e.set(to,[Wi.BLUE,Wi.RED]),e.set(Ii,Wi.BLUE),e.set(rs,Wi.BLUE),e}},Ui={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},pu={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},Mce=class extends Al{getDefaultColors(){return{fills:Ui,strokes:pu,up:{fill:Ui.GREEN,stroke:pu.GREEN},down:{fill:Ui.RED,stroke:pu.RED},neutral:{fill:Ui.GRAY,stroke:pu.GRAY},altUp:{fill:Ui.BLUE,stroke:pu.BLUE},altDown:{fill:Ui.RED,stroke:pu.RED},altNeutral:{fill:Ui.GRAY,stroke:pu.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Xn,[Ui.BLUE,Ui.RED]),e.set(ga,[Ui.BLUE,Ui.PURPLE,Ui.MAGENTA,Ui.PINK,Ui.RED,Ui.ORANGE,Ui.YELLOW,Ui.GREEN]),e.set(to,[Ui.BLUE,Ui.RED]),e.set(Ii,Ui.BLUE),e.set(rs,Ui.BLUE),e}},js={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},Jl={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},Dce=class extends kf{getDefaultColors(){return{fills:{...js,RED:js.ORANGE},strokes:{...Jl,RED:Jl.ORANGE},up:{fill:js.GREEN,stroke:Jl.GREEN},down:{fill:js.ORANGE,stroke:Jl.ORANGE},neutral:{fill:js.GRAY,stroke:Jl.GRAY},altUp:{fill:js.BLUE,stroke:Jl.BLUE},altDown:{fill:js.ORANGE,stroke:Jl.ORANGE},altNeutral:{fill:js.GRAY,stroke:Jl.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Xn,[js.ORANGE,js.YELLOW,js.GREEN]),e.set(to,[js.GREEN,js.YELLOW,js.ORANGE]),e.set(Ii,js.BLUE),e.set(rs,js.BLUE),e}},vn={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},Pa={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},Ace=class extends Al{getDefaultColors(){return{fills:{...vn,RED:vn.ORANGE},strokes:{...Pa,RED:Pa.ORANGE},up:{fill:vn.GREEN,stroke:Pa.GREEN},down:{fill:vn.ORANGE,stroke:Pa.ORANGE},neutral:{fill:Pa.GRAY,stroke:Pa.GRAY},altUp:{fill:vn.BLUE,stroke:Pa.BLUE},altDown:{fill:vn.ORANGE,stroke:Pa.ORANGE},altNeutral:{fill:vn.GRAY,stroke:Pa.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Xn,[vn.ORANGE,vn.YELLOW,vn.GREEN]),e.set(to,[vn.GREEN,vn.YELLOW,vn.ORANGE]),e.set(Ii,vn.BLUE),e.set(rs,vn.BLUE),e}},Cn={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},mu={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},Ece=class extends kf{getDefaultColors(){return{fills:Cn,strokes:mu,up:{fill:Cn.GREEN,stroke:mu.GREEN},down:{fill:Cn.RED,stroke:mu.RED},neutral:{fill:Cn.GRAY,stroke:mu.GRAY},altUp:{fill:Cn.BLUE,stroke:mu.BLUE},altDown:{fill:Cn.ORANGE,stroke:mu.ORANGE},altNeutral:{fill:Cn.GRAY,stroke:mu.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Xn,[Cn.ORANGE,Cn.YELLOW,Cn.GREEN]),e.set(ga,["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"]),e.set(to,[Cn.GREEN,Cn.YELLOW,Cn.RED]),e.set(Ii,Cn.BLUE),e.set(rs,Cn.BLUE),e}},xn={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},yu={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},Tce=class extends Al{getDefaultColors(){return{fills:xn,strokes:yu,up:{fill:xn.GREEN,stroke:yu.GREEN},down:{fill:xn.RED,stroke:yu.RED},neutral:{fill:xn.GRAY,stroke:yu.GRAY},altUp:{fill:xn.BLUE,stroke:yu.BLUE},altDown:{fill:xn.ORANGE,stroke:yu.ORANGE},altNeutral:{fill:xn.GRAY,stroke:yu.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Xn,[xn.ORANGE,xn.YELLOW,xn.GREEN]),e.set(ga,["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"]),e.set(to,[xn.GREEN,xn.YELLOW,xn.RED]),e.set(Ii,xn.BLUE),e.set(rs,xn.BLUE),e}},_d=bn(()=>new Al),Rce=bn(()=>new kf),KE={"ag-default-dark":Rce,"ag-sheets-dark":bn(()=>new Dce),"ag-polychroma-dark":bn(()=>new wce),"ag-vivid-dark":bn(()=>new Ece),"ag-material-dark":bn(()=>new bce),"ag-financial-dark":bn(()=>new Cce),null:_d,undefined:_d,"ag-default":_d,"ag-sheets":bn(()=>new Ace),"ag-polychroma":bn(()=>new Mce),"ag-vivid":bn(()=>new Tce),"ag-material":bn(()=>new Sce),"ag-financial":bn(()=>new xce)},DC=bn(kce);function kce(e){if(e instanceof Al)return e;if(e==null||typeof e=="string"){const i=KE[e];return i?i():(Ne.warnOnce(`the theme [${e}] is invalid, using [ag-default] instead.`),_d())}const{errors:t}=QC(e,Lce,"theme");if(!t.length){const i=Ice(e),s=i.baseTheme?DC(i.baseTheme):_d();return new s.constructor(i)}for(const{message:i}of t)Ne.warnOnce(i);return _d()}function Ice(e){let t=e,i,s;const n=[];for(;typeof t=="object";)i??(i=t.palette),s??(s=t.params),t.overrides&&n.push(t.overrides),t=t.baseTheme;return{baseTheme:t,overrides:bt(...n),params:s,palette:i}}var Lce={baseTheme:Tu(tr,qw),overrides:qw,params:qw,palette:{fills:bM(tr),strokes:bM(tr),up:{fill:tr,stroke:tr},down:{fill:tr,stroke:tr},neutral:{fill:tr,stroke:tr}}},Fce=new Set(["map-shape-background","map-line-background"]),$E=class Yo{constructor(t,i,s,n,r,o=!1){this.themeParameters={},this.debug=ti.create(!0,"opts"),this.optionMetadata=n??{},this.processedOverrides=i??{};let a=null;if(t instanceof Yo){if(a=t,this.specialOverrides=a.specialOverrides,!r)throw new Error("AG Charts - internal error: deltaOptions must be supplied.");this.userOptions=bt(r,ns(a.userOptions,Yo.OPTIONS_CLONE_OPTS))}else this.userOptions=t,this.specialOverrides=this.specialOverridesDefaults({...s});o&&this.removeLeftoverSymbols(this.userOptions);let l,u,h,f,g;!o&&r!=null&&Yo.isFastPathDelta(r)&&a!=null?{activeTheme:l,processedOptions:u,defaultAxes:h,fastDelta:f}=this.fastSetup(r,a):{activeTheme:l,processedOptions:u,defaultAxes:h,themeParameters:g}=this.slowSetup(i,r,o),this.activeTheme=l,this.processedOptions=u,this.defaultAxes=h,this.fastDelta=f,this.themeParameters=g??{}}static isFastPathDelta(t){for(const i of Object.keys(t))if(!this.FAST_PATH_OPTIONS.has(i))return!1;return!0}fastSetup(t,i){const{activeTheme:s,defaultAxes:n,processedOptions:r}=i,{presetType:o}=this.optionMetadata,a=o?pce[o]:void 0;if(o!=null&&t.data!=null&&a!=null){const{series:u,data:h}=a(t.data);t=bt({series:u,data:h},t)}this.fastSeriesSetup(t,r);const l=bt(t,r);return{activeTheme:s,defaultAxes:n,processedOptions:l,fastDelta:t}}fastSeriesSetup(t,i){var s;t.series&&((s=t.series)!=null&&s.every((n,r)=>{var o;return NB(n,((o=i.series)==null?void 0:o[r])??{})})?delete t.series:t.series=t.series.map((n,r)=>{var o;return bt(n,((o=i.series)==null?void 0:o[r])??{})}))}slowSetup(t,i,s=!1){var b;let n=ns(this.userOptions,Yo.OPTIONS_CLONE_OPTS);i&&(n=bt(i,n),s&&this.removeLeftoverSymbols(n));const{presetType:r}=this.optionMetadata;if(r!=null){const w=gce[r],M=this.userOptions,A=this.userOptions.type,T=A!=null?DC(this.userOptions.theme).presets[A]:void 0;this.debug(">>> AgCharts.createOrUpdate() - applying preset",M),n=(w==null?void 0:w(M,T,()=>this.activeTheme))??n}Sn.isEnterprise||U2(n);const o=DC(n.theme);this.sanityCheck(n),this.removeDisabledOptions(n);const a=this.optionsType(n),{axes:l={},annotations:u={},series:h,...f}=this.getSeriesThemeConfig(a,o),[g,m]=this.splitAnnotationsOptions(u);this.annotationThemes=ns(m);const y=this.getDefaultAxes(n,h);let C=bt(t,n,g,f,y);this.processAxesOptions(C,l),this.processSeriesOptions(C,o),this.processMiniChartSeriesOptions(C,o),C=ns(C,Yo.OPTIONS_CLONE_OPTS);const x=this.getThemeParameters(o,C);return this.resolveThemeOperations(x,x),this.resolveThemeOperations(x,C),this.resolveThemeOperations(x,this.annotationThemes),(XA(C)||M3(C)||Toe(C))&&((b=C.legend)==null?void 0:b.enabled)==null&&(C.legend??(C.legend={}),C.legend.enabled=C.series.length>1),this.enableConfiguredOptions(C,this.userOptions),o.templateTheme(C,!1),this.removeDisabledOptions(n),mce(C),Sn.isEnterprise||U2(C,!0),this.debug("AgCharts.createOrUpdate() - processed options",C),{activeTheme:o,processedOptions:C,defaultAxes:y,themeParameters:x}}diffOptions(t){return this===t?{}:t==null?this.processedOptions:this.fastDelta??ll(t.processedOptions,this.processedOptions)}getSeriesThemeConfig(t,i){return(i==null?void 0:i.config[t])??{}}getDefaultAxes(t,i){var r;const s=this.optionsType(t);let n=((r=t.series)==null?void 0:r.find(o=>(o.type??"line")===s))??{};return zn.isDerivedDefaultAxes(s)&&(n=bt(n,i)),zn.cloneDefaultAxes(s,n)}optionsType(t){var i,s;return((s=(i=t.series)==null?void 0:i[0])==null?void 0:s.type)??"line"}sanityCheck(t){this.axesTypeIntegrity(t),this.seriesTypeIntegrity(t),this.soloSeriesIntegrity(t)}splitAnnotationsOptions(t){const{axesButtons:i=null,enabled:s=null,optionsToolbar:n=null,toolbar:r=null,...o}=t;return i==null&&s==null&&n==null&&r==null?[{},o]:[{annotations:{axesButtons:i,enabled:s,optionsToolbar:n,toolbar:r}},o]}processAxesOptions(t,i){var s;"axes"in t&&(t.axes=(s=t.axes)==null?void 0:s.map(n=>{var m,y,C;const{crossLines:r,...o}=bt((m=i[n.type])==null?void 0:m[n.position],i[n.type]);n.crossLines&&(n.crossLines=iC(n.crossLines,r));const a=(y=o.gridLine)==null?void 0:y.style;(C=n.gridLine)!=null&&C.style&&(a!=null&&a.length)&&(n.gridLine.style=n.gridLine.style.map((x,b)=>x.stroke!=null||x.lineDash!=null?bt(x,a.at(b%a.length)):x));const{top:l,right:u,bottom:h,left:f,...g}=bt(n,o);return g}))}processSeriesOptions(t,i){var a,l;const s=this.getTooltipPositionDefaults(t),n=Ds(t.theme)?qM((a=t.theme)==null?void 0:a.palette):"inbuilt",r={colourIndex:0,userPalette:n},o=(l=t.series)==null?void 0:l.map(u=>{u.type??(u.type=this.getDefaultSeriesType(t));const{innerLabels:h,...f}=this.getSeriesThemeConfig(u.type,i).series??{},g=Fce.has(u.type)?{colourIndex:0,userPalette:n}:r,m=this.getSeriesPalette(u.type,g,i),y=this.getTooltipRangeDefaults(t,u.type),C=bt(this.getSeriesGroupingOptions(u),u,s,y,f,m,{visible:!0});return C.innerLabels&&(C.innerLabels=iC(C.innerLabels,h)),C});t.series=this.setSeriesGroupingOptions(o??[])}processMiniChartSeriesOptions(t,i){var r,o;let s=(o=(r=t.navigator)==null?void 0:r.miniChart)==null?void 0:o.series;if(s==null)return;const n={colourIndex:0,userPalette:Ds(t.theme)?qM(t.theme.palette):"inbuilt"};s=s.map(a=>{a.type??(a.type="line");const{innerLabels:l,...u}=this.getSeriesThemeConfig(a.type,i).series??{};return bt(this.getSeriesGroupingOptions(a),a,u,this.getSeriesPalette(a.type,n,i))}),t.navigator.miniChart.series=this.setSeriesGroupingOptions(s)}getThemeParameters(t,i){const s=t.getPublicParameters();if(!tn(i.theme)||!i.theme.params)return s;const n=rn(l=>Un(l)&&Ei.validColorString(l),"a color"),r={accentColor:n,axisColor:n,backgroundColor:n,borderColor:n,foregroundColor:n,fontFamily:tr,fontSize:Ga,fontWeight:Tu(tr,Ga),gridLineColor:n,padding:Ga,subtleTextColor:n,textColor:n,chromeBackgroundColor:n,chromeFontFamily:tr,chromeFontSize:Ga,chromeFontWeight:Tu(tr,Ga),chromeSubtleTextColor:n,chromeTextColor:n,inputBackgroundColor:n,inputTextColor:n,crosshairLabelBackgroundColor:n,crosshairLabelTextColor:n},{valid:o,errors:a}=QC(i.theme.params,r);for(const{message:l}of a)Ne.warnOnce(l);return bt(o,s)}resolveThemeOperations(t,i){const s=_B(i,t,new Set(["palette","data"]));this.debug("resolveTheme()",s)}getSeriesPalette(t,i,s){const n=zn.getPaletteFactory(t),{colourIndex:r,userPalette:o}=i,{fills:a=[],strokes:l=[]}=s.palette;return n==null?void 0:n({userPalette:o,colorsCount:Math.max(a.length,l.length),themeTemplateParameters:s.getTemplateParameters(),palette:s.palette,takeColors(u){return i.colourIndex+=u,{fills:vF(a,u,r),strokes:vF(l,u,r)}}})}getSeriesGroupingOptions(t){const i=zn.isGroupable(t.type),s=zn.isStackable(t.type),n=zn.isStackedByDefault(t.type);t.grouped&&!i&&Ne.warnOnce(`unsupported grouping of series type "${t.type}".`),(t.stacked||t.stackGroup)&&!s&&Ne.warnOnce(`unsupported stacking of series type "${t.type}".`);let{grouped:r,stacked:o}=t;return o??(o=(n||t.stackGroup!=null)&&!(i&&r)),r??(r=!0),{stacked:s&&o,grouped:i&&r&&!(s&&o)}}setSeriesGroupingOptions(t){const i=this.getSeriesGrouping(t);this.debug("setSeriesGroupingOptions() - series grouping: ",i);const s={},n=i.reduce((r,o)=>{var a;return o.groupType==="default"||(r[a=o.seriesType]??(r[a]=0),r[o.seriesType]+=o.groupType==="stack"?1:o.series.length),r},{});return i.flatMap(r=>{var o;switch(s[o=r.seriesType]??(s[o]=0),r.groupType){case"stack":{const a=s[r.seriesType]++;return r.series.map((l,u)=>Object.assign(l,{seriesGrouping:{groupId:r.groupId,groupIndex:a,groupCount:n[r.seriesType],stackIndex:u,stackCount:r.series.length}}))}case"group":return r.series.map(a=>Object.assign(a,{seriesGrouping:{groupId:r.groupId,groupIndex:s[r.seriesType]++,groupCount:n[r.seriesType],stackIndex:0,stackCount:0}}))}return r.series}).map(({stacked:r,grouped:o,...a})=>a)}getSeriesGroupId(t){return[t.type,t.xKey,t.stacked?t.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(t){const i=new Map;return t.reduce((s,n)=>{const r=n.type;if(!n.stacked&&!n.grouped)s.push({groupType:"default",seriesType:r,series:[n],groupId:"__default__"});else{const o=this.getSeriesGroupId(n);if(!i.has(o)){const l={groupType:n.stacked?"stack":"group",seriesType:r,series:[],groupId:o};i.set(o,l),s.push(l)}i.get(o).series.push(n)}return s},[])}getDefaultSeriesType(t){switch(Gu.detectChartDefinition(t).name){case"cartesian":return"line";case"polar":return"pie";case"hierarchy":return"treemap";case"topology":return"map-shape";case"flow-proportion":return"sankey";case"standalone":return"pyramid";case"gauge":return"radial-gauge";default:throw new Error("Invalid chart options type detected.")}}getTooltipPositionDefaults(t){var a;const i=(a=t.tooltip)==null?void 0:a.position;if(!tn(i))return;const{type:s,xOffset:n,yOffset:r}=i,o={};return Un(s)&&Bte(YG,s)&&(o.type=s),It(n)&&(o.xOffset=n),It(r)&&(o.yOffset=r),{tooltip:{position:o}}}getTooltipRangeDefaults(t,i){var s,n;return{tooltip:{range:((s=t.tooltip)==null?void 0:s.range)??((n=zn.getTooltipDefauls(i))==null?void 0:n.range)}}}axesTypeIntegrity(t){if("axes"in t&&t.axes){const i=t.axes;for(const{type:s}of i)if(!koe(s)){delete t.axes;const n=[...qa.keys()].join(", ");Ne.warnOnce(`unknown axis type: ${s}; expected one of: ${n}`)}}}seriesTypeIntegrity(t){var i;t.series=(i=t.series)==null?void 0:i.filter(({type:s})=>{if(s==null||Roe(s)||ooe(s))return!0;Ne.warnOnce(`unknown series type: ${JSON.stringify(s)}; expected one of: ${b3.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(t){const i=t.series;if(i&&i.length>1&&i.some(s=>zn.isSolo(s.type))){const s=this.optionsType(t);if(zn.isSolo(s))Ne.warn(`series[0] of type '${s}' is incompatible with other series types. Only processing series[0]`),t.series=i.slice(0,1);else{const{solo:n,nonSolo:r}=eA(i,a=>zn.isSolo(a.type)?"solo":"nonSolo"),o=Rte(n.map(a=>a.type)).join(", ");Ne.warn(`Unable to mix these series types with the lead series type: ${o}`),t.series=r}}}static enableConfiguredJsonOptions(t,i){typeof i=="object"&&"enabled"in i&&!i._enabledFromTheme&&t.enabled==null&&(i.enabled=!0)}static cleanupEnabledFromThemeJsonOptions(t){t._enabledFromTheme!=null&&delete t._enabledFromTheme}enableConfiguredOptions(t,i){Wa(i,Yo.enableConfiguredJsonOptions,new Set(["data","theme"]),t),Wa(t,Yo.cleanupEnabledFromThemeJsonOptions,new Set(["data","theme"]))}static removeDisabledOptionJson(t){"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(i=>{i!=="enabled"&&delete t[i]})}removeDisabledOptions(t){Wa(t,Yo.removeDisabledOptionJson,new Set(["data","theme"]))}static removeLeftoverSymbolsJson(t){if(!(!t||!Ds(t)))for(const[i,s]of Object.entries(t))Gte(s)&&delete t[i]}removeLeftoverSymbols(t){Wa(t,Yo.removeLeftoverSymbolsJson,new Set(["data"]))}specialOverridesDefaults(t){if(t.window!=null?c4(t.window):typeof window<"u"?t.window=window:typeof global<"u"&&(t.window=global.window),t.document!=null?l4(t.document):typeof document<"u"?t.document=document:typeof global<"u"&&(t.document=global.document),t.window==null)throw new Error("AG Charts - unable to resolve global window");if(t.document==null)throw new Error("AG Charts - unable to resolve global document");return t}};$E.OPTIONS_CLONE_OPTS=new Set(["data","container"]);$E.FAST_PATH_OPTIONS=new Set(["data","width","height"]);var QG=$E,Pce=100,XE=class Su{constructor(t,i,s,n,r,o=Pce){this.name=t,this.buildItem=i,this.releaseItem=s,this.destroyItem=n,this.maxPoolSize=r,this.cleanupTimeMs=o,this.freePool=[],this.busyPool=new Set}static getPool(t,i,s,n,r){return this.pools.has(t)||this.pools.set(t,new Su(t,i,s,n,r)),this.pools.get(t)}isFull(){return this.freePool.length+this.busyPool.size>=this.maxPoolSize}obtain(t){if(this.freePool.length===0&&this.isFull())throw new Error("AG Charts - pool exhausted");let i=this.freePool.pop();return i==null?(i=this.buildItem(t),Su.debug(`Pool[name=${this.name}]: Created instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i)):Su.debug(`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i),this.busyPool.add(i),{item:i,release:()=>this.release(i)}}release(t){if(!this.busyPool.has(t))throw new Error("AG Charts - cannot free item from pool which is not tracked as busy.");Su.debug(`Pool[name=${this.name}]: Releasing instance (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t),this.releaseItem(t),this.busyPool.delete(t),this.freePool.push(t),Su.debug(`Pool[name=${this.name}]: Returned instance to free pool (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t),this.cleanPoolTimer&&clearTimeout(this.cleanPoolTimer),this.cleanPoolTimer=setTimeout(()=>{this.cleanPool()},this.cleanupTimeMs)}cleanPool(){const t=this.freePool.splice(0);for(const i of t)this.destroyItem(i);Su.debug(`Pool[name=${this.name}]: Cleaned pool of ${t.length} items (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`)}destroy(){this.cleanPool();for(const t of this.busyPool.values())this.destroyItem(t);this.busyPool.clear()}};XE.pools=new Map;XE.debug=ti.create(!0,"pool");var Oce=XE;Gu.registerMany([Sae,Wle]);var za=ti.create(!0,"opts"),hc=class{static licenseCheck(t){var i,s;this.licenseChecked||(this.licenseManager=(i=Sn.licenseManager)==null?void 0:i.call(Sn,t),(s=this.licenseManager)==null||s.validateLicense(),this.licenseChecked=!0)}static getLicenseDetails(t){var i;return(i=Sn.licenseManager)==null?void 0:i.call(Sn,{}).getLicenseDetails(t)}static getInstance(t){return Y2.getInstance(t)}static create(t,i){return za.group("AgCharts.create()",()=>{var n,r;this.licenseCheck(t);const s=Y2.createOrUpdate({userOptions:t,licenseManager:this.licenseManager,optionsMetadata:i});return(n=this.licenseManager)!=null&&n.isDisplayWatermark()&&this.licenseManager&&((r=Sn.injectWatermark)==null||r.call(Sn,s.chart.ctx.domManager,this.licenseManager.getWatermarkMessage())),s})}static createFinancialChart(t){return za.group("AgCharts.createFinancialChart()",()=>this.create(t,{presetType:"price-volume"}))}static createGauge(t){return za.group("AgCharts.createGauge()",()=>this.create(t,{presetType:"gauge"}))}static __createSparkline(t){return za.group("AgCharts.__createSparkline()",()=>{const{pool:i,...s}=t;return this.create(s,{presetType:"sparkline",pool:i??!0})})}};hc.licenseChecked=!1;var Qo=class ic{static getInstance(t){const i=Rx.getInstance(t);return i?w2.chartInstances.get(i):void 0}static initialiseModules(){ic.initialised||(Gle(),zle(),ic.initialised=!0)}static createOrUpdate(t){var k,R;let{proxy:i}=t;const{userOptions:s,licenseManager:n,processedOverrides:r=(i==null?void 0:i.chart.chartOptions.processedOverrides)??{},specialOverrides:o=(i==null?void 0:i.chart.chartOptions.specialOverrides)??{},optionsMetadata:a=(i==null?void 0:i.chart.chartOptions.optionMetadata)??{},deltaOptions:l,stripSymbols:u=!1}=t,h=Sn.styles!=null?[["ag-charts-enterprise",Sn.styles]]:[],{presetType:f}=a;ic.initialiseModules(),za(()=>[">>> AgCharts.createOrUpdate() user options",ns(s)]);let g=s;hc.optionsMutationFn&&g&&(g=hc.optionsMutationFn(ns(g),f),za(()=>[">>> AgCharts.createOrUpdate() MUTATED user options",ns(g)]));const{document:m,window:y,styleContainer:C,...x}=g??{},b=(l?i==null?void 0:i.chart.getChartOptions():x)??x,w=new QG(b,r,{...o,document:m,window:y,styleContainer:C},a,l,u);let M=!1,A=i==null?void 0:i.chart,T;return(A==null||Gu.detectChartDefinition(w.processedOptions)!==Gu.detectChartDefinition(A.chartOptions.processedOptions))&&(T=(k=this.getPool(w))==null?void 0:k.obtain(w),T?A=T.item:(M=!0,A=ic.createChartInstance(w,A)),h.forEach(([F,I])=>{A==null||A.ctx.domManager.addStyles(F,I)})),i==null?(i=new w2(A,ic.callbackApi,n),i.releaseChart=T==null?void 0:T.release):(T||M)&&((R=i.releaseChart)==null||R.call(i),i.chart=A,i.releaseChart=T==null?void 0:T.release),za.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[A.id]=A),A.queuedUserOptions.push(w.userOptions),A.queuedChartOptions.push(w),A.requestFactoryUpdate(F=>{za.group(">>>> Chart.applyOptions()",()=>{F.applyOptions(w);const I=F.queuedUserOptions.indexOf(w.userOptions)+1;F.queuedUserOptions.splice(0,I),F.queuedChartOptions.splice(0,I)})}),i}static markRemovedProperties(t,i,s=!1){if(typeof t!="object")return s;for(const[n,r]of Object.entries(t))typeof r>"u"&&(Object.assign(t,{[n]:Symbol("UNSET")}),s||(s=!0));return s}static updateUserDelta(t,i){i=ns(i,new Set(["data"]));const s=Wa(i,ic.markRemovedProperties,new Set(["data"]),void 0,void 0,!1);za(()=>[">>> AgCharts.updateUserDelta() user delta",ns(i)]),ic.createOrUpdate({proxy:t,deltaOptions:i,stripSymbols:s})}static createChartInstance(t,i){const s=i==null?void 0:i.destroy({keepTransferableResources:!0});return Gu.detectChartDefinition(t.processedOptions).create(t,s)}static getPool(t){if(t.optionMetadata.pool===!0)return Oce.getPool(t.optionMetadata.presetType??"default",this.createChartInstance,this.detachAndClear,this.destroy,1/0)}};Qo.caretaker=new jB(hC);Qo.initialised=!1;Qo.callbackApi={caretaker:Qo.caretaker,create(e,t,i,s){return Qo.createOrUpdate({userOptions:e,processedOverrides:t,specialOverrides:i,optionsMetadata:s})},update(e,t){return Qo.createOrUpdate({userOptions:e,proxy:t})},updateUserDelta(e,t){return Qo.updateUserDelta(e,t)}};Qo.detachAndClear=e=>e.detachAndClear();Qo.destroy=e=>e.destroy();var Y2=Qo,Nce={};qr(Nce,{Arc:()=>pa,BBox:()=>Ze,Caption:()=>ei,CategoryScale:()=>wm,Group:()=>ot,Line:()=>fr,LinearScale:()=>Do,Marker:()=>ms,Path:()=>Fn,RadialColumnShape:()=>io,Rect:()=>on,Scene:()=>Ax,Sector:()=>Rs,Shape:()=>Xr,TranslatableGroup:()=>En,getRadialColumnWidth:()=>JG,toRadians:()=>os});var pa=class extends Fn{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return po(ri(this.startAngle),ri(this.endAngle))}updatePath(){const e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?e.closePath():this.type===2&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new Ze(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(e,t){const i=this.getBBox();return this.type!==0&&i.containsPoint(e,t)&&this.path.isPointInPath(e,t)}};pa.className="Arc";E([lt()],pa.prototype,"centerX",2);E([lt()],pa.prototype,"centerY",2);E([lt()],pa.prototype,"radius",2);E([lt()],pa.prototype,"startAngle",2);E([lt()],pa.prototype,"endAngle",2);E([lt()],pa.prototype,"counterClockwise",2);E([lt()],pa.prototype,"type",2);function M1(e,t,i){const s=Math.sqrt(e**2+t**2),r=Math.atan2(t,e)+i;return{x:Math.cos(r)*s,y:Math.sin(r)*s}}var io=class extends Fn{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){const{innerRadius:e,outerRadius:t,columnWidth:i}=this,s=this.getRotation(),n=-i/2,r=i/2,o=-t,a=-e;let l=1/0,u=1/0,h=-1/0,f=-1/0;for(let g=0;g<4;g+=1){const{x:m,y}=M1(g%2===0?n:r,g<2?o:a,s);l=Math.min(m,l),u=Math.min(y,u),h=Math.max(m,h),f=Math.max(y,f)}return new Ze(l,u,h-l,f-u)}getRotation(){const{startAngle:e,endAngle:t}=this,i=mx(e,t);return ri(e+i/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:t,outerRadius:i,path:s}=this,n=-e/2,r=e/2,o=-i,a=-t,l=this.getRotation(),u=[[n,a],[n,o],[r,o],[r,a]].map(([h,f])=>M1(h,f,l));s.clear(!0),s.moveTo(u[0].x,u[0].y),s.lineTo(u[1].x,u[1].y),s.lineTo(u[2].x,u[2].y),s.lineTo(u[3].x,u[3].y),s.closePath()}updateBeveledPath(){const{columnWidth:e,path:t,outerRadius:i,innerRadius:s,axisInnerRadius:n,axisOuterRadius:r,isRadiusAxisReversed:o}=this,a=po(s,n),l=Math.asin(e/2/s),u=this.getRotation(),h=(F,I)=>M1(F,I,u),f=(F,I)=>Math.sqrt(F**2+I**2),g=(F,I)=>I>F?0:Math.sqrt(F**2-I**2),m=(F,I,N)=>N?F<I:F>I,y=a&&!isNaN(l)&&l<Math.PI/6;let C=-e/2,x=e/2;const b=-i,w=-s*(y?Math.cos(l):1),M=m(r,f(s,e/2),!o);if(M){const F=g(r,s);C=-F,x=F}t.clear(!0);const A=h(C,w);t.moveTo(A.x,A.y);const T=po(s,i),k=m(r,f(i,e/2),!o);if(T&&y)t.arc(0,0,s,ri(-l-Math.PI/2)+u,ri(l-Math.PI/2)+u,!1);else if(k){const F=-g(r,e/2),I=g(r,i);if(!M){const N=h(C,F);t.lineTo(N.x,N.y)}if(t.arc(0,0,r,Math.atan2(F,C)+u,Math.atan2(b,-I)+u,!1),!po(I,0)){const N=h(I,b);t.lineTo(N.x,N.y)}t.arc(0,0,r,Math.atan2(b,I)+u,Math.atan2(F,x)+u,!1)}else{const F=h(C,b),I=h(x,b);t.lineTo(F.x,F.y),t.lineTo(I.x,I.y)}const R=h(x,w);if(t.lineTo(R.x,R.y),y)t.arc(0,0,s,ri(l-Math.PI/2)+u,ri(-l-Math.PI/2)+u,!0);else{const F=h(C,w);t.lineTo(F.x,F.y)}t.closePath()}};io.className="RadialColumnShape";E([lt()],io.prototype,"isBeveled",2);E([lt()],io.prototype,"columnWidth",2);E([lt()],io.prototype,"startAngle",2);E([lt()],io.prototype,"endAngle",2);E([lt()],io.prototype,"outerRadius",2);E([lt()],io.prototype,"innerRadius",2);E([lt()],io.prototype,"axisInnerRadius",2);E([lt()],io.prototype,"axisOuterRadius",2);E([lt()],io.prototype,"isRadiusAxisReversed",2);function JG(e,t,i,s,n){const r=mx(e,t),o=r*(1-s)/2;if(e+=o,t-=o,r<.001)return 2*i*n;if(r>=2*Math.PI){const m=e+r/2;e=m-Math.PI,t=m+Math.PI}const a=i*Math.cos(e),l=i*Math.sin(e),u=i*Math.cos(t),h=i*Math.sin(t),f=Math.floor(Math.sqrt((a-u)**2+(l-h)**2)),g=2*i*n;return Math.max(1,Math.min(g,f))}var _ce={};qr(_ce,{ChartTheme:()=>Al,DEFAULT_ANNOTATION_HANDLE_FILL:()=>Gm,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>Vm,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Wm,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>Zp,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>qp,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>zm,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>Hm,DEFAULT_BACKGROUND_COLOUR:()=>Nx,DEFAULT_CAPTION_ALIGNMENT:()=>cc,DEFAULT_CAPTION_LAYOUT_STYLE:()=>lc,DEFAULT_COLOR_RANGE:()=>Vx,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>Xn,DEFAULT_FIBONACCI_STROKES:()=>Xp,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>rs,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>Ii,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>ga,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>to,DEFAULT_GRIDLINE_ENABLED:()=>qo,DEFAULT_HIERARCHY_FILLS:()=>Ux,DEFAULT_HIERARCHY_STROKES:()=>jx,DEFAULT_POLAR_SERIES_STROKE:()=>Hx,DEFAULT_SEPARATION_LINES_COLOUR:()=>Om,DEFAULT_SHADOW_COLOUR:()=>_c,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>Wx,DEFAULT_TEXTBOX_COLOR:()=>Ym,DEFAULT_TEXTBOX_FILL:()=>Um,DEFAULT_TEXTBOX_STROKE:()=>jm,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Bm,DEFAULT_TOOLBAR_POSITION:()=>Km,IS_COMMUNITY:()=>dE,IS_DARK_THEME:()=>Od,IS_ENTERPRISE:()=>fE,PALETTE_ALT_DOWN_FILL:()=>yE,PALETTE_ALT_DOWN_STROKE:()=>pE,PALETTE_ALT_NEUTRAL_FILL:()=>vE,PALETTE_ALT_NEUTRAL_STROKE:()=>zx,PALETTE_ALT_UP_FILL:()=>mE,PALETTE_ALT_UP_STROKE:()=>gE,PALETTE_DOWN_FILL:()=>_m,PALETTE_DOWN_STROKE:()=>Bx,PALETTE_NEUTRAL_FILL:()=>Gx,PALETTE_NEUTRAL_STROKE:()=>Af,PALETTE_UP_FILL:()=>Nm,PALETTE_UP_STROKE:()=>_x,getChartTheme:()=>DC,themeNames:()=>Bce,themeSymbols:()=>hE,themes:()=>KE});var Bce=Object.keys(KE),Gce={};qr(Gce,{Color:()=>Ei,interpolateColor:()=>m4});var zce={};qr(zce,{AND:()=>ua,ARRAY:()=>Dm,ARRAY_OF:()=>gl,AbstractBarSeries:()=>IG,AbstractBarSeriesProperties:()=>IE,ActionOnSet:()=>Yn,AnchoredPopover:()=>iz,Animation:()=>w4,AnimationManager:()=>n3,Arc:()=>pa,Axis:()=>kA,AxisGroupZIndexMap:()=>TB,AxisInterval:()=>dh,AxisLabel:()=>Cs,AxisTick:()=>gf,AxisTickGenerator:()=>IB,AxisTicks:()=>uue,BBox:()=>Ze,BBoxValues:()=>JC,BOOLEAN:()=>et,BOOLEAN_ARRAY:()=>ose,Background:()=>wf,BackgroundModule:()=>rG,BandScale:()=>Sm,BarSeries:()=>Yx,BarSeriesModule:()=>OG,BaseModuleInstance:()=>xx,BaseProperties:()=>ut,BaseToolbar:()=>sT,ButtonWidget:()=>Im,COLOR_GRADIENT:()=>G4,COLOR_STRING:()=>Bt,COLOR_STRING_ARRAY:()=>hr,CachedTextMeasurer:()=>sB,CachedTextMeasurerPool:()=>yl,Caption:()=>ei,CartesianAxis:()=>km,CartesianSeries:()=>Pc,CartesianSeriesNodeEvent:()=>iE,CartesianSeriesProperties:()=>wl,CategoryAxis:()=>mf,CategoryScale:()=>wm,ChangeDetectableProperties:()=>oE,Chart:()=>Rx,ChartAxisDirection:()=>SA,ChartEventManager:()=>r3,ChartOptions:()=>QG,ChartUpdateType:()=>fp,CollapseMode:()=>SG,Color:()=>Ei,ColorScale:()=>Tc,ConicGradient:()=>pue,ContextMenuRegistry:()=>o3,ContinuousScale:()=>Vt,DATE:()=>lA,DATE_ARRAY:()=>ase,DATE_OR_DATETIME_MS:()=>cA,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>ph,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>mh,DEFAULT_TOOLTIP_CLASS:()=>qs,DEFAULT_TOOLTIP_DARK_CLASS:()=>L3,DIRECTION:()=>V4,DOMManager:()=>QB,DataController:()=>C3,DataModel:()=>y3,DataModelSeries:()=>eE,DataService:()=>Ex,Debug:()=>ti,Default:()=>kc,Deprecated:()=>Hce,DeprecatedAndRenamedTo:()=>Vce,DragInterpreter:()=>u3,DraggablePopover:()=>sz,DropShadow:()=>Oo,ExtendedPath2D:()=>Yp,FONT_SIZE_RATIO:()=>uE,FONT_STYLE:()=>pl,FONT_WEIGHT:()=>ml,FUNCTION:()=>In,FloatingToolbar:()=>xue,GREATER_THAN:()=>Em,Gradient:()=>px,Group:()=>ot,GroupedCategoryAxis:()=>Sf,HdpiCanvas:()=>WA,HierarchyNode:()=>oue,HierarchySeries:()=>aue,HierarchySeriesProperties:()=>Bc,HighlightManager:()=>a3,HighlightProperties:()=>tE,HighlightStyle:()=>Pm,INTERACTION_RANGE:()=>gx,INTERPOLATION_STEP_POSITION:()=>pG,INTERPOLATION_TYPE:()=>gG,Image:()=>If,InteractionManager:()=>s3,InteractionState:()=>i3,InterpolationProperties:()=>Ef,Invalidating:()=>hf,LABEL_PLACEMENT:()=>dA,LARGEST_KEY_INTERVAL:()=>Z3,LESS_THAN:()=>Am,LINE_CAP:()=>lse,LINE_DASH:()=>ha,LINE_JOIN:()=>cse,LINE_STYLE:()=>use,Label:()=>vs,LayoutElement:()=>_A,LayoutManager:()=>WB,LegendMarkerLabel:()=>eo,Line:()=>fr,LineSeries:()=>Kx,LineSeriesModule:()=>_G,LinearGradient:()=>TM,LinearScale:()=>Do,Listeners:()=>Cl,LogScale:()=>QA,LonLatBBox:()=>lue,MARKER_SHAPE:()=>aE,MATCHING_CROSSLINE_TYPE:()=>EA,MAX_SPACING:()=>U4,MIN_SPACING:()=>W4,Marker:()=>ms,Menu:()=>yue,MercatorScale:()=>cue,ModuleRegistry:()=>Gu,Motion:()=>AM,NAN:()=>hx,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>xo,NUMBER:()=>Tt,NUMBER_ARRAY:()=>dx,NUMBER_OR_NAN:()=>df,NativeWidget:()=>ef,NiceMode:()=>MB,Node:()=>Sc,NumberAxis:()=>Fc,OBJECT:()=>$e,OBJECT_ARRAY:()=>uA,OR:()=>Ec,OVERFLOW_STRATEGY:()=>dse,ObserveChanges:()=>Rc,OrdinalTimeScale:()=>ta,PHASE_METADATA:()=>Hp,PHASE_ORDER:()=>gd,PLACEMENT:()=>fse,PLAIN_OBJECT:()=>N4,POSITION:()=>hA,POSITION_TOP_COORDINATES:()=>aC,POSITIVE_NUMBER:()=>Ve,PREV_NEXT_KEYS:()=>Fd,Padding:()=>Ic,ParallelStateMachine:()=>kse,Path:()=>Fn,PointerEvents:()=>f4,PolarAxis:()=>tf,PolarSeries:()=>Xx,PolarZIndexMap:()=>WG,Popover:()=>iT,PropertiesArray:()=>Mm,ProxyInteractionService:()=>e3,ProxyOnWrite:()=>Ise,ProxyProperty:()=>fi,ProxyPropertyOnWrite:()=>Ts,QUICK_TRANSITION:()=>sC,RATIO:()=>Wt,REAL_NUMBER:()=>_4,RENDER_TO_OFFSCREEN_CANVAS_THRESHOLD:()=>yC,RadialColumnShape:()=>io,Range:()=>Fo,Rect:()=>on,RepeatType:()=>S4,Rotatable:()=>ff,RotatableGroup:()=>Ese,RotatableText:()=>nB,SKIP_JS_BUILTINS:()=>nA,SMALLEST_KEY_INTERVAL:()=>X3,SORT_DOMAIN_GROUPS:()=>q3,STRING:()=>Fe,STRING_ARRAY:()=>z4,Scalable:()=>mA,ScalableGroup:()=>Ase,Scene:()=>Ax,SceneChangeDetection:()=>Xe,ScenePathChangeDetection:()=>lt,Sector:()=>Rs,SectorBox:()=>GG,Selection:()=>Ki,Series:()=>Tx,SeriesContentZIndexMap:()=>E3,SeriesGroupingChangedEvent:()=>ZA,SeriesItemHighlightStyle:()=>Sl,SeriesMarker:()=>an,SeriesNodeEvent:()=>Lm,SeriesNodePickMode:()=>T3,SeriesProperties:()=>gr,SeriesTooltip:()=>ln,SeriesZIndexMap:()=>A3,Shape:()=>Xr,SimpleTextMeasurer:()=>CA,SliderWidget:()=>VA,StateMachine:()=>Rm,StateMachineProperty:()=>Rse,StopProperties:()=>gA,SvgPath:()=>tT,TEXT_ALIGN:()=>H4,TEXT_WRAP:()=>fx,TICK_INTERVAL:()=>wB,Text:()=>gs,TextUtils:()=>bi,TextWrapper:()=>bA,ThemeConstants:()=>oG,ThemeSymbols:()=>hE,TimeScale:()=>pB,Toolbar:()=>vue,ToolbarButtonProperties:()=>qm,ToolbarButtonWidget:()=>nz,ToolbarWidget:()=>Dx,Tooltip:()=>fa,TooltipManager:()=>dC,TooltipPosition:()=>Cf,Transformable:()=>Li,TransformableText:()=>Qd,Translatable:()=>hh,TranslatableGroup:()=>En,TranslatableLine:()=>cC,UNION:()=>ii,UpdateService:()=>d3,VERTICAL_ALIGN:()=>hse,Validate:()=>L,Vec2:()=>pd,Vec4:()=>BM,WIDGET_HTML_EVENTS:()=>NA,Widget:()=>da,WidgetEventUtil:()=>Za,ZIndexMap:()=>SB,ZoomManager:()=>h3,accumulateGroup:()=>Q3,accumulateStack:()=>J3,accumulatedValue:()=>V3,accumulativeValueProperty:()=>Kp,addHitTestersToQuadtree:()=>RE,adjustLabelPlacement:()=>PG,angleBetween:()=>mx,animationValidation:()=>xf,applyShapeStyle:()=>$p,areScalingEqual:()=>Nd,area:()=>UM,buildFormatter:()=>bm,buildResetPathFn:()=>EE,calculateDefaultTimeTickFormat:()=>L4,calculateDerivativeExtrema:()=>HM,calculateDerivativeExtremaXY:()=>k3,calculateLabelChartPadding:()=>xB,calculateLabelTranslation:()=>LM,calculatePlacement:()=>VM,checkCrisp:()=>LG,clamp:()=>ft,clampArray:()=>wM,clippedRoundRect:()=>vv,collapsedStartingBarPosition:()=>im,compareDates:()=>oB,computeBarFocusBounds:()=>FE,computeMarkerFocusBounds:()=>Zm,countExpandingSearch:()=>c3,countFractionDigits:()=>sx,createButton:()=>hue,createCheckbox:()=>due,createDatumId:()=>Xi,createDeprecationWarning:()=>ZE,createElement:()=>Mt,createElementId:()=>Sne,createIcon:()=>tz,createId:()=>Qr,createSelect:()=>fue,createSvgElement:()=>Kr,createTextArea:()=>gue,dateToNumber:()=>Zs,datesSortOrder:()=>MA,datumKeys:()=>fC,datumStylerProperties:()=>pc,deconstructSelectionsOrNodes:()=>ax,deepClone:()=>ns,deepFreeze:()=>lp,defaultTimeTickFormat:()=>aA,diff:()=>bf,downloadUrl:()=>u4,drawCorner:()=>Kg,drawMarkerUnitPolygon:()=>Yg,easing:()=>AM,enterpriseModule:()=>Sn,evaluateBezier:()=>gC,extent:()=>bl,extractDecoratedProperties:()=>C4,findMinMax:()=>Es,findQuadtreeMatch:()=>kE,findRangeExtent:()=>Xd,fixNumericExtent:()=>jn,focusCursorAtEnd:()=>xne,formatNumber:()=>vB,formatPercent:()=>yB,formatValue:()=>al,fromToMotion:()=>ki,generateUUID:()=>jte,getAngleRatioRadians:()=>X4,getColorStops:()=>q4,getDateTicksForInterval:()=>AA,getDatumRefPoint:()=>UA,getDocument:()=>rl,getElementBBox:()=>PB,getIconClassNames:()=>bx,getLastFocus:()=>zA,getMissCount:()=>jA,getPath:()=>sA,getPathComponents:()=>m3,getRadialColumnWidth:()=>JG,getWindow:()=>oi,groupAccumulativeValueProperty:()=>mc,groupAverage:()=>H3,groupCount:()=>WM,groupStackValueProperty:()=>$3,groupSum:()=>z3,hasNoModifiers:()=>Mx,inRange:()=>h4,initMenuKeyNav:()=>XB,initRovingTabIndex:()=>$B,interpolatePoints:()=>xC,isAgFlowProportionChartOptions:()=>Eoe,isAgGaugeChartOptions:()=>D3,isAgHierarchyChartOptions:()=>Doe,isAgStandaloneChartOptions:()=>M3,isAgTopologyChartOptions:()=>Aoe,isBetweenAngles:()=>ac,isButtonClickEvent:()=>GA,isContinuous:()=>yx,isDecoratedObject:()=>ox,isDenseInterval:()=>jp,isInputPending:()=>OB,isInteger:()=>d4,isNegative:()=>ix,isNumberEqual:()=>po,isProperties:()=>oa,isScaleValid:()=>Jp,jsonApply:()=>dp,jsonDiff:()=>ll,jsonPropertyCompare:()=>NB,jsonResolveOperations:()=>_B,jsonWalk:()=>Wa,keyProperty:()=>Ao,labelDirectionHandling:()=>bB,legendSymbolSvg:()=>I3,lineDistanceSquared:()=>hp,listDecoratedProperties:()=>zu,makeAccessibleClickListener:()=>Qne,mapValues:()=>aie,markerFadeInAnimation:()=>em,markerPaletteFactory:()=>CE,markerScaleInAnimation:()=>ME,markerSwipeScaleInAnimation:()=>DE,mergeArrayDefaults:()=>iC,mergeDefaults:()=>bt,midpointStartingBarPosition:()=>Cle,mod:()=>tA,moduleRegistry:()=>ia,motion:()=>Sue,nearestSquared:()=>tx,nearestSquaredInContainer:()=>Zte,normaliseGroupTo:()=>Fx,normalisePropertyTo:()=>Hu,normalisedExtentWithMetadata:()=>JA,normalizeAngle180:()=>Vp,normalizeAngle360:()=>ri,normalizeAngle360Inclusive:()=>bse,objectsEqual:()=>Qu,objectsEqualWith:()=>iA,pairUpSpans:()=>pp,partialAssign:()=>DM,pathFadeInAnimation:()=>bC,pathMotion:()=>CC,pathSwipeInAnimation:()=>AE,pickByMatchingAngle:()=>VE,plotAreaPathFill:()=>TG,plotInterpolatedAreaSeriesFillSpans:()=>xv,plotInterpolatedLinePathStroke:()=>Cv,plotLinePathStroke:()=>bE,predicateWithMessage:()=>jt,prepareAreaFillAnimationFns:()=>RG,prepareAreaPathAnimation:()=>kG,prepareAxisAnimationContext:()=>lC,prepareAxisAnimationFunctions:()=>DB,prepareBarAnimationFunctions:()=>sm,prepareLinePathAnimation:()=>EG,prepareLinePathPropertyAnimation:()=>wE,prepareLinePathStrokeAnimationFns:()=>SE,preparePieSeriesAnimationFunctions:()=>Vu,range:()=>Up,rangedValueProperty:()=>nE,resetAxisGroupFn:()=>AB,resetAxisLabelSelectionFn:()=>RA,resetAxisLineSelectionFn:()=>EB,resetAxisSelectionFn:()=>TA,resetBarSelectionsFn:()=>nm,resetIds:()=>Ute,resetLabelFn:()=>Dl,resetMarkerFn:()=>Xm,resetMarkerPositionFn:()=>tm,resetMotion:()=>Ms,resetPieSelectionsFn:()=>HE,round:()=>qte,rowCountProperty:()=>K3,sanitizeHtml:()=>Pd,scale:()=>Xs,sectorBox:()=>zG,seriesLabelFadeInAnimation:()=>Nt,seriesLabelFadeOutAnimation:()=>uc,setAttribute:()=>Zt,setAttributes:()=>Ju,setDocument:()=>l4,setElementBBox:()=>uC,setElementStyle:()=>bo,setPath:()=>rA,setWindow:()=>c4,shallowClone:()=>PA,singleSeriesPaletteFactory:()=>$m,solveBezier:()=>pC,sortAndUniqueDates:()=>kM,splitBezier:()=>mC,staticFromToMotion:()=>fl,stopPageScrolling:()=>ZB,sum:()=>Mae,sumValues:()=>Lx,swapAxisCondition:()=>dG,toDegrees:()=>Sse,toRadians:()=>os,tooltipContentAriaLabel:()=>F3,trailingAccumulatedValue:()=>W3,trailingAccumulatedValueProperty:()=>Eae,updateClipPath:()=>SC,updateLabelNode:()=>FG,validateCrossLineValues:()=>CB,valueProperty:()=>St,visibleRangeIndices:()=>l3,without:()=>MM});function ZE(){return(e,t)=>{const i=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");Ne.warnOnce(i)}}function Hce(e,t){const i=ZE(),s=t==null?void 0:t.default;return ol((n,r,o)=>(o!==s&&i(r.toString(),e),o))}function Vce(e,t){const i=ZE();return ol((s,n,r)=>(r!==s[e]&&(i(n.toString(),`Use [${e}] instead.`),rA(s,e,t?t(r):r)),tC),(s,n)=>(i(n.toString(),`Use [${e}] instead.`),sA(s,e)))}var pd={add:Wce,angle:Xce,apply:nue,equal:iue,distance:Yce,distanceSquared:Kce,from:sue,gradient:qce,intercept:Qce,intersectAtX:eue,intersectAtY:Jce,length:QE,lengthSquared:jce,multiply:Uce,normalized:$ce,origin:JE,required:rue,rotate:Zce,round:tue,sub:qE};function Wce(e,t){return typeof t=="number"?{x:e.x+t,y:e.y+t}:{x:e.x+t.x,y:e.y+t.y}}function qE(e,t){return typeof t=="number"?{x:e.x-t,y:e.y-t}:{x:e.x-t.x,y:e.y-t.y}}function Uce(e,t){return typeof t=="number"?{x:e.x*t,y:e.y*t}:{x:e.x*t.x,y:e.y*t.y}}function QE(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function jce(e){return e.x*e.x+e.y*e.y}function Yce(e,t){const i=qE(e,t);return Math.sqrt(i.x*i.x+i.y*i.y)}function Kce(e,t){const i=qE(e,t);return i.x*i.x+i.y*i.y}function $ce(e){const t=QE(e);return{x:e.x/t,y:e.y/t}}function Xce(e,t=JE()){return Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)}function Zce(e,t,i=JE()){const s=QE(e);return{x:i.x+s*Math.cos(t),y:i.y+s*Math.sin(t)}}function qce(e,t,i){const s=t.x-e.x;return(i==null?t.y-e.y:i-t.y-(i-e.y))/s}function Qce(e,t,i){return(i==null?e.y:i-e.y)-t*e.x}function Jce(e,t,i=0,s){return{x:e===1/0?1/0:(i-t)/e,y:s==null?i:s-i}}function eue(e,t,i=0,s){const n=e===1/0?1/0:e*i+t;return{x:i,y:s==null?n:s-n}}function tue(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function iue(e,t){return e.x===t.x&&e.y===t.y}function sue(e,t){if(typeof e=="number")return{x:e,y:t};if("currentX"in e)return{x:e.currentX,y:e.currentY};if("offsetWidth"in e)return{x:e.offsetWidth,y:e.offsetHeight};if("width"in e)return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y+e.height}];if("x1"in e)return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2}];throw new Error(`Values can not be converted into a vector: [${JSON.stringify(e)}] [${t}]`)}function nue(e,t){return e.x=t.x,e.y=t.y,e}function rue(e){return{x:(e==null?void 0:e.x)??0,y:(e==null?void 0:e.y)??0}}function JE(){return{x:0,y:0}}var ez=class bv{constructor(t,i,s,n,r,o,a,l,u){this.series=t,this.datumIndex=i,this.datum=s,this.sizeValue=n,this.colorValue=r,this.sumSize=o,this.depth=a,this.parent=l,this.children=u,this.midPoint={x:0,y:0}}get hasChildren(){return this.children.length>0}walk(t,i=bv.Walk.PreOrder){i===bv.Walk.PreOrder&&t(this),this.children.forEach(s=>{s.walk(t,i)}),i===bv.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*t}};ez.Walk={PreOrder:0,PostOrder:1};var oue=ez,aue=class extends Tx{constructor(e){super({moduleCtx:e,pickModes:[1,0]}),this.colorDomain=[0,0],this.maxDepth=0,this.colorScale=new Tc,this.animationState=new Rm("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}processData(){const{NodeClass:e}=this,{childrenKey:t,sizeKey:i,colorKey:s,colorRange:n}=this.properties;let r=0,o=1/0,a=-1/0;const l=(g,m,y)=>{const C=y.depth!=null?y.depth+1:0,x=t!=null?g[t]:void 0,b=x==null||x.length===0;let w=i!=null?g[i]:void 0;Number.isFinite(w)?w=Math.max(w,0):w=b?1:0;const M=w;r=Math.max(r,C);const A=s!=null?g[s]:void 0;return typeof A=="number"&&(o=Math.min(o,A),a=Math.max(a,A)),u(new e(this,m,g,w,A,M,C,y,[]),x)},u=(g,m)=>{const{datumIndex:y}=g;return m==null||m.forEach((C,x)=>{const b=l(C,y.concat(x),g);g.children.push(b),g.sumSize+=b.sumSize}),g},h=u(new e(this,[],void 0,0,void 0,0,void 0,void 0,[]),this.data),f=[o,a];this.colorScale.domain=o<a?[o,a]:[0,1],this.colorScale.range=n??["black"],this.colorScale.update(),this.rootNode=h,this.maxDepth=r,this.colorDomain=f}update({seriesRect:e}){this.updateSelections(),this.updateNodes();const t=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",t),this.animationState.transition("update",t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(){return{}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(e){const{colorKey:t,colorName:i,colorRange:s}=this.properties,{id:n,ctx:{legendManager:r},visible:o}=this;return e==="gradient"&&t!=null&&s!=null?[{legendType:"gradient",enabled:o&&r.getItemEnabled({seriesId:n}),seriesId:n,colorName:i,colorRange:s,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return e.datumIndex.join(":")}getDatumId(e){return this.getDatumIdFromData(e)}removeMeIndexPathForIndex(e){var t;return((t=this.datumSelection.at(e+1))==null?void 0:t.datum.datumIndex)??[]}removeMeIndexForIndexPath(e){for(const{index:t,datum:i}of this.datumSelection)if(ea(i.datumIndex,e))return t-1;return 0}pickFocus(e){var l;if(!((l=this.rootNode)!=null&&l.children.length))return;const t=ft(0,e.datumIndex-e.datumIndexDelta,this.datumSelection.length-1),{datumIndexDelta:i,otherIndexDelta:s}=e;let n=this.removeMeIndexPathForIndex(t);const r=n.reduce((u,h)=>u.children[h],this.rootNode);if(s>0&&r.hasChildren)n=[...n,0];else if(s<0&&n.length>1)n=n.slice(0,-1);else if(s===0&&i!==0){const u=r.parent.children.length-1;n=n.slice(),n[n.length-1]=ft(0,n[n.length-1]+i,u)}const o=n.reduce((u,h)=>u.children[h],this.rootNode),a=this.computeFocusBounds(this.datumSelection.at(t+1));if(a!=null)return{datum:o,datumIndex:this.removeMeIndexForIndexPath(n),otherIndex:o.depth,bounds:a,clipFocusBox:!0}}getDatumAriaText(e,t){if(!(e instanceof this.NodeClass)){Ne.error(`datum is not HierarchyNode: ${JSON.stringify(e)}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t})}},Bc=class extends gr{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(Yi),this.strokes=Object.values(Xo)}};E([L(Fe)],Bc.prototype,"childrenKey",2);E([L(Fe,{optional:!0})],Bc.prototype,"sizeKey",2);E([L(Fe,{optional:!0})],Bc.prototype,"colorKey",2);E([L(Fe,{optional:!0})],Bc.prototype,"colorName",2);E([L(hr)],Bc.prototype,"fills",2);E([L(hr)],Bc.prototype,"strokes",2);E([L(hr,{optional:!0})],Bc.prototype,"colorRange",2);var lue=class{constructor(e,t,i,s){this.lon0=e,this.lat0=t,this.lon1=i,this.lat1=s}merge(e){this.lon0=Math.min(this.lon0,e.lon0),this.lat0=Math.min(this.lat0,e.lat0),this.lon1=Math.max(this.lon1,e.lon1),this.lat1=Math.max(this.lat1,e.lat1)}},qx=Math.PI/180,D1=e=>e*qx,A1=e=>-Math.log(Math.tan(Math.PI*.25+e*qx*.5)),E1=e=>e/qx,T1=e=>(Math.atan(Math.exp(-e))-Math.PI*.25)/(qx*.5),cue=class eD extends lx{constructor(t,i){super(),this.domain=t,this.range=i,this.type="mercator",this.bounds=eD.bounds(t)}static bounds(t){const[[i,s],[n,r]]=t,o=D1(i),a=A1(s),l=D1(n),u=A1(r);return new Ze(Math.min(o,l),Math.min(a,u),Math.abs(l-o),Math.abs(u-a))}static fixedScale(){return new eD([[E1(0),T1(0)],[E1(1),T1(1)]],[[0,0],[1,1]])}toDomain(){}normalizeDomains(...t){let i=-1/0,s=1/0,n=-1/0,r=1/0;for(const o of t)for(const[a,l]of o)i=Math.min(a,i),s=Math.max(a,s),n=Math.min(l,n),r=Math.max(l,r);return{domain:[[i,n],[s,r]],animatable:!0}}convert([t,i]){const[[s,n],[r,o]]=this.range,a=(r-s)/this.bounds.width,l=(o-n)/this.bounds.height;return[(D1(t)-this.bounds.x)*a+s,(A1(i)-this.bounds.y)*l+n]}invert([t,i]){const[[s,n],[r,o]]=this.range,a=(r-s)/this.bounds.width,l=(o-n)/this.bounds.height;return[E1((t-s)/a+this.bounds.x),T1((i-n)/l+this.bounds.y)]}},eT=class tD{constructor(){this.id=Qr(this),this.axisGroup=new En({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=Ki.select(this.axisGroup,gs),this.interval=new dh,this.label=new Cs,this.scale=new Do,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(t){t.appendChild(this.axisGroup)}calculateLayout(){const t=[],i=this.generateTicks(),{translationX:s,translationY:n}=this;return this.labelSelection.update(i.ticks.map(r=>this.createLabelDatum(r)),void 0,r=>r.tickId),this.labelSelection.each((r,o)=>{r.setProperties(o),o.visible&&t.push(r.getBBox())}),this.axisGroup.setProperties({translationX:s,translationY:n}),Ze.merge(t)}getLabelParams(t){const{padding:i}=this,{translate:s}=t;switch(this.position){case"top":case"bottom":return{x:s,y:i,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:i,y:s,textAlign:"start",textBaseline:"middle"}}}inRange(t,i=.001){const[s,n]=Es(this.scale.range);return t>=s-i&&t<=n+i}createLabelDatum(t){const{x:i,y:s,textBaseline:n,textAlign:r}=this.getLabelParams(t);return{visible:!!t.tickLabel,tickId:t.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:t.tickLabel,textAlign:r,textBaseline:n,x:i,y:s}}generateTicks(){const{minSpacing:t,maxSpacing:i}=this.interval,{maxTickCount:s,minTickCount:n,tickCount:r}=gB(Xd(this.scale.range),1,t,i,tD.DefaultTickCount,tD.DefaultMinSpacing),o=this.getTicksData({nice:!0,interval:this.interval.step,tickCount:r,minTickCount:n,maxTickCount:s});if(this.position==="bottom"||this.position==="top"){const a=yl.getMeasurer({font:this.label}),{domain:l}=this.scale,h=l[0]>l[1]?-1:1;let f=-1/0*h;o.ticks=o.ticks.filter(g=>Math.sign(g.translate-f)!==h?!1:(f=g.translate+a.textWidth(g.tickLabel,!0)*h,!0))}return o}getTicksData(t){var l,u;const i=[],s=t.nice?this.scale.niceDomain(t):this.scale.domain,n=this.scale.ticks(t,s),r=n.reduce((h,f)=>Math.max(h,sx(f)),0),o=IA(),a=this.label.format?this.scale.tickFormatter({domain:s,ticks:n,fractionDigits:r,specifier:this.label.format}):h=>al(h,r);for(let h=0;h<n.length;h++){const f=n[h],g=this.scale.convert(f);if(!this.inRange(g))continue;const m=((u=(l=this.label).formatter)==null?void 0:u.call(l,{value:f,index:h,fractionDigits:r}))??a(f),y=o(m);i.push({tick:f,tickId:y,tickLabel:m,translate:g})}return{rawTicks:n,fractionDigits:r,ticks:i}}};eT.DefaultTickCount=5;eT.DefaultMinSpacing=10;var uue=eT;function hue(e,t){const i=Mt("button",Qx("ag-charts-input ag-charts-button",t));return e.label!==void 0?i.append(e.label):(i.append(tz(e.icon)),i.ariaLabel=e.altText),i.addEventListener("click",e.onPress),Ju(i,t),i}function due(e,t){const i=Mt("input",Qx("ag-charts-input ag-charts-checkbox",t));return i.type="checkbox",i.checked=e.checked,i.addEventListener("change",s=>e.onChange(i.checked,s)),i.addEventListener("keydown",s=>{GA(s)&&(s.preventDefault(),i.click())}),Ju(i,t),i}function fue(e,t){const i=Mt("select",Qx("ag-charts-input ag-charts-select",t));return i.append(...e.options.map(s=>{const n=Mt("option");return n.value=s.value,n.textContent=s.label,n})),Zt(i,"data-preventdefault",!1),i.value=e.value,i.addEventListener("change",s=>e.onChange(i.value,s)),Ju(i,t),i}function gue(e,t){const i=Mt("textarea",Qx("ag-charts-input ag-charts-textarea",t));return i.value=e.value,i.addEventListener("input",s=>e.onChange(i.value,s)),Ju(i,t),Zt(i,"data-preventdefault",!1),i}function tz(e){const t=Mt("span",`ag-charts-icon ag-charts-icon-${e}`);return Zt(t,"aria-hidden",!0),t}function Qx(e,t){return t==null?e:`${e} ${t.class}`}var pue=class extends px{constructor(e,t,i=0,s){super(e,t,s),this.angle=i}createCanvasGradient(e,t){const{angle:s}=this,n=ri(os(s+90)),r=t.x+t.width*.5,o=t.y+t.height*.5;return e.createConicGradient(n,r,o)}},tT=class extends Fn{constructor(e=""){super(),this.x=0,this.y=0,this.commands=[],this._d="",this.d=e}get d(){return this._d}set d(e){if(e!==this._d){this._d=e,this.commands.length=0;for(const[t,i,s]of e.matchAll(/([A-Z])([0-9. ]*)/g)){const n=s.split(/\s+/g).map(Number);this.commands.push([i,n])}this.checkPathDirty()}}updatePath(){const{path:e,x:t,y:i}=this;e.clear();let s=t,n=i;for(const[r,o]of this.commands)switch(r){case"M":e.moveTo(t+o[0],i+o[1]),s=t+o[0];break;case"C":e.cubicCurveTo(t+o[0],i+o[1],t+o[2],i+o[3],t+o[4],i+o[5]),s=t+o[4],n=i+o[5];break;case"H":e.lineTo(t+o[0],n),s=i+o[0];break;case"L":e.lineTo(t+o[0],i+o[1]),s=t+o[0],n=i+o[1];break;case"V":e.lineTo(s,i+o[0]),n=i+o[0];break;case"Z":e.closePath();break;default:throw new Error(`Could not translate command '${r}' with '${o.join(" ")}'`)}e.closePath()}};E([lt()],tT.prototype,"x",2);E([lt()],tT.prototype,"y",2);var If=class extends Sc{constructor(e){super(),this.sourceImage=e,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}render(e){const{ctx:t}=e,i=this.sourceImage;i&&(t.globalAlpha=this.opacity,t.drawImage(i,0,0,i.width,i.height,this.x,this.y,this.width,this.height)),super.render(e)}};E([Xe()],If.prototype,"x",2);E([Xe()],If.prototype,"y",2);E([Xe()],If.prototype,"width",2);E([Xe()],If.prototype,"height",2);E([Xe()],If.prototype,"opacity",2);var mue={};qr(mue,{ButtonWidget:()=>Im,NativeWidget:()=>ef,SliderWidget:()=>VA,ToolbarWidget:()=>Dx,WIDGET_HTML_EVENTS:()=>NA,Widget:()=>da,WidgetEventUtil:()=>Za});var K2="canvas-overlay",iT=class extends xx{constructor(e,t,i){super(),this.ctx=e,this.hideFns=[],this.moduleId=`popover-${t}`,i!=null&&i.detached?this.element=Mt("div"):this.element=e.domManager.addChild(K2,this.moduleId),this.element.setAttribute("role","presentation"),this.destroyFns.push(()=>e.domManager.removeChild(K2,this.moduleId))}attachTo(e){this.element.parentElement||e.element.append(this.element)}hide(e){const{lastFocus:t=this.lastFocus}=e??{};this.element.children.length!==0&&(this.hideFns.forEach(i=>i()),t==null||t.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(e,t){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");const i=Mt("div","ag-charts-popover");if(t.ariaLabel!=null&&i.setAttribute("aria-label",t.ariaLabel),t.class!=null&&i.classList.add(t.class),i.replaceChildren(...e),this.element.replaceChildren(i),this.hideFns.push(()=>this.removeChildren()),t.onHide&&this.hideFns.push(t.onHide),t.initialFocus&&t.sourceEvent){const s=zA(t.sourceEvent);s!==void 0&&(this.lastFocus=s,this.initialFocus=t.initialFocus)}return i}getPopoverElement(){return this.element.firstElementChild}updatePosition(e){var i;const t=this.getPopoverElement();t&&(t.style.setProperty("right","unset"),t.style.setProperty("bottom","unset"),e.x!=null&&t.style.setProperty("left",`${Math.floor(e.x)}px`),e.y!=null&&t.style.setProperty("top",`${Math.floor(e.y)}px`),(i=this.initialFocus)==null||i.focus(),this.initialFocus=void 0)}},iz=class extends iT{setAnchor(e,t){this.anchor=e,this.fallbackAnchor=t,this.updatePosition(e),this.repositionWithinBounds()}showWithChildren(e,t){const i=t.anchor??this.anchor,s=t.fallbackAnchor??this.fallbackAnchor,n=super.showWithChildren(e,t);return i&&this.setAnchor(i,s),oi().requestAnimationFrame(()=>{this.repositionWithinBounds()}),n}repositionWithinBounds(){const{anchor:e,ctx:t,fallbackAnchor:i}=this,s=this.getPopoverElement();if(!e||!s)return;const n=t.domManager.getBoundingClientRect(),{offsetWidth:r,offsetHeight:o}=s;let a=ft(0,e.x,n.width-r),l=ft(0,e.y,n.height-o);a!==e.x&&(i==null?void 0:i.x)!=null&&(a=ft(0,i.x-r,n.width-r)),l!==e.y&&(i==null?void 0:i.y)!=null&&(l=ft(0,i.y-o,n.height-o)),this.updatePosition({x:a,y:l})}},yue=class extends iz{show(e){const t=e.items.map(s=>this.createRow(e,s)),i=this.showWithChildren(t,e);i.classList.add("ag-charts-menu"),i.setAttribute("role","menu"),this.menuCloser=XB({orientation:"vertical",menu:i,buttons:t,sourceEvent:e.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push(()=>{var s;(s=this.menuCloser)==null||s.finishClosing(),this.menuCloser=void 0})}createRow(e,t){const{menuItemRole:i="menuitem"}=e,s=t.value===e.value,n=Mt("div","ag-charts-menu__row");if(n.setAttribute("role",i),i==="menuitemradio"&&n.setAttribute("aria-checked",(e.value===t.value).toString()),typeof t.value=="string"&&(n.dataset.popoverId=t.value),n.classList.toggle("ag-charts-menu__row--active",s),t.icon!=null){const l=Mt("span",`ag-charts-menu__icon ${bx(t.icon)}`);n.appendChild(l)}const r=t.strokeWidth!=null;if(r&&(n.classList.toggle("ag-charts-menu__row--stroke-width-visible",r),n.style.setProperty("--strokeWidth",r?`${t.strokeWidth}px`:null)),t.label!=null){const l=Mt("span","ag-charts-menu__label");l.textContent=this.ctx.localeManager.t(t.label),n.appendChild(l)}"altText"in t&&(n.ariaLabel=this.ctx.localeManager.t(t.altText));const o=()=>{var l;(l=e.onPress)==null||l.call(e,t)},a=l=>{GA(l)&&(o(),l.preventDefault(),l.stopPropagation())};return n.addEventListener("keydown",a),n.addEventListener("click",a),n.addEventListener("mousemove",()=>{n.focus({preventScroll:!0})}),n}},sz=class extends iT{constructor(){super(...arguments),this.dragged=!1}setDragHandle(e){e.addListener("drag-start",t=>{e.addClass(this.dragHandleDraggingClass),this.onDragStart(t)}),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",()=>{e.removeClass(this.dragHandleDraggingClass),this.onDragEnd.bind(this)})}onDragStart(e){const t=this.getPopoverElement();t&&(e.sourceEvent.preventDefault(),this.dragged=!0,this.dragStartState={client:pd.from(e.clientX,e.clientY),position:pd.from(Number(t.style.getPropertyValue("left").replace("px","")),Number(t.style.getPropertyValue("top").replace("px","")))})}onDragMove(e){const{dragStartState:t}=this,i=this.getPopoverElement();if(!t||!i)return;const s=pd.sub(pd.from(e.clientX,e.clientY),t.client),n=pd.add(t.position,s),r=this.ctx.domManager.getBoundingClientRect(),o={};n.x>=r.x&&n.x+i.offsetWidth<=r.width&&(o.x=n.x),n.y>=r.y&&n.y+i.offsetHeight<=r.height&&(o.y=n.y),this.updatePosition(o)}onDragEnd(){this.dragStartState=void 0}},qm=class extends ut{};E([L(Fe,{optional:!0})],qm.prototype,"icon",2);E([L(Fe,{optional:!0})],qm.prototype,"label",2);E([L(Fe,{optional:!0})],qm.prototype,"ariaLabel",2);E([L(Fe,{optional:!0})],qm.prototype,"tooltip",2);var nz=class extends Im{constructor(e){super(),this.localeManager=e}update(e){const{localeManager:t}=this;e.tooltip&&(this.elem.title=t.t(e.tooltip));let i="";if(e.icon!=null&&(i=`<span class="${bx(e.icon)} ag-charts-toolbar__icon"></span>`),e.label!=null){const s=t.t(e.label);i=`${i}<span class="ag-charts-toolbar__label">${s}</span>`}this.elem.innerHTML=i}setChecked(e){Zt(this.elem,"aria-checked",e)}},$2="ag-charts-toolbar__button--active",sT=class extends Dx{constructor(e,t="horizontal"){super(t),this.localeManager=e,this.horizontalSpacing=10,this.verticalSpacing=10,this.events=new Cl,this.hasPrefix=!1,this.buttonWidgets=[],this.addClass("ag-charts-toolbar"),this.toggleClass("ag-charts-toolbar--horizontal",t==="horizontal"),this.toggleClass("ag-charts-toolbar--vertical",t==="vertical")}addToolbarListener(e,t){return this.events.addListener(e,t)}clearButtons(){for(const e of this.buttonWidgets)e.destroy();this.buttonWidgets.splice(0)}updateButtons(e){const{buttonWidgets:t}=this;for(const[i,s]of e.entries())(this.buttonWidgets.at(i)??this.createButton(i,s)).update(s);for(let i=e.length;i<t.length;i++){const s=this.buttonWidgets.at(i);s==null||s.destroy()}this.buttonWidgets.splice(e.length),this.refreshButtonClasses()}updateButtonByIndex(e,t){var i;(i=this.buttonWidgets.at(e))==null||i.update(t)}clearActiveButton(){for(const e of this.buttonWidgets)e.toggleClass($2,!1)}toggleActiveButtonByIndex(e){if(e!==-1)for(const[t,i]of this.buttonWidgets.entries())i.toggleClass($2,e!=null&&e===t)}toggleButtonEnabledByIndex(e,t){var i;e!==-1&&((i=this.buttonWidgets.at(e))==null||i.setEnabled(t))}toggleSwitchCheckedByIndex(e,t){var i;e!==-1&&((i=this.buttonWidgets.at(e))==null||i.setChecked(t))}getButtonBounds(){return this.buttonWidgets.map(e=>this.getButtonWidgetBounds(e))}setButtonHiddenByIndex(e,t){var i;(i=this.buttonWidgets.at(e))==null||i.setHidden(t)}getButtonWidgetBounds(e){const t=this.getBounds(),i=e.getBounds();return new Ze(i.x+t.x,i.y+t.y,i.width,i.height)}refreshButtonClasses(){var r;const{buttonWidgets:e,hasPrefix:t}=this;let i,s,n;for(const[o,a]of e.entries())i=!t&&o===0||n!=a.section,s=o===e.length-1||a.section!=((r=e.at(o+1))==null?void 0:r.section),a.toggleClass("ag-charts-toolbar__button--first",i),a.toggleClass("ag-charts-toolbar__button--last",s),a.toggleClass("ag-charts-toolbar__button--gap",o>0&&i),n=a.section}createButton(e,t){const i=this.createButtonWidget();return i.addClass("ag-charts-toolbar__button"),i.addListener("click",s=>{const n={index:e,...t instanceof ut?t.toJson():t},r=this.getButtonWidgetBounds(i);this.events.dispatch("button-pressed",{event:s,button:n,buttonBounds:r})}),i.addListener("focus",()=>{this.events.dispatch("button-focused",{button:{index:e}})}),t.section&&(i.section=t.section),this.buttonWidgets.push(i),this.addChild(i),i}},vue=class extends sT{createButtonWidget(){return new nz(this.localeManager)}},Cue=class extends sz{constructor(e,t,i){super(e,t),this.onPopoverMoved=i,this.dragHandleDraggingClass="ag-charts-floating-toolbar__drag-handle--dragging"}show(e,t={}){this.showWithChildren(e,{...t,class:"ag-charts-floating-toolbar"})}hide(){this.dragged=!1,super.hide()}getBounds(){const e=this.getPopoverElement();return new Ze((e==null?void 0:e.offsetLeft)??0,(e==null?void 0:e.offsetTop)??0,(e==null?void 0:e.offsetWidth)??0,(e==null?void 0:e.offsetHeight)??0)}hasBeenDragged(){return this.dragged}setAnchor(e,t,i){const s=this.getPopoverElement();if(!s)return;const n=e.position??"above",{offsetWidth:r,offsetHeight:o}=s;let a=e.y-o-i,l=e.x-r/2;n==="below"?a=e.y+i:n==="right"?(a=e.y-o/2,l=e.x+t):n==="above-left"&&(l=e.x),this.updatePosition({x:l,y:a})}ignorePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="none")}capturePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="unset")}updatePosition(e){const t=this.getBounds(),i=this.ctx.domManager.getBoundingClientRect();e.x=Math.floor(ft(0,e.x,i.width-t.width)),e.y=Math.floor(ft(0,e.y,i.height-t.height)),super.updatePosition(e),this.onPopoverMoved()}},xue=class extends sT{constructor(e,t){super(e.localeManager),this.hasPrefix=!0,this.popover=new Cue(e,t,this.onPopoverMoved.bind(this)),this.dragHandle=new bue(e.localeManager.t("toolbarAnnotationsDragHandle")),this.popover.setDragHandle(this.dragHandle)}show(e={}){this.popover.show([this.dragHandle.getElement(),this.getElement()],e)}hide(){this.popover.hide()}setAnchor(e){this.popover.setAnchor(e,this.horizontalSpacing,this.verticalSpacing)}hasBeenDragged(){return this.popover.hasBeenDragged()}ignorePointerEvents(){this.popover.ignorePointerEvents()}capturePointerEvents(){this.popover.capturePointerEvents()}onPopoverMoved(){var i;const e=this.popover.getBounds();if((i=this.popoverBounds)!=null&&i.equals(e))return;this.popoverBounds=e.clone();const t=this.getButtonBounds();this.events.dispatch("toolbar-moved",{popoverBounds:e,buttonBounds:t})}getButtonWidgetBounds(e){const t=this.popover.getBounds(),i=super.getButtonWidgetBounds(e),s=this.dragHandle.getBounds();return new Ze(i.x+t.x-s.width,i.y+t.y,i.width,i.height)}},bue=class extends ef{constructor(e){super(Mt("div","ag-charts-floating-toolbar__drag-handle"));const t=new ef(Mt("span",`${bx("drag-handle")} ag-charts-toolbar__icon`));t.setAriaHidden(!0),this.addChild(t),this.elem.title=e}},Sue={...a4,...j4};hc.create.bind(hc),hc.__createSparkline.bind(hc);function X2(e,t){return{...e,container:t.current}}function wue(e,t){const i=B.forwardRef(function(n,r){const{options:o,style:a,className:l}=n,u=B.useRef(null),h=B.useRef();B.useLayoutEffect(()=>{const g=e(X2(o,u));return h.current=g,()=>{g.destroy()}},[]);const f=h.current===void 0;return B.useEffect(()=>{var g;f||(g=h.current)==null||g.update(X2(o,u)).catch(m=>console.error(m))},[o]),B.useImperativeHandle(r,()=>h.current,[]),B.useMemo(()=>B.createElement("div",{ref:u,style:a,className:l}),[a,l])});return i.displayName=t,i}var Mue=wue(e=>hc.create(e),"AgCharts");const Due=(e,t)=>{const i={};console.log(t);let s=Object.entries(t.Calculations).filter(([r,o])=>o.Store===e),n=t.Calender.map(r=>r.Week);return console.log(n),n.forEach(r=>{i[r]={Week:r,"Sales Dollars":0,"GM Dollars":0,"GM %":0}}),Object.values(s).forEach(r=>{const{Week:o,"Sales Dollars":a,"GM Dollars":l}=r[1];console.log(i[o]["Sales Dollars"],a),i[o]["Sales Dollars"]+=a,i[o]["GM Dollars"]+=l}),Object.keys(i).forEach(r=>{i[r]["GM %"]=i[r]["Sales Dollars"]!==0?parseFloat((i[r]["GM Dollars"]/i[r]["Sales Dollars"]*100).toFixed(6)):0}),console.log(i),Object.values(i)},Aue=ke.memo(({store:e,data:t,setStore:i})=>Ke.jsxs("div",{className:"flex flex-col space-y-2 mb-5 mt-3",children:[Ke.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Select Store"}),Ke.jsxs("select",{className:"w-[12rem] text-sm p-1 border border-blue-200 rounded-md focus:outline-none",value:e,onChange:s=>i(s.target.value),children:[Ke.jsx("option",{className:"text-sm",value:"",disabled:!0,children:"Select an option"}),t.map(s=>Ke.jsx("option",{className:"text-sm",value:s.ID,children:s.Label},s.Seq))]})]})),Eue=()=>{const e=rf(r=>r.excel),[t,i]=B.useState(e.Stores[0].ID),[s,n]=B.useState({height:399,series:[{type:"bar",xKey:"Week",yKey:"GM Dollars"},{type:"line",xKey:"Week",yKey:"GM %",yName:"GM Percentage",marker:{enabled:!0}}],axes:[{position:"bottom",type:"category"},{position:"left",type:"number",keys:["GM Dollars"],title:{text:"GM Dollars"}},{position:"right",type:"number",keys:["GM %"],title:{text:"GM %"},label:{format:".0%"}}]});return B.useEffect(()=>{let r=Due(t,e);n(o=>({...o,data:r}))},[t]),Ke.jsxs("div",{className:"border border-l-1 border-zinc-300 pl-3",children:[Ke.jsx(Aue,{store:t,data:e.Stores,setStore:i}),Ke.jsx(Mue,{options:s})]})},Z2=[{id:"st",name:"Store",image:"https://img.icons8.com/material-outlined/24/online-store.png",alt:"online-store",component:e4},{id:"sku",name:"SKU",image:"https://img.icons8.com/plumpy/24/project-management.png",alt:"project-management",component:yte},{id:"planning",name:"Planning",image:"https://img.icons8.com/fluency/48/bar-chart.png",alt:"bar-chart",component:bte},{id:"chart",name:"Chart",image:"https://img.icons8.com/fluency-systems-filled/48/graph.png",alt:"graph",component:Eue}],rz={row:{Seq:0,ID:"",Label:"",City:"",State:""},column:[{field:"Seq"},{field:"ID"},{field:"Label"},{field:"City"},{field:"State"}]},Tue={row:{ID:0,Label:"",Class:"",Department:"",Price:"",Cost:""}},AC="text-sm  text-black px-2 py-1 rounded",Rue="disabled:bg-blue-400 inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:ring-1 focus:outline focus:ring-blue-800";let kue=[{"Seq No.":1,Week:"W01","Week Label":"Week 01",Month:"M01","Month Label":"Feb"},{"Seq No.":2,Week:"W02","Week Label":"Week 02",Month:"M01","Month Label":"Feb"},{"Seq No.":3,Week:"W03","Week Label":"Week 03",Month:"M01","Month Label":"Feb"},{"Seq No.":4,Week:"W04","Week Label":"Week 04",Month:"M01","Month Label":"Feb"},{"Seq No.":5,Week:"W05","Week Label":"Week 05",Month:"M02","Month Label":"Mar"},{"Seq No.":6,Week:"W06","Week Label":"Week 06",Month:"M02","Month Label":"Mar"},{"Seq No.":7,Week:"W07","Week Label":"Week 07",Month:"M02","Month Label":"Mar"},{"Seq No.":8,Week:"W08","Week Label":"Week 08",Month:"M02","Month Label":"Mar"},{"Seq No.":9,Week:"W09","Week Label":"Week 09",Month:"M02","Month Label":"Mar"},{"Seq No.":10,Week:"W10","Week Label":"Week 10",Month:"M03","Month Label":"Apr"},{"Seq No.":11,Week:"W11","Week Label":"Week 11",Month:"M03","Month Label":"Apr"},{"Seq No.":12,Week:"W12","Week Label":"Week 12",Month:"M03","Month Label":"Apr"},{"Seq No.":13,Week:"W13","Week Label":"Week 13",Month:"M03","Month Label":"Apr"},{"Seq No.":14,Week:"W14","Week Label":"Week 14",Month:"M04","Month Label":"May"},{"Seq No.":15,Week:"W15","Week Label":"Week 15",Month:"M04","Month Label":"May"},{"Seq No.":16,Week:"W16","Week Label":"Week 16",Month:"M04","Month Label":"May"},{"Seq No.":17,Week:"W17","Week Label":"Week 17",Month:"M04","Month Label":"May"},{"Seq No.":18,Week:"W18","Week Label":"Week 18",Month:"M05","Month Label":"Jun"},{"Seq No.":19,Week:"W19","Week Label":"Week 19",Month:"M05","Month Label":"Jun"},{"Seq No.":20,Week:"W20","Week Label":"Week 20",Month:"M05","Month Label":"Jun"},{"Seq No.":21,Week:"W21","Week Label":"Week 21",Month:"M05","Month Label":"Jun"},{"Seq No.":22,Week:"W22","Week Label":"Week 22",Month:"M05","Month Label":"Jun"},{"Seq No.":23,Week:"W23","Week Label":"Week 23",Month:"M06","Month Label":"Jul"},{"Seq No.":24,Week:"W24","Week Label":"Week 24",Month:"M06","Month Label":"Jul"},{"Seq No.":25,Week:"W25","Week Label":"Week 25",Month:"M06","Month Label":"Jul"},{"Seq No.":26,Week:"W26","Week Label":"Week 26",Month:"M06","Month Label":"Jul"},{"Seq No.":27,Week:"W27","Week Label":"Week 27",Month:"M07","Month Label":"Aug"},{"Seq No.":28,Week:"W28","Week Label":"Week 28",Month:"M07","Month Label":"Aug"},{"Seq No.":29,Week:"W29","Week Label":"Week 29",Month:"M07","Month Label":"Aug"},{"Seq No.":30,Week:"W30","Week Label":"Week 30",Month:"M07","Month Label":"Aug"},{"Seq No.":31,Week:"W31","Week Label":"Week 31",Month:"M08","Month Label":"Sep"},{"Seq No.":32,Week:"W32","Week Label":"Week 32",Month:"M08","Month Label":"Sep"},{"Seq No.":33,Week:"W33","Week Label":"Week 33",Month:"M08","Month Label":"Sep"},{"Seq No.":34,Week:"W34","Week Label":"Week 34",Month:"M08","Month Label":"Sep"},{"Seq No.":35,Week:"W35","Week Label":"Week 35",Month:"M08","Month Label":"Sep"},{"Seq No.":36,Week:"W36","Week Label":"Week 36",Month:"M09","Month Label":"Oct"},{"Seq No.":37,Week:"W37","Week Label":"Week 37",Month:"M09","Month Label":"Oct"},{"Seq No.":38,Week:"W38","Week Label":"Week 38",Month:"M09","Month Label":"Oct"},{"Seq No.":39,Week:"W39","Week Label":"Week 39",Month:"M09","Month Label":"Oct"},{"Seq No.":40,Week:"W40","Week Label":"Week 40",Month:"M10","Month Label":"Nov"},{"Seq No.":41,Week:"W41","Week Label":"Week 41",Month:"M10","Month Label":"Nov"},{"Seq No.":42,Week:"W42","Week Label":"Week 42",Month:"M10","Month Label":"Nov"},{"Seq No.":43,Week:"W43","Week Label":"Week 43",Month:"M10","Month Label":"Nov"},{"Seq No.":44,Week:"W44","Week Label":"Week 44",Month:"M11","Month Label":"Dec"},{"Seq No.":45,Week:"W45","Week Label":"Week 45",Month:"M11","Month Label":"Dec"},{"Seq No.":46,Week:"W46","Week Label":"Week 46",Month:"M11","Month Label":"Dec"},{"Seq No.":47,Week:"W47","Week Label":"Week 47",Month:"M11","Month Label":"Dec"},{"Seq No.":48,Week:"W48","Week Label":"Week 48",Month:"M11","Month Label":"Dec"},{"Seq No.":49,Week:"W49","Week Label":"Week 49",Month:"M12","Month Label":"Jan"},{"Seq No.":50,Week:"W50","Week Label":"Week 50",Month:"M12","Month Label":"Jan"},{"Seq No.":51,Week:"W51","Week Label":"Week 51",Month:"M12","Month Label":"Jan"},{"Seq No.":52,Week:"W52","Week Label":"Week 52",Month:"M12","Month Label":"Jan"}];const Iue={excelData:{},Stores:[rz.row],SKUs:[Tue.row],Calender:kue,Planning:{},Calculations:{},Chart:{},open:!1},oz=bO({name:"excel",initialState:Iue,reducers:{setExcelData:(e,t)=>{switch(t.payload.sheetName){case"Stores":e.Stores=t.payload.data;break;case"SKUs":e.SKUs=t.payload.data;break;case"Calender":e.Calender=t.payload.data;break;case"Planning":e.Planning=t.payload.data;break;case"Calculations":e.Calculations=t.payload.data;break;case"Chart":e.Chart=t.payload.data;break;default:e.excelData=t.payload.data}},clearExcelData:e=>{e.excelData=[]},setPopupState:(e,t)=>{e.open=t.payload},addNewData:(e,t)=>{e[t.payload.type]=[...e[t.payload.type],t.payload.data]},updateStoreData:(e,t)=>{e.Stores=t.payload},deleteStoreData:(e,t)=>{e.Stores=t.payload},deleteSkuData:(e,t)=>{e.SKUs=t.payload},addPlanner:(e,t)=>{e.Planning=t.payload},addCalculation:(e,t)=>{e.Calculations=t.payload},updatePlanner:(e,t)=>{e.Planning={...e.Planning,[t.payload.id]:t.payload.value}},updateCalculation:(e,t)=>{e.Planning={...e.Calculations,[t.payload.id]:t.payload.value}}}}),{deleteSkuData:Lue,updatePlanner:Fue,addCalculation:Jve,updateCalculation:Pue,setExcelData:q2,clearExcelData:eCe,setPopupState:az,addNewData:Oue,updateStoreData:Q2,deleteStoreData:Nue,addPlanner:J2}=oz.actions,_ue=oz.reducer,Bue={excelFileData:{}},lz=bO({name:"excelData",initialState:Bue,reducers:{setExcelFileData:(e,t)=>{e.excelFileData=t.payload}}}),{setExcelFileData:tCe}=lz.actions,Gue=Y5({reducer:{simple:lz.reducer,excel:_ue}});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var cz=1252,zue=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],nT={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},rT=function(e){zue.indexOf(e)!=-1&&(cz=nT[0]=e)};function Hue(){rT(1252)}var So=function(e){rT(e)};function uz(){So(1200),Hue()}function eP(e){for(var t=[],i=0,s=e.length;i<s;++i)t[i]=e.charCodeAt(i);return t}function Vue(e){for(var t=[],i=0;i<e.length>>1;++i)t[i]=String.fromCharCode(e.charCodeAt(2*i)+(e.charCodeAt(2*i+1)<<8));return t.join("")}function hz(e){for(var t=[],i=0;i<e.length>>1;++i)t[i]=String.fromCharCode(e.charCodeAt(2*i+1)+(e.charCodeAt(2*i)<<8));return t.join("")}var $g=function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1);return t==255&&i==254?Vue(e.slice(2)):t==254&&i==255?hz(e.slice(2)):t==65279?e.slice(1):e},Xy=function(t){return String.fromCharCode(t)},tP=function(t){return String.fromCharCode(t)},iD,dc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function iP(e){for(var t="",i=0,s=0,n=0,r=0,o=0,a=0,l=0,u=0;u<e.length;)i=e.charCodeAt(u++),r=i>>2,s=e.charCodeAt(u++),o=(i&3)<<4|s>>4,n=e.charCodeAt(u++),a=(s&15)<<2|n>>6,l=n&63,isNaN(s)?a=l=64:isNaN(n)&&(l=64),t+=dc.charAt(r)+dc.charAt(o)+dc.charAt(a)+dc.charAt(l);return t}function cr(e){var t="",i=0,s=0,n=0,r=0,o=0,a=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)r=dc.indexOf(e.charAt(u++)),o=dc.indexOf(e.charAt(u++)),i=r<<2|o>>4,t+=String.fromCharCode(i),a=dc.indexOf(e.charAt(u++)),s=(o&15)<<4|a>>2,a!==64&&(t+=String.fromCharCode(s)),l=dc.indexOf(e.charAt(u++)),n=(a&3)<<6|l,l!==64&&(t+=String.fromCharCode(n));return t}var kt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ch=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,i){return i?new Buffer(t,i):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function wc(e){return kt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function sP(e){return kt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var vo=function(t){return kt?Ch(t,"binary"):t.split("").map(function(i){return i.charCodeAt(0)&255})};function xh(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var t=[],i=0;i<e.length;++i)t[i]=String.fromCharCode(e[i]);return t.join("")}function oT(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return oT(new Uint8Array(e));for(var t=new Array(e.length),i=0;i<e.length;++i)t[i]=e[i];return t}var rc=kt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ch(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,i=0;for(t=0;t<e.length;++t)i+=e[t].length;var s=new Uint8Array(i),n=0;for(t=0,i=0;t<e.length;i+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)s.set(e[t],i);else{if(typeof e[t]=="string")throw"wtf";s.set(new Uint8Array(e[t]),i)}return s}return[].concat.apply([],e.map(function(r){return Array.isArray(r)?r:[].slice.call(r)}))};function Wue(e){for(var t=[],i=0,s=e.length+250,n=wc(e.length+255),r=0;r<e.length;++r){var o=e.charCodeAt(r);if(o<128)n[i++]=o;else if(o<2048)n[i++]=192|o>>6&31,n[i++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=e.charCodeAt(++r)&1023;n[i++]=240|o>>8&7,n[i++]=128|o>>2&63,n[i++]=128|a>>6&15|(o&3)<<4,n[i++]=128|a&63}else n[i++]=224|o>>12&15,n[i++]=128|o>>6&63,n[i++]=128|o&63;i>s&&(t.push(n.slice(0,i)),i=0,n=wc(65535),s=65530)}return t.push(n.slice(0,i)),rc(t)}var Rn=/\u0000/g,Xg=/[\u0001-\u0006]/g;function Bd(e){for(var t="",i=e.length-1;i>=0;)t+=e.charAt(i--);return t}function wo(e,t){var i=""+e;return i.length>=t?i:Bi("0",t-i.length)+i}function aT(e,t){var i=""+e;return i.length>=t?i:Bi(" ",t-i.length)+i}function EC(e,t){var i=""+e;return i.length>=t?i:i+Bi(" ",t-i.length)}function Uue(e,t){var i=""+Math.round(e);return i.length>=t?i:Bi("0",t-i.length)+i}function jue(e,t){var i=""+e;return i.length>=t?i:Bi("0",t-i.length)+i}var nP=Math.pow(2,32);function hd(e,t){if(e>nP||e<-nP)return Uue(e,t);var i=Math.round(e);return jue(i,t)}function TC(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var rP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],R1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Yue(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ct={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},oP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Kue={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function RC(e,t,i){for(var s=e<0?-1:1,n=e*s,r=0,o=1,a=0,l=1,u=0,h=0,f=Math.floor(n);u<t&&(f=Math.floor(n),a=f*o+r,h=f*u+l,!(n-f<5e-8));)n=1/(n-f),r=o,o=a,l=u,u=h;if(h>t&&(u>t?(h=l,a=r):(h=u,a=o)),!i)return[0,s*a,h];var g=Math.floor(s*a/h);return[g,s*a-g*h,h]}function ku(e,t,i){if(e>2958465||e<0)return null;var s=e|0,n=Math.floor(86400*(e-s)),r=0,o=[],a={D:s,T:n,u:86400*(e-s)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(s+=1462),a.u>.9999&&(a.u=0,++n==86400&&(a.T=n=0,++s,++a.D)),s===60)o=i?[1317,10,29]:[1900,2,29],r=3;else if(s===0)o=i?[1317,8,29]:[1900,1,0],r=6;else{s>60&&--s;var l=new Date(1900,0,1);l.setDate(l.getDate()+s-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],r=l.getDay(),s<60&&(r=(r+6)%7),i&&(r=Jue(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=n%60,n=Math.floor(n/60),a.M=n%60,n=Math.floor(n/60),a.H=n,a.q=r,a}var dz=new Date(1899,11,31,0,0,0),$ue=dz.getTime(),Xue=new Date(1900,2,1,0,0,0);function fz(e,t){var i=e.getTime();return t?i-=1461*24*60*60*1e3:e>=Xue&&(i+=24*60*60*1e3),(i-($ue+(e.getTimezoneOffset()-dz.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function lT(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Zue(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function que(e){var t=e<0?12:11,i=lT(e.toFixed(12));return i.length<=t||(i=e.toPrecision(10),i.length<=t)?i:e.toExponential(5)}function Que(e){var t=lT(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function rm(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),i;return t>=-4&&t<=-1?i=e.toPrecision(10+t):Math.abs(t)<=9?i=que(e):t===10?i=e.toFixed(10).substr(0,12):i=Que(e),lT(Zue(i.toUpperCase()))}function eh(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):rm(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Zr(14,fz(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Jue(e,t){t[0]-=581;var i=e.getDay();return e<60&&(i=(i+6)%7),i}function ehe(e,t,i,s){var n="",r=0,o=0,a=i.y,l,u=0;switch(e){case 98:a=i.y+543;case 121:switch(t.length){case 1:case 2:l=a%100,u=2;break;default:l=a%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=i.m,u=t.length;break;case 3:return R1[i.m-1][1];case 5:return R1[i.m-1][0];default:return R1[i.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=i.d,u=t.length;break;case 3:return rP[i.q][0];default:return rP[i.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(i.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=i.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=i.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return i.u===0&&(t=="s"||t=="ss")?wo(i.S,t.length):(s>=2?o=s===3?1e3:100:o=s===1?10:1,r=Math.round(o*(i.S+i.u)),r>=60*o&&(r=0),t==="s"?r===0?"0":""+r/o:(n=wo(r,2+s),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=i.D*24+i.H;break;case"[m]":case"[mm]":l=(i.D*24+i.H)*60+i.M;break;case"[s]":case"[ss]":l=((i.D*24+i.H)*60+i.M)*60+Math.round(i.S+i.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=a,u=1;break}var h=u>0?wo(l,u):"";return h}function fc(e){var t=3;if(e.length<=t)return e;for(var i=e.length%t,s=e.substr(0,i);i!=e.length;i+=t)s+=(s.length>0?",":"")+e.substr(i,t);return s}var gz=/%/g;function the(e,t,i){var s=t.replace(gz,""),n=t.length-s.length;return Ja(e,s,i*Math.pow(10,2*n))+Bi("%",n)}function ihe(e,t,i){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Ja(e,t.substr(0,s),i/Math.pow(10,3*(t.length-s)))}function pz(e,t){var i,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+pz(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var r=Math.floor(Math.log(t)*Math.LOG10E)%n;if(r<0&&(r+=n),i=(t/Math.pow(10,r)).toPrecision(s+1+(n+r)%n),i.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(i.indexOf(".")===-1?i=i.charAt(0)+"."+i.substr(1)+"E+"+(o-i.length+r):i+="E+"+(o-r);i.substr(0,2)==="0.";)i=i.charAt(0)+i.substr(2,n)+"."+i.substr(2+n),i=i.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");i=i.replace(/\+-/,"-")}i=i.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,h){return l+u+h.substr(0,(n+r)%n)+"."+h.substr(r)+"E"})}else i=t.toExponential(s);return e.match(/E\+00$/)&&i.match(/e[+-]\d$/)&&(i=i.substr(0,i.length-1)+"0"+i.charAt(i.length-1)),e.match(/E\-/)&&i.match(/e\+/)&&(i=i.replace(/e\+/,"e")),i.replace("e","E")}var mz=/# (\?+)( ?)\/( ?)(\d+)/;function she(e,t,i){var s=parseInt(e[4],10),n=Math.round(t*s),r=Math.floor(n/s),o=n-r*s,a=s;return i+(r===0?"":""+r)+" "+(o===0?Bi(" ",e[1].length+1+e[4].length):aT(o,e[1].length)+e[2]+"/"+e[3]+wo(a,e[4].length))}function nhe(e,t,i){return i+(t===0?"":""+t)+Bi(" ",e[1].length+2+e[4].length)}var yz=/^#*0*\.([0#]+)/,vz=/\).*[0#]/,Cz=/\(###\) ###\\?-####/;function Mn(e){for(var t="",i,s=0;s!=e.length;++s)switch(i=e.charCodeAt(s)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(i)}return t}function aP(e,t){var i=Math.pow(10,t);return""+Math.round(e*i)/i}function lP(e,t){var i=e-Math.floor(e),s=Math.pow(10,t);return t<(""+Math.round(i*s)).length?0:Math.round(i*s)}function rhe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function ohe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Fr(e,t,i){if(e.charCodeAt(0)===40&&!t.match(vz)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return i>=0?Fr("n",s,i):"("+Fr("n",s,-i)+")"}if(t.charCodeAt(t.length-1)===44)return ihe(e,t,i);if(t.indexOf("%")!==-1)return the(e,t,i);if(t.indexOf("E")!==-1)return pz(t,i);if(t.charCodeAt(0)===36)return"$"+Fr(e,t.substr(t.charAt(1)==" "?2:1),i);var n,r,o,a,l=Math.abs(i),u=i<0?"-":"";if(t.match(/^00+$/))return u+hd(l,t.length);if(t.match(/^[#?]+$/))return n=hd(i,0),n==="0"&&(n=""),n.length>t.length?n:Mn(t.substr(0,t.length-n.length))+n;if(r=t.match(mz))return she(r,l,u);if(t.match(/^#+0+$/))return u+hd(l,t.length-t.indexOf("0"));if(r=t.match(yz))return n=aP(i,r[1].length).replace(/^([^\.]+)$/,"$1."+Mn(r[1])).replace(/\.$/,"."+Mn(r[1])).replace(/\.(\d*)$/,function(y,C){return"."+C+Bi("0",Mn(r[1]).length-C.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),r=t.match(/^(0*)\.(#*)$/))return u+aP(l,r[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,r[1].length?"0.":".");if(r=t.match(/^#{1,3},##0(\.?)$/))return u+fc(hd(l,0));if(r=t.match(/^#,##0\.([#0]*0)$/))return i<0?"-"+Fr(e,t,-i):fc(""+(Math.floor(i)+rhe(i,r[1].length)))+"."+wo(lP(i,r[1].length),r[1].length);if(r=t.match(/^#,#*,#0/))return Fr(e,t.replace(/^#,#*,/,""),i);if(r=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Bd(Fr(e,t.replace(/[\\-]/g,""),i)),o=0,Bd(Bd(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<n.length?n.charAt(o++):y==="0"?"0":""}));if(t.match(Cz))return n=Fr(e,"##########",i),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var h="";if(r=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(r[4].length,7),a=RC(l,Math.pow(10,o)-1,!1),n=""+u,h=Ja("n",r[1],a[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),n+=h+r[2]+"/"+r[3],h=EC(a[2],o),h.length<r[4].length&&(h=Mn(r[4].substr(r[4].length-h.length))+h),n+=h,n;if(r=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(r[1].length,r[4].length),7),a=RC(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?aT(a[1],o)+r[2]+"/"+r[3]+EC(a[2],o):Bi(" ",2*o+1+r[2].length+r[3].length));if(r=t.match(/^[#0?]+$/))return n=hd(i,0),t.length<=n.length?n:Mn(t.substr(0,t.length-n.length))+n;if(r=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+i.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,"$1"),o=n.indexOf(".");var f=t.indexOf(".")-o,g=t.length-n.length-f;return Mn(t.substr(0,f)+n+t.substr(t.length-g))}if(r=t.match(/^00,000\.([#0]*0)$/))return o=lP(i,r[1].length),i<0?"-"+Fr(e,t,-i):fc(ohe(i)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?wo(0,3-y.length):"")+y})+"."+wo(o,r[1].length);switch(t){case"###,##0.00":return Fr(e,"#,##0.00",i);case"###,###":case"##,###":case"#,###":var m=fc(hd(l,0));return m!=="0"?u+m:"";case"###,###.00":return Fr(e,"###,##0.00",i).replace(/^0\./,".");case"#,###.00":return Fr(e,"#,##0.00",i).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function ahe(e,t,i){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Ja(e,t.substr(0,s),i/Math.pow(10,3*(t.length-s)))}function lhe(e,t,i){var s=t.replace(gz,""),n=t.length-s.length;return Ja(e,s,i*Math.pow(10,2*n))+Bi("%",n)}function xz(e,t){var i,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+xz(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var r=Math.floor(Math.log(t)*Math.LOG10E)%n;if(r<0&&(r+=n),i=(t/Math.pow(10,r)).toPrecision(s+1+(n+r)%n),!i.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);i.indexOf(".")===-1?i=i.charAt(0)+"."+i.substr(1)+"E+"+(o-i.length+r):i+="E+"+(o-r),i=i.replace(/\+-/,"-")}i=i.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,h){return l+u+h.substr(0,(n+r)%n)+"."+h.substr(r)+"E"})}else i=t.toExponential(s);return e.match(/E\+00$/)&&i.match(/e[+-]\d$/)&&(i=i.substr(0,i.length-1)+"0"+i.charAt(i.length-1)),e.match(/E\-/)&&i.match(/e\+/)&&(i=i.replace(/e\+/,"e")),i.replace("e","E")}function Ko(e,t,i){if(e.charCodeAt(0)===40&&!t.match(vz)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return i>=0?Ko("n",s,i):"("+Ko("n",s,-i)+")"}if(t.charCodeAt(t.length-1)===44)return ahe(e,t,i);if(t.indexOf("%")!==-1)return lhe(e,t,i);if(t.indexOf("E")!==-1)return xz(t,i);if(t.charCodeAt(0)===36)return"$"+Ko(e,t.substr(t.charAt(1)==" "?2:1),i);var n,r,o,a,l=Math.abs(i),u=i<0?"-":"";if(t.match(/^00+$/))return u+wo(l,t.length);if(t.match(/^[#?]+$/))return n=""+i,i===0&&(n=""),n.length>t.length?n:Mn(t.substr(0,t.length-n.length))+n;if(r=t.match(mz))return nhe(r,l,u);if(t.match(/^#+0+$/))return u+wo(l,t.length-t.indexOf("0"));if(r=t.match(yz))return n=(""+i).replace(/^([^\.]+)$/,"$1."+Mn(r[1])).replace(/\.$/,"."+Mn(r[1])),n=n.replace(/\.(\d*)$/,function(y,C){return"."+C+Bi("0",Mn(r[1]).length-C.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),r=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,r[1].length?"0.":".");if(r=t.match(/^#{1,3},##0(\.?)$/))return u+fc(""+l);if(r=t.match(/^#,##0\.([#0]*0)$/))return i<0?"-"+Ko(e,t,-i):fc(""+i)+"."+Bi("0",r[1].length);if(r=t.match(/^#,#*,#0/))return Ko(e,t.replace(/^#,#*,/,""),i);if(r=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Bd(Ko(e,t.replace(/[\\-]/g,""),i)),o=0,Bd(Bd(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<n.length?n.charAt(o++):y==="0"?"0":""}));if(t.match(Cz))return n=Ko(e,"##########",i),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var h="";if(r=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(r[4].length,7),a=RC(l,Math.pow(10,o)-1,!1),n=""+u,h=Ja("n",r[1],a[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),n+=h+r[2]+"/"+r[3],h=EC(a[2],o),h.length<r[4].length&&(h=Mn(r[4].substr(r[4].length-h.length))+h),n+=h,n;if(r=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(r[1].length,r[4].length),7),a=RC(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?aT(a[1],o)+r[2]+"/"+r[3]+EC(a[2],o):Bi(" ",2*o+1+r[2].length+r[3].length));if(r=t.match(/^[#0?]+$/))return n=""+i,t.length<=n.length?n:Mn(t.substr(0,t.length-n.length))+n;if(r=t.match(/^([#0]+)\.([#0]+)$/)){n=""+i.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,"$1"),o=n.indexOf(".");var f=t.indexOf(".")-o,g=t.length-n.length-f;return Mn(t.substr(0,f)+n+t.substr(t.length-g))}if(r=t.match(/^00,000\.([#0]*0)$/))return i<0?"-"+Ko(e,t,-i):fc(""+i).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?wo(0,3-y.length):"")+y})+"."+wo(0,r[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=fc(""+l);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Ko(e,t.slice(0,t.lastIndexOf(".")),i)+Mn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ja(e,t,i){return(i|0)===i?Ko(e,t,i):Fr(e,t,i)}function che(e){for(var t=[],i=!1,s=0,n=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:i=!i;break;case 95:case 42:case 92:++s;break;case 59:t[t.length]=e.substr(n,s-n),n=s+1}if(t[t.length]=e.substr(n),i===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var bz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Lf(e){for(var t=0,i="",s="";t<e.length;)switch(i=e.charAt(t)){case"G":TC(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(s=i;e.charAt(t++)!=="]"&&t<e.length;)s+=e.charAt(t);if(s.match(bz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(i=e.charAt(++t))>-1||i=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===i;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function uhe(e,t,i,s){for(var n=[],r="",o=0,a="",l="t",u,h,f,g="H";o<e.length;)switch(a=e.charAt(o)){case"G":if(!TC(e,o))throw new Error("unrecognized character "+a+" in "+e);n[n.length]={t:"G",v:"General"},o+=7;break;case'"':for(r="";(f=e.charCodeAt(++o))!==34&&o<e.length;)r+=String.fromCharCode(f);n[n.length]={t:"t",v:r},++o;break;case"\\":var m=e.charAt(++o),y=m==="("||m===")"?m:"t";n[n.length]={t:y,v:m},++o;break;case"_":n[n.length]={t:"t",v:" "},o+=2;break;case"@":n[n.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=ku(t,i,e.charAt(o+1)==="2"),u==null))return"";n[n.length]={t:"X",v:e.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=ku(t,i),u==null))return"";for(r=a;++o<e.length&&e.charAt(o).toLowerCase()===a;)r+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=g),n[n.length]={t:a,v:r},l=a;break;case"A":case"a":case"":var C={t:a,v:a};if(u==null&&(u=ku(t,i)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(C.v=u.H>=12?"P":"A"),C.t="T",g="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(C.v=u.H>=12?"PM":"AM"),C.t="T",o+=5,g="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(C.v=u.H>=12?"":""),C.t="T",o+=5,g="h"):(C.t="t",++o),u==null&&C.t==="T")return"";n[n.length]=C,l=a;break;case"[":for(r=a;e.charAt(o++)!=="]"&&o<e.length;)r+=e.charAt(o);if(r.slice(-1)!=="]")throw'unterminated "[" block: |'+r+"|";if(r.match(bz)){if(u==null&&(u=ku(t,i),u==null))return"";n[n.length]={t:"Z",v:r.toLowerCase()},l=r.charAt(1)}else r.indexOf("$")>-1&&(r=(r.match(/\$([^-\[\]]*)/)||[])[1]||"$",Lf(e)||(n[n.length]={t:"t",v:r}));break;case".":if(u!=null){for(r=a;++o<e.length&&(a=e.charAt(o))==="0";)r+=a;n[n.length]={t:"s",v:r};break}case"0":case"#":for(r=a;++o<e.length&&"0#?.,E+-%".indexOf(a=e.charAt(o))>-1;)r+=a;n[n.length]={t:"n",v:r};break;case"?":for(r=a;e.charAt(++o)===a;)r+=a;n[n.length]={t:a,v:r},l=a;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":n[n.length]={t:s===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(r=a;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)r+=e.charAt(o);n[n.length]={t:"D",v:r};break;case" ":n[n.length]={t:a,v:a},++o;break;case"$":n[n.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+e);n[n.length]={t:"t",v:a},++o;break}var x=0,b=0,w;for(o=n.length-1,l="t";o>=0;--o)switch(n[o].t){case"h":case"H":n[o].t=g,l="h",x<1&&(x=1);break;case"s":(w=n[o].v.match(/\.0+$/))&&(b=Math.max(b,w[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":l=n[o].t;break;case"m":l==="s"&&(n[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&n[o].v.match(/[Hh]/)&&(x=1),x<2&&n[o].v.match(/[Mm]/)&&(x=2),x<3&&n[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var M="",A;for(o=0;o<n.length;++o)switch(n[o].t){case"t":case"T":case" ":case"D":break;case"X":n[o].v="",n[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[o].v=ehe(n[o].t.charCodeAt(0),n[o].v,u,b),n[o].t="t";break;case"n":case"?":for(A=o+1;n[A]!=null&&((a=n[A].t)==="?"||a==="D"||(a===" "||a==="t")&&n[A+1]!=null&&(n[A+1].t==="?"||n[A+1].t==="t"&&n[A+1].v==="/")||n[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(n[A].v==="/"||n[A].v===" "&&n[A+1]!=null&&n[A+1].t=="?"));)n[o].v+=n[A].v,n[A]={v:"",t:";"},++A;M+=n[o].v,o=A-1;break;case"G":n[o].t="t",n[o].v=eh(t,i);break}var T="",k,R;if(M.length>0){M.charCodeAt(0)==40?(k=t<0&&M.charCodeAt(0)===45?-t:t,R=Ja("n",M,k)):(k=t<0&&s>1?-t:t,R=Ja("n",M,k),k<0&&n[0]&&n[0].t=="t"&&(R=R.substr(1),n[0].v="-"+n[0].v)),A=R.length-1;var F=n.length;for(o=0;o<n.length;++o)if(n[o]!=null&&n[o].t!="t"&&n[o].v.indexOf(".")>-1){F=o;break}var I=n.length;if(F===n.length&&R.indexOf("E")===-1){for(o=n.length-1;o>=0;--o)n[o]==null||"n?".indexOf(n[o].t)===-1||(A>=n[o].v.length-1?(A-=n[o].v.length,n[o].v=R.substr(A+1,n[o].v.length)):A<0?n[o].v="":(n[o].v=R.substr(0,A+1),A=-1),n[o].t="t",I=o);A>=0&&I<n.length&&(n[I].v=R.substr(0,A+1)+n[I].v)}else if(F!==n.length&&R.indexOf("E")===-1){for(A=R.indexOf(".")-1,o=F;o>=0;--o)if(!(n[o]==null||"n?".indexOf(n[o].t)===-1)){for(h=n[o].v.indexOf(".")>-1&&o===F?n[o].v.indexOf(".")-1:n[o].v.length-1,T=n[o].v.substr(h+1);h>=0;--h)A>=0&&(n[o].v.charAt(h)==="0"||n[o].v.charAt(h)==="#")&&(T=R.charAt(A--)+T);n[o].v=T,n[o].t="t",I=o}for(A>=0&&I<n.length&&(n[I].v=R.substr(0,A+1)+n[I].v),A=R.indexOf(".")+1,o=F;o<n.length;++o)if(!(n[o]==null||"n?(".indexOf(n[o].t)===-1&&o!==F)){for(h=n[o].v.indexOf(".")>-1&&o===F?n[o].v.indexOf(".")+1:0,T=n[o].v.substr(0,h);h<n[o].v.length;++h)A<R.length&&(T+=R.charAt(A++));n[o].v=T,n[o].t="t",I=o}}}for(o=0;o<n.length;++o)n[o]!=null&&"n?".indexOf(n[o].t)>-1&&(k=s>1&&t<0&&o>0&&n[o-1].v==="-"?-t:t,n[o].v=Ja(n[o].t,n[o].v,k),n[o].t="t");var N="";for(o=0;o!==n.length;++o)n[o]!=null&&(N+=n[o].v);return N}var cP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function uP(e,t){if(t==null)return!1;var i=parseFloat(t[2]);switch(t[1]){case"=":if(e==i)return!0;break;case">":if(e>i)return!0;break;case"<":if(e<i)return!0;break;case"<>":if(e!=i)return!0;break;case">=":if(e>=i)return!0;break;case"<=":if(e<=i)return!0;break}return!1}function hhe(e,t){var i=che(e),s=i.length,n=i[s-1].indexOf("@");if(s<4&&n>-1&&--s,i.length>4)throw new Error("cannot find right format for |"+i.join("|")+"|");if(typeof t!="number")return[4,i.length===4||n>-1?i[i.length-1]:"@"];switch(i.length){case 1:i=n>-1?["General","General","General",i[0]]:[i[0],i[0],i[0],"@"];break;case 2:i=n>-1?[i[0],i[0],i[0],i[1]]:[i[0],i[1],i[0],"@"];break;case 3:i=n>-1?[i[0],i[1],i[0],i[2]]:[i[0],i[1],i[2],"@"];break}var r=t>0?i[0]:t<0?i[1]:i[2];if(i[0].indexOf("[")===-1&&i[1].indexOf("[")===-1)return[s,r];if(i[0].match(/\[[=<>]/)!=null||i[1].match(/\[[=<>]/)!=null){var o=i[0].match(cP),a=i[1].match(cP);return uP(t,o)?[s,i[0]]:uP(t,a)?[s,i[1]]:[s,i[o!=null&&a!=null?2:1]]}return[s,r]}function Zr(e,t,i){i==null&&(i={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&i.dateNF?s=i.dateNF:s=e;break;case"number":e==14&&i.dateNF?s=i.dateNF:s=(i.table!=null?i.table:Ct)[e],s==null&&(s=i.table&&i.table[oP[e]]||Ct[oP[e]]),s==null&&(s=Kue[e]||"General");break}if(TC(s,0))return eh(t,i);t instanceof Date&&(t=fz(t,i.date1904));var n=hhe(s,t);if(TC(n[1]))return eh(t,i);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return uhe(n[1],t,i,n[0])}function Wu(e,t){if(typeof t!="number"){t=+t||-1;for(var i=0;i<392;++i){if(Ct[i]==null){t<0&&(t=i);continue}if(Ct[i]==e){t=i;break}}t<0&&(t=391)}return Ct[t]=e,t}function Sz(){Ct=Yue()}var dhe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},wz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function fhe(e){var t=typeof e=="number"?Ct[e]:e;return t=t.replace(wz,"(\\d+)"),new RegExp("^"+t+"$")}function ghe(e,t,i){var s=-1,n=-1,r=-1,o=-1,a=-1,l=-1;(t.match(wz)||[]).forEach(function(f,g){var m=parseInt(i[g+1],10);switch(f.toLowerCase().charAt(0)){case"y":s=m;break;case"d":r=m;break;case"h":o=m;break;case"s":l=m;break;case"m":o>=0?a=m:n=m;break}}),l>=0&&a==-1&&n>=0&&(a=n,n=-1);var u=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(r>=1?r:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?u:s==-1&&n==-1&&r==-1?h:u+"T"+h}var phe=function(){var e={};e.version="1.2.0";function t(){for(var R=0,F=new Array(256),I=0;I!=256;++I)R=I,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,F[I]=R;return typeof Int32Array<"u"?new Int32Array(F):F}var i=t();function s(R){var F=0,I=0,N=0,G=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(N=0;N!=256;++N)G[N]=R[N];for(N=0;N!=256;++N)for(I=R[N],F=256+N;F<4096;F+=256)I=G[F]=I>>>8^R[I&255];var V=[];for(N=1;N!=16;++N)V[N-1]=typeof Int32Array<"u"?G.subarray(N*256,N*256+256):G.slice(N*256,N*256+256);return V}var n=s(i),r=n[0],o=n[1],a=n[2],l=n[3],u=n[4],h=n[5],f=n[6],g=n[7],m=n[8],y=n[9],C=n[10],x=n[11],b=n[12],w=n[13],M=n[14];function A(R,F){for(var I=F^-1,N=0,G=R.length;N<G;)I=I>>>8^i[(I^R.charCodeAt(N++))&255];return~I}function T(R,F){for(var I=F^-1,N=R.length-15,G=0;G<N;)I=M[R[G++]^I&255]^w[R[G++]^I>>8&255]^b[R[G++]^I>>16&255]^x[R[G++]^I>>>24]^C[R[G++]]^y[R[G++]]^m[R[G++]]^g[R[G++]]^f[R[G++]]^h[R[G++]]^u[R[G++]]^l[R[G++]]^a[R[G++]]^o[R[G++]]^r[R[G++]]^i[R[G++]];for(N+=15;G<N;)I=I>>>8^i[(I^R[G++])&255];return~I}function k(R,F){for(var I=F^-1,N=0,G=R.length,V=0,Q=0;N<G;)V=R.charCodeAt(N++),V<128?I=I>>>8^i[(I^V)&255]:V<2048?(I=I>>>8^i[(I^(192|V>>6&31))&255],I=I>>>8^i[(I^(128|V&63))&255]):V>=55296&&V<57344?(V=(V&1023)+64,Q=R.charCodeAt(N++)&1023,I=I>>>8^i[(I^(240|V>>8&7))&255],I=I>>>8^i[(I^(128|V>>2&63))&255],I=I>>>8^i[(I^(128|Q>>6&15|(V&3)<<4))&255],I=I>>>8^i[(I^(128|Q&63))&255]):(I=I>>>8^i[(I^(224|V>>12&15))&255],I=I>>>8^i[(I^(128|V>>6&63))&255],I=I>>>8^i[(I^(128|V&63))&255]);return~I}return e.table=i,e.bstr=A,e.buf=T,e.str=k,e}(),Pt=function(){var t={};t.version="1.2.1";function i(_,Z){for(var U=_.split("/"),Y=Z.split("/"),q=0,te=0,Ce=Math.min(U.length,Y.length);q<Ce;++q){if(te=U[q].length-Y[q].length)return te;if(U[q]!=Y[q])return U[q]<Y[q]?-1:1}return U.length-Y.length}function s(_){if(_.charAt(_.length-1)=="/")return _.slice(0,-1).indexOf("/")===-1?_:s(_.slice(0,-1));var Z=_.lastIndexOf("/");return Z===-1?_:_.slice(0,Z+1)}function n(_){if(_.charAt(_.length-1)=="/")return n(_.slice(0,-1));var Z=_.lastIndexOf("/");return Z===-1?_:_.slice(Z+1)}function r(_,Z){typeof Z=="string"&&(Z=new Date(Z));var U=Z.getHours();U=U<<6|Z.getMinutes(),U=U<<5|Z.getSeconds()>>>1,_.write_shift(2,U);var Y=Z.getFullYear()-1980;Y=Y<<4|Z.getMonth()+1,Y=Y<<5|Z.getDate(),_.write_shift(2,Y)}function o(_){var Z=_.read_shift(2)&65535,U=_.read_shift(2)&65535,Y=new Date,q=U&31;U>>>=5;var te=U&15;U>>>=4,Y.setMilliseconds(0),Y.setFullYear(U+1980),Y.setMonth(te-1),Y.setDate(q);var Ce=Z&31;Z>>>=5;var Ae=Z&63;return Z>>>=6,Y.setHours(Z),Y.setMinutes(Ae),Y.setSeconds(Ce<<1),Y}function a(_){Ns(_,0);for(var Z={},U=0;_.l<=_.length-4;){var Y=_.read_shift(2),q=_.read_shift(2),te=_.l+q,Ce={};switch(Y){case 21589:U=_.read_shift(1),U&1&&(Ce.mtime=_.read_shift(4)),q>5&&(U&2&&(Ce.atime=_.read_shift(4)),U&4&&(Ce.ctime=_.read_shift(4))),Ce.mtime&&(Ce.mt=new Date(Ce.mtime*1e3));break}_.l=te,Z[Y]=Ce}return Z}var l;function u(){return l||(l={})}function h(_,Z){if(_[0]==80&&_[1]==75)return a0(_,Z);if((_[0]|32)==109&&(_[1]|32)==105)return Of(_,Z);if(_.length<512)throw new Error("CFB file size "+_.length+" < 512");var U=3,Y=512,q=0,te=0,Ce=0,Ae=0,ye=0,ve=[],xe=_.slice(0,512);Ns(xe,0);var Ie=f(xe);switch(U=Ie[0],U){case 3:Y=512;break;case 4:Y=4096;break;case 0:if(Ie[1]==0)return a0(_,Z);default:throw new Error("Major Version: Expected 3 or 4 saw "+U)}Y!==512&&(xe=_.slice(0,Y),Ns(xe,28));var Ge=_.slice(0,Y);g(xe,U);var Ye=xe.read_shift(4,"i");if(U===3&&Ye!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ye);xe.l+=4,Ce=xe.read_shift(4,"i"),xe.l+=4,xe.chk("00100000","Mini Stream Cutoff Size: "),Ae=xe.read_shift(4,"i"),q=xe.read_shift(4,"i"),ye=xe.read_shift(4,"i"),te=xe.read_shift(4,"i");for(var Oe=-1,Be=0;Be<109&&(Oe=xe.read_shift(4,"i"),!(Oe<0));++Be)ve[Be]=Oe;var gt=m(_,Y);x(ye,te,gt,Y,ve);var ci=w(gt,Ce,ve,Y);ci[Ce].name="!Directory",q>0&&Ae!==Q&&(ci[Ae].name="!MiniFAT"),ci[ve[0]].name="!FAT",ci.fat_addrs=ve,ci.ssz=Y;var Ut={},wi=[],hn=[],Vc=[];M(Ce,ci,gt,wi,q,Ut,hn,Ae),y(hn,Vc,wi),wi.shift();var Tl={FileIndex:hn,FullPaths:Vc};return Z&&Z.raw&&(Tl.raw={header:Ge,sectors:gt}),Tl}function f(_){if(_[_.l]==80&&_[_.l+1]==75)return[0,0];_.chk(pe,"Header Signature: "),_.l+=16;var Z=_.read_shift(2,"u");return[_.read_shift(2,"u"),Z]}function g(_,Z){var U=9;switch(_.l+=2,U=_.read_shift(2)){case 9:if(Z!=3)throw new Error("Sector Shift: Expected 9 saw "+U);break;case 12:if(Z!=4)throw new Error("Sector Shift: Expected 12 saw "+U);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+U)}_.chk("0600","Mini Sector Shift: "),_.chk("000000000000","Reserved: ")}function m(_,Z){for(var U=Math.ceil(_.length/Z)-1,Y=[],q=1;q<U;++q)Y[q-1]=_.slice(q*Z,(q+1)*Z);return Y[U-1]=_.slice(U*Z),Y}function y(_,Z,U){for(var Y=0,q=0,te=0,Ce=0,Ae=0,ye=U.length,ve=[],xe=[];Y<ye;++Y)ve[Y]=xe[Y]=Y,Z[Y]=U[Y];for(;Ae<xe.length;++Ae)Y=xe[Ae],q=_[Y].L,te=_[Y].R,Ce=_[Y].C,ve[Y]===Y&&(q!==-1&&ve[q]!==q&&(ve[Y]=ve[q]),te!==-1&&ve[te]!==te&&(ve[Y]=ve[te])),Ce!==-1&&(ve[Ce]=Y),q!==-1&&Y!=ve[Y]&&(ve[q]=ve[Y],xe.lastIndexOf(q)<Ae&&xe.push(q)),te!==-1&&Y!=ve[Y]&&(ve[te]=ve[Y],xe.lastIndexOf(te)<Ae&&xe.push(te));for(Y=1;Y<ye;++Y)ve[Y]===Y&&(te!==-1&&ve[te]!==te?ve[Y]=ve[te]:q!==-1&&ve[q]!==q&&(ve[Y]=ve[q]));for(Y=1;Y<ye;++Y)if(_[Y].type!==0){if(Ae=Y,Ae!=ve[Ae])do Ae=ve[Ae],Z[Y]=Z[Ae]+"/"+Z[Y];while(Ae!==0&&ve[Ae]!==-1&&Ae!=ve[Ae]);ve[Y]=-1}for(Z[0]+="/",Y=1;Y<ye;++Y)_[Y].type!==2&&(Z[Y]+="/")}function C(_,Z,U){for(var Y=_.start,q=_.size,te=[],Ce=Y;U&&q>0&&Ce>=0;)te.push(Z.slice(Ce*V,Ce*V+V)),q-=V,Ce=Du(U,Ce*4);return te.length===0?ds(0):rc(te).slice(0,_.size)}function x(_,Z,U,Y,q){var te=Q;if(_===Q){if(Z!==0)throw new Error("DIFAT chain shorter than expected")}else if(_!==-1){var Ce=U[_],Ae=(Y>>>2)-1;if(!Ce)return;for(var ye=0;ye<Ae&&(te=Du(Ce,ye*4))!==Q;++ye)q.push(te);x(Du(Ce,Y-4),Z-1,U,Y,q)}}function b(_,Z,U,Y,q){var te=[],Ce=[];q||(q=[]);var Ae=Y-1,ye=0,ve=0;for(ye=Z;ye>=0;){q[ye]=!0,te[te.length]=ye,Ce.push(_[ye]);var xe=U[Math.floor(ye*4/Y)];if(ve=ye*4&Ae,Y<4+ve)throw new Error("FAT boundary crossed: "+ye+" 4 "+Y);if(!_[xe])break;ye=Du(_[xe],ve)}return{nodes:te,data:xP([Ce])}}function w(_,Z,U,Y){var q=_.length,te=[],Ce=[],Ae=[],ye=[],ve=Y-1,xe=0,Ie=0,Ge=0,Ye=0;for(xe=0;xe<q;++xe)if(Ae=[],Ge=xe+Z,Ge>=q&&(Ge-=q),!Ce[Ge]){ye=[];var Oe=[];for(Ie=Ge;Ie>=0;){Oe[Ie]=!0,Ce[Ie]=!0,Ae[Ae.length]=Ie,ye.push(_[Ie]);var Be=U[Math.floor(Ie*4/Y)];if(Ye=Ie*4&ve,Y<4+Ye)throw new Error("FAT boundary crossed: "+Ie+" 4 "+Y);if(!_[Be]||(Ie=Du(_[Be],Ye),Oe[Ie]))break}te[Ge]={nodes:Ae,data:xP([ye])}}return te}function M(_,Z,U,Y,q,te,Ce,Ae){for(var ye=0,ve=Y.length?2:0,xe=Z[_].data,Ie=0,Ge=0,Ye;Ie<xe.length;Ie+=128){var Oe=xe.slice(Ie,Ie+128);Ns(Oe,64),Ge=Oe.read_shift(2),Ye=fT(Oe,0,Ge-ve),Y.push(Ye);var Be={name:Ye,type:Oe.read_shift(1),color:Oe.read_shift(1),L:Oe.read_shift(4,"i"),R:Oe.read_shift(4,"i"),C:Oe.read_shift(4,"i"),clsid:Oe.read_shift(16),state:Oe.read_shift(4,"i"),start:0,size:0},gt=Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2);gt!==0&&(Be.ct=A(Oe,Oe.l-8));var ci=Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2);ci!==0&&(Be.mt=A(Oe,Oe.l-8)),Be.start=Oe.read_shift(4,"i"),Be.size=Oe.read_shift(4,"i"),Be.size<0&&Be.start<0&&(Be.size=Be.type=0,Be.start=Q,Be.name=""),Be.type===5?(ye=Be.start,q>0&&ye!==Q&&(Z[ye].name="!StreamData")):Be.size>=4096?(Be.storage="fat",Z[Be.start]===void 0&&(Z[Be.start]=b(U,Be.start,Z.fat_addrs,Z.ssz)),Z[Be.start].name=Be.name,Be.content=Z[Be.start].data.slice(0,Be.size)):(Be.storage="minifat",Be.size<0?Be.size=0:ye!==Q&&Be.start!==Q&&Z[ye]&&(Be.content=C(Be,Z[ye].data,(Z[Ae]||{}).data))),Be.content&&Ns(Be.content,0),te[Ye]=Be,Ce.push(Be)}}function A(_,Z){return new Date((ir(_,Z+4)/1e7*Math.pow(2,32)+ir(_,Z)/1e7-11644473600)*1e3)}function T(_,Z){return u(),h(l.readFileSync(_),Z)}function k(_,Z){var U=Z&&Z.type;switch(U||kt&&Buffer.isBuffer(_)&&(U="buffer"),U||"base64"){case"file":return T(_,Z);case"base64":return h(vo(cr(_)),Z);case"binary":return h(vo(_),Z)}return h(_,Z)}function R(_,Z){var U=Z||{},Y=U.root||"Root Entry";if(_.FullPaths||(_.FullPaths=[]),_.FileIndex||(_.FileIndex=[]),_.FullPaths.length!==_.FileIndex.length)throw new Error("inconsistent CFB structure");_.FullPaths.length===0&&(_.FullPaths[0]=Y+"/",_.FileIndex[0]={name:Y,type:5}),U.CLSID&&(_.FileIndex[0].clsid=U.CLSID),F(_)}function F(_){var Z="Sh33tJ5";if(!Pt.find(_,"/"+Z)){var U=ds(4);U[0]=55,U[1]=U[3]=50,U[2]=54,_.FileIndex.push({name:Z,type:2,content:U,size:4,L:69,R:69,C:69}),_.FullPaths.push(_.FullPaths[0]+Z),I(_)}}function I(_,Z){R(_);for(var U=!1,Y=!1,q=_.FullPaths.length-1;q>=0;--q){var te=_.FileIndex[q];switch(te.type){case 0:Y?U=!0:(_.FileIndex.pop(),_.FullPaths.pop());break;case 1:case 2:case 5:Y=!0,isNaN(te.R*te.L*te.C)&&(U=!0),te.R>-1&&te.L>-1&&te.R==te.L&&(U=!0);break;default:U=!0;break}}if(!(!U&&!Z)){var Ce=new Date(1987,1,19),Ae=0,ye=Object.create?Object.create(null):{},ve=[];for(q=0;q<_.FullPaths.length;++q)ye[_.FullPaths[q]]=!0,_.FileIndex[q].type!==0&&ve.push([_.FullPaths[q],_.FileIndex[q]]);for(q=0;q<ve.length;++q){var xe=s(ve[q][0]);Y=ye[xe],Y||(ve.push([xe,{name:n(xe).replace("/",""),type:1,clsid:se,ct:Ce,mt:Ce,content:null}]),ye[xe]=!0)}for(ve.sort(function(Ye,Oe){return i(Ye[0],Oe[0])}),_.FullPaths=[],_.FileIndex=[],q=0;q<ve.length;++q)_.FullPaths[q]=ve[q][0],_.FileIndex[q]=ve[q][1];for(q=0;q<ve.length;++q){var Ie=_.FileIndex[q],Ge=_.FullPaths[q];if(Ie.name=n(Ge).replace("/",""),Ie.L=Ie.R=Ie.C=-(Ie.color=1),Ie.size=Ie.content?Ie.content.length:0,Ie.start=0,Ie.clsid=Ie.clsid||se,q===0)Ie.C=ve.length>1?1:-1,Ie.size=0,Ie.type=5;else if(Ge.slice(-1)=="/"){for(Ae=q+1;Ae<ve.length&&s(_.FullPaths[Ae])!=Ge;++Ae);for(Ie.C=Ae>=ve.length?-1:Ae,Ae=q+1;Ae<ve.length&&s(_.FullPaths[Ae])!=s(Ge);++Ae);Ie.R=Ae>=ve.length?-1:Ae,Ie.type=1}else s(_.FullPaths[q+1]||"")==s(Ge)&&(Ie.R=q+1),Ie.type=2}}}function N(_,Z){var U=Z||{};if(U.fileType=="mad")return Hc(_,U);switch(I(_),U.fileType){case"zip":return Ah(_,U)}var Y=function(Ye){for(var Oe=0,Be=0,gt=0;gt<Ye.FileIndex.length;++gt){var ci=Ye.FileIndex[gt];if(ci.content){var Ut=ci.content.length;Ut>0&&(Ut<4096?Oe+=Ut+63>>6:Be+=Ut+511>>9)}}for(var wi=Ye.FullPaths.length+3>>2,hn=Oe+7>>3,Vc=Oe+127>>7,Tl=hn+Be+wi+Vc,_o=Tl+127>>7,Nf=_o<=109?0:Math.ceil((_o-109)/127);Tl+_o+Nf+127>>7>_o;)Nf=++_o<=109?0:Math.ceil((_o-109)/127);var On=[1,Nf,_o,Vc,wi,Be,Oe,0];return Ye.FileIndex[0].size=Oe<<6,On[7]=(Ye.FileIndex[0].start=On[0]+On[1]+On[2]+On[3]+On[4]+On[5])+(On[6]+7>>3),On}(_),q=ds(Y[7]<<9),te=0,Ce=0;{for(te=0;te<8;++te)q.write_shift(1,ae[te]);for(te=0;te<8;++te)q.write_shift(2,0);for(q.write_shift(2,62),q.write_shift(2,3),q.write_shift(2,65534),q.write_shift(2,9),q.write_shift(2,6),te=0;te<3;++te)q.write_shift(2,0);for(q.write_shift(4,0),q.write_shift(4,Y[2]),q.write_shift(4,Y[0]+Y[1]+Y[2]+Y[3]-1),q.write_shift(4,0),q.write_shift(4,4096),q.write_shift(4,Y[3]?Y[0]+Y[1]+Y[2]-1:Q),q.write_shift(4,Y[3]),q.write_shift(-4,Y[1]?Y[0]-1:Q),q.write_shift(4,Y[1]),te=0;te<109;++te)q.write_shift(-4,te<Y[2]?Y[1]+te:-1)}if(Y[1])for(Ce=0;Ce<Y[1];++Ce){for(;te<236+Ce*127;++te)q.write_shift(-4,te<Y[2]?Y[1]+te:-1);q.write_shift(-4,Ce===Y[1]-1?Q:Ce+1)}var Ae=function(Ye){for(Ce+=Ye;te<Ce-1;++te)q.write_shift(-4,te+1);Ye&&(++te,q.write_shift(-4,Q))};for(Ce=te=0,Ce+=Y[1];te<Ce;++te)q.write_shift(-4,le.DIFSECT);for(Ce+=Y[2];te<Ce;++te)q.write_shift(-4,le.FATSECT);Ae(Y[3]),Ae(Y[4]);for(var ye=0,ve=0,xe=_.FileIndex[0];ye<_.FileIndex.length;++ye)xe=_.FileIndex[ye],xe.content&&(ve=xe.content.length,!(ve<4096)&&(xe.start=Ce,Ae(ve+511>>9)));for(Ae(Y[6]+7>>3);q.l&511;)q.write_shift(-4,le.ENDOFCHAIN);for(Ce=te=0,ye=0;ye<_.FileIndex.length;++ye)xe=_.FileIndex[ye],xe.content&&(ve=xe.content.length,!(!ve||ve>=4096)&&(xe.start=Ce,Ae(ve+63>>6)));for(;q.l&511;)q.write_shift(-4,le.ENDOFCHAIN);for(te=0;te<Y[4]<<2;++te){var Ie=_.FullPaths[te];if(!Ie||Ie.length===0){for(ye=0;ye<17;++ye)q.write_shift(4,0);for(ye=0;ye<3;++ye)q.write_shift(4,-1);for(ye=0;ye<12;++ye)q.write_shift(4,0);continue}xe=_.FileIndex[te],te===0&&(xe.start=xe.size?xe.start-1:Q);var Ge=te===0&&U.root||xe.name;if(ve=2*(Ge.length+1),q.write_shift(64,Ge,"utf16le"),q.write_shift(2,ve),q.write_shift(1,xe.type),q.write_shift(1,xe.color),q.write_shift(-4,xe.L),q.write_shift(-4,xe.R),q.write_shift(-4,xe.C),xe.clsid)q.write_shift(16,xe.clsid,"hex");else for(ye=0;ye<4;++ye)q.write_shift(4,0);q.write_shift(4,xe.state||0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,xe.start),q.write_shift(4,xe.size),q.write_shift(4,0)}for(te=1;te<_.FileIndex.length;++te)if(xe=_.FileIndex[te],xe.size>=4096)if(q.l=xe.start+1<<9,kt&&Buffer.isBuffer(xe.content))xe.content.copy(q,q.l,0,xe.size),q.l+=xe.size+511&-512;else{for(ye=0;ye<xe.size;++ye)q.write_shift(1,xe.content[ye]);for(;ye&511;++ye)q.write_shift(1,0)}for(te=1;te<_.FileIndex.length;++te)if(xe=_.FileIndex[te],xe.size>0&&xe.size<4096)if(kt&&Buffer.isBuffer(xe.content))xe.content.copy(q,q.l,0,xe.size),q.l+=xe.size+63&-64;else{for(ye=0;ye<xe.size;++ye)q.write_shift(1,xe.content[ye]);for(;ye&63;++ye)q.write_shift(1,0)}if(kt)q.l=q.length;else for(;q.l<q.length;)q.write_shift(1,0);return q}function G(_,Z){var U=_.FullPaths.map(function(ye){return ye.toUpperCase()}),Y=U.map(function(ye){var ve=ye.split("/");return ve[ve.length-(ye.slice(-1)=="/"?2:1)]}),q=!1;Z.charCodeAt(0)===47?(q=!0,Z=U[0].slice(0,-1)+Z):q=Z.indexOf("/")!==-1;var te=Z.toUpperCase(),Ce=q===!0?U.indexOf(te):Y.indexOf(te);if(Ce!==-1)return _.FileIndex[Ce];var Ae=!te.match(Xg);for(te=te.replace(Rn,""),Ae&&(te=te.replace(Xg,"!")),Ce=0;Ce<U.length;++Ce)if((Ae?U[Ce].replace(Xg,"!"):U[Ce]).replace(Rn,"")==te||(Ae?Y[Ce].replace(Xg,"!"):Y[Ce]).replace(Rn,"")==te)return _.FileIndex[Ce];return null}var V=64,Q=-2,pe="d0cf11e0a1b11ae1",ae=[208,207,17,224,161,177,26,225],se="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Q,FREESECT:-1,HEADER_SIGNATURE:pe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:se,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(_,Z,U){u();var Y=N(_,U);l.writeFileSync(Z,Y)}function J(_){for(var Z=new Array(_.length),U=0;U<_.length;++U)Z[U]=String.fromCharCode(_[U]);return Z.join("")}function z(_,Z){var U=N(_,Z);switch(Z&&Z.type||"buffer"){case"file":return u(),l.writeFileSync(Z.filename,U),U;case"binary":return typeof U=="string"?U:J(U);case"base64":return iP(typeof U=="string"?U:J(U));case"buffer":if(kt)return Buffer.isBuffer(U)?U:Ch(U);case"array":return typeof U=="string"?vo(U):U}return U}var ee;function O(_){try{var Z=_.InflateRaw,U=new Z;if(U._processChunk(new Uint8Array([3,0]),U._finishFlushFlag),U.bytesRead)ee=_;else throw new Error("zlib does not expose bytesRead")}catch(Y){console.error("cannot use native zlib: "+(Y.message||Y))}}function j(_,Z){if(!ee)return r0(_,Z);var U=ee.InflateRaw,Y=new U,q=Y._processChunk(_.slice(_.l),Y._finishFlushFlag);return _.l+=Y.bytesRead,q}function H(_){return ee?ee.deflateRawSync(_):vt(_)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ce(_){var Z=(_<<1|_<<11)&139536|(_<<5|_<<15)&558144;return(Z>>16|Z>>8|Z)&255}for(var ue=typeof Uint8Array<"u",de=ue?new Uint8Array(256):[],Le=0;Le<256;++Le)de[Le]=ce(Le);function X(_,Z){var U=de[_&255];return Z<=8?U>>>8-Z:(U=U<<8|de[_>>8&255],Z<=16?U>>>16-Z:(U=U<<8|de[_>>16&255],U>>>24-Z))}function ze(_,Z){var U=Z&7,Y=Z>>>3;return(_[Y]|(U<=6?0:_[Y+1]<<8))>>>U&3}function _e(_,Z){var U=Z&7,Y=Z>>>3;return(_[Y]|(U<=5?0:_[Y+1]<<8))>>>U&7}function je(_,Z){var U=Z&7,Y=Z>>>3;return(_[Y]|(U<=4?0:_[Y+1]<<8))>>>U&15}function Ue(_,Z){var U=Z&7,Y=Z>>>3;return(_[Y]|(U<=3?0:_[Y+1]<<8))>>>U&31}function we(_,Z){var U=Z&7,Y=Z>>>3;return(_[Y]|(U<=1?0:_[Y+1]<<8))>>>U&127}function qe(_,Z,U){var Y=Z&7,q=Z>>>3,te=(1<<U)-1,Ce=_[q]>>>Y;return U<8-Y||(Ce|=_[q+1]<<8-Y,U<16-Y)||(Ce|=_[q+2]<<16-Y,U<24-Y)||(Ce|=_[q+3]<<24-Y),Ce&te}function ht(_,Z,U){var Y=Z&7,q=Z>>>3;return Y<=5?_[q]|=(U&7)<<Y:(_[q]|=U<<Y&255,_[q+1]=(U&7)>>8-Y),Z+3}function rt(_,Z,U){var Y=Z&7,q=Z>>>3;return U=(U&1)<<Y,_[q]|=U,Z+1}function st(_,Z,U){var Y=Z&7,q=Z>>>3;return U<<=Y,_[q]|=U&255,U>>>=8,_[q+1]=U,Z+8}function Xt(_,Z,U){var Y=Z&7,q=Z>>>3;return U<<=Y,_[q]|=U&255,U>>>=8,_[q+1]=U&255,_[q+2]=U>>>8,Z+16}function qt(_,Z){var U=_.length,Y=2*U>Z?2*U:Z+5,q=0;if(U>=Z)return _;if(kt){var te=sP(Y);if(_.copy)_.copy(te);else for(;q<_.length;++q)te[q]=_[q];return te}else if(ue){var Ce=new Uint8Array(Y);if(Ce.set)Ce.set(_);else for(;q<U;++q)Ce[q]=_[q];return Ce}return _.length=Y,_}function Lt(_){for(var Z=new Array(_),U=0;U<_;++U)Z[U]=0;return Z}function cs(_,Z,U){var Y=1,q=0,te=0,Ce=0,Ae=0,ye=_.length,ve=ue?new Uint16Array(32):Lt(32);for(te=0;te<32;++te)ve[te]=0;for(te=ye;te<U;++te)_[te]=0;ye=_.length;var xe=ue?new Uint16Array(ye):Lt(ye);for(te=0;te<ye;++te)ve[q=_[te]]++,Y<q&&(Y=q),xe[te]=0;for(ve[0]=0,te=1;te<=Y;++te)ve[te+16]=Ae=Ae+ve[te-1]<<1;for(te=0;te<ye;++te)Ae=_[te],Ae!=0&&(xe[te]=ve[Ae+16]++);var Ie=0;for(te=0;te<ye;++te)if(Ie=_[te],Ie!=0)for(Ae=X(xe[te],Y)>>Y-Ie,Ce=(1<<Y+4-Ie)-1;Ce>=0;--Ce)Z[Ae|Ce<<Ie]=Ie&15|te<<4;return Y}var Vs=ue?new Uint16Array(512):Lt(512),no=ue?new Uint16Array(32):Lt(32);if(!ue){for(var pt=0;pt<512;++pt)Vs[pt]=0;for(pt=0;pt<32;++pt)no[pt]=0}(function(){for(var _=[],Z=0;Z<32;Z++)_.push(5);cs(_,no,32);var U=[];for(Z=0;Z<=143;Z++)U.push(8);for(;Z<=255;Z++)U.push(9);for(;Z<=279;Z++)U.push(7);for(;Z<=287;Z++)U.push(8);cs(U,Vs,288)})();var li=function(){for(var Z=ue?new Uint8Array(32768):[],U=0,Y=0;U<ge.length-1;++U)for(;Y<ge[U+1];++Y)Z[Y]=U;for(;Y<32768;++Y)Z[Y]=29;var q=ue?new Uint8Array(259):[];for(U=0,Y=0;U<ne.length-1;++U)for(;Y<ne[U+1];++Y)q[Y]=U;function te(Ae,ye){for(var ve=0;ve<Ae.length;){var xe=Math.min(65535,Ae.length-ve),Ie=ve+xe==Ae.length;for(ye.write_shift(1,+Ie),ye.write_shift(2,xe),ye.write_shift(2,~xe&65535);xe-- >0;)ye[ye.l++]=Ae[ve++]}return ye.l}function Ce(Ae,ye){for(var ve=0,xe=0,Ie=ue?new Uint16Array(32768):[];xe<Ae.length;){var Ge=Math.min(65535,Ae.length-xe);if(Ge<10){for(ve=ht(ye,ve,+(xe+Ge==Ae.length)),ve&7&&(ve+=8-(ve&7)),ye.l=ve/8|0,ye.write_shift(2,Ge),ye.write_shift(2,~Ge&65535);Ge-- >0;)ye[ye.l++]=Ae[xe++];ve=ye.l*8;continue}ve=ht(ye,ve,+(xe+Ge==Ae.length)+2);for(var Ye=0;Ge-- >0;){var Oe=Ae[xe];Ye=(Ye<<5^Oe)&32767;var Be=-1,gt=0;if((Be=Ie[Ye])&&(Be|=xe&-32768,Be>xe&&(Be-=32768),Be<xe))for(;Ae[Be+gt]==Ae[xe+gt]&&gt<250;)++gt;if(gt>2){Oe=q[gt],Oe<=22?ve=st(ye,ve,de[Oe+1]>>1)-1:(st(ye,ve,3),ve+=5,st(ye,ve,de[Oe-23]>>5),ve+=3);var ci=Oe<8?0:Oe-4>>2;ci>0&&(Xt(ye,ve,gt-ne[Oe]),ve+=ci),Oe=Z[xe-Be],ve=st(ye,ve,de[Oe]>>3),ve-=3;var Ut=Oe<4?0:Oe-2>>1;Ut>0&&(Xt(ye,ve,xe-Be-ge[Oe]),ve+=Ut);for(var wi=0;wi<gt;++wi)Ie[Ye]=xe&32767,Ye=(Ye<<5^Ae[xe])&32767,++xe;Ge-=gt-1}else Oe<=143?Oe=Oe+48:ve=rt(ye,ve,1),ve=st(ye,ve,de[Oe]),Ie[Ye]=xe&32767,++xe}ve=st(ye,ve,0)-1}return ye.l=(ve+7)/8|0,ye.l}return function(ye,ve){return ye.length<8?te(ye,ve):Ce(ye,ve)}}();function vt(_){var Z=ds(50+Math.floor(_.length*1.1)),U=li(_,Z);return Z.slice(0,U)}var Si=ue?new Uint16Array(32768):Lt(32768),Pn=ue?new Uint16Array(32768):Lt(32768),pi=ue?new Uint16Array(128):Lt(128),Hi=1,n0=1;function No(_,Z){var U=Ue(_,Z)+257;Z+=5;var Y=Ue(_,Z)+1;Z+=5;var q=je(_,Z)+4;Z+=4;for(var te=0,Ce=ue?new Uint8Array(19):Lt(19),Ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ye=1,ve=ue?new Uint8Array(8):Lt(8),xe=ue?new Uint8Array(8):Lt(8),Ie=Ce.length,Ge=0;Ge<q;++Ge)Ce[K[Ge]]=te=_e(_,Z),ye<te&&(ye=te),ve[te]++,Z+=3;var Ye=0;for(ve[0]=0,Ge=1;Ge<=ye;++Ge)xe[Ge]=Ye=Ye+ve[Ge-1]<<1;for(Ge=0;Ge<Ie;++Ge)(Ye=Ce[Ge])!=0&&(Ae[Ge]=xe[Ye]++);var Oe=0;for(Ge=0;Ge<Ie;++Ge)if(Oe=Ce[Ge],Oe!=0){Ye=de[Ae[Ge]]>>8-Oe;for(var Be=(1<<7-Oe)-1;Be>=0;--Be)pi[Ye|Be<<Oe]=Oe&7|Ge<<3}var gt=[];for(ye=1;gt.length<U+Y;)switch(Ye=pi[we(_,Z)],Z+=Ye&7,Ye>>>=3){case 16:for(te=3+ze(_,Z),Z+=2,Ye=gt[gt.length-1];te-- >0;)gt.push(Ye);break;case 17:for(te=3+_e(_,Z),Z+=3;te-- >0;)gt.push(0);break;case 18:for(te=11+we(_,Z),Z+=7;te-- >0;)gt.push(0);break;default:gt.push(Ye),ye<Ye&&(ye=Ye);break}var ci=gt.slice(0,U),Ut=gt.slice(U);for(Ge=U;Ge<286;++Ge)ci[Ge]=0;for(Ge=Y;Ge<30;++Ge)Ut[Ge]=0;return Hi=cs(ci,Si,286),n0=cs(Ut,Pn,30),Z}function un(_,Z){if(_[0]==3&&!(_[1]&3))return[wc(Z),2];for(var U=0,Y=0,q=sP(Z||1<<18),te=0,Ce=q.length>>>0,Ae=0,ye=0;(Y&1)==0;){if(Y=_e(_,U),U+=3,Y>>>1)Y>>1==1?(Ae=9,ye=5):(U=No(_,U),Ae=Hi,ye=n0);else{U&7&&(U+=8-(U&7));var ve=_[U>>>3]|_[(U>>>3)+1]<<8;if(U+=32,ve>0)for(!Z&&Ce<te+ve&&(q=qt(q,te+ve),Ce=q.length);ve-- >0;)q[te++]=_[U>>>3],U+=8;continue}for(;;){!Z&&Ce<te+32767&&(q=qt(q,te+32767),Ce=q.length);var xe=qe(_,U,Ae),Ie=Y>>>1==1?Vs[xe]:Si[xe];if(U+=Ie&15,Ie>>>=4,(Ie>>>8&255)===0)q[te++]=Ie;else{if(Ie==256)break;Ie-=257;var Ge=Ie<8?0:Ie-4>>2;Ge>5&&(Ge=0);var Ye=te+ne[Ie];Ge>0&&(Ye+=qe(_,U,Ge),U+=Ge),xe=qe(_,U,ye),Ie=Y>>>1==1?no[xe]:Pn[xe],U+=Ie&15,Ie>>>=4;var Oe=Ie<4?0:Ie-2>>1,Be=ge[Ie];for(Oe>0&&(Be+=qe(_,U,Oe),U+=Oe),!Z&&Ce<Ye&&(q=qt(q,Ye+100),Ce=q.length);te<Ye;)q[te]=q[te-Be],++te}}}return Z?[q,U+7>>>3]:[q.slice(0,te),U+7>>>3]}function r0(_,Z){var U=_.slice(_.l||0),Y=un(U,Z);return _.l+=Y[1],Y[0]}function o0(_,Z){if(_)typeof console<"u"&&console.error(Z);else throw new Error(Z)}function a0(_,Z){var U=_;Ns(U,0);var Y=[],q=[],te={FileIndex:Y,FullPaths:q};R(te,{root:Z.root});for(var Ce=U.length-4;(U[Ce]!=80||U[Ce+1]!=75||U[Ce+2]!=5||U[Ce+3]!=6)&&Ce>=0;)--Ce;U.l=Ce+4,U.l+=4;var Ae=U.read_shift(2);U.l+=6;var ye=U.read_shift(4);for(U.l=ye,Ce=0;Ce<Ae;++Ce){U.l+=20;var ve=U.read_shift(4),xe=U.read_shift(4),Ie=U.read_shift(2),Ge=U.read_shift(2),Ye=U.read_shift(2);U.l+=8;var Oe=U.read_shift(4),Be=a(U.slice(U.l+Ie,U.l+Ie+Ge));U.l+=Ie+Ge+Ye;var gt=U.l;U.l=Oe+4,Dh(U,ve,xe,te,Be),U.l=gt}return te}function Dh(_,Z,U,Y,q){_.l+=2;var te=_.read_shift(2),Ce=_.read_shift(2),Ae=o(_);if(te&8257)throw new Error("Unsupported ZIP encryption");for(var ye=_.read_shift(4),ve=_.read_shift(4),xe=_.read_shift(4),Ie=_.read_shift(2),Ge=_.read_shift(2),Ye="",Oe=0;Oe<Ie;++Oe)Ye+=String.fromCharCode(_[_.l++]);if(Ge){var Be=a(_.slice(_.l,_.l+Ge));(Be[21589]||{}).mt&&(Ae=Be[21589].mt),((q||{})[21589]||{}).mt&&(Ae=q[21589].mt)}_.l+=Ge;var gt=_.slice(_.l,_.l+ve);switch(Ce){case 8:gt=j(_,xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ce)}var ci=!1;te&8&&(ye=_.read_shift(4),ye==134695760&&(ye=_.read_shift(4),ci=!0),ve=_.read_shift(4),xe=_.read_shift(4)),ve!=Z&&o0(ci,"Bad compressed size: "+Z+" != "+ve),xe!=U&&o0(ci,"Bad uncompressed size: "+U+" != "+xe),Th(Y,Ye,gt,{unsafe:!0,mt:Ae})}function Ah(_,Z){var U=Z||{},Y=[],q=[],te=ds(1),Ce=U.compression?8:0,Ae=0,ye=0,ve=0,xe=0,Ie=0,Ge=_.FullPaths[0],Ye=Ge,Oe=_.FileIndex[0],Be=[],gt=0;for(ye=1;ye<_.FullPaths.length;++ye)if(Ye=_.FullPaths[ye].slice(Ge.length),Oe=_.FileIndex[ye],!(!Oe.size||!Oe.content||Ye=="Sh33tJ5")){var ci=xe,Ut=ds(Ye.length);for(ve=0;ve<Ye.length;++ve)Ut.write_shift(1,Ye.charCodeAt(ve)&127);Ut=Ut.slice(0,Ut.l),Be[Ie]=phe.buf(Oe.content,0);var wi=Oe.content;Ce==8&&(wi=H(wi)),te=ds(30),te.write_shift(4,67324752),te.write_shift(2,20),te.write_shift(2,Ae),te.write_shift(2,Ce),Oe.mt?r(te,Oe.mt):te.write_shift(4,0),te.write_shift(-4,Be[Ie]),te.write_shift(4,wi.length),te.write_shift(4,Oe.content.length),te.write_shift(2,Ut.length),te.write_shift(2,0),xe+=te.length,Y.push(te),xe+=Ut.length,Y.push(Ut),xe+=wi.length,Y.push(wi),te=ds(46),te.write_shift(4,33639248),te.write_shift(2,0),te.write_shift(2,20),te.write_shift(2,Ae),te.write_shift(2,Ce),te.write_shift(4,0),te.write_shift(-4,Be[Ie]),te.write_shift(4,wi.length),te.write_shift(4,Oe.content.length),te.write_shift(2,Ut.length),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(4,0),te.write_shift(4,ci),gt+=te.l,q.push(te),gt+=Ut.length,q.push(Ut),++Ie}return te=ds(22),te.write_shift(4,101010256),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,Ie),te.write_shift(2,Ie),te.write_shift(4,gt),te.write_shift(4,xe),te.write_shift(2,0),rc([rc(Y),rc(q),te])}var pr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Eh(_,Z){if(_.ctype)return _.ctype;var U=_.name||"",Y=U.match(/\.([^\.]+)$/);return Y&&pr[Y[1]]||Z&&(Y=(U=Z).match(/[\.\\]([^\.\\])+$/),Y&&pr[Y[1]])?pr[Y[1]]:"application/octet-stream"}function zc(_){for(var Z=iP(_),U=[],Y=0;Y<Z.length;Y+=76)U.push(Z.slice(Y,Y+76));return U.join(`\r
`)+`\r
`}function sb(_){var Z=_.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ve){var xe=ve.charCodeAt(0).toString(16).toUpperCase();return"="+(xe.length==1?"0"+xe:xe)});Z=Z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Z.charAt(0)==`
`&&(Z="=0D"+Z.slice(1)),Z=Z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var U=[],Y=Z.split(`\r
`),q=0;q<Y.length;++q){var te=Y[q];if(te.length==0){U.push("");continue}for(var Ce=0;Ce<te.length;){var Ae=76,ye=te.slice(Ce,Ce+Ae);ye.charAt(Ae-1)=="="?Ae--:ye.charAt(Ae-2)=="="?Ae-=2:ye.charAt(Ae-3)=="="&&(Ae-=3),ye=te.slice(Ce,Ce+Ae),Ce+=Ae,Ce<te.length&&(ye+="="),U.push(ye)}}return U.join(`\r
`)}function l0(_){for(var Z=[],U=0;U<_.length;++U){for(var Y=_[U];U<=_.length&&Y.charAt(Y.length-1)=="=";)Y=Y.slice(0,Y.length-1)+_[++U];Z.push(Y)}for(var q=0;q<Z.length;++q)Z[q]=Z[q].replace(/[=][0-9A-Fa-f]{2}/g,function(te){return String.fromCharCode(parseInt(te.slice(1),16))});return vo(Z.join(`\r
`))}function c0(_,Z,U){for(var Y="",q="",te="",Ce,Ae=0;Ae<10;++Ae){var ye=Z[Ae];if(!ye||ye.match(/^\s*$/))break;var ve=ye.match(/^(.*?):\s*([^\s].*)$/);if(ve)switch(ve[1].toLowerCase()){case"content-location":Y=ve[2].trim();break;case"content-type":te=ve[2].trim();break;case"content-transfer-encoding":q=ve[2].trim();break}}switch(++Ae,q.toLowerCase()){case"base64":Ce=vo(cr(Z.slice(Ae).join("")));break;case"quoted-printable":Ce=l0(Z.slice(Ae));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+q)}var xe=Th(_,Y.slice(U.length),Ce,{unsafe:!0});te&&(xe.ctype=te)}function Of(_,Z){if(J(_.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var U=Z&&Z.root||"",Y=(kt&&Buffer.isBuffer(_)?_.toString("binary"):J(_)).split(`\r
`),q=0,te="";for(q=0;q<Y.length;++q)if(te=Y[q],!!/^Content-Location:/i.test(te)&&(te=te.slice(te.indexOf("file")),U||(U=te.slice(0,te.lastIndexOf("/")+1)),te.slice(0,U.length)!=U))for(;U.length>0&&(U=U.slice(0,U.length-1),U=U.slice(0,U.lastIndexOf("/")+1),te.slice(0,U.length)!=U););var Ce=(Y[1]||"").match(/boundary="(.*?)"/);if(!Ce)throw new Error("MAD cannot find boundary");var Ae="--"+(Ce[1]||""),ye=[],ve=[],xe={FileIndex:ye,FullPaths:ve};R(xe);var Ie,Ge=0;for(q=0;q<Y.length;++q){var Ye=Y[q];Ye!==Ae&&Ye!==Ae+"--"||(Ge++&&c0(xe,Y.slice(Ie,q),U),Ie=q)}return xe}function Hc(_,Z){var U=Z||{},Y=U.boundary||"SheetJS";Y="------="+Y;for(var q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Y.slice(2)+'"',"","",""],te=_.FullPaths[0],Ce=te,Ae=_.FileIndex[0],ye=1;ye<_.FullPaths.length;++ye)if(Ce=_.FullPaths[ye].slice(te.length),Ae=_.FileIndex[ye],!(!Ae.size||!Ae.content||Ce=="Sh33tJ5")){Ce=Ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(gt){return"_x"+gt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(gt){return"_u"+gt.charCodeAt(0).toString(16)+"_"});for(var ve=Ae.content,xe=kt&&Buffer.isBuffer(ve)?ve.toString("binary"):J(ve),Ie=0,Ge=Math.min(1024,xe.length),Ye=0,Oe=0;Oe<=Ge;++Oe)(Ye=xe.charCodeAt(Oe))>=32&&Ye<128&&++Ie;var Be=Ie>=Ge*4/5;q.push(Y),q.push("Content-Location: "+(U.root||"file:///C:/SheetJS/")+Ce),q.push("Content-Transfer-Encoding: "+(Be?"quoted-printable":"base64")),q.push("Content-Type: "+Eh(Ae,Ce)),q.push(""),q.push(Be?sb(xe):zc(xe))}return q.push(Y+`--\r
`),q.join(`\r
`)}function nb(_){var Z={};return R(Z,_),Z}function Th(_,Z,U,Y){var q=Y&&Y.unsafe;q||R(_);var te=!q&&Pt.find(_,Z);if(!te){var Ce=_.FullPaths[0];Z.slice(0,Ce.length)==Ce?Ce=Z:(Ce.slice(-1)!="/"&&(Ce+="/"),Ce=(Ce+Z).replace("//","/")),te={name:n(Z),type:2},_.FileIndex.push(te),_.FullPaths.push(Ce),q||Pt.utils.cfb_gc(_)}return te.content=U,te.size=U?U.length:0,Y&&(Y.CLSID&&(te.clsid=Y.CLSID),Y.mt&&(te.mt=Y.mt),Y.ct&&(te.ct=Y.ct)),te}function u0(_,Z){R(_);var U=Pt.find(_,Z);if(U){for(var Y=0;Y<_.FileIndex.length;++Y)if(_.FileIndex[Y]==U)return _.FileIndex.splice(Y,1),_.FullPaths.splice(Y,1),!0}return!1}function h0(_,Z,U){R(_);var Y=Pt.find(_,Z);if(Y){for(var q=0;q<_.FileIndex.length;++q)if(_.FileIndex[q]==Y)return _.FileIndex[q].name=n(U),_.FullPaths[q]=U,!0}return!1}function d0(_){I(_,!0)}return t.find=G,t.read=k,t.parse=h,t.write=z,t.writeFile=re,t.utils={cfb_new:nb,cfb_add:Th,cfb_del:u0,cfb_mov:h0,cfb_gc:d0,ReadShift:mp,CheckField:jz,prep_blob:Ns,bconcat:rc,use_zlib:O,_deflateRaw:vt,_inflateRaw:r0,consts:le},t}();function mhe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var i=t.read();return t.close(),i}catch(s){if(!s.message||!s.message.match(/onstruct/))throw s}throw new Error("Cannot access file "+e)}function la(e){for(var t=Object.keys(e),i=[],s=0;s<t.length;++s)Object.prototype.hasOwnProperty.call(e,t[s])&&i.push(t[s]);return i}function cT(e){for(var t=[],i=la(e),s=0;s!==i.length;++s)t[e[i[s]]]=i[s];return t}var kC=new Date(1899,11,30,0,0,0);function kn(e,t){var i=e.getTime(),s=kC.getTime()+(e.getTimezoneOffset()-kC.getTimezoneOffset())*6e4;return(i-s)/(24*60*60*1e3)}var Mz=new Date,yhe=kC.getTime()+(Mz.getTimezoneOffset()-kC.getTimezoneOffset())*6e4,hP=Mz.getTimezoneOffset();function Jx(e){var t=new Date;return t.setTime(e*24*60*60*1e3+yhe),t.getTimezoneOffset()!==hP&&t.setTime(t.getTime()+(t.getTimezoneOffset()-hP)*6e4),t}function vhe(e){var t=0,i=0,s=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var r=1;r!=n.length;++r)if(n[r]){switch(i=1,r>3&&(s=!0),n[r].slice(n[r].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[r].slice(n[r].length-1));case"D":i*=24;case"H":i*=60;case"M":if(s)i*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=i*parseInt(n[r],10)}return t}var dP=new Date("2017-02-19T19:06:09.000Z"),Dz=isNaN(dP.getFullYear())?new Date("2/19/17"):dP,Che=Dz.getFullYear()==2017;function As(e,t){var i=new Date(e);if(Che)return t>0?i.setTime(i.getTime()+i.getTimezoneOffset()*60*1e3):t<0&&i.setTime(i.getTime()-i.getTimezoneOffset()*60*1e3),i;if(e instanceof Date)return e;if(Dz.getFullYear()==1917&&!isNaN(i.getFullYear())){var s=i.getFullYear();return e.indexOf(""+s)>-1||i.setFullYear(i.getFullYear()+100),i}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],r=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(r=new Date(r.getTime()-r.getTimezoneOffset()*60*1e3)),r}function th(e,t){if(kt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return qg(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return qg(hz(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return qg(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return qg(new TextDecoder("utf-16be").decode(e.slice(2)))}var i={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(r){return i[r]||r})}catch{}for(var s=[],n=0;n!=e.length;++n)s.push(String.fromCharCode(e[n]));return s.join("")}function zs(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=zs(e[i]));return t}function Bi(e,t){for(var i="";i.length<t;)i+=e;return i}function Eo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var i=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return i*=100,""});return!isNaN(t=Number(s))||(s=s.replace(/[(](.*)[)]/,function(n,r){return i=-i,r}),!isNaN(t=Number(s)))?t/i:t}var xhe=["january","february","march","april","may","june","july","august","september","october","november","december"];function sf(e){var t=new Date(e),i=new Date(NaN),s=t.getYear(),n=t.getMonth(),r=t.getDate();if(isNaN(r))return i;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&xhe.indexOf(o)==-1)return i}else if(o.match(/[a-z]/))return i;return s<0||s>8099?i:(n>0||r>1)&&s!=101?t:e.match(/[^-0-9:,\/\\]/)?i:t}var bhe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(i,s,n){if(e||typeof s=="string")return i.split(s);for(var r=i.split(s),o=[r[0]],a=1;a<r.length;++a)o.push(n),o.push(r[a]);return o}}();function Az(e){return e?e.content&&e.type?th(e.content,!0):e.data?$g(e.data):e.asNodeBuffer&&kt?$g(e.asNodeBuffer().toString("binary")):e.asBinary?$g(e.asBinary()):e._data&&e._data.getContent?$g(th(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Ez(e){if(!e)return null;if(e.data)return eP(e.data);if(e.asNodeBuffer&&kt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?eP(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function She(e){return e&&e.name.slice(-4)===".bin"?Ez(e):Az(e)}function Or(e,t){for(var i=e.FullPaths||la(e.files),s=t.toLowerCase().replace(/[\/]/g,"\\"),n=s.replace(/\\/g,"/"),r=0;r<i.length;++r){var o=i[r].replace(/^Root Entry[\/]/,"").toLowerCase();if(s==o||n==o)return e.files?e.files[i[r]]:e.FileIndex[r]}return null}function uT(e,t){var i=Or(e,t);if(i==null)throw new Error("Cannot find file "+t+" in zip");return i}function is(e,t,i){if(!i)return She(uT(e,t));if(!t)return null;try{return is(e,t)}catch{return null}}function nr(e,t,i){if(!i)return Az(uT(e,t));if(!t)return null;try{return nr(e,t)}catch{return null}}function whe(e,t,i){return Ez(uT(e,t))}function fP(e){for(var t=e.FullPaths||la(e.files),i=[],s=0;s<t.length;++s)t[s].slice(-1)!="/"&&i.push(t[s].replace(/^Root Entry[\/]/,""));return i.sort()}function Mhe(e,t,i){if(e.FullPaths){if(typeof i=="string"){var s;return kt?s=Ch(i):s=Wue(i),Pt.utils.cfb_add(e,t,s)}Pt.utils.cfb_add(e,t,i)}else e.file(t,i)}function Tz(e,t){switch(t.type){case"base64":return Pt.read(e,{type:"base64"});case"binary":return Pt.read(e,{type:"binary"});case"buffer":case"array":return Pt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Zg(e,t){if(e.charAt(0)=="/")return e.slice(1);var i=t.split("/");t.slice(-1)!="/"&&i.pop();for(var s=e.split("/");s.length!==0;){var n=s.shift();n===".."?i.pop():n!=="."&&i.push(n)}return i.join("/")}var Rz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Dhe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,gP=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Ahe=/<[^>]*>/g,cn=Rz.match(gP)?gP:Ahe,Ehe=/<\w*:/,The=/<(\/?)\w+:/;function ct(e,t,i){for(var s={},n=0,r=0;n!==e.length&&!((r=e.charCodeAt(n))===32||r===10||r===13);++n);if(t||(s[0]=e.slice(0,n)),n===e.length)return s;var o=e.match(Dhe),a=0,l="",u=0,h="",f="",g=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],r=0;r!=f.length&&f.charCodeAt(r)!==61;++r);for(h=f.slice(0,r).trim();f.charCodeAt(r+1)==32;)++r;for(g=(n=f.charCodeAt(r+1))==34||n==39?1:0,l=f.slice(r+1+g,f.length-g),a=0;a!=h.length&&h.charCodeAt(a)!==58;++a);if(a===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),s[h]=l,s[h.toLowerCase()]=l;else{var m=(a===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(a+1);if(s[m]&&h.slice(a-3,a)=="ext")continue;s[m]=l,s[m.toLowerCase()]=l}}return s}function ma(e){return e.replace(The,"<$1")}var kz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Rhe=cT(kz),_t=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function i(s){var n=s+"",r=n.indexOf("<![CDATA[");if(r==-1)return n.replace(e,function(a,l){return kz[a]||String.fromCharCode(parseInt(l,a.indexOf("x")>-1?16:10))||a}).replace(t,function(a,l){return String.fromCharCode(parseInt(l,16))});var o=n.indexOf("]]>");return i(n.slice(0,r))+n.slice(r+9,o)+i(n.slice(o+3))}}(),khe=/[&<>'"]/g,Ihe=/[\u0000-\u001f]/g;function hT(e){var t=e+"";return t.replace(khe,function(i){return Rhe[i]}).replace(/\n/g,"<br/>").replace(Ihe,function(i){return"&#x"+("000"+i.charCodeAt(0).toString(16)).slice(-4)+";"})}var pP=function(){var e=/&#(\d+);/g;function t(i,s){return String.fromCharCode(parseInt(s,10))}return function(s){return s.replace(e,t)}}();function xi(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function k1(e){for(var t="",i=0,s=0,n=0,r=0,o=0,a=0;i<e.length;){if(s=e.charCodeAt(i++),s<128){t+=String.fromCharCode(s);continue}if(n=e.charCodeAt(i++),s>191&&s<224){o=(s&31)<<6,o|=n&63,t+=String.fromCharCode(o);continue}if(r=e.charCodeAt(i++),s<240){t+=String.fromCharCode((s&15)<<12|(n&63)<<6|r&63);continue}o=e.charCodeAt(i++),a=((s&7)<<18|(n&63)<<12|(r&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(a&1023))}return t}function mP(e){var t=wc(2*e.length),i,s,n=1,r=0,o=0,a;for(s=0;s<e.length;s+=n)n=1,(a=e.charCodeAt(s))<128?i=a:a<224?(i=(a&31)*64+(e.charCodeAt(s+1)&63),n=2):a<240?(i=(a&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),n=3):(n=4,i=(a&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),i-=65536,o=55296+(i>>>10&1023),i=56320+(i&1023)),o!==0&&(t[r++]=o&255,t[r++]=o>>>8,o=0),t[r++]=i%256,t[r++]=i>>>8;return t.slice(0,r).toString("ucs2")}function yP(e){return Ch(e,"binary").toString("utf8")}var Zy="foo bar baz",di=kt&&(yP(Zy)==k1(Zy)&&yP||mP(Zy)==k1(Zy)&&mP)||k1,qg=kt?function(e){return Ch(e,"utf8").toString("binary")}:function(e){for(var t=[],i=0,s=0,n=0;i<e.length;)switch(s=e.charCodeAt(i++),!0){case s<128:t.push(String.fromCharCode(s));break;case s<2048:t.push(String.fromCharCode(192+(s>>6))),t.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,n=e.charCodeAt(i++)-56320+(s<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(s>>12))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)))}return t.join("")},om=function(){var e={};return function(i,s){var n=i+"|"+(s||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+i+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+i+">",s||"")}}(),Iz=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(i){for(var s=i.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)s=s.replace(e[n][0],e[n][1]);return s}}(),Lhe=function(){var e={};return function(i){return e[i]!==void 0?e[i]:e[i]=new RegExp("<(?:vt:)?"+i+">([\\s\\S]*?)</(?:vt:)?"+i+">","g")}}(),Fhe=/<\/?(?:vt:)?variant>/g,Phe=/<(?:vt:)([^>]*)>([\s\S]*)</;function vP(e,t){var i=ct(e),s=e.match(Lhe(i.baseType))||[],n=[];if(s.length!=i.size){if(t.WTF)throw new Error("unexpected vector length "+s.length+" != "+i.size);return n}return s.forEach(function(r){var o=r.replace(Fhe,"").match(Phe);o&&n.push({v:di(o[2]),t:o[1]})}),n}var Ohe=/(^\s|\s$|\n)/;function Nhe(e){return la(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function _he(e,t,i){return"<"+e+(i!=null?Nhe(i):"")+(t!=null?(t.match(Ohe)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function dT(e){if(kt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return di(xh(oT(e)));throw new Error("Bad input format: expected Buffer or string")}var am=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Bhe={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},Ghe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function zhe(e,t){for(var i=1-2*(e[t+7]>>>7),s=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,r=5;r>=0;--r)n=n*256+e[t+r];return s==2047?n==0?i*(1/0):NaN:(s==0?s=-1022:(s-=1023,n+=Math.pow(2,52)),i*Math.pow(2,s-52)*n)}function Hhe(e,t,i){var s=(t<0||1/t==-1/0?1:0)<<7,n=0,r=0,o=s?-t:t;isFinite(o)?o==0?n=r=0:(n=Math.floor(Math.log(o)/Math.LN2),r=o*Math.pow(2,52-n),n<=-1023&&(!isFinite(r)||r<Math.pow(2,52))?n=-1022:(r-=Math.pow(2,52),n+=1023)):(n=2047,r=isNaN(t)?26985:0);for(var a=0;a<=5;++a,r/=256)e[i+a]=r&255;e[i+6]=(n&15)<<4|r&15,e[i+7]=n>>4|s}var CP=function(e){for(var t=[],i=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var n=0,r=e[0][s].length;n<r;n+=i)t.push.apply(t,e[0][s].slice(n,n+i));return t},xP=kt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ch(t)})):CP(e)}:CP,bP=function(e,t,i){for(var s=[],n=t;n<i;n+=2)s.push(String.fromCharCode(Ua(e,n)));return s.join("").replace(Rn,"")},fT=kt?function(e,t,i){return Buffer.isBuffer(e)?e.toString("utf16le",t,i).replace(Rn,""):bP(e,t,i)}:bP,SP=function(e,t,i){for(var s=[],n=t;n<t+i;++n)s.push(("0"+e[n].toString(16)).slice(-2));return s.join("")},Lz=kt?function(e,t,i){return Buffer.isBuffer(e)?e.toString("hex",t,t+i):SP(e,t,i)}:SP,wP=function(e,t,i){for(var s=[],n=t;n<i;n++)s.push(String.fromCharCode(md(e,n)));return s.join("")},Qm=kt?function(t,i,s){return Buffer.isBuffer(t)?t.toString("utf8",i,s):wP(t,i,s)}:wP,Fz=function(e,t){var i=ir(e,t);return i>0?Qm(e,t+4,t+4+i-1):""},Pz=Fz,Oz=function(e,t){var i=ir(e,t);return i>0?Qm(e,t+4,t+4+i-1):""},Nz=Oz,_z=function(e,t){var i=2*ir(e,t);return i>0?Qm(e,t+4,t+4+i-1):""},Bz=_z,Gz=function(t,i){var s=ir(t,i);return s>0?fT(t,i+4,i+4+s):""},zz=Gz,Hz=function(e,t){var i=ir(e,t);return i>0?Qm(e,t+4,t+4+i):""},Vz=Hz,Wz=function(e,t){return zhe(e,t)},IC=Wz,Uz=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};kt&&(Pz=function(t,i){if(!Buffer.isBuffer(t))return Fz(t,i);var s=t.readUInt32LE(i);return s>0?t.toString("utf8",i+4,i+4+s-1):""},Nz=function(t,i){if(!Buffer.isBuffer(t))return Oz(t,i);var s=t.readUInt32LE(i);return s>0?t.toString("utf8",i+4,i+4+s-1):""},Bz=function(t,i){if(!Buffer.isBuffer(t))return _z(t,i);var s=2*t.readUInt32LE(i);return t.toString("utf16le",i+4,i+4+s-1)},zz=function(t,i){if(!Buffer.isBuffer(t))return Gz(t,i);var s=t.readUInt32LE(i);return t.toString("utf16le",i+4,i+4+s)},Vz=function(t,i){if(!Buffer.isBuffer(t))return Hz(t,i);var s=t.readUInt32LE(i);return t.toString("utf8",i+4,i+4+s)},IC=function(t,i){return Buffer.isBuffer(t)?t.readDoubleLE(i):Wz(t,i)},Uz=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var md=function(e,t){return e[t]},Ua=function(e,t){return e[t+1]*256+e[t]},Vhe=function(e,t){var i=e[t+1]*256+e[t];return i<32768?i:(65535-i+1)*-1},ir=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Du=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Whe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function mp(e,t){var i="",s,n,r=[],o,a,l,u;switch(t){case"dbcs":if(u=this.l,kt&&Buffer.isBuffer(this))i=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)i+=String.fromCharCode(Ua(this,u)),u+=2;e*=2;break;case"utf8":i=Qm(this,this.l,this.l+e);break;case"utf16le":e*=2,i=fT(this,this.l,this.l+e);break;case"wstr":return mp.call(this,e,"dbcs");case"lpstr-ansi":i=Pz(this,this.l),e=4+ir(this,this.l);break;case"lpstr-cp":i=Nz(this,this.l),e=4+ir(this,this.l);break;case"lpwstr":i=Bz(this,this.l),e=4+2*ir(this,this.l);break;case"lpp4":e=4+ir(this,this.l),i=zz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ir(this,this.l),i=Vz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,i="";(o=md(this,this.l+e++))!==0;)r.push(Xy(o));i=r.join("");break;case"_wstr":for(e=0,i="";(o=Ua(this,this.l+e))!==0;)r.push(Xy(o)),e+=2;e+=2,i=r.join("");break;case"dbcs-cont":for(i="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=md(this,u),this.l=u+1,a=mp.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),r.join("")+a;r.push(Xy(Ua(this,u))),u+=2}i=r.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(i="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=md(this,u),this.l=u+1,a=mp.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),r.join("")+a;r.push(Xy(md(this,u))),u+=1}i=r.join("");break;default:switch(e){case 1:return s=md(this,this.l),this.l++,s;case 2:return s=(t==="i"?Vhe:Ua)(this,this.l),this.l+=2,s;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(s=(e>0?Du:Whe)(this,this.l),this.l+=4,s):(n=ir(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=IC(this,this.l):n=IC([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:i=Lz(this,this.l,e);break}}return this.l+=e,i}var Uhe=function(e,t,i){e[i]=t&255,e[i+1]=t>>>8&255,e[i+2]=t>>>16&255,e[i+3]=t>>>24&255},jhe=function(e,t,i){e[i]=t&255,e[i+1]=t>>8&255,e[i+2]=t>>16&255,e[i+3]=t>>24&255},Yhe=function(e,t,i){e[i]=t&255,e[i+1]=t>>>8&255};function Khe(e,t,i){var s=0,n=0;if(i==="dbcs"){for(n=0;n!=t.length;++n)Yhe(this,t.charCodeAt(n),this.l+2*n);s=2*t.length}else if(i==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;s=t.length}else if(i==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(i==="utf16le"){var r=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var o=t.charCodeAt(n);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<r;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=t&255;break;case 2:s=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:s=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:s=4,Uhe(this,t,this.l);break;case 8:if(s=8,i==="f"){Hhe(this,t,this.l);break}case 16:break;case-4:s=4,jhe(this,t,this.l);break}return this.l+=s,this}function jz(e,t){var i=Lz(this,this.l,e.length>>1);if(i!==e)throw new Error(t+"Expected "+e+" saw "+i);this.l+=e.length>>1}function Ns(e,t){e.l=t,e.read_shift=mp,e.chk=jz,e.write_shift=Khe}function sn(e,t){e.l+=t}function ds(e){var t=wc(e);return Ns(t,0),t}function El(e,t,i){if(e){var s,n,r;Ns(e,e.l||0);for(var o=e.length,a=0,l=0;e.l<o;){a=e.read_shift(1),a&128&&(a=(a&127)+((e.read_shift(1)&127)<<7));var u=_C[a]||_C[65535];for(s=e.read_shift(1),r=s&127,n=1;n<4&&s&128;++n)r+=((s=e.read_shift(1))&127)<<7*n;l=e.l+r;var h=u.f&&u.f(e,r,i);if(e.l=l,t(h,u,a))return}}}function sD(){var e=[],t=kt?256:2048,i=function(u){var h=ds(u);return Ns(h,0),h},s=i(t),n=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},r=function(u){return s&&u<s.length-s.l?s:(n(),s=i(Math.max(u+1,t)))},o=function(){return n(),rc(e)},a=function(u){n(),s=u,s.l==null&&(s.l=s.length),r(t)};return{next:r,push:a,end:o,_bufs:e}}function yp(e,t,i){var s=zs(e);if(t.s?(s.cRel&&(s.c+=t.s.c),s.rRel&&(s.r+=t.s.r)):(s.cRel&&(s.c+=t.c),s.rRel&&(s.r+=t.r)),!i||i.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function MP(e,t,i){var s=zs(e);return s.s=yp(s.s,t.s,i),s.e=yp(s.e,t.s,i),s}function vp(e,t){if(e.cRel&&e.c<0)for(e=zs(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=zs(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var i=yt(e);return!e.cRel&&e.cRel!=null&&(i=Zhe(i)),!e.rRel&&e.rRel!=null&&(i=$he(i)),i}function I1(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ps(e.s.c)+":"+(e.e.cRel?"":"$")+ps(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Hs(e.s.r)+":"+(e.e.rRel?"":"$")+Hs(e.e.r):vp(e.s,t.biff)+":"+vp(e.e,t.biff)}function gT(e){return parseInt(Xhe(e),10)-1}function Hs(e){return""+(e+1)}function $he(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Xhe(e){return e.replace(/\$(\d+)$/,"$1")}function pT(e){for(var t=qhe(e),i=0,s=0;s!==t.length;++s)i=26*i+t.charCodeAt(s)-64;return i-1}function ps(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Zhe(e){return e.replace(/^([A-Z])/,"$$$1")}function qhe(e){return e.replace(/^\$([A-Z])/,"$1")}function Qhe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Tn(e){for(var t=0,i=0,s=0;s<e.length;++s){var n=e.charCodeAt(s);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(i=26*i+(n-64))}return{c:i-1,r:t-1}}function yt(e){for(var t=e.c+1,i="";t;t=(t-1)/26|0)i=String.fromCharCode((t-1)%26+65)+i;return i+(e.r+1)}function Ff(e){var t=e.indexOf(":");return t==-1?{s:Tn(e),e:Tn(e)}:{s:Tn(e.slice(0,t)),e:Tn(e.slice(t+1))}}function Ot(e,t){return typeof t>"u"||typeof t=="number"?Ot(e.s,e.e):(typeof e!="string"&&(e=yt(e)),typeof t!="string"&&(t=yt(t)),e==t?e:e+":"+t)}function zi(e){var t={s:{c:0,r:0},e:{c:0,r:0}},i=0,s=0,n=0,r=e.length;for(i=0;s<r&&!((n=e.charCodeAt(s)-64)<1||n>26);++s)i=26*i+n;for(t.s.c=--i,i=0;s<r&&!((n=e.charCodeAt(s)-48)<0||n>9);++s)i=10*i+n;if(t.s.r=--i,s===r||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++s,i=0;s!=r&&!((n=e.charCodeAt(s)-64)<1||n>26);++s)i=26*i+n;for(t.e.c=--i,i=0;s!=r&&!((n=e.charCodeAt(s)-48)<0||n>9);++s)i=10*i+n;return t.e.r=--i,t}function DP(e,t){var i=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Zr(e.z,i?kn(t):t)}catch{}try{return e.w=Zr((e.XF||{}).numFmtId||(i?14:0),i?kn(t):t)}catch{return""+t}}function cl(e,t,i){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&i&&i.dateNF&&(e.z=i.dateNF),e.t=="e"?wh[e.v]||e.v:t==null?DP(e,e.v):DP(e,t))}function Gc(e,t){var i=t&&t.sheet?t.sheet:"Sheet1",s={};return s[i]=e,{SheetNames:[i],Sheets:s}}function Yz(e,t,i){var s=i||{},n=e?Array.isArray(e):s.dense,r=e||(n?[]:{}),o=0,a=0;if(r&&s.origin!=null){if(typeof s.origin=="number")o=s.origin;else{var l=typeof s.origin=="string"?Tn(s.origin):s.origin;o=l.r,a=l.c}r["!ref"]||(r["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(r["!ref"]){var h=zi(r["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(u.e.r=o=h.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[f].length;++g)if(!(typeof t[f][g]>"u")){var m={v:t[f][g]},y=o+f,C=a+g;if(u.s.r>y&&(u.s.r=y),u.s.c>C&&(u.s.c=C),u.e.r<y&&(u.e.r=y),u.e.c<C&&(u.e.c=C),t[f][g]&&typeof t[f][g]=="object"&&!Array.isArray(t[f][g])&&!(t[f][g]instanceof Date))m=t[f][g];else if(Array.isArray(m.v)&&(m.f=t[f][g][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(s.nullError)m.t="e",m.v=0;else if(s.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=s.dateNF||Ct[14],s.cellDates?(m.t="d",m.w=Zr(m.z,kn(m.v))):(m.t="n",m.v=kn(m.v),m.w=Zr(m.z,m.v))):m.t="s";if(n)r[y]||(r[y]=[]),r[y][C]&&r[y][C].z&&(m.z=r[y][C].z),r[y][C]=m;else{var x=yt({c:C,r:y});r[x]&&r[x].z&&(m.z=r[x].z),r[x]=m}}}return u.s.c<1e7&&(r["!ref"]=Ot(u)),r}function Pf(e,t){return Yz(null,e,t)}function Jhe(e){return e.read_shift(4,"i")}function en(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ede(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function mT(e,t){var i=e.l,s=e.read_shift(1),n=en(e),r=[],o={t:n,h:n};if((s&1)!==0){for(var a=e.read_shift(4),l=0;l!=a;++l)r.push(ede(e));o.r=r}else o.r=[{ich:0,ifnt:0}];return e.l=i+t,o}var tde=mT;function so(e){var t=e.read_shift(4),i=e.read_shift(2);return i+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:i}}function bh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var ide=en;function yT(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var sde=en,nD=yT;function vT(e){var t=e.slice(e.l,e.l+4),i=t[0]&1,s=t[0]&2;e.l+=4;var n=s===0?IC([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Du(t,0)>>2;return i?n/100:n}function Kz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Sh=Kz;function Qs(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function nde(e){var t={},i=e.read_shift(1),s=i>>>1,n=e.read_shift(1),r=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),l=e.read_shift(1);switch(e.l++,s){case 0:t.auto=1;break;case 1:t.index=n;var u=Uu[n];u&&(t.rgb=cm(u));break;case 2:t.rgb=cm([o,a,l]);break;case 3:t.theme=n;break}return r!=0&&(t.tint=r>0?r/32767:r/32768),t}function rde(e){var t=e.read_shift(1);e.l++;var i={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return i}function $z(e,t){var i={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},s=e.read_shift(4);switch(s){case 0:return"";case 4294967295:case 4294967294:return i[e.read_shift(4)]||""}if(s>400)throw new Error("Unsupported Clipboard: "+s.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function ode(e){return $z(e,1)}function ade(e){return $z(e,2)}var CT=2,Hn=3,qy=11,AP=12,LC=19,Qy=64,lde=65,cde=71,ude=4108,hde=4126,ws=80,Xz=81,dde=[ws,Xz],fde={1:{n:"CodePage",t:CT},2:{n:"Category",t:ws},3:{n:"PresentationFormat",t:ws},4:{n:"ByteCount",t:Hn},5:{n:"LineCount",t:Hn},6:{n:"ParagraphCount",t:Hn},7:{n:"SlideCount",t:Hn},8:{n:"NoteCount",t:Hn},9:{n:"HiddenCount",t:Hn},10:{n:"MultimediaClipCount",t:Hn},11:{n:"ScaleCrop",t:qy},12:{n:"HeadingPairs",t:ude},13:{n:"TitlesOfParts",t:hde},14:{n:"Manager",t:ws},15:{n:"Company",t:ws},16:{n:"LinksUpToDate",t:qy},17:{n:"CharacterCount",t:Hn},19:{n:"SharedDoc",t:qy},22:{n:"HyperlinksChanged",t:qy},23:{n:"AppVersion",t:Hn,p:"version"},24:{n:"DigSig",t:lde},26:{n:"ContentType",t:ws},27:{n:"ContentStatus",t:ws},28:{n:"Language",t:ws},29:{n:"Version",t:ws},255:{},2147483648:{n:"Locale",t:LC},2147483651:{n:"Behavior",t:LC},1919054434:{}},gde={1:{n:"CodePage",t:CT},2:{n:"Title",t:ws},3:{n:"Subject",t:ws},4:{n:"Author",t:ws},5:{n:"Keywords",t:ws},6:{n:"Comments",t:ws},7:{n:"Template",t:ws},8:{n:"LastAuthor",t:ws},9:{n:"RevNumber",t:ws},10:{n:"EditTime",t:Qy},11:{n:"LastPrinted",t:Qy},12:{n:"CreatedDate",t:Qy},13:{n:"ModifiedDate",t:Qy},14:{n:"PageCount",t:Hn},15:{n:"WordCount",t:Hn},16:{n:"CharCount",t:Hn},17:{n:"Thumbnail",t:cde},18:{n:"Application",t:ws},19:{n:"DocSecurity",t:Hn},255:{},2147483648:{n:"Locale",t:LC},2147483651:{n:"Behavior",t:LC},1919054434:{}},EP={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},pde=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function mde(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var yde=mde([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uu=zs(yde),wh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Zz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},TP={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function vde(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Cde(e){var t=vde();if(!e||!e.match)return t;var i={};if((e.match(cn)||[]).forEach(function(s){var n=ct(s);switch(n[0].replace(Ehe,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":i[n.Extension]=n.ContentType;break;case"<Override":t[TP[n.ContentType]]!==void 0&&t[TP[n.ContentType]].push(n.PartName);break}}),t.xmlns!==Bhe.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=i,delete t.calcchains,t}var Md={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function rD(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Cp(e,t){var i={"!id":{}};if(!e)return i;t.charAt(0)!=="/"&&(t="/"+t);var s={};return(e.match(cn)||[]).forEach(function(n){var r=ct(n);if(r[0]==="<Relationship"){var o={};o.Type=r.Type,o.Target=r.Target,o.Id=r.Id,r.TargetMode&&(o.TargetMode=r.TargetMode);var a=r.TargetMode==="External"?r.Target:Zg(r.Target,t);i[a]=o,s[r.Id]=o}}),i["!id"]=s,i}var xde="application/vnd.oasis.opendocument.spreadsheet";function bde(e,t){for(var i=dT(e),s,n;s=am.exec(i);)switch(s[3]){case"manifest":break;case"file-entry":if(n=ct(s[0],!1),n.path=="/"&&n.type!==xde)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw s}}var xp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Sde=function(){for(var e=new Array(xp.length),t=0;t<xp.length;++t){var i=xp[t],s="(?:"+i[0].slice(0,i[0].indexOf(":"))+":)"+i[0].slice(i[0].indexOf(":")+1);e[t]=new RegExp("<"+s+"[^>]*>([\\s\\S]*?)</"+s+">")}return e}();function qz(e){var t={};e=di(e);for(var i=0;i<xp.length;++i){var s=xp[i],n=e.match(Sde[i]);n!=null&&n.length>0&&(t[s[1]]=_t(n[1])),s[2]==="date"&&t[s[1]]&&(t[s[1]]=As(t[s[1]]))}return t}var wde=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Qz(e,t,i,s){var n=[];if(typeof e=="string")n=vP(e,s);else for(var r=0;r<e.length;++r)n=n.concat(e[r].map(function(h){return{v:h}}));var o=typeof t=="string"?vP(t,s).map(function(h){return h.v}):t,a=0,l=0;if(o.length>0)for(var u=0;u!==n.length;u+=2){switch(l=+n[u+1].v,n[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":i.Worksheets=l,i.SheetNames=o.slice(a,a+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":i.NamedRanges=l,i.DefinedNames=o.slice(a,a+l);break;case"Charts":case"Diagramme":i.Chartsheets=l,i.ChartNames=o.slice(a,a+l);break}a+=l}}function Mde(e,t,i){var s={};return t||(t={}),e=di(e),wde.forEach(function(n){var r=(e.match(om(n[0]))||[])[1];switch(n[2]){case"string":r&&(t[n[1]]=_t(r));break;case"bool":t[n[1]]=r==="true";break;case"raw":var o=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));o&&o.length>0&&(s[n[1]]=o[1]);break}}),s.HeadingPairs&&s.TitlesOfParts&&Qz(s.HeadingPairs,s.TitlesOfParts,t,i),t}var Dde=/<[^>]+>[^<]*/g;function Ade(e,t){var i={},s="",n=e.match(Dde);if(n)for(var r=0;r!=n.length;++r){var o=n[r],a=ct(o);switch(a[0]){case"<?xml":break;case"<Properties":break;case"<property":s=_t(a.name);break;case"</property>":s=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),u=l[0].slice(4),h=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":i[s]=_t(h);break;case"bool":i[s]=xi(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":i[s]=parseInt(h,10);break;case"r4":case"r8":case"decimal":i[s]=parseFloat(h);break;case"filetime":case"date":i[s]=As(h);break;case"cy":case"error":i[s]=_t(h);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return i}var Ede={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},L1;function Tde(e,t,i){L1||(L1=cT(Ede)),t=L1[t]||t,e[t]=i}function xT(e){var t=e.read_shift(4),i=e.read_shift(4);return new Date((i/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Jz(e,t,i){var s=e.l,n=e.read_shift(0,"lpstr-cp");if(i)for(;e.l-s&3;)++e.l;return n}function eH(e,t,i){var s=e.read_shift(0,"lpwstr");return s}function tH(e,t,i){return t===31?eH(e):Jz(e,t,i)}function oD(e,t,i){return tH(e,t,i===!1?0:4)}function Rde(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return tH(e,t,0)}function kde(e){for(var t=e.read_shift(4),i=[],s=0;s!=t;++s){var n=e.l;i[s]=e.read_shift(0,"lpwstr").replace(Rn,""),e.l-n&2&&(e.l+=2)}return i}function Ide(e){for(var t=e.read_shift(4),i=[],s=0;s!=t;++s)i[s]=e.read_shift(0,"lpstr-cp").replace(Rn,"");return i}function Lde(e){var t=e.l,i=FC(e,Xz);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var s=FC(e,Hn);return[i,s]}function Fde(e){for(var t=e.read_shift(4),i=[],s=0;s<t/2;++s)i.push(Lde(e));return i}function RP(e,t){for(var i=e.read_shift(4),s={},n=0;n!=i;++n){var r=e.read_shift(4),o=e.read_shift(4);s[r]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Rn,"").replace(Xg,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),s}function iH(e){var t=e.read_shift(4),i=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),i}function Pde(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function FC(e,t,i){var s=e.read_shift(2),n,r=i||{};if(e.l+=2,t!==AP&&s!==t&&dde.indexOf(t)===-1&&!((t&65534)==4126&&(s&65534)==4126))throw new Error("Expected type "+t+" saw "+s);switch(t===AP?s:t){case 2:return n=e.read_shift(2,"i"),r.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return Jz(e,s,4).replace(Rn,"");case 31:return eH(e);case 64:return xT(e);case 65:return iH(e);case 71:return Pde(e);case 80:return oD(e,s,!r.raw).replace(Rn,"");case 81:return Rde(e,s).replace(Rn,"");case 4108:return Fde(e);case 4126:case 4127:return s==4127?kde(e):Ide(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+s)}}function kP(e,t){var i=e.l,s=e.read_shift(4),n=e.read_shift(4),r=[],o=0,a=0,l=-1,u={};for(o=0;o!=n;++o){var h=e.read_shift(4),f=e.read_shift(4);r[o]=[h,f+i]}r.sort(function(w,M){return w[1]-M[1]});var g={};for(o=0;o!=n;++o){if(e.l!==r[o][1]){var m=!0;if(o>0&&t)switch(t[r[o-1][0]].t){case 2:e.l+2===r[o][1]&&(e.l+=2,m=!1);break;case 80:e.l<=r[o][1]&&(e.l=r[o][1],m=!1);break;case 4108:e.l<=r[o][1]&&(e.l=r[o][1],m=!1);break}if((!t||o==0)&&e.l<=r[o][1]&&(m=!1,e.l=r[o][1]),m)throw new Error("Read Error: Expected address "+r[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[r[o][0]];if(g[y.n]=FC(e,y.t,{raw:!0}),y.p==="version"&&(g[y.n]=String(g[y.n]>>16)+"."+("0000"+String(g[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(g[y.n]){case 0:g[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:So(a=g[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[y.n])}}else if(r[o][0]===1){if(a=g.CodePage=FC(e,CT),So(a),l!==-1){var C=e.l;e.l=r[l][1],u=RP(e,a),e.l=C}}else if(r[o][0]===0){if(a===0){l=o,e.l=r[o+1][1];continue}u=RP(e,a)}else{var x=u[r[o][0]],b;switch(e[e.l]){case 65:e.l+=4,b=iH(e);break;case 30:e.l+=4,b=oD(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,b=oD(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,b=e.read_shift(4,"i");break;case 19:e.l+=4,b=e.read_shift(4);break;case 5:e.l+=4,b=e.read_shift(8,"f");break;case 11:e.l+=4,b=ji(e,4);break;case 64:e.l+=4,b=As(xT(e));break;default:throw new Error("unparsed value: "+e[e.l])}g[x]=b}}return e.l=i+s,g}function IP(e,t,i){var s=e.content;if(!s)return{};Ns(s,0);var n,r,o,a,l=0;s.chk("feff","Byte Order: "),s.read_shift(2);var u=s.read_shift(4),h=s.read_shift(16);if(h!==Pt.utils.consts.HEADER_CLSID&&h!==i)throw new Error("Bad PropertySet CLSID "+h);if(n=s.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(r=s.read_shift(16),a=s.read_shift(4),n===1&&a!==s.l)throw new Error("Length mismatch: "+a+" !== "+s.l);n===2&&(o=s.read_shift(16),l=s.read_shift(4));var f=kP(s,t),g={SystemIdentifier:u};for(var m in f)g[m]=f[m];if(g.FMTID=r,n===1)return g;if(l-s.l==2&&(s.l+=2),s.l!==l)throw new Error("Length mismatch 2: "+s.l+" !== "+l);var y;try{y=kP(s,null)}catch{}for(m in y)g[m]=y[m];return g.FMTID=[r,o],g}function ec(e,t){return e.read_shift(t),null}function Ode(e,t,i){for(var s=[],n=e.l+t;e.l<n;)s.push(i(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return s}function ji(e,t){return e.read_shift(t)===1}function ss(e){return e.read_shift(2,"u")}function sH(e,t){return Ode(e,t,ss)}function Nde(e){var t=e.read_shift(1),i=e.read_shift(1);return i===1?t:t===1}function Jm(e,t,i){var s=e.read_shift(i&&i.biff>=12?2:1),n="sbcs-cont";if(i&&i.biff>=8,!i||i.biff==8){var r=e.read_shift(1);r&&(n="dbcs-cont")}else i.biff==12&&(n="wstr");i.biff>=2&&i.biff<=5&&(n="cpstr");var o=s?e.read_shift(s,n):"";return o}function _de(e){var t=e.read_shift(2),i=e.read_shift(1),s=i&4,n=i&8,r=1+(i&1),o=0,a,l={};n&&(o=e.read_shift(2)),s&&(a=e.read_shift(4));var u=r==2?"dbcs-cont":"sbcs-cont",h=t===0?"":e.read_shift(t,u);return n&&(e.l+=4*o),s&&(e.l+=a),l.t=h,n||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function ih(e,t,i){var s;if(i){if(i.biff>=2&&i.biff<=5)return e.read_shift(t,"cpstr");if(i.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?s=e.read_shift(t,"sbcs-cont"):s=e.read_shift(t,"dbcs-cont"),s}function e0(e,t,i){var s=e.read_shift(i&&i.biff==2?1:2);return s===0?(e.l++,""):ih(e,s,i)}function Mh(e,t,i){if(i.biff>5)return e0(e,t,i);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,i.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Bde(e){var t=e.read_shift(1);e.l++;var i=e.read_shift(2);return e.l+=2,[t,i]}function Gde(e){var t=e.read_shift(4),i=e.l,s=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(s=!0),e.l=i);var n=e.read_shift((s?t-24:t)>>1,"utf16le").replace(Rn,"");return s&&(e.l+=24),n}function zde(e){for(var t=e.read_shift(2),i="";t-- >0;)i+="../";var s=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return i+s.replace(/\\/g,"/");var r=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(r>>1,"utf16le").replace(Rn,"");return i+o}function Hde(e,t){var i=e.read_shift(16);switch(i){case"e0c9ea79f9bace118c8200aa004ba90b":return Gde(e);case"0303000000000000c000000000000046":return zde(e);default:throw new Error("Unsupported Moniker "+i)}}function Jy(e){var t=e.read_shift(4),i=t>0?e.read_shift(t,"utf16le").replace(Rn,""):"";return i}function Vde(e,t){var i=e.l+t,s=e.read_shift(4);if(s!==2)throw new Error("Unrecognized streamVersion: "+s);var n=e.read_shift(2);e.l+=2;var r,o,a,l,u="",h,f;n&16&&(r=Jy(e,i-e.l)),n&128&&(o=Jy(e,i-e.l)),(n&257)===257&&(a=Jy(e,i-e.l)),(n&257)===1&&(l=Hde(e,i-e.l)),n&8&&(u=Jy(e,i-e.l)),n&32&&(h=e.read_shift(16)),n&64&&(f=xT(e)),e.l=i;var g=o||a||l||"";g&&u&&(g+="#"+u),g||(g="#"+u),n&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var m={Target:g};return h&&(m.guid=h),f&&(m.time=f),r&&(m.Tooltip=r),m}function nH(e){var t=e.read_shift(1),i=e.read_shift(1),s=e.read_shift(1),n=e.read_shift(1);return[t,i,s,n]}function rH(e,t){var i=nH(e);return i[3]=0,i}function ya(e){var t=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);return{r:t,c:i,ixfe:s}}function Wde(e){var t=e.read_shift(2),i=e.read_shift(2);return e.l+=8,{type:t,flags:i}}function Ude(e,t,i){return t===0?"":Mh(e,t,i)}function jde(e,t,i){var s=i.biff>8?4:2,n=e.read_shift(s),r=e.read_shift(s,"i"),o=e.read_shift(s,"i");return[n,r,o]}function oH(e){var t=e.read_shift(2),i=vT(e);return[t,i]}function Yde(e,t,i){e.l+=4,t-=4;var s=e.l+t,n=Jm(e,t,i),r=e.read_shift(2);if(s-=e.l,r!==s)throw new Error("Malformed AddinUdf: padding = "+s+" != "+r);return e.l+=r,n}function eb(e){var t=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),n=e.read_shift(2);return{s:{c:s,r:t},e:{c:n,r:i}}}function aH(e){var t=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(1),n=e.read_shift(1);return{s:{c:s,r:t},e:{c:n,r:i}}}var Kde=aH;function lH(e){e.l+=4;var t=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);return e.l+=12,[i,t,s]}function $de(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Xde(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ys(e){e.l+=2,e.l+=e.read_shift(2)}var Zde={0:Ys,4:Ys,5:Ys,6:Ys,7:Xde,8:Ys,9:Ys,10:Ys,11:Ys,12:Ys,13:$de,14:Ys,15:Ys,16:Ys,17:Ys,18:Ys,19:Ys,20:Ys,21:lH};function qde(e,t){for(var i=e.l+t,s=[];e.l<i;){var n=e.read_shift(2);e.l-=2;try{s.push(Zde[n](e,i-e.l))}catch{return e.l=i,s}}return e.l!=i&&(e.l=i),s}function ev(e,t){var i={BIFFVer:0,dt:0};switch(i.BIFFVer=e.read_shift(2),t-=2,t>=2&&(i.dt=e.read_shift(2),e.l-=2),i.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+i.BIFFVer)}return e.read_shift(t),i}function Qde(e,t){return t===0||e.read_shift(2),1200}function Jde(e,t,i){if(i.enc)return e.l+=t,"";var s=e.l,n=Mh(e,0,i);return e.read_shift(t+s-e.l),n}function efe(e,t,i){var s=i&&i.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:s&16,fBelow:s&64,fRight:s&128}}function tfe(e,t,i){var s=e.read_shift(4),n=e.read_shift(1)&3,r=e.read_shift(1);switch(r){case 0:r="Worksheet";break;case 1:r="Macrosheet";break;case 2:r="Chartsheet";break;case 6:r="VBAModule";break}var o=Jm(e,0,i);return o.length===0&&(o="Sheet1"),{pos:s,hs:n,dt:r,name:o}}function ife(e,t){for(var i=e.l+t,s=e.read_shift(4),n=e.read_shift(4),r=[],o=0;o!=n&&e.l<i;++o)r.push(_de(e));return r.Count=s,r.Unique=n,r}function sfe(e,t){var i={};return i.dsst=e.read_shift(2),e.l+=t-2,i}function nfe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var i=e.read_shift(2);e.l+=4;var s=e.read_shift(1);return e.l+=3,s&7&&(t.level=s&7),s&32&&(t.hidden=!0),s&64&&(t.hpt=i/20),t}function rfe(e){var t=Wde(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var i=e.read_shift(4);return i!==0}function ofe(e){return e.read_shift(2),e.read_shift(4)}function LP(e,t,i){var s=0;i&&i.biff==2||(s=e.read_shift(2));var n=e.read_shift(2);i&&i.biff==2&&(s=1-(n>>15),n&=32767);var r={Unsynced:s&1,DyZero:(s&2)>>1,ExAsc:(s&4)>>2,ExDsc:(s&8)>>3};return[r,n]}function afe(e){var t=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),o=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,i],Dim:[s,n],Flags:r,CurTab:o,FirstTab:a,Selected:l,TabRatio:u}}function lfe(e,t,i){if(i&&i.biff>=2&&i.biff<5)return{};var s=e.read_shift(2);return{RTL:s&64}}function cfe(){}function ufe(e,t,i){var s={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(i&&i.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return s.name=Jm(e,0,i),s}function hfe(e){var t=ya(e);return t.isst=e.read_shift(4),t}function dfe(e,t,i){i.biffguess&&i.biff==2&&(i.biff=5);var s=e.l+t,n=ya(e);i.biff==2&&e.l++;var r=e0(e,s-e.l,i);return n.val=r,n}function ffe(e,t,i){var s=e.read_shift(2),n=Mh(e,0,i);return[s,n]}var gfe=Mh;function FP(e,t,i){var s=e.l+t,n=i.biff==8||!i.biff?4:2,r=e.read_shift(n),o=e.read_shift(n),a=e.read_shift(2),l=e.read_shift(2);return e.l=s,{s:{r,c:a},e:{r:o,c:l}}}function pfe(e){var t=e.read_shift(2),i=e.read_shift(2),s=oH(e);return{r:t,c:i,ixfe:s[0],rknum:s[1]}}function mfe(e,t){for(var i=e.l+t-2,s=e.read_shift(2),n=e.read_shift(2),r=[];e.l<i;)r.push(oH(e));if(e.l!==i)throw new Error("MulRK read error");var o=e.read_shift(2);if(r.length!=o-n+1)throw new Error("MulRK length mismatch");return{r:s,c:n,C:o,rkrec:r}}function yfe(e,t){for(var i=e.l+t-2,s=e.read_shift(2),n=e.read_shift(2),r=[];e.l<i;)r.push(e.read_shift(2));if(e.l!==i)throw new Error("MulBlank read error");var o=e.read_shift(2);if(r.length!=o-n+1)throw new Error("MulBlank length mismatch");return{r:s,c:n,C:o,ixfe:r}}function vfe(e,t,i,s){var n={},r=e.read_shift(4),o=e.read_shift(4),a=e.read_shift(4),l=e.read_shift(2);return n.patternType=pde[a>>26],s.cellStyles&&(n.alc=r&7,n.fWrap=r>>3&1,n.alcV=r>>4&7,n.fJustLast=r>>7&1,n.trot=r>>8&255,n.cIndent=r>>16&15,n.fShrinkToFit=r>>20&1,n.iReadOrder=r>>22&2,n.fAtrNum=r>>26&1,n.fAtrFnt=r>>27&1,n.fAtrAlc=r>>28&1,n.fAtrBdr=r>>29&1,n.fAtrPat=r>>30&1,n.fAtrProt=r>>31&1,n.dgLeft=o&15,n.dgRight=o>>4&15,n.dgTop=o>>8&15,n.dgBottom=o>>12&15,n.icvLeft=o>>16&127,n.icvRight=o>>23&127,n.grbitDiag=o>>30&3,n.icvTop=a&127,n.icvBottom=a>>7&127,n.icvDiag=a>>14&127,n.dgDiag=a>>21&15,n.icvFore=l&127,n.icvBack=l>>7&127,n.fsxButton=l>>14&1),n}function Cfe(e,t,i){var s={};return s.ifnt=e.read_shift(2),s.numFmtId=e.read_shift(2),s.flags=e.read_shift(2),s.fStyle=s.flags>>2&1,t-=6,s.data=vfe(e,t,s.fStyle,i),s}function xfe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function PP(e,t,i){var s=ya(e);(i.biff==2||t==9)&&++e.l;var n=Nde(e);return s.val=n,s.t=n===!0||n===!1?"b":"e",s}function bfe(e,t,i){i.biffguess&&i.biff==2&&(i.biff=5);var s=ya(e),n=Qs(e);return s.val=n,s}var OP=Ude;function Sfe(e,t,i){var s=e.l+t,n=e.read_shift(2),r=e.read_shift(2);if(i.sbcch=r,r==1025||r==14849)return[r,n];if(r<1||r>255)throw new Error("Unexpected SupBook type: "+r);for(var o=ih(e,r),a=[];s>e.l;)a.push(e0(e));return[r,n,o,a]}function NP(e,t,i){var s=e.read_shift(2),n,r={fBuiltIn:s&1,fWantAdvise:s>>>1&1,fWantPict:s>>>2&1,fOle:s>>>3&1,fOleLink:s>>>4&1,cf:s>>>5&1023,fIcon:s>>>15&1};return i.sbcch===14849&&(n=Yde(e,t-2,i)),r.body=n||e.read_shift(t-2),typeof n=="string"&&(r.Name=n),r}var wfe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function _P(e,t,i){var s=e.l+t,n=e.read_shift(2),r=e.read_shift(1),o=e.read_shift(1),a=e.read_shift(i&&i.biff==2?1:2),l=0;(!i||i.biff>=5)&&(i.biff!=5&&(e.l+=2),l=e.read_shift(2),i.biff==5&&(e.l+=2),e.l+=4);var u=ih(e,o,i);n&32&&(u=wfe[u.charCodeAt(0)]);var h=s-e.l;i&&i.biff==2&&--h;var f=s==e.l||a===0||!(h>0)?[]:n0e(e,h,i,a);return{chKey:r,Name:u,itab:l,rgce:f}}function cH(e,t,i){if(i.biff<8)return Mfe(e,t,i);for(var s=[],n=e.l+t,r=e.read_shift(i.biff>8?4:2);r--!==0;)s.push(jde(e,i.biff>8?12:6,i));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return s}function Mfe(e,t,i){e[e.l+1]==3&&e[e.l]++;var s=Jm(e,t,i);return s.charCodeAt(0)==3?s.slice(1):s}function Dfe(e,t,i){if(i.biff<8){e.l+=t;return}var s=e.read_shift(2),n=e.read_shift(2),r=ih(e,s,i),o=ih(e,n,i);return[r,o]}function Afe(e,t,i){var s=aH(e);e.l++;var n=e.read_shift(1);return t-=8,[r0e(e,t,i),n,s]}function BP(e,t,i){var s=Kde(e);switch(i.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[s,i0e(e,t,i)]}function Efe(e){var t=e.read_shift(4)!==0,i=e.read_shift(4)!==0,s=e.read_shift(4);return[t,i,s]}function Tfe(e,t,i){if(!(i.biff<8)){var s=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),o=e.read_shift(2),a=Mh(e,0,i);return i.biff<8&&e.read_shift(1),[{r:s,c:n},a,o,r]}}function Rfe(e,t,i){return Tfe(e,t,i)}function kfe(e,t){for(var i=[],s=e.read_shift(2);s--;)i.push(eb(e));return i}function Ife(e,t,i){if(i&&i.biff<8)return Ffe(e,t,i);var s=lH(e),n=qde(e,t-22,s[1]);return{cmo:s,ft:n}}var Lfe={8:function(e,t){var i=e.l+t;e.l+=10;var s=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=i,{fmt:s}}};function Ffe(e,t,i){e.l+=4;var s=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((Lfe[s]||sn)(e,t,i)),{cmo:[n,s,r],ft:o}}function Pfe(e,t,i){var s=e.l,n="";try{e.l+=4;var r=(i.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(r)==-1?e.l+=6:o=Bde(e,6,i);var a=e.read_shift(2);e.read_shift(2),ss(e,2);var l=e.read_shift(2);e.l+=l;for(var u=1;u<e.lens.length-1;++u){if(e.l-s!=e.lens[u])throw new Error("TxO: bad continue record");var h=e[e.l],f=ih(e,e.lens[u+1]-e.lens[u]-1);if(n+=f,n.length>=(h?a:2*a))break}if(n.length!==a&&n.length!==a*2)throw new Error("cchText: "+a+" != "+n.length);return e.l=s+t,{t:n}}catch{return e.l=s+t,{t:n}}}function Ofe(e,t){var i=eb(e);e.l+=16;var s=Vde(e,t-24);return[i,s]}function Nfe(e,t){e.read_shift(2);var i=eb(e),s=e.read_shift((t-10)/2,"dbcs-cont");return s=s.replace(Rn,""),[i,s]}function _fe(e){var t=[0,0],i;return i=e.read_shift(2),t[0]=EP[i]||i,i=e.read_shift(2),t[1]=EP[i]||i,t}function Bfe(e){for(var t=e.read_shift(2),i=[];t-- >0;)i.push(rH(e));return i}function Gfe(e){for(var t=e.read_shift(2),i=[];t-- >0;)i.push(rH(e));return i}function zfe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function uH(e,t,i){if(!i.cellStyles)return sn(e,t);var s=i&&i.biff>=12?4:2,n=e.read_shift(s),r=e.read_shift(s),o=e.read_shift(s),a=e.read_shift(s),l=e.read_shift(2);s==2&&(e.l+=2);var u={s:n,e:r,w:o,ixfe:a,flags:l};return(i.biff>=5||!i.biff)&&(u.level=l>>8&7),u}function Hfe(e,t){var i={};return t<32||(e.l+=16,i.header=Qs(e),i.footer=Qs(e),e.l+=2),i}function Vfe(e,t,i){var s={area:!1};if(i.biff!=5)return e.l+=t,s;var n=e.read_shift(1);return e.l+=3,n&16&&(s.area=!0),s}var Wfe=ya,Ufe=sH,jfe=e0;function Yfe(e){var t=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(4),n={fmt:t,env:i,len:s,data:e.slice(e.l,e.l+s)};return e.l+=s,n}function Kfe(e,t,i){i.biffguess&&i.biff==5&&(i.biff=2);var s=ya(e);++e.l;var n=Mh(e,t-7,i);return s.t="str",s.val=n,s}function $fe(e){var t=ya(e);++e.l;var i=Qs(e);return t.t="n",t.val=i,t}function Xfe(e){var t=ya(e);++e.l;var i=e.read_shift(2);return t.t="n",t.val=i,t}function Zfe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function qfe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Qfe(e,t,i){var s=e.l+t,n=ya(e),r=e.read_shift(2),o=ih(e,r,i);return e.l=s,n.t="str",n.val=o,n}var Jfe=[2,3,48,49,131,139,140,245],GP=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=cT({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function i(a,l){var u=[],h=wc(1);switch(l.type){case"base64":h=vo(cr(a));break;case"binary":h=vo(a);break;case"buffer":case"array":h=a;break}Ns(h,0);var f=h.read_shift(1),g=!!(f&136),m=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,g=!0;break;case 49:m=!0,g=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var C=0,x=521;f==2&&(C=h.read_shift(2)),h.l+=3,f!=2&&(C=h.read_shift(4)),C>1048576&&(C=1e6),f!=2&&(x=h.read_shift(2));var b=h.read_shift(2),w=l.codepage||1252;f!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(w=e[h[h.l]]),h.l+=1,h.l+=2),y&&(h.l+=36);for(var M=[],A={},T=Math.min(h.length,f==2?521:x-10-(m?264:0)),k=y?32:11;h.l<T&&h[h.l]!=13;)switch(A={},A.name=iD.utils.decode(w,h.slice(h.l,h.l+k)).replace(/[\u0000\r\n].*$/g,""),h.l+=k,A.type=String.fromCharCode(h.read_shift(1)),f!=2&&!y&&(A.offset=h.read_shift(4)),A.len=h.read_shift(1),f==2&&(A.offset=h.read_shift(2)),A.dec=h.read_shift(1),A.name.length&&M.push(A),f!=2&&(h.l+=y?13:14),A.type){case"B":(!m||A.len!=8)&&l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(h[h.l]!==13&&(h.l=x-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=x;var R=0,F=0;for(u[0]=[],F=0;F!=M.length;++F)u[0][F]=M[F].name;for(;C-- >0;){if(h[h.l]===42){h.l+=b;continue}for(++h.l,u[++R]=[],F=0,F=0;F!=M.length;++F){var I=h.slice(h.l,h.l+M[F].len);h.l+=M[F].len,Ns(I,0);var N=iD.utils.decode(w,I);switch(M[F].type){case"C":N.trim().length&&(u[R][F]=N.replace(/\s+$/,""));break;case"D":N.length===8?u[R][F]=new Date(+N.slice(0,4),+N.slice(4,6)-1,+N.slice(6,8)):u[R][F]=N;break;case"F":u[R][F]=parseFloat(N.trim());break;case"+":case"I":u[R][F]=y?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(N.trim().toUpperCase()){case"Y":case"T":u[R][F]=!0;break;case"N":case"F":u[R][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+N+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[R][F]="##MEMO##"+(y?parseInt(N.trim(),10):I.read_shift(4));break;case"N":N=N.replace(/\u0000/g,"").trim(),N&&N!="."&&(u[R][F]=+N||0);break;case"@":u[R][F]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":u[R][F]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":u[R][F]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[R][F]=-I.read_shift(-8,"f");break;case"B":if(m&&M[F].len==8){u[R][F]=I.read_shift(8,"f");break}case"G":case"P":I.l+=M[F].len;break;case"0":if(M[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+M[F].type)}}}if(f!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=M,u}function s(a,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var h=Pf(i(a,u),u);return h["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,h}function n(a,l){try{return Gc(s(a,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var r={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var u=l||{};if(+u.codepage>=0&&So(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=sD(),f=fD(a,{header:1,raw:!0,cellDates:!0}),g=f[0],m=f.slice(1),y=a["!cols"]||[],C=0,x=0,b=0,w=1;for(C=0;C<g.length;++C){if(((y[C]||{}).DBF||{}).name){g[C]=y[C].DBF.name,++b;continue}if(g[C]!=null){if(++b,typeof g[C]=="number"&&(g[C]=g[C].toString(10)),typeof g[C]!="string")throw new Error("DBF Invalid column name "+g[C]+" |"+typeof g[C]+"|");if(g.indexOf(g[C])!==C){for(x=0;x<1024;++x)if(g.indexOf(g[C]+"_"+x)==-1){g[C]+="_"+x;break}}}}var M=zi(a["!ref"]),A=[],T=[],k=[];for(C=0;C<=M.e.c-M.s.c;++C){var R="",F="",I=0,N=[];for(x=0;x<m.length;++x)m[x][C]!=null&&N.push(m[x][C]);if(N.length==0||g[C]==null){A[C]="?";continue}for(x=0;x<N.length;++x){switch(typeof N[x]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=N[x]instanceof Date?"D":"C";break;default:F="C"}I=Math.max(I,String(N[x]).length),R=R&&R!=F?"C":F}I>250&&(I=250),F=((y[C]||{}).DBF||{}).type,F=="C"&&y[C].DBF.len>I&&(I=y[C].DBF.len),R=="B"&&F=="N"&&(R="N",k[C]=y[C].DBF.dec,I=y[C].DBF.len),T[C]=R=="C"||F=="N"?I:r[R]||0,w+=T[C],A[C]=R}var G=h.next(32);for(G.write_shift(4,318902576),G.write_shift(4,m.length),G.write_shift(2,296+32*b),G.write_shift(2,w),C=0;C<4;++C)G.write_shift(4,0);for(G.write_shift(4,0|(+t[cz]||3)<<8),C=0,x=0;C<g.length;++C)if(g[C]!=null){var V=h.next(32),Q=(g[C].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);V.write_shift(1,Q,"sbcs"),V.write_shift(1,A[C]=="?"?"C":A[C],"sbcs"),V.write_shift(4,x),V.write_shift(1,T[C]||r[A[C]]||0),V.write_shift(1,k[C]||0),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(1,0),V.write_shift(4,0),V.write_shift(4,0),x+=T[C]||r[A[C]]||0}var pe=h.next(264);for(pe.write_shift(4,13),C=0;C<65;++C)pe.write_shift(4,0);for(C=0;C<m.length;++C){var ae=h.next(w);for(ae.write_shift(1,0),x=0;x<g.length;++x)if(g[x]!=null)switch(A[x]){case"L":ae.write_shift(1,m[C][x]==null?63:m[C][x]?84:70);break;case"B":ae.write_shift(8,m[C][x]||0,"f");break;case"N":var se="0";for(typeof m[C][x]=="number"&&(se=m[C][x].toFixed(k[x]||0)),b=0;b<T[x]-se.length;++b)ae.write_shift(1,32);ae.write_shift(1,se,"sbcs");break;case"D":m[C][x]?(ae.write_shift(4,("0000"+m[C][x].getFullYear()).slice(-4),"sbcs"),ae.write_shift(2,("00"+(m[C][x].getMonth()+1)).slice(-2),"sbcs"),ae.write_shift(2,("00"+m[C][x].getDate()).slice(-2),"sbcs")):ae.write_shift(8,"00000000","sbcs");break;case"C":var le=String(m[C][x]!=null?m[C][x]:"").slice(0,T[x]);for(ae.write_shift(1,le,"sbcs"),b=0;b<T[x]-le.length;++b)ae.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:n,to_sheet:s,from_sheet:o}}(),ege=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+la(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),i=function(g,m){var y=e[m];return typeof y=="number"?tP(y):y},s=function(g,m,y){var C=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return C==59?g:tP(C)};e["|"]=254;function n(g,m){switch(m.type){case"base64":return r(cr(g),m);case"binary":return r(g,m);case"buffer":return r(kt&&Buffer.isBuffer(g)?g.toString("binary"):xh(g),m);case"array":return r(th(g),m)}throw new Error("Unrecognized type "+m.type)}function r(g,m){var y=g.split(/[\n\r]+/),C=-1,x=-1,b=0,w=0,M=[],A=[],T=null,k={},R=[],F=[],I=[],N=0,G;for(+m.codepage>=0&&So(+m.codepage);b!==y.length;++b){N=0;var V=y[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(t,i),Q=V.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),pe=Q[0],ae;if(V.length>0)switch(pe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Q[1].charAt(0)=="P"&&A.push(V.slice(3).replace(/;;/g,";"));break;case"C":var se=!1,le=!1,re=!1,J=!1,z=-1,ee=-1;for(w=1;w<Q.length;++w)switch(Q[w].charAt(0)){case"A":break;case"X":x=parseInt(Q[w].slice(1))-1,le=!0;break;case"Y":for(C=parseInt(Q[w].slice(1))-1,le||(x=0),G=M.length;G<=C;++G)M[G]=[];break;case"K":ae=Q[w].slice(1),ae.charAt(0)==='"'?ae=ae.slice(1,ae.length-1):ae==="TRUE"?ae=!0:ae==="FALSE"?ae=!1:isNaN(Eo(ae))?isNaN(sf(ae).getDate())||(ae=As(ae)):(ae=Eo(ae),T!==null&&Lf(T)&&(ae=Jx(ae))),se=!0;break;case"E":J=!0;var O=Gd(Q[w].slice(1),{r:C,c:x});M[C][x]=[M[C][x],O];break;case"S":re=!0,M[C][x]=[M[C][x],"S5S"];break;case"G":break;case"R":z=parseInt(Q[w].slice(1))-1;break;case"C":ee=parseInt(Q[w].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}if(se&&(M[C][x]&&M[C][x].length==2?M[C][x][0]=ae:M[C][x]=ae,T=null),re){if(J)throw new Error("SYLK shared formula cannot have own formula");var j=z>-1&&M[z][ee];if(!j||!j[1])throw new Error("SYLK shared formula cannot find base");M[C][x][1]=xH(j[1],{r:C-z,c:x-ee})}break;case"F":var H=0;for(w=1;w<Q.length;++w)switch(Q[w].charAt(0)){case"X":x=parseInt(Q[w].slice(1))-1,++H;break;case"Y":for(C=parseInt(Q[w].slice(1))-1,G=M.length;G<=C;++G)M[G]=[];break;case"M":N=parseInt(Q[w].slice(1))/20;break;case"F":break;case"G":break;case"P":T=A[parseInt(Q[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=Q[w].slice(1).split(" "),G=parseInt(I[0],10);G<=parseInt(I[1],10);++G)N=parseInt(I[2],10),F[G-1]=N===0?{hidden:!0}:{wch:N},nf(F[G-1]);break;case"C":x=parseInt(Q[w].slice(1))-1,F[x]||(F[x]={});break;case"R":C=parseInt(Q[w].slice(1))-1,R[C]||(R[C]={}),N>0?(R[C].hpt=N,R[C].hpx=um(N)):N===0&&(R[C].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}H<1&&(T=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}}return R.length>0&&(k["!rows"]=R),F.length>0&&(k["!cols"]=F),m&&m.sheetRows&&(M=M.slice(0,m.sheetRows)),[M,k]}function o(g,m){var y=n(g,m),C=y[0],x=y[1],b=Pf(C,m);return la(x).forEach(function(w){b[w]=x[w]}),b}function a(g,m){return Gc(o(g,m),m)}function l(g,m,y,C){var x="C;Y"+(y+1)+";X"+(C+1)+";K";switch(g.t){case"n":x+=g.v||0,g.f&&!g.F&&(x+=";E"+zpe(g.f,{r:y,c:C}));break;case"b":x+=g.v?"TRUE":"FALSE";break;case"e":x+=g.w||g.v;break;case"d":x+='"'+(g.w||g.v)+'"';break;case"s":x+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(g,m){m.forEach(function(y,C){var x="F;W"+(C+1)+" "+(C+1)+" ";y.hidden?x+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=OC(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=NC(y.wpx)),typeof y.wch=="number"&&(x+=Math.round(y.wch))),x.charAt(x.length-1)!=" "&&g.push(x)})}function h(g,m){m.forEach(function(y,C){var x="F;";y.hidden?x+="M0;":y.hpt?x+="M"+20*y.hpt+";":y.hpx&&(x+="M"+20*yH(y.hpx)+";"),x.length>2&&g.push(x+"R"+(C+1))})}function f(g,m){var y=["ID;PWXL;N;E"],C=[],x=zi(g["!ref"]),b,w=Array.isArray(g),M=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),g["!cols"]&&u(y,g["!cols"]),g["!rows"]&&h(y,g["!rows"]),y.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var A=x.s.r;A<=x.e.r;++A)for(var T=x.s.c;T<=x.e.c;++T){var k=yt({r:A,c:T});b=w?(g[A]||[])[T]:g[k],!(!b||b.v==null&&(!b.f||b.F))&&C.push(l(b,g,A,T))}return y.join(M)+M+C.join(M)+M+"E"+M}return{to_workbook:a,to_sheet:o,from_sheet:f}}(),tge=function(){function e(r,o){switch(o.type){case"base64":return t(cr(r),o);case"binary":return t(r,o);case"buffer":return t(kt&&Buffer.isBuffer(r)?r.toString("binary"):xh(r),o);case"array":return t(th(r),o)}throw new Error("Unrecognized type "+o.type)}function t(r,o){for(var a=r.split(`
`),l=-1,u=-1,h=0,f=[];h!==a.length;++h){if(a[h].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var g=a[h].trim().split(","),m=g[0],y=g[1];++h;for(var C=a[h]||"";(C.match(/["]/g)||[]).length&1&&h<a.length-1;)C+=`
`+a[++h];switch(C=C.trim(),+m){case-1:if(C==="BOT"){f[++l]=[],u=0;continue}else if(C!=="EOD")throw new Error("Unrecognized DIF special command "+C);break;case 0:C==="TRUE"?f[l][u]=!0:C==="FALSE"?f[l][u]=!1:isNaN(Eo(y))?isNaN(sf(y).getDate())?f[l][u]=y:f[l][u]=As(y):f[l][u]=Eo(y),++u;break;case 1:C=C.slice(1,C.length-1),C=C.replace(/""/g,'"'),C&&C.match(/^=".*"$/)&&(C=C.slice(2,-1)),f[l][u++]=C!==""?C:null;break}if(C==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function i(r,o){return Pf(e(r,o),o)}function s(r,o){return Gc(i(r,o),o)}var n=function(){var r=function(l,u,h,f,g){l.push(u),l.push(h+","+f),l.push('"'+g.replace(/"/g,'""')+'"')},o=function(l,u,h,f){l.push(u+","+h),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],h=zi(l["!ref"]),f,g=Array.isArray(l);r(u,"TABLE",0,1,"sheetjs"),r(u,"VECTORS",0,h.e.r-h.s.r+1,""),r(u,"TUPLES",0,h.e.c-h.s.c+1,""),r(u,"DATA",0,0,"");for(var m=h.s.r;m<=h.e.r;++m){o(u,-1,0,"BOT");for(var y=h.s.c;y<=h.e.c;++y){var C=yt({r:m,c:y});if(f=g?(l[m]||[])[y]:l[C],!f){o(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,x,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Zr(f.z||Ct[14],kn(As(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var b=`\r
`,w=u.join(b);return w}}();return{to_workbook:s,to_sheet:i,from_sheet:n}}(),ige=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function i(f,g){for(var m=f.split(`
`),y=-1,C=-1,x=0,b=[];x!==m.length;++x){var w=m[x].trim().split(":");if(w[0]==="cell"){var M=Tn(w[1]);if(b.length<=M.r)for(y=b.length;y<=M.r;++y)b[y]||(b[y]=[]);switch(y=M.r,C=M.c,w[2]){case"t":b[y][C]=e(w[3]);break;case"v":b[y][C]=+w[3];break;case"vtf":var A=w[w.length-1];case"vtc":switch(w[3]){case"nl":b[y][C]=!!+w[4];break;default:b[y][C]=+w[4];break}w[2]=="vtf"&&(b[y][C]=[b[y][C],A])}}}return g&&g.sheetRows&&(b=b.slice(0,g.sheetRows)),b}function s(f,g){return Pf(i(f,g),g)}function n(f,g){return Gc(s(f,g),g)}var r=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var g=[],m=[],y,C="",x=Ff(f["!ref"]),b=Array.isArray(f),w=x.s.r;w<=x.e.r;++w)for(var M=x.s.c;M<=x.e.c;++M)if(C=yt({r:w,c:M}),y=b?(f[w]||[])[M]:f[C],!(!y||y.v==null||y.t==="z")){switch(m=["cell",C,"t"],y.t){case"s":case"str":m.push(t(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=t(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var A=kn(As(y.v));m[2]="vtc",m[3]="nd",m[4]=""+A,m[5]=y.w||Zr(y.z||Ct[14],A);break;case"e":continue}g.push(m.join(":"))}return g.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(f){return[r,o,a,o,u(f),l].join(`
`)}return{to_workbook:n,to_sheet:s,from_sheet:h}}(),lm=function(){function e(h,f,g,m,y){y.raw?f[g][m]=h:h===""||(h==="TRUE"?f[g][m]=!0:h==="FALSE"?f[g][m]=!1:isNaN(Eo(h))?isNaN(sf(h).getDate())?f[g][m]=h:f[g][m]=As(h):f[g][m]=Eo(h))}function t(h,f){var g=f||{},m=[];if(!h||h.length===0)return m;for(var y=h.split(/[\r\n]/),C=y.length-1;C>=0&&y[C].length===0;)--C;for(var x=10,b=0,w=0;w<=C;++w)b=y[w].indexOf(" "),b==-1?b=y[w].length:b++,x=Math.max(x,b);for(w=0;w<=C;++w){m[w]=[];var M=0;for(e(y[w].slice(0,x).trim(),m,w,M,g),M=1;M<=(y[w].length-x)/10+1;++M)e(y[w].slice(x+(M-1)*10,x+M*10).trim(),m,w,M,g)}return g.sheetRows&&(m=m.slice(0,g.sheetRows)),m}var i={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function n(h){for(var f={},g=!1,m=0,y=0;m<h.length;++m)(y=h.charCodeAt(m))==34?g=!g:!g&&y in i&&(f[y]=(f[y]||0)+1);y=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&y.push([f[m],m]);if(!y.length){f=s;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&y.push([f[m],m])}return y.sort(function(C,x){return C[0]-x[0]||s[C[1]]-s[x[1]]}),i[y.pop()[1]]||44}function r(h,f){var g=f||{},m="",y=g.dense?[]:{},C={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(m=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(m=h.charAt(4),h=h.slice(6)):m=n(h.slice(0,1024)):g&&g.FS?m=g.FS:m=n(h.slice(0,1024));var x=0,b=0,w=0,M=0,A=0,T=m.charCodeAt(0),k=!1,R=0,F=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var I=g.dateNF!=null?fhe(g.dateNF):null;function N(){var G=h.slice(M,A),V={};if(G.charAt(0)=='"'&&G.charAt(G.length-1)=='"'&&(G=G.slice(1,-1).replace(/""/g,'"')),G.length===0)V.t="z";else if(g.raw)V.t="s",V.v=G;else if(G.trim().length===0)V.t="s",V.v=G;else if(G.charCodeAt(0)==61)G.charCodeAt(1)==34&&G.charCodeAt(G.length-1)==34?(V.t="s",V.v=G.slice(2,-1).replace(/""/g,'"')):Vpe(G)?(V.t="n",V.f=G.slice(1)):(V.t="s",V.v=G);else if(G=="TRUE")V.t="b",V.v=!0;else if(G=="FALSE")V.t="b",V.v=!1;else if(!isNaN(w=Eo(G)))V.t="n",g.cellText!==!1&&(V.w=G),V.v=w;else if(!isNaN(sf(G).getDate())||I&&G.match(I)){V.z=g.dateNF||Ct[14];var Q=0;I&&G.match(I)&&(G=ghe(G,g.dateNF,G.match(I)||[]),Q=1),g.cellDates?(V.t="d",V.v=As(G,Q)):(V.t="n",V.v=kn(As(G,Q))),g.cellText!==!1&&(V.w=Zr(V.z,V.v instanceof Date?kn(V.v):V.v)),g.cellNF||delete V.z}else V.t="s",V.v=G;if(V.t=="z"||(g.dense?(y[x]||(y[x]=[]),y[x][b]=V):y[yt({c:b,r:x})]=V),M=A+1,F=h.charCodeAt(M),C.e.c<b&&(C.e.c=b),C.e.r<x&&(C.e.r=x),R==T)++b;else if(b=0,++x,g.sheetRows&&g.sheetRows<=x)return!0}e:for(;A<h.length;++A)switch(R=h.charCodeAt(A)){case 34:F===34&&(k=!k);break;case T:case 10:case 13:if(!k&&N())break e;break}return A-M>0&&N(),y["!ref"]=Ot(C),y}function o(h,f){return!(f&&f.PRN)||f.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?r(h,f):Pf(t(h,f),f)}function a(h,f){var g="",m=f.type=="string"?[0,0,0,0]:TT(h,f);switch(f.type){case"base64":g=cr(h);break;case"binary":g=h;break;case"buffer":f.codepage==65001?g=h.toString("utf8"):(f.codepage,g=kt&&Buffer.isBuffer(h)?h.toString("binary"):xh(h));break;case"array":g=th(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?g=di(g.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?g=di(g):f.type=="binary",g.slice(0,19)=="socialcalc:version:"?ige.to_sheet(f.type=="string"?g:di(g),f):o(g,f)}function l(h,f){return Gc(a(h,f),f)}function u(h){for(var f=[],g=zi(h["!ref"]),m,y=Array.isArray(h),C=g.s.r;C<=g.e.r;++C){for(var x=[],b=g.s.c;b<=g.e.c;++b){var w=yt({r:C,c:b});if(m=y?(h[C]||[])[b]:h[w],!m||m.v==null){x.push("          ");continue}for(var M=(m.w||(cl(m),m.w)||"").slice(0,10);M.length<10;)M+=" ";x.push(M+(b===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:u}}();function sge(e,t){var i=t||{},s=!!i.WTF;i.WTF=!0;try{var n=ege.to_workbook(e,i);return i.WTF=s,n}catch(r){if(i.WTF=s,!r.message.match(/SYLK bad record ID/)&&s)throw r;return lm.to_workbook(e,t)}}var bp=function(){function e(O,j,H){if(O){Ns(O,O.l||0);for(var K=H.Enum||z;O.l<O.length;){var ne=O.read_shift(2),ge=K[ne]||K[65535],ce=O.read_shift(2),ue=O.l+ce,de=ge.f&&ge.f(O,ce,H);if(O.l=ue,j(de,ge,ne))return}}}function t(O,j){switch(j.type){case"base64":return i(vo(cr(O)),j);case"binary":return i(vo(O),j);case"buffer":case"array":return i(O,j)}throw"Unsupported type "+j.type}function i(O,j){if(!O)return O;var H=j||{},K=H.dense?[]:{},ne="Sheet1",ge="",ce=0,ue={},de=[],Le=[],X={s:{r:0,c:0},e:{r:0,c:0}},ze=H.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)H.Enum=z,e(O,function(we,qe,ht){switch(ht){case 0:H.vers=we,we>=4096&&(H.qpro=!0);break;case 6:X=we;break;case 204:we&&(ge=we);break;case 222:ge=we;break;case 15:case 51:H.qpro||(we[1].v=we[1].v.slice(1));case 13:case 14:case 16:ht==14&&(we[2]&112)==112&&(we[2]&15)>1&&(we[2]&15)<15&&(we[1].z=H.dateNF||Ct[14],H.cellDates&&(we[1].t="d",we[1].v=Jx(we[1].v))),H.qpro&&we[3]>ce&&(K["!ref"]=Ot(X),ue[ne]=K,de.push(ne),K=H.dense?[]:{},X={s:{r:0,c:0},e:{r:0,c:0}},ce=we[3],ne=ge||"Sheet"+(ce+1),ge="");var rt=H.dense?(K[we[0].r]||[])[we[0].c]:K[yt(we[0])];if(rt){rt.t=we[1].t,rt.v=we[1].v,we[1].z!=null&&(rt.z=we[1].z),we[1].f!=null&&(rt.f=we[1].f);break}H.dense?(K[we[0].r]||(K[we[0].r]=[]),K[we[0].r][we[0].c]=we[1]):K[yt(we[0])]=we[1];break}},H);else if(O[2]==26||O[2]==14)H.Enum=ee,O[2]==14&&(H.qpro=!0,O.l=0),e(O,function(we,qe,ht){switch(ht){case 204:ne=we;break;case 22:we[1].v=we[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(we[3]>ce&&(K["!ref"]=Ot(X),ue[ne]=K,de.push(ne),K=H.dense?[]:{},X={s:{r:0,c:0},e:{r:0,c:0}},ce=we[3],ne="Sheet"+(ce+1)),ze>0&&we[0].r>=ze)break;H.dense?(K[we[0].r]||(K[we[0].r]=[]),K[we[0].r][we[0].c]=we[1]):K[yt(we[0])]=we[1],X.e.c<we[0].c&&(X.e.c=we[0].c),X.e.r<we[0].r&&(X.e.r=we[0].r);break;case 27:we[14e3]&&(Le[we[14e3][0]]=we[14e3][1]);break;case 1537:Le[we[0]]=we[1],we[0]==ce&&(ne=we[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(K["!ref"]=Ot(X),ue[ge||ne]=K,de.push(ge||ne),!Le.length)return{SheetNames:de,Sheets:ue};for(var _e={},je=[],Ue=0;Ue<Le.length;++Ue)ue[de[Ue]]?(je.push(Le[Ue]||de[Ue]),_e[Le[Ue]]=ue[Le[Ue]]||ue[de[Ue]]):(je.push(Le[Ue]),_e[Le[Ue]]={"!ref":"A1"});return{SheetNames:je,Sheets:_e}}function s(O,j){var H=j||{};if(+H.codepage>=0&&So(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var K=sD(),ne=zi(O["!ref"]),ge=Array.isArray(O),ce=[];fo(K,0,r(1030)),fo(K,6,l(ne));for(var ue=Math.min(ne.e.r,8191),de=ne.s.r;de<=ue;++de)for(var Le=Hs(de),X=ne.s.c;X<=ne.e.c;++X){de===ne.s.r&&(ce[X]=ps(X));var ze=ce[X]+Le,_e=ge?(O[de]||[])[X]:O[ze];if(!(!_e||_e.t=="z"))if(_e.t=="n")(_e.v|0)==_e.v&&_e.v>=-32768&&_e.v<=32767?fo(K,13,m(de,X,_e.v)):fo(K,14,C(de,X,_e.v));else{var je=cl(_e);fo(K,15,f(de,X,je.slice(0,239)))}}return fo(K,1),K.end()}function n(O,j){var H=j||{};if(+H.codepage>=0&&So(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var K=sD();fo(K,0,o(O));for(var ne=0,ge=0;ne<O.SheetNames.length;++ne)(O.Sheets[O.SheetNames[ne]]||{})["!ref"]&&fo(K,27,J(O.SheetNames[ne],ge++));var ce=0;for(ne=0;ne<O.SheetNames.length;++ne){var ue=O.Sheets[O.SheetNames[ne]];if(!(!ue||!ue["!ref"])){for(var de=zi(ue["!ref"]),Le=Array.isArray(ue),X=[],ze=Math.min(de.e.r,8191),_e=de.s.r;_e<=ze;++_e)for(var je=Hs(_e),Ue=de.s.c;Ue<=de.e.c;++Ue){_e===de.s.r&&(X[Ue]=ps(Ue));var we=X[Ue]+je,qe=Le?(ue[_e]||[])[Ue]:ue[we];if(!(!qe||qe.t=="z"))if(qe.t=="n")fo(K,23,N(_e,Ue,ce,qe.v));else{var ht=cl(qe);fo(K,22,R(_e,Ue,ce,ht.slice(0,239)))}}++ce}}return fo(K,1),K.end()}function r(O){var j=ds(2);return j.write_shift(2,O),j}function o(O){var j=ds(26);j.write_shift(2,4096),j.write_shift(2,4),j.write_shift(4,0);for(var H=0,K=0,ne=0,ge=0;ge<O.SheetNames.length;++ge){var ce=O.SheetNames[ge],ue=O.Sheets[ce];if(!(!ue||!ue["!ref"])){++ne;var de=Ff(ue["!ref"]);H<de.e.r&&(H=de.e.r),K<de.e.c&&(K=de.e.c)}}return H>8191&&(H=8191),j.write_shift(2,H),j.write_shift(1,ne),j.write_shift(1,K),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(1,1),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(4,0),j}function a(O,j,H){var K={s:{c:0,r:0},e:{c:0,r:0}};return j==8&&H.qpro?(K.s.c=O.read_shift(1),O.l++,K.s.r=O.read_shift(2),K.e.c=O.read_shift(1),O.l++,K.e.r=O.read_shift(2),K):(K.s.c=O.read_shift(2),K.s.r=O.read_shift(2),j==12&&H.qpro&&(O.l+=2),K.e.c=O.read_shift(2),K.e.r=O.read_shift(2),j==12&&H.qpro&&(O.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function l(O){var j=ds(8);return j.write_shift(2,O.s.c),j.write_shift(2,O.s.r),j.write_shift(2,O.e.c),j.write_shift(2,O.e.r),j}function u(O,j,H){var K=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(K[0].c=O.read_shift(1),K[3]=O.read_shift(1),K[0].r=O.read_shift(2),O.l+=2):(K[2]=O.read_shift(1),K[0].c=O.read_shift(2),K[0].r=O.read_shift(2)),K}function h(O,j,H){var K=O.l+j,ne=u(O,j,H);if(ne[1].t="s",H.vers==20768){O.l++;var ge=O.read_shift(1);return ne[1].v=O.read_shift(ge,"utf8"),ne}return H.qpro&&O.l++,ne[1].v=O.read_shift(K-O.l,"cstr"),ne}function f(O,j,H){var K=ds(7+H.length);K.write_shift(1,255),K.write_shift(2,j),K.write_shift(2,O),K.write_shift(1,39);for(var ne=0;ne<K.length;++ne){var ge=H.charCodeAt(ne);K.write_shift(1,ge>=128?95:ge)}return K.write_shift(1,0),K}function g(O,j,H){var K=u(O,j,H);return K[1].v=O.read_shift(2,"i"),K}function m(O,j,H){var K=ds(7);return K.write_shift(1,255),K.write_shift(2,j),K.write_shift(2,O),K.write_shift(2,H,"i"),K}function y(O,j,H){var K=u(O,j,H);return K[1].v=O.read_shift(8,"f"),K}function C(O,j,H){var K=ds(13);return K.write_shift(1,255),K.write_shift(2,j),K.write_shift(2,O),K.write_shift(8,H,"f"),K}function x(O,j,H){var K=O.l+j,ne=u(O,j,H);if(ne[1].v=O.read_shift(8,"f"),H.qpro)O.l=K;else{var ge=O.read_shift(2);A(O.slice(O.l,O.l+ge),ne),O.l+=ge}return ne}function b(O,j,H){var K=j&32768;return j&=-32769,j=(K?O:0)+(j>=8192?j-16384:j),(K?"":"$")+(H?ps(j):Hs(j))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},M=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(O,j){Ns(O,0);for(var H=[],K=0,ne="",ge="",ce="",ue="";O.l<O.length;){var de=O[O.l++];switch(de){case 0:H.push(O.read_shift(8,"f"));break;case 1:ge=b(j[0].c,O.read_shift(2),!0),ne=b(j[0].r,O.read_shift(2),!1),H.push(ge+ne);break;case 2:{var Le=b(j[0].c,O.read_shift(2),!0),X=b(j[0].r,O.read_shift(2),!1);ge=b(j[0].c,O.read_shift(2),!0),ne=b(j[0].r,O.read_shift(2),!1),H.push(Le+X+":"+ge+ne)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(O.read_shift(2));break;case 6:{for(var ze="";de=O[O.l++];)ze+=String.fromCharCode(de);H.push('"'+ze.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:ue=H.pop(),ce=H.pop(),H.push(["AND","OR"][de-20]+"("+ce+","+ue+")");break;default:if(de<32&&M[de])ue=H.pop(),ce=H.pop(),H.push(ce+M[de]+ue);else if(w[de]){if(K=w[de][1],K==69&&(K=O[O.l++]),K>H.length){console.error("WK1 bad formula parse 0x"+de.toString(16)+":|"+H.join("|")+"|");return}var _e=H.slice(-K);H.length-=K,H.push(w[de][0]+"("+_e.join(",")+")")}else return de<=7?console.error("WK1 invalid opcode "+de.toString(16)):de<=24?console.error("WK1 unsupported op "+de.toString(16)):de<=30?console.error("WK1 invalid opcode "+de.toString(16)):de<=115?console.error("WK1 unsupported function opcode "+de.toString(16)):console.error("WK1 unrecognized opcode "+de.toString(16))}}H.length==1?j[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function T(O){var j=[{c:0,r:0},{t:"n",v:0},0];return j[0].r=O.read_shift(2),j[3]=O[O.l++],j[0].c=O[O.l++],j}function k(O,j){var H=T(O);return H[1].t="s",H[1].v=O.read_shift(j-4,"cstr"),H}function R(O,j,H,K){var ne=ds(6+K.length);ne.write_shift(2,O),ne.write_shift(1,H),ne.write_shift(1,j),ne.write_shift(1,39);for(var ge=0;ge<K.length;++ge){var ce=K.charCodeAt(ge);ne.write_shift(1,ce>=128?95:ce)}return ne.write_shift(1,0),ne}function F(O,j){var H=T(O);H[1].v=O.read_shift(2);var K=H[1].v>>1;if(H[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return H[1].v=K,H}function I(O,j){var H=T(O),K=O.read_shift(4),ne=O.read_shift(4),ge=O.read_shift(2);if(ge==65535)return K===0&&ne===3221225472?(H[1].t="e",H[1].v=15):K===0&&ne===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var ce=ge&32768;return ge=(ge&32767)-16446,H[1].v=(1-ce*2)*(ne*Math.pow(2,ge+32)+K*Math.pow(2,ge)),H}function N(O,j,H,K){var ne=ds(14);if(ne.write_shift(2,O),ne.write_shift(1,H),ne.write_shift(1,j),K==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var ge=0,ce=0,ue=0,de=0;return K<0&&(ge=1,K=-K),ce=Math.log2(K)|0,K/=Math.pow(2,ce-31),de=K>>>0,(de&2147483648)==0&&(K/=2,++ce,de=K>>>0),K-=de,de|=2147483648,de>>>=0,K*=Math.pow(2,32),ue=K>>>0,ne.write_shift(4,ue),ne.write_shift(4,de),ce+=16383+(ge?32768:0),ne.write_shift(2,ce),ne}function G(O,j){var H=I(O);return O.l+=j-14,H}function V(O,j){var H=T(O),K=O.read_shift(4);return H[1].v=K>>6,H}function Q(O,j){var H=T(O),K=O.read_shift(8,"f");return H[1].v=K,H}function pe(O,j){var H=Q(O);return O.l+=j-10,H}function ae(O,j){return O[O.l+j-1]==0?O.read_shift(j,"cstr"):""}function se(O,j){var H=O[O.l++];H>j-1&&(H=j-1);for(var K="";K.length<H;)K+=String.fromCharCode(O[O.l++]);return K}function le(O,j,H){if(!(!H.qpro||j<21)){var K=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var ne=O.read_shift(j-21,"cstr");return[K,ne]}}function re(O,j){for(var H={},K=O.l+j;O.l<K;){var ne=O.read_shift(2);if(ne==14e3){for(H[ne]=[0,""],H[ne][0]=O.read_shift(2);O[O.l];)H[ne][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return H}function J(O,j){var H=ds(5+O.length);H.write_shift(2,14e3),H.write_shift(2,j);for(var K=0;K<O.length;++K){var ne=O.charCodeAt(K);H[H.l++]=ne>127?95:ne}return H[H.l++]=0,H}var z={0:{n:"BOF",f:ss},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ae},222:{n:"SHEETNAMELP",f:se},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:G},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:V},38:{n:"??"},39:{n:"NUMBER27",f:Q},40:{n:"FORMULA28",f:pe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ae},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:n,to_workbook:t}}();function nge(e){var t={},i=e.match(cn),s=0,n=!1;if(i)for(;s!=i.length;++s){var r=ct(i[s]);switch(r[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!r.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(r.val=="1")break;t.cp=nT[parseInt(r.val,10)];break;case"<outline":if(!r.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=r.val;break;case"<sz":t.sz=r.val;break;case"<strike":if(!r.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!r.val)break;switch(r.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(r.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(r.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":r.rgb&&(t.color=r.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=r.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=r.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(r[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+r[0])}}return t}var rge=function(){var e=om("t"),t=om("rPr");function i(r){var o=r.match(e);if(!o)return{t:"s",v:""};var a={t:"s",v:_t(o[1])},l=r.match(t);return l&&(a.s=nge(l[1])),a}var s=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(o){return o.replace(s,"").split(n).map(i).filter(function(a){return a.v})}}(),oge=function(){var t=/(\r\n|\n)/g;function i(n,r,o){var a=[];n.u&&a.push("text-decoration: underline;"),n.uval&&a.push("text-underline-style:"+n.uval+";"),n.sz&&a.push("font-size:"+n.sz+"pt;"),n.outline&&a.push("text-effect: outline;"),n.shadow&&a.push("text-shadow: auto;"),r.push('<span style="'+a.join("")+'">'),n.b&&(r.push("<b>"),o.push("</b>")),n.i&&(r.push("<i>"),o.push("</i>")),n.strike&&(r.push("<s>"),o.push("</s>"));var l=n.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(r.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),n}function s(n){var r=[[],n.v,[]];return n.v?(n.s&&i(n.s,r[0],r[2]),r[0].join("")+r[1].replace(t,"<br/>")+r[2].join("")):""}return function(r){return r.map(s).join("")}}(),age=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,lge=/<(?:\w+:)?r>/,cge=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function bT(e,t){var i=t?t.cellHTML:!0,s={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(s.t=_t(di(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),s.r=di(e),i&&(s.h=hT(s.t))):e.match(lge)&&(s.r=di(e),s.t=_t(di((e.replace(cge,"").match(age)||[]).join("").replace(cn,""))),i&&(s.h=oge(rge(s.r)))),s):{t:""}}var uge=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,hge=/<(?:\w+:)?(?:si|sstItem)>/g,dge=/<\/(?:\w+:)?(?:si|sstItem)>/;function fge(e,t){var i=[],s="";if(!e)return i;var n=e.match(uge);if(n){s=n[2].replace(hge,"").split(dge);for(var r=0;r!=s.length;++r){var o=bT(s[r].trim(),t);o!=null&&(i[i.length]=o)}n=ct(n[1]),i.Count=n.count,i.Unique=n.uniqueCount}return i}function gge(e){return[e.read_shift(4),e.read_shift(4)]}function pge(e,t){var i=[],s=!1;return El(e,function(r,o,a){switch(a){case 159:i.Count=r[0],i.Unique=r[1];break;case 19:i.push(r);break;case 160:return!0;case 35:s=!0;break;case 36:s=!1;break;default:if(o.T,!s||t.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}}),i}function hH(e){for(var t=[],i=e.split(""),s=0;s<i.length;++s)t[s]=i[s].charCodeAt(0);return t}function el(e,t){var i={};return i.Major=e.read_shift(2),i.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),i}function mge(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=el(e,4),t.U=el(e,4),t.W=el(e,4),t}function yge(e){for(var t=e.read_shift(4),i=e.l+t-4,s={},n=e.read_shift(4),r=[];n-- >0;)r.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(s.name=e.read_shift(0,"lpp4"),s.comps=r,e.l!=i)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+i);return s}function vge(e){var t=[];e.l+=4;for(var i=e.read_shift(4);i-- >0;)t.push(yge(e));return t}function Cge(e){var t=[];e.l+=4;for(var i=e.read_shift(4);i-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function xge(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=el(e,4),t.U=el(e,4),t.W=el(e,4),t}function bge(e){var t=xge(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function dH(e,t){var i=e.l+t,s={};s.Flags=e.read_shift(4)&63,e.l+=4,s.AlgID=e.read_shift(4);var n=!1;switch(s.AlgID){case 26126:case 26127:case 26128:n=s.Flags==36;break;case 26625:n=s.Flags==4;break;case 0:n=s.Flags==16||s.Flags==4||s.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+s.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return s.AlgIDHash=e.read_shift(4),s.KeySize=e.read_shift(4),s.ProviderType=e.read_shift(4),e.l+=8,s.CSPName=e.read_shift(i-e.l>>1,"utf16le"),e.l=i,s}function fH(e,t){var i={},s=e.l+t;return e.l+=4,i.Salt=e.slice(e.l,e.l+16),e.l+=16,i.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),i.VerifierHash=e.slice(e.l,s),e.l=s,i}function Sge(e){var t=el(e);switch(t.Minor){case 2:return[t.Minor,wge(e)];case 3:return[t.Minor,Mge()];case 4:return[t.Minor,Dge(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function wge(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var i=e.read_shift(4),s=dH(e,i),n=fH(e,e.length-e.l);return{t:"Std",h:s,v:n}}function Mge(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Dge(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var i=e.read_shift(e.length-e.l,"utf8"),s={};return i.replace(cn,function(r){var o=ct(r);switch(ma(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(a){s[a]=o[a]});break;case"<dataIntegrity":s.encryptedHmacKey=o.encryptedHmacKey,s.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":s.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":s.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":s.encs.push(o);break;default:throw o[0]}}),s}function Age(e,t){var i={},s=i.EncryptionVersionInfo=el(e,4);if(t-=4,s.Minor!=2)throw new Error("unrecognized minor version code: "+s.Minor);if(s.Major>4||s.Major<2)throw new Error("unrecognized major version code: "+s.Major);i.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,i.EncryptionHeader=dH(e,n),t-=n,i.EncryptionVerifier=fH(e,t),i}function Ege(e){var t={},i=t.EncryptionVersionInfo=el(e,4);if(i.Major!=1||i.Minor!=1)throw"unrecognized version code "+i.Major+" : "+i.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Tge(e){var t=0,i,s=hH(e),n=s.length+1,r,o,a,l,u;for(i=wc(n),i[0]=s.length,r=1;r!=n;++r)i[r]=s[r-1];for(r=n-1;r>=0;--r)o=i[r],a=(t&16384)===0?0:1,l=t<<1&32767,u=a|l,t=u^o;return t^52811}var gH=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],i=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],s=function(o){return(o/2|o*128)&255},n=function(o,a){return s(o^a)},r=function(o){for(var a=t[o.length-1],l=104,u=o.length-1;u>=0;--u)for(var h=o[u],f=0;f!=7;++f)h&64&&(a^=i[l]),h*=2,--l;return a};return function(o){for(var a=hH(o),l=r(a),u=a.length,h=wc(16),f=0;f!=16;++f)h[f]=0;var g,m,y;for((u&1)===1&&(g=l>>8,h[u]=n(e[0],g),--u,g=l&255,m=a[a.length-1],h[u]=n(m,g));u>0;)--u,g=l>>8,h[u]=n(a[u],g),--u,g=l&255,h[u]=n(a[u],g);for(u=15,y=15-a.length;y>0;)g=l>>8,h[u]=n(e[y],g),--u,--y,g=l&255,h[u]=n(a[u],g),--u,--y;return h}}(),Rge=function(e,t,i,s,n){n||(n=t),s||(s=gH(e));var r,o;for(r=0;r!=t.length;++r)o=t[r],o^=s[i],o=(o>>5|o<<3)&255,n[r]=o,++i;return[n,i,s]},kge=function(e){var t=0,i=gH(e);return function(s){var n=Rge("",s,t,i);return t=n[1],n[0]}};function Ige(e,t,i,s){var n={key:ss(e),verificationBytes:ss(e)};return i.password&&(n.verifier=Tge(i.password)),s.valid=n.verificationBytes===n.verifier,s.valid&&(s.insitu=kge(i.password)),n}function Lge(e,t,i){var s=i||{};return s.Info=e.read_shift(2),e.l-=2,s.Info===1?s.Data=Ege(e):s.Data=Age(e,t),s}function Fge(e,t,i){var s={Type:i.biff>=8?e.read_shift(2):0};return s.Type?Lge(e,t-2,s):Ige(e,i.biff>=8?t:t-2,i,s),s}var Pge=function(){function e(n,r){switch(r.type){case"base64":return t(cr(n),r);case"binary":return t(n,r);case"buffer":return t(kt&&Buffer.isBuffer(n)?n.toString("binary"):xh(n),r);case"array":return t(th(n),r)}throw new Error("Unrecognized type "+r.type)}function t(n,r){var o=r||{},a=o.dense?[]:{},l=n.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(h,f){Array.isArray(a)&&(a[f]=[]);for(var g=/\\\w+\b/g,m=0,y,C=-1;y=g.exec(h);){switch(y[0]){case"\\cell":var x=h.slice(m,g.lastIndex-y[0].length);if(x[0]==" "&&(x=x.slice(1)),++C,x.length){var b={v:x,t:"s"};Array.isArray(a)?a[f][C]=b:a[yt({r:f,c:C})]=b}break}m=g.lastIndex}C>u.e.c&&(u.e.c=C)}),a["!ref"]=Ot(u),a}function i(n,r){return Gc(e(n,r),r)}function s(n){for(var r=["{\\rtf1\\ansi"],o=zi(n["!ref"]),a,l=Array.isArray(n),u=o.s.r;u<=o.e.r;++u){r.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)r.push("\\cellx"+(h+1));for(r.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var f=yt({r:u,c:h});a=l?(n[u]||[])[h]:n[f],!(!a||a.v==null&&(!a.f||a.F))&&(r.push(" "+(a.w||(cl(a),a.w))),r.push("\\cell"))}r.push("\\pard\\intbl\\row")}return r.join("")+"}"}return{to_workbook:i,to_sheet:e,from_sheet:s}}();function Oge(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function cm(e){for(var t=0,i=1;t!=3;++t)i=i*256+(e[t]>255?255:e[t]<0?0:e[t]);return i.toString(16).toUpperCase().slice(1)}function Nge(e){var t=e[0]/255,i=e[1]/255,s=e[2]/255,n=Math.max(t,i,s),r=Math.min(t,i,s),o=n-r;if(o===0)return[0,0,t];var a=0,l=0,u=n+r;switch(l=o/(u>1?2-u:u),n){case t:a=((i-s)/o+6)%6;break;case i:a=(s-t)/o+2;break;case s:a=(t-i)/o+4;break}return[a/6,l,u/2]}function _ge(e){var t=e[0],i=e[1],s=e[2],n=i*2*(s<.5?s:1-s),r=s-n/2,o=[r,r,r],a=6*t,l;if(i!==0)switch(a|0){case 0:case 6:l=n*a,o[0]+=n,o[1]+=l;break;case 1:l=n*(2-a),o[0]+=l,o[1]+=n;break;case 2:l=n*(a-2),o[1]+=n,o[2]+=l;break;case 3:l=n*(4-a),o[1]+=l,o[2]+=n;break;case 4:l=n*(a-4),o[2]+=n,o[0]+=l;break;case 5:l=n*(6-a),o[2]+=l,o[0]+=n;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function PC(e,t){if(t===0)return e;var i=Nge(Oge(e));return t<0?i[2]=i[2]*(1+t):i[2]=1-(1-i[2])*(1-t),cm(_ge(i))}var pH=6,Bge=15,Gge=1,Dn=pH;function OC(e){return Math.floor((e+Math.round(128/Dn)/256)*Dn)}function NC(e){return Math.floor((e-5)/Dn*100+.5)/100}function aD(e){return Math.round((e*Dn+5)/Dn*256)/256}function F1(e){return aD(NC(OC(e)))}function ST(e){var t=Math.abs(e-F1(e)),i=Dn;if(t>.005)for(Dn=Gge;Dn<Bge;++Dn)Math.abs(e-F1(e))<=t&&(t=Math.abs(e-F1(e)),i=Dn);Dn=i}function nf(e){e.width?(e.wpx=OC(e.width),e.wch=NC(e.wpx),e.MDW=Dn):e.wpx?(e.wch=NC(e.wpx),e.width=aD(e.wch),e.MDW=Dn):typeof e.wch=="number"&&(e.width=aD(e.wch),e.wpx=OC(e.width),e.MDW=Dn),e.customWidth&&delete e.customWidth}var zge=96,mH=zge;function yH(e){return e*96/mH}function um(e){return e*mH/96}var Hge={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Vge(e,t,i,s){t.Borders=[];var n={},r=!1;(e[0].match(cn)||[]).forEach(function(o){var a=ct(o);switch(ma(a[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},a.diagonalUp&&(n.diagonalUp=xi(a.diagonalUp)),a.diagonalDown&&(n.diagonalDown=xi(a.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(s&&s.WTF&&!r)throw new Error("unrecognized "+a[0]+" in borders")}})}function Wge(e,t,i,s){t.Fills=[];var n={},r=!1;(e[0].match(cn)||[]).forEach(function(o){var a=ct(o);switch(ma(a[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":a.patternType&&(n.patternType=a.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),a.indexed&&(n.bgColor.indexed=parseInt(a.indexed,10)),a.theme&&(n.bgColor.theme=parseInt(a.theme,10)),a.tint&&(n.bgColor.tint=parseFloat(a.tint)),a.rgb&&(n.bgColor.rgb=a.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),a.theme&&(n.fgColor.theme=parseInt(a.theme,10)),a.tint&&(n.fgColor.tint=parseFloat(a.tint)),a.rgb!=null&&(n.fgColor.rgb=a.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(s&&s.WTF&&!r)throw new Error("unrecognized "+a[0]+" in fills")}})}function Uge(e,t,i,s){t.Fonts=[];var n={},r=!1;(e[0].match(cn)||[]).forEach(function(o){var a=ct(o);switch(ma(a[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":a.val&&(n.name=di(a.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=a.val?xi(a.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=a.val?xi(a.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(a.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=a.val?xi(a.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=a.val?xi(a.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=a.val?xi(a.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=a.val?xi(a.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=a.val?xi(a.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":a.val&&(n.sz=+a.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":a.val&&(n.vertAlign=a.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":a.val&&(n.family=parseInt(a.val,10));break;case"<family/>":case"</family>":break;case"<scheme":a.val&&(n.scheme=a.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(a.val=="1")break;a.codepage=nT[parseInt(a.val,10)];break;case"<color":if(n.color||(n.color={}),a.auto&&(n.color.auto=xi(a.auto)),a.rgb)n.color.rgb=a.rgb.slice(-6);else if(a.indexed){n.color.index=parseInt(a.indexed,10);var l=Uu[n.color.index];n.color.index==81&&(l=Uu[1]),l||(l=Uu[1]),n.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else a.theme&&(n.color.theme=parseInt(a.theme,10),a.tint&&(n.color.tint=parseFloat(a.tint)),a.theme&&i.themeElements&&i.themeElements.clrScheme&&(n.color.rgb=PC(i.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":r=!0;break;case"</AlternateContent>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(s&&s.WTF&&!r)throw new Error("unrecognized "+a[0]+" in fonts")}})}function jge(e,t,i){t.NumberFmt=[];for(var s=la(Ct),n=0;n<s.length;++n)t.NumberFmt[s[n]]=Ct[s[n]];var r=e[0].match(cn);if(r)for(n=0;n<r.length;++n){var o=ct(r[n]);switch(ma(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var a=_t(di(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=a,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=a}Wu(a,l)}}break;case"</numFmt>":break;default:if(i.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var tv=["numFmtId","fillId","fontId","borderId","xfId"],iv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Yge(e,t,i){t.CellXf=[];var s,n=!1;(e[0].match(cn)||[]).forEach(function(r){var o=ct(r),a=0;switch(ma(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(s=o,delete s[0],a=0;a<tv.length;++a)s[tv[a]]&&(s[tv[a]]=parseInt(s[tv[a]],10));for(a=0;a<iv.length;++a)s[iv[a]]&&(s[iv[a]]=xi(s[iv[a]]));if(t.NumberFmt&&s.numFmtId>392){for(a=392;a>60;--a)if(t.NumberFmt[s.numFmtId]==t.NumberFmt[a]){s.numFmtId=a;break}}t.CellXf.push(s);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=xi(o.wrapText)),s.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(i&&i.WTF&&!n)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var Kge=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,i=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,s=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,r=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,l,u){var h={};if(!a)return h;a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=a.match(t))&&jge(f,h,u),(f=a.match(n))&&Uge(f,h,l,u),(f=a.match(s))&&Wge(f,h,l,u),(f=a.match(r))&&Vge(f,h,l,u),(f=a.match(i))&&Yge(f,h,u),h}}();function $ge(e,t){var i=e.read_shift(2),s=en(e);return[i,s]}function Xge(e,t,i){var s={};s.sz=e.read_shift(2)/20;var n=rde(e);n.fItalic&&(s.italic=1),n.fCondense&&(s.condense=1),n.fExtend&&(s.extend=1),n.fShadow&&(s.shadow=1),n.fOutline&&(s.outline=1),n.fStrikeout&&(s.strike=1);var r=e.read_shift(2);switch(r===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(s.underline=o);var a=e.read_shift(1);a>0&&(s.family=a);var l=e.read_shift(1);switch(l>0&&(s.charset=l),e.l++,s.color=nde(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=en(e),s}var Zge=sn;function qge(e,t){var i=e.l+t,s=e.read_shift(2),n=e.read_shift(2);return e.l=i,{ixfe:s,numFmtId:n}}var Qge=sn;function Jge(e,t,i){var s={};s.NumberFmt=[];for(var n in Ct)s.NumberFmt[n]=Ct[n];s.CellXf=[],s.Fonts=[];var r=[],o=!1;return El(e,function(l,u,h){switch(h){case 44:s.NumberFmt[l[0]]=l[1],Wu(l[1],l[0]);break;case 43:s.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=PC(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:r[r.length-1]==617&&s.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:r.push(h),o=!0;break;case 38:r.pop(),o=!1;break;default:if(u.T>0)r.push(h);else if(u.T<0)r.pop();else if(!o||i.WTF&&r[r.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),s}var epe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function tpe(e,t,i){t.themeElements.clrScheme=[];var s={};(e[0].match(cn)||[]).forEach(function(n){var r=ct(n);switch(r[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":s.rgb=r.val;break;case"<a:sysClr":s.rgb=r.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":r[0].charAt(1)==="/"?(t.themeElements.clrScheme[epe.indexOf(r[0])]=s,s={}):s.name=r[0].slice(3,r[0].length-1);break;default:if(i&&i.WTF)throw new Error("Unrecognized "+r[0]+" in clrScheme")}})}function ipe(){}function spe(){}var npe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,rpe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,ope=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ape(e,t,i){t.themeElements={};var s;[["clrScheme",npe,tpe],["fontScheme",rpe,ipe],["fmtScheme",ope,spe]].forEach(function(n){if(!(s=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](s,t,i)})}var lpe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function vH(e,t){(!e||e.length===0)&&(e=cpe());var i,s={};if(!(i=e.match(lpe)))throw new Error("themeElements not found in theme");return ape(i[0],s,t),s.raw=e,s}function cpe(e,t){var i=[Rz];return i[i.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',i[i.length]="<a:themeElements>",i[i.length]='<a:clrScheme name="Office">',i[i.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',i[i.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',i[i.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',i[i.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',i[i.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',i[i.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',i[i.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',i[i.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',i[i.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',i[i.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',i[i.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',i[i.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',i[i.length]="</a:clrScheme>",i[i.length]='<a:fontScheme name="Office">',i[i.length]="<a:majorFont>",i[i.length]='<a:latin typeface="Cambria"/>',i[i.length]='<a:ea typeface=""/>',i[i.length]='<a:cs typeface=""/>',i[i.length]='<a:font script="Jpan" typeface=" "/>',i[i.length]='<a:font script="Hang" typeface=" "/>',i[i.length]='<a:font script="Hans" typeface=""/>',i[i.length]='<a:font script="Hant" typeface=""/>',i[i.length]='<a:font script="Arab" typeface="Times New Roman"/>',i[i.length]='<a:font script="Hebr" typeface="Times New Roman"/>',i[i.length]='<a:font script="Thai" typeface="Tahoma"/>',i[i.length]='<a:font script="Ethi" typeface="Nyala"/>',i[i.length]='<a:font script="Beng" typeface="Vrinda"/>',i[i.length]='<a:font script="Gujr" typeface="Shruti"/>',i[i.length]='<a:font script="Khmr" typeface="MoolBoran"/>',i[i.length]='<a:font script="Knda" typeface="Tunga"/>',i[i.length]='<a:font script="Guru" typeface="Raavi"/>',i[i.length]='<a:font script="Cans" typeface="Euphemia"/>',i[i.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',i[i.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',i[i.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',i[i.length]='<a:font script="Thaa" typeface="MV Boli"/>',i[i.length]='<a:font script="Deva" typeface="Mangal"/>',i[i.length]='<a:font script="Telu" typeface="Gautami"/>',i[i.length]='<a:font script="Taml" typeface="Latha"/>',i[i.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',i[i.length]='<a:font script="Orya" typeface="Kalinga"/>',i[i.length]='<a:font script="Mlym" typeface="Kartika"/>',i[i.length]='<a:font script="Laoo" typeface="DokChampa"/>',i[i.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',i[i.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',i[i.length]='<a:font script="Viet" typeface="Times New Roman"/>',i[i.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',i[i.length]='<a:font script="Geor" typeface="Sylfaen"/>',i[i.length]="</a:majorFont>",i[i.length]="<a:minorFont>",i[i.length]='<a:latin typeface="Calibri"/>',i[i.length]='<a:ea typeface=""/>',i[i.length]='<a:cs typeface=""/>',i[i.length]='<a:font script="Jpan" typeface=" "/>',i[i.length]='<a:font script="Hang" typeface=" "/>',i[i.length]='<a:font script="Hans" typeface=""/>',i[i.length]='<a:font script="Hant" typeface=""/>',i[i.length]='<a:font script="Arab" typeface="Arial"/>',i[i.length]='<a:font script="Hebr" typeface="Arial"/>',i[i.length]='<a:font script="Thai" typeface="Tahoma"/>',i[i.length]='<a:font script="Ethi" typeface="Nyala"/>',i[i.length]='<a:font script="Beng" typeface="Vrinda"/>',i[i.length]='<a:font script="Gujr" typeface="Shruti"/>',i[i.length]='<a:font script="Khmr" typeface="DaunPenh"/>',i[i.length]='<a:font script="Knda" typeface="Tunga"/>',i[i.length]='<a:font script="Guru" typeface="Raavi"/>',i[i.length]='<a:font script="Cans" typeface="Euphemia"/>',i[i.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',i[i.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',i[i.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',i[i.length]='<a:font script="Thaa" typeface="MV Boli"/>',i[i.length]='<a:font script="Deva" typeface="Mangal"/>',i[i.length]='<a:font script="Telu" typeface="Gautami"/>',i[i.length]='<a:font script="Taml" typeface="Latha"/>',i[i.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',i[i.length]='<a:font script="Orya" typeface="Kalinga"/>',i[i.length]='<a:font script="Mlym" typeface="Kartika"/>',i[i.length]='<a:font script="Laoo" typeface="DokChampa"/>',i[i.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',i[i.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',i[i.length]='<a:font script="Viet" typeface="Arial"/>',i[i.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',i[i.length]='<a:font script="Geor" typeface="Sylfaen"/>',i[i.length]="</a:minorFont>",i[i.length]="</a:fontScheme>",i[i.length]='<a:fmtScheme name="Office">',i[i.length]="<a:fillStyleLst>",i[i.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:lin ang="16200000" scaled="1"/>',i[i.length]="</a:gradFill>",i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:lin ang="16200000" scaled="0"/>',i[i.length]="</a:gradFill>",i[i.length]="</a:fillStyleLst>",i[i.length]="<a:lnStyleLst>",i[i.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]="</a:lnStyleLst>",i[i.length]="<a:effectStyleLst>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]="</a:effectStyle>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]="</a:effectStyle>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',i[i.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',i[i.length]="</a:effectStyle>",i[i.length]="</a:effectStyleLst>",i[i.length]="<a:bgFillStyleLst>",i[i.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',i[i.length]="</a:gradFill>",i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',i[i.length]="</a:gradFill>",i[i.length]="</a:bgFillStyleLst>",i[i.length]="</a:fmtScheme>",i[i.length]="</a:themeElements>",i[i.length]="<a:objectDefaults>",i[i.length]="<a:spDef>",i[i.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',i[i.length]="</a:spDef>",i[i.length]="<a:lnDef>",i[i.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',i[i.length]="</a:lnDef>",i[i.length]="</a:objectDefaults>",i[i.length]="<a:extraClrSchemeLst/>",i[i.length]="</a:theme>",i.join("")}function upe(e,t,i){var s=e.l+t,n=e.read_shift(4);if(n!==124226){if(!i.cellStyles){e.l=s;return}var r=e.slice(e.l);e.l=s;var o;try{o=Tz(r,{type:"array"})}catch{return}var a=nr(o,"theme/theme/theme1.xml",!0);if(a)return vH(a,i)}}function hpe(e){return e.read_shift(4)}function dpe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=fpe(e,4);break;case 2:t.xclrValue=nH(e);break;case 3:t.xclrValue=hpe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function fpe(e,t){return sn(e,t)}function gpe(e,t){return sn(e,t)}function ppe(e){var t=e.read_shift(2),i=e.read_shift(2)-4,s=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:s[1]=dpe(e);break;case 6:s[1]=gpe(e,i);break;case 14:case 15:s[1]=e.read_shift(i===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+i)}return s}function mpe(e,t){var i=e.l+t;e.l+=2;var s=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),r=[];n-- >0;)r.push(ppe(e,i-e.l));return{ixfe:s,ext:r}}function ype(e,t){t.forEach(function(i){i[0]})}function vpe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:en(e)}}function Cpe(e){for(var t=[],i=e.read_shift(4);i-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function xpe(e){return e.l+=4,e.read_shift(4)!=0}function bpe(e,t,i){var s={Types:[],Cell:[],Value:[]},n=i||{},r=[],o=!1,a=2;return El(e,function(l,u,h){switch(h){case 335:s.Types.push({name:l.name});break;case 51:l.forEach(function(f){a==1?s.Cell.push({type:s.Types[f[0]-1].name,index:f[1]}):a==0&&s.Value.push({type:s.Types[f[0]-1].name,index:f[1]})});break;case 337:a=l?1:0;break;case 338:a=2;break;case 35:r.push(h),o=!0;break;case 36:r.pop(),o=!1;break;default:if(!u.T){if(!o||n.WTF&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),s}function Spe(e,t,i){var s={Types:[],Cell:[],Value:[]};if(!e)return s;var n=!1,r=2,o;return e.replace(cn,function(a){var l=ct(a);switch(ma(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":s.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<s.Types.length;++u)s.Types[u].name==l.name&&(o=s.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":r==1?s.Cell.push({type:s.Types[l.t-1].name,index:+l.v}):r==0&&s.Value.push({type:s.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":r=1;break;case"</cellMetadata>":r=2;break;case"<valueMetadata":r=0;break;case"</valueMetadata>":r=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!n&&i.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return a}),s}function wpe(e){var t=[];if(!e)return t;var i=1;return(e.match(cn)||[]).forEach(function(s){var n=ct(s);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?i=n.i:n.i=i,t.push(n);break}}),t}function Mpe(e){var t={};t.i=e.read_shift(4);var i={};i.r=e.read_shift(4),i.c=e.read_shift(4),t.r=yt(i);var s=e.read_shift(1);return s&2&&(t.l="1"),s&8&&(t.a="1"),t}function Dpe(e,t,i){var s=[];return El(e,function(r,o,a){switch(a){case 63:s.push(r);break;default:if(!o.T)throw new Error("Unexpected record 0x"+a.toString(16))}}),s}function Ape(e,t,i,s){if(!e)return e;var n=s||{},r=!1;El(e,function(a,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:r=!0;break;case 36:r=!1;break;default:if(!l.T){if(!r||n.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},n)}function Epe(e,t){if(!e)return"??";var i=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][i].Target}function zP(e,t,i,s){var n=Array.isArray(e),r;t.forEach(function(o){var a=Tn(o.ref);if(n?(e[a.r]||(e[a.r]=[]),r=e[a.r][a.c]):r=e[o.ref],!r){r={t:"z"},n?e[a.r][a.c]=r:e[o.ref]=r;var l=zi(e["!ref"]||"BDWGO1000001:A1");l.s.r>a.r&&(l.s.r=a.r),l.e.r<a.r&&(l.e.r=a.r),l.s.c>a.c&&(l.s.c=a.c),l.e.c<a.c&&(l.e.c=a.c);var u=Ot(l);u!==e["!ref"]&&(e["!ref"]=u)}r.c||(r.c=[]);var h={a:o.author,t:o.t,r:o.r,T:i};o.h&&(h.h=o.h);for(var f=r.c.length-1;f>=0;--f){if(!i&&r.c[f].T)return;i&&!r.c[f].T&&r.c.splice(f,1)}if(i&&s){for(f=0;f<s.length;++f)if(h.a==s[f].id){h.a=s[f].name||h.a;break}}r.c.push(h)})}function Tpe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var i=[],s=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?author[^>]*>(.*)/);a&&i.push(a[1])}});var r=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return r&&r[1]&&r[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?comment[^>]*>/);if(a){var l=ct(a[0]),u={author:l.authorId&&i[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},h=Tn(l.ref);if(!(t.sheetRows&&t.sheetRows<=h.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!f&&!!f[1]&&bT(f[1])||{r:"",t:"",h:""};u.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),u.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=g.h),s.push(u)}}}}),s}function Rpe(e,t){var i=[],s=!1,n={},r=0;return e.replace(cn,function(a,l){var u=ct(a);switch(ma(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":n.t!=null&&i.push(n);break;case"<text>":case"<text":r=l+a.length;break;case"</text>":n.t=e.slice(r,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":s=!0;break;case"</mentions>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return a}),i}function kpe(e,t){var i=[],s=!1;return e.replace(cn,function(r){var o=ct(r);switch(ma(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":i.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return r}),i}function Ipe(e){var t={};t.iauthor=e.read_shift(4);var i=Sh(e);return t.rfx=i.s,t.ref=yt(i.s),e.l+=16,t}var Lpe=en;function Fpe(e,t){var i=[],s=[],n={},r=!1;return El(e,function(a,l,u){switch(u){case 632:s.push(a);break;case 635:n=a;break;case 637:n.t=a.t,n.h=a.h,n.r=a.r;break;case 636:if(n.author=s[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,i.push(n);break;case 3072:break;case 35:r=!0;break;case 36:r=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!r||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),i}var Ppe="application/vnd.ms-office.vbaProject";function Ope(e){var t=Pt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(i,s){if(!(i.slice(-1)==="/"||!i.match(/_VBA_PROJECT_CUR/))){var n=i.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Pt.utils.cfb_add(t,n,e.FileIndex[s].content)}}),Pt.write(t)}function Npe(){return{"!type":"dialog"}}function _pe(){return{"!type":"dialog"}}function Bpe(){return{"!type":"macro"}}function Gpe(){return{"!type":"macro"}}var Gd=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function i(s,n,r,o){var a=!1,l=!1;r.length==0?l=!0:r.charAt(0)=="["&&(l=!0,r=r.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var u=r.length>0?parseInt(r,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return a?h+=t.c:--h,l?u+=t.r:--u,n+(a?"":"$")+ps(h)+(l?"":"$")+Hs(u)}return function(n,r){return t=r,n.replace(e,i)}}(),CH=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,zpe=function(){return function(t,i){return t.replace(CH,function(s,n,r,o,a,l){var u=pT(o)-(r?0:i.c),h=gT(l)-(a?0:i.r),f=h==0?"":a?h+1:"["+h+"]",g=u==0?"":r?u+1:"["+u+"]";return n+"R"+f+"C"+g})}}();function xH(e,t){return e.replace(CH,function(i,s,n,r,o,a){return s+(n=="$"?n+r:ps(pT(r)+t.c))+(o=="$"?o+a:Hs(gT(a)+t.r))})}function Hpe(e,t,i){var s=Ff(t),n=s.s,r=Tn(i),o={r:r.r-n.r,c:r.c-n.c};return xH(e,o)}function Vpe(e){return e.length!=1}function HP(e){return e.replace(/_xlfn\./g,"")}function es(e){e.l+=1}function Mc(e,t){var i=e.read_shift(2);return[i&16383,i>>14&1,i>>15&1]}function bH(e,t,i){var s=2;if(i){if(i.biff>=2&&i.biff<=5)return SH(e);i.biff==12&&(s=4)}var n=e.read_shift(s),r=e.read_shift(s),o=Mc(e),a=Mc(e);return{s:{r:n,c:o[0],cRel:o[1],rRel:o[2]},e:{r,c:a[0],cRel:a[1],rRel:a[2]}}}function SH(e){var t=Mc(e),i=Mc(e),s=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:s,cRel:t[1],rRel:t[2]},e:{r:i[0],c:n,cRel:i[1],rRel:i[2]}}}function Wpe(e,t,i){if(i.biff<8)return SH(e);var s=e.read_shift(i.biff==12?4:2),n=e.read_shift(i.biff==12?4:2),r=Mc(e),o=Mc(e);return{s:{r:s,c:r[0],cRel:r[1],rRel:r[2]},e:{r:n,c:o[0],cRel:o[1],rRel:o[2]}}}function wH(e,t,i){if(i&&i.biff>=2&&i.biff<=5)return Upe(e);var s=e.read_shift(i&&i.biff==12?4:2),n=Mc(e);return{r:s,c:n[0],cRel:n[1],rRel:n[2]}}function Upe(e){var t=Mc(e),i=e.read_shift(1);return{r:t[0],c:i,cRel:t[1],rRel:t[2]}}function jpe(e){var t=e.read_shift(2),i=e.read_shift(2);return{r:t,c:i&255,fQuoted:!!(i&16384),cRel:i>>15,rRel:i>>15}}function Ype(e,t,i){var s=i&&i.biff?i.biff:8;if(s>=2&&s<=5)return Kpe(e);var n=e.read_shift(s>=12?4:2),r=e.read_shift(2),o=(r&16384)>>14,a=(r&32768)>>15;if(r&=16383,a==1)for(;n>524287;)n-=1048576;if(o==1)for(;r>8191;)r=r-16384;return{r:n,c:r,cRel:o,rRel:a}}function Kpe(e){var t=e.read_shift(2),i=e.read_shift(1),s=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,s==1&&t>=8192&&(t=t-16384),n==1&&i>=128&&(i=i-256),{r:t,c:i,cRel:n,rRel:s}}function $pe(e,t,i){var s=(e[e.l++]&96)>>5,n=bH(e,i.biff>=2&&i.biff<=5?6:8,i);return[s,n]}function Xpe(e,t,i){var s=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),r=8;if(i)switch(i.biff){case 5:e.l+=12,r=6;break;case 12:r=12;break}var o=bH(e,r,i);return[s,n,o]}function Zpe(e,t,i){var s=(e[e.l++]&96)>>5;return e.l+=i&&i.biff>8?12:i.biff<8?6:8,[s]}function qpe(e,t,i){var s=(e[e.l++]&96)>>5,n=e.read_shift(2),r=8;if(i)switch(i.biff){case 5:e.l+=12,r=6;break;case 12:r=12;break}return e.l+=r,[s,n]}function Qpe(e,t,i){var s=(e[e.l++]&96)>>5,n=Wpe(e,t-1,i);return[s,n]}function Jpe(e,t,i){var s=(e[e.l++]&96)>>5;return e.l+=i.biff==2?6:i.biff==12?14:7,[s]}function VP(e){var t=e[e.l+1]&1,i=1;return e.l+=4,[t,i]}function eme(e,t,i){e.l+=2;for(var s=e.read_shift(i&&i.biff==2?1:2),n=[],r=0;r<=s;++r)n.push(e.read_shift(i&&i.biff==2?1:2));return n}function tme(e,t,i){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(i&&i.biff==2?1:2)]}function ime(e,t,i){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(i&&i.biff==2?1:2)]}function sme(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function nme(e,t,i){var s=e[e.l+1]&255?1:0;return e.l+=i&&i.biff==2?3:4,[s]}function MH(e){var t=e.read_shift(1),i=e.read_shift(1);return[t,i]}function rme(e){return e.read_shift(2),MH(e)}function ome(e){return e.read_shift(2),MH(e)}function ame(e,t,i){var s=(e[e.l]&96)>>5;e.l+=1;var n=wH(e,0,i);return[s,n]}function lme(e,t,i){var s=(e[e.l]&96)>>5;e.l+=1;var n=Ype(e,0,i);return[s,n]}function cme(e,t,i){var s=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);i&&i.biff==5&&(e.l+=12);var r=wH(e,0,i);return[s,n,r]}function ume(e,t,i){var s=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(i&&i.biff<=3?1:2);return[h0e[n],EH[n],s]}function hme(e,t,i){var s=e[e.l++],n=e.read_shift(1),r=i&&i.biff<=3?[s==88?-1:0,e.read_shift(1)]:dme(e);return[n,(r[0]===0?EH:u0e)[r[1]]]}function dme(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function fme(e,t,i){e.l+=i&&i.biff==2?3:4}function gme(e,t,i){if(e.l++,i&&i.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),n=e.read_shift(i&&i.biff==2?1:2);return[s,n]}function pme(e){return e.l++,wh[e.read_shift(1)]}function mme(e){return e.l++,e.read_shift(2)}function yme(e){return e.l++,e.read_shift(1)!==0}function vme(e){return e.l++,Qs(e)}function Cme(e,t,i){return e.l++,Jm(e,t-1,i)}function xme(e,t){var i=[e.read_shift(1)];if(t==12)switch(i[0]){case 2:i[0]=4;break;case 4:i[0]=16;break;case 0:i[0]=1;break;case 1:i[0]=2;break}switch(i[0]){case 4:i[1]=ji(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:i[1]=wh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:i[1]=Qs(e);break;case 2:i[1]=Mh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+i[0])}return i}function bme(e,t,i){for(var s=e.read_shift(i.biff==12?4:2),n=[],r=0;r!=s;++r)n.push((i.biff==12?Sh:eb)(e));return n}function Sme(e,t,i){var s=0,n=0;i.biff==12?(s=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),s=1+e.read_shift(2)),i.biff>=2&&i.biff<8&&(--s,--n==0&&(n=256));for(var r=0,o=[];r!=s&&(o[r]=[]);++r)for(var a=0;a!=n;++a)o[r][a]=xme(e,i.biff);return o}function wme(e,t,i){var s=e.read_shift(1)>>>5&3,n=!i||i.biff>=8?4:2,r=e.read_shift(n);switch(i.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,r]}function Mme(e,t,i){if(i.biff==5)return Dme(e);var s=e.read_shift(1)>>>5&3,n=e.read_shift(2),r=e.read_shift(4);return[s,n,r]}function Dme(e){var t=e.read_shift(1)>>>5&3,i=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[t,i,s]}function Ame(e,t,i){var s=e.read_shift(1)>>>5&3;e.l+=i&&i.biff==2?3:4;var n=e.read_shift(i&&i.biff==2?1:2);return[s,n]}function Eme(e,t,i){var s=e.read_shift(1)>>>5&3,n=e.read_shift(i&&i.biff==2?1:2);return[s,n]}function Tme(e,t,i){var s=e.read_shift(1)>>>5&3;return e.l+=4,i.biff<8&&e.l--,i.biff==12&&(e.l+=2),[s]}function Rme(e,t,i){var s=(e[e.l++]&96)>>5,n=e.read_shift(2),r=4;if(i)switch(i.biff){case 5:r=15;break;case 12:r=6;break}return e.l+=r,[s,n]}var kme=sn,Ime=sn,Lme=sn;function t0(e,t,i){return e.l+=2,[jpe(e)]}function wT(e){return e.l+=6,[]}var Fme=t0,Pme=wT,Ome=wT,Nme=t0;function DH(e){return e.l+=2,[ss(e),e.read_shift(2)&1]}var _me=t0,Bme=DH,Gme=wT,zme=t0,Hme=t0,Vme=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Wme(e){e.l+=2;var t=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(4),n=e.read_shift(2),r=e.read_shift(2),o=Vme[i>>2&31];return{ixti:t,coltype:i&3,rt:o,idx:s,c:n,C:r}}function Ume(e){return e.l+=2,[e.read_shift(4)]}function jme(e,t,i){return e.l+=5,e.l+=2,e.l+=i.biff==2?1:4,["PTGSHEET"]}function Yme(e,t,i){return e.l+=i.biff==2?4:5,["PTGENDSHEET"]}function Kme(e){var t=e.read_shift(1)>>>5&3,i=e.read_shift(2);return[t,i]}function $me(e){var t=e.read_shift(1)>>>5&3,i=e.read_shift(2);return[t,i]}function Xme(e){return e.l+=4,[0,0]}var WP={1:{n:"PtgExp",f:gme},2:{n:"PtgTbl",f:Lme},3:{n:"PtgAdd",f:es},4:{n:"PtgSub",f:es},5:{n:"PtgMul",f:es},6:{n:"PtgDiv",f:es},7:{n:"PtgPower",f:es},8:{n:"PtgConcat",f:es},9:{n:"PtgLt",f:es},10:{n:"PtgLe",f:es},11:{n:"PtgEq",f:es},12:{n:"PtgGe",f:es},13:{n:"PtgGt",f:es},14:{n:"PtgNe",f:es},15:{n:"PtgIsect",f:es},16:{n:"PtgUnion",f:es},17:{n:"PtgRange",f:es},18:{n:"PtgUplus",f:es},19:{n:"PtgUminus",f:es},20:{n:"PtgPercent",f:es},21:{n:"PtgParen",f:es},22:{n:"PtgMissArg",f:es},23:{n:"PtgStr",f:Cme},26:{n:"PtgSheet",f:jme},27:{n:"PtgEndSheet",f:Yme},28:{n:"PtgErr",f:pme},29:{n:"PtgBool",f:yme},30:{n:"PtgInt",f:mme},31:{n:"PtgNum",f:vme},32:{n:"PtgArray",f:Jpe},33:{n:"PtgFunc",f:ume},34:{n:"PtgFuncVar",f:hme},35:{n:"PtgName",f:wme},36:{n:"PtgRef",f:ame},37:{n:"PtgArea",f:$pe},38:{n:"PtgMemArea",f:Ame},39:{n:"PtgMemErr",f:kme},40:{n:"PtgMemNoMem",f:Ime},41:{n:"PtgMemFunc",f:Eme},42:{n:"PtgRefErr",f:Tme},43:{n:"PtgAreaErr",f:Zpe},44:{n:"PtgRefN",f:lme},45:{n:"PtgAreaN",f:Qpe},46:{n:"PtgMemAreaN",f:Kme},47:{n:"PtgMemNoMemN",f:$me},57:{n:"PtgNameX",f:Mme},58:{n:"PtgRef3d",f:cme},59:{n:"PtgArea3d",f:Xpe},60:{n:"PtgRefErr3d",f:Rme},61:{n:"PtgAreaErr3d",f:qpe},255:{}},Zme={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},qme={1:{n:"PtgElfLel",f:DH},2:{n:"PtgElfRw",f:zme},3:{n:"PtgElfCol",f:Fme},6:{n:"PtgElfRwV",f:Hme},7:{n:"PtgElfColV",f:Nme},10:{n:"PtgElfRadical",f:_me},11:{n:"PtgElfRadicalS",f:Gme},13:{n:"PtgElfColS",f:Pme},15:{n:"PtgElfColSV",f:Ome},16:{n:"PtgElfRadicalLel",f:Bme},25:{n:"PtgList",f:Wme},29:{n:"PtgSxName",f:Ume},255:{}},Qme={0:{n:"PtgAttrNoop",f:Xme},1:{n:"PtgAttrSemi",f:nme},2:{n:"PtgAttrIf",f:ime},4:{n:"PtgAttrChoose",f:eme},8:{n:"PtgAttrGoto",f:tme},16:{n:"PtgAttrSum",f:fme},32:{n:"PtgAttrBaxcel",f:VP},33:{n:"PtgAttrBaxcel",f:VP},64:{n:"PtgAttrSpace",f:rme},65:{n:"PtgAttrSpaceSemi",f:ome},128:{n:"PtgAttrIfError",f:sme},255:{}};function i0(e,t,i,s){if(s.biff<8)return sn(e,t);for(var n=e.l+t,r=[],o=0;o!==i.length;++o)switch(i[o][0]){case"PtgArray":i[o][1]=Sme(e,0,s),r.push(i[o][1]);break;case"PtgMemArea":i[o][2]=bme(e,i[o][1],s),r.push(i[o][2]);break;case"PtgExp":s&&s.biff==12&&(i[o][1][1]=e.read_shift(4),r.push(i[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+i[o][0]}return t=n-e.l,t!==0&&r.push(sn(e,t)),r}function s0(e,t,i){for(var s=e.l+t,n,r,o=[];s!=e.l;)t=s-e.l,r=e[e.l],n=WP[r]||WP[Zme[r]],(r===24||r===25)&&(n=(r===24?qme:Qme)[e[e.l+1]]),!n||!n.f?sn(e,t):o.push([n.n,n.f(e,t,i)]);return o}function Jme(e){for(var t=[],i=0;i<e.length;++i){for(var s=e[i],n=[],r=0;r<s.length;++r){var o=s[r];if(o)switch(o[0]){case 2:n.push('"'+o[1].replace(/"/g,'""')+'"');break;default:n.push(o[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var e0e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function t0e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function AH(e,t,i){if(!e)return"SH33TJSERR0";if(i.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[t];if(i.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!s)return"SH33TJSERR1";var n="";if(i.biff>8)switch(e[s[0]][0]){case 357:return n=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?n:n+":"+e.SheetNames[s[2]];case 358:return i.SID!=null?e.SheetNames[i.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return n=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?n:n+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(r){return r.Name}).join(";;");default:return e[s[0]][0][3]?(n=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?n:n+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function UP(e,t,i){var s=AH(e,t,i);return s=="#REF"?s:t0e(s,i)}function Ks(e,t,i,s,n){var r=n&&n.biff||8,o={s:{c:0,r:0}},a=[],l,u,h,f=0,g=0,m,y="";if(!e[0]||!e[0][0])return"";for(var C=-1,x="",b=0,w=e[0].length;b<w;++b){var M=e[0][b];switch(M[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),u=a.pop(),C>=0){switch(e[0][C][1][0]){case 0:x=Bi(" ",e[0][C][1][1]);break;case 1:x=Bi("\r",e[0][C][1][1]);break;default:if(x="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][C][1][0])}u=u+x,C=-1}a.push(u+e0e[M[0]]+l);break;case"PtgIsect":l=a.pop(),u=a.pop(),a.push(u+" "+l);break;case"PtgUnion":l=a.pop(),u=a.pop(),a.push(u+","+l);break;case"PtgRange":l=a.pop(),u=a.pop(),a.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=yp(M[1][1],o,n),a.push(vp(h,r));break;case"PtgRefN":h=i?yp(M[1][1],i,n):M[1][1],a.push(vp(h,r));break;case"PtgRef3d":f=M[1][1],h=yp(M[1][2],o,n),y=UP(s,f,n),a.push(y+"!"+vp(h,r));break;case"PtgFunc":case"PtgFuncVar":var A=M[1][0],T=M[1][1];A||(A=0),A&=127;var k=A==0?[]:a.slice(-A);a.length-=A,T==="User"&&(T=k.shift()),a.push(T+"("+k.join(",")+")");break;case"PtgBool":a.push(M[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(M[1]);break;case"PtgNum":a.push(String(M[1]));break;case"PtgStr":a.push('"'+M[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(M[1]);break;case"PtgAreaN":m=MP(M[1][1],i?{s:i}:o,n),a.push(I1(m,n));break;case"PtgArea":m=MP(M[1][1],o,n),a.push(I1(m,n));break;case"PtgArea3d":f=M[1][1],m=M[1][2],y=UP(s,f,n),a.push(y+"!"+I1(m,n));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=M[1][2];var R=(s.names||[])[g-1]||(s[0]||[])[g],F=R?R.Name:"SH33TJSNAME"+String(g);F&&F.slice(0,6)=="_xlfn."&&!n.xlfn&&(F=F.slice(6)),a.push(F);break;case"PtgNameX":var I=M[1][1];g=M[1][2];var N;if(n.biff<=5)I<0&&(I=-I),s[I]&&(N=s[I][g]);else{var G="";if(((s[I]||[])[0]||[])[0]==14849||(((s[I]||[])[0]||[])[0]==1025?s[I][g]&&s[I][g].itab>0&&(G=s.SheetNames[s[I][g].itab-1]+"!"):G=s.SheetNames[g-1]+"!"),s[I]&&s[I][g])G+=s[I][g].Name;else if(s[0]&&s[0][g])G+=s[0][g].Name;else{var V=(AH(s,I,n)||"").split(";;");V[g-1]?G=V[g-1]:G+="SH33TJSERRX"}a.push(G);break}N||(N={Name:"SH33TJSERRY"}),a.push(N.Name);break;case"PtgParen":var Q="(",pe=")";if(C>=0){switch(x="",e[0][C][1][0]){case 2:Q=Bi(" ",e[0][C][1][1])+Q;break;case 3:Q=Bi("\r",e[0][C][1][1])+Q;break;case 4:pe=Bi(" ",e[0][C][1][1])+pe;break;case 5:pe=Bi("\r",e[0][C][1][1])+pe;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][C][1][0])}C=-1}a.push(Q+a.pop()+pe);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":h={c:M[1][1],r:M[1][0]};var ae={c:i.c,r:i.r};if(s.sharedf[yt(h)]){var se=s.sharedf[yt(h)];a.push(Ks(se,o,ae,s,n))}else{var le=!1;for(l=0;l!=s.arrayf.length;++l)if(u=s.arrayf[l],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){a.push(Ks(u[1],o,ae,s,n)),le=!0;break}le||a.push(M[1])}break;case"PtgArray":a.push("{"+Jme(M[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":C=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+M[1].idx+"[#"+M[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(M));default:throw new Error("Unrecognized Formula Token: "+String(M))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&C>=0&&re.indexOf(e[0][b][0])==-1){M=e[0][C];var J=!0;switch(M[1][0]){case 4:J=!1;case 0:x=Bi(" ",M[1][1]);break;case 5:J=!1;case 1:x=Bi("\r",M[1][1]);break;default:if(x="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+M[1][0])}a.push((J?x:"")+a.pop()+(J?"":x)),C=-1}}if(a.length>1&&n.WTF)throw new Error("bad formula stack");return a[0]}function i0e(e,t,i){var s=e.l+t,n=i.biff==2?1:2,r,o=e.read_shift(n);if(o==65535)return[[],sn(e,t-2)];var a=s0(e,o,i);return t!==o+n&&(r=i0(e,t-o-n,a,i)),e.l=s,[a,r]}function s0e(e,t,i){var s=e.l+t,n=i.biff==2?1:2,r,o=e.read_shift(n);if(o==65535)return[[],sn(e,t-2)];var a=s0(e,o,i);return t!==o+n&&(r=i0(e,t-o-n,a,i)),e.l=s,[a,r]}function n0e(e,t,i,s){var n=e.l+t,r=s0(e,s,i),o;return n!==e.l&&(o=i0(e,n-e.l,r,i)),[r,o]}function r0e(e,t,i){var s=e.l+t,n,r=e.read_shift(2),o=s0(e,r,i);return r==65535?[[],sn(e,t-2)]:(t!==r+2&&(n=i0(e,s-r-2,o,i)),[o,n])}function o0e(e){var t;if(Ua(e,e.l+6)!==65535)return[Qs(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function P1(e,t,i){var s=e.l+t,n=ya(e);i.biff==2&&++e.l;var r=o0e(e),o=e.read_shift(1);i.biff!=2&&(e.read_shift(1),i.biff>=5&&e.read_shift(4));var a=s0e(e,s-e.l,i);return{cell:n,val:r[0],formula:a,shared:o>>3&1,tt:r[1]}}function tb(e,t,i){var s=e.read_shift(4),n=s0(e,s,i),r=e.read_shift(4),o=r>0?i0(e,r,n,i):null;return[n,o]}var a0e=tb,ib=tb,l0e=tb,c0e=tb,u0e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},EH={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},h0e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function jP(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,i){return i.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function O1(e){var t=e.split(":"),i=t[0].split(".")[0];return[i,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Sp={},zd={};function wp(e,t){if(e){var i=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(i=[1,1,1,1,.5,.5]),e.left==null&&(e.left=i[0]),e.right==null&&(e.right=i[1]),e.top==null&&(e.top=i[2]),e.bottom==null&&(e.bottom=i[3]),e.header==null&&(e.header=i[4]),e.footer==null&&(e.footer=i[5])}}function TH(e,t,i,s,n,r){try{s.cellNF&&(e.z=Ct[t])}catch(a){if(s.WTF)throw a}if(!(e.t==="z"&&!s.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=As(e.v)),(!s||s.cellText!==!1)&&e.t!=="z")try{if(Ct[t]==null&&Wu(dhe[t]||"General",t),e.t==="e")e.w=e.w||wh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=rm(e.v);else if(e.t==="d"){var o=kn(e.v);(o|0)===o?e.w=o.toString(10):e.w=rm(o)}else{if(e.v===void 0)return"";e.w=eh(e.v,zd)}else e.t==="d"?e.w=Zr(t,kn(e.v),zd):e.w=Zr(t,e.v,zd)}catch(a){if(s.WTF)throw a}if(s.cellStyles&&i!=null)try{e.s=r.Fills[i],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=PC(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),s.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=PC(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),s.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(a){if(s.WTF&&r.Fills)throw a}}}function d0e(e,t){var i=zi(t);i.s.r<=i.e.r&&i.s.c<=i.e.c&&i.s.r>=0&&i.s.c>=0&&(e["!ref"]=Ot(i))}var f0e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,g0e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,p0e=/<(?:\w:)?hyperlink [^>]*>/mg,m0e=/"(\w*:\w*)"/,y0e=/<(?:\w:)?col\b[^>]*[\/]?>/g,v0e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,C0e=/<(?:\w:)?pageMargins[^>]*\/>/g,RH=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,x0e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,b0e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function S0e(e,t,i,s,n,r,o){if(!e)return e;s||(s={"!id":{}});var a=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",h="",f=e.match(g0e);f?(u=e.slice(0,f.index),h=e.slice(f.index+f[0].length)):u=h=e;var g=u.match(RH);g?MT(g[0],a,n,i):(g=u.match(x0e))&&w0e(g[0],g[1]||"",a,n,i);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var y=u.slice(m,m+50).match(m0e);y&&d0e(a,y[1])}var C=u.match(b0e);C&&C[1]&&R0e(C[1],n);var x=[];if(t.cellStyles){var b=u.match(y0e);b&&A0e(x,b)}f&&k0e(f[1],a,t,l,r,o);var w=h.match(v0e);w&&(a["!autofilter"]=E0e(w[0]));var M=[],A=h.match(f0e);if(A)for(m=0;m!=A.length;++m)M[m]=zi(A[m].slice(A[m].indexOf('"')+1));var T=h.match(p0e);T&&M0e(a,T,s);var k=h.match(C0e);if(k&&(a["!margins"]=D0e(ct(k[0]))),!a["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(a["!ref"]=Ot(l)),t.sheetRows>0&&a["!ref"]){var R=zi(a["!ref"]);t.sheetRows<=+R.e.r&&(R.e.r=t.sheetRows-1,R.e.r>l.e.r&&(R.e.r=l.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>l.e.c&&(R.e.c=l.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),a["!fullref"]=a["!ref"],a["!ref"]=Ot(R))}return x.length>0&&(a["!cols"]=x),M.length>0&&(a["!merges"]=M),a}function MT(e,t,i,s){var n=ct(e);i.Sheets[s]||(i.Sheets[s]={}),n.codeName&&(i.Sheets[s].CodeName=_t(di(n.codeName)))}function w0e(e,t,i,s,n){MT(e.slice(0,e.indexOf(">")),i,s,n)}function M0e(e,t,i){for(var s=Array.isArray(e),n=0;n!=t.length;++n){var r=ct(di(t[n]),!0);if(!r.ref)return;var o=((i||{})["!id"]||[])[r.id];o?(r.Target=o.Target,r.location&&(r.Target+="#"+_t(r.location))):(r.Target="#"+_t(r.location),o={Target:r.Target,TargetMode:"Internal"}),r.Rel=o,r.tooltip&&(r.Tooltip=r.tooltip,delete r.tooltip);for(var a=zi(r.ref),l=a.s.r;l<=a.e.r;++l)for(var u=a.s.c;u<=a.e.c;++u){var h=yt({c:u,r:l});s?(e[l]||(e[l]=[]),e[l][u]||(e[l][u]={t:"z",v:void 0}),e[l][u].l=r):(e[h]||(e[h]={t:"z",v:void 0}),e[h].l=r)}}}function D0e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(i){e[i]&&(t[i]=parseFloat(e[i]))}),t}function A0e(e,t){for(var i=!1,s=0;s!=t.length;++s){var n=ct(t[s],!0);n.hidden&&(n.hidden=xi(n.hidden));var r=parseInt(n.min,10)-1,o=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!i&&n.width&&(i=!0,ST(n.width)),nf(n);r<=o;)e[r++]=zs(n)}}function E0e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var T0e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function R0e(e,t){t.Views||(t.Views=[{}]),(e.match(T0e)||[]).forEach(function(i,s){var n=ct(i);t.Views[s]||(t.Views[s]={}),+n.zoomScale&&(t.Views[s].zoom=+n.zoomScale),xi(n.rightToLeft)&&(t.Views[s].RTL=!0)})}var k0e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,i=/r=["']([^"']*)["']/,s=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,r=om("v"),o=om("f");return function(l,u,h,f,g,m){for(var y=0,C="",x=[],b=[],w=0,M=0,A=0,T="",k,R,F=0,I=0,N,G,V=0,Q=0,pe=Array.isArray(m.CellXf),ae,se=[],le=[],re=Array.isArray(u),J=[],z={},ee=!1,O=!!h.sheetStubs,j=l.split(t),H=0,K=j.length;H!=K;++H){C=j[H].trim();var ne=C.length;if(ne!==0){var ge=0;e:for(y=0;y<ne;++y)switch(C[y]){case">":if(C[y-1]!="/"){++y;break e}if(h&&h.cellStyles){if(R=ct(C.slice(ge,y),!0),F=R.r!=null?parseInt(R.r,10):F+1,I=-1,h.sheetRows&&h.sheetRows<F)continue;z={},ee=!1,R.ht&&(ee=!0,z.hpt=parseFloat(R.ht),z.hpx=um(z.hpt)),R.hidden=="1"&&(ee=!0,z.hidden=!0),R.outlineLevel!=null&&(ee=!0,z.level=+R.outlineLevel),ee&&(J[F-1]=z)}break;case"<":ge=y;break}if(ge>=y)break;if(R=ct(C.slice(ge,y),!0),F=R.r!=null?parseInt(R.r,10):F+1,I=-1,!(h.sheetRows&&h.sheetRows<F)){f.s.r>F-1&&(f.s.r=F-1),f.e.r<F-1&&(f.e.r=F-1),h&&h.cellStyles&&(z={},ee=!1,R.ht&&(ee=!0,z.hpt=parseFloat(R.ht),z.hpx=um(z.hpt)),R.hidden=="1"&&(ee=!0,z.hidden=!0),R.outlineLevel!=null&&(ee=!0,z.level=+R.outlineLevel),ee&&(J[F-1]=z)),x=C.slice(y).split(e);for(var ce=0;ce!=x.length&&x[ce].trim().charAt(0)=="<";++ce);for(x=x.slice(ce),y=0;y!=x.length;++y)if(C=x[y].trim(),C.length!==0){if(b=C.match(i),w=y,M=0,A=0,C="<c "+(C.slice(0,1)=="<"?">":"")+C,b!=null&&b.length===2){for(w=0,T=b[1],M=0;M!=T.length&&!((A=T.charCodeAt(M)-64)<1||A>26);++M)w=26*w+A;--w,I=w}else++I;for(M=0;M!=C.length&&C.charCodeAt(M)!==62;++M);if(++M,R=ct(C.slice(0,M),!0),R.r||(R.r=yt({r:F-1,c:I})),T=C.slice(M),k={t:""},(b=T.match(r))!=null&&b[1]!==""&&(k.v=_t(b[1])),h.cellFormula){if((b=T.match(o))!=null&&b[1]!==""){if(k.f=_t(di(b[1])).replace(/\r\n/g,`
`),h.xlfn||(k.f=HP(k.f)),b[0].indexOf('t="array"')>-1)k.F=(T.match(n)||[])[1],k.F.indexOf(":")>-1&&se.push([zi(k.F),k.F]);else if(b[0].indexOf('t="shared"')>-1){G=ct(b[0]);var ue=_t(di(b[1]));h.xlfn||(ue=HP(ue)),le[parseInt(G.si,10)]=[G,ue,R.r]}}else(b=T.match(/<f[^>]*\/>/))&&(G=ct(b[0]),le[G.si]&&(k.f=Hpe(le[G.si][1],le[G.si][2],R.r)));var de=Tn(R.r);for(M=0;M<se.length;++M)de.r>=se[M][0].s.r&&de.r<=se[M][0].e.r&&de.c>=se[M][0].s.c&&de.c<=se[M][0].e.c&&(k.F=se[M][1])}if(R.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(O)k.t="z";else continue;else k.t=R.t||"n";switch(f.s.c>I&&(f.s.c=I),f.e.c<I&&(f.e.c=I),k.t){case"n":if(k.v==""||k.v==null){if(!O)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!O)continue;k.t="z"}else N=Sp[parseInt(k.v,10)],k.v=N.t,k.r=N.r,h.cellHTML&&(k.h=N.h);break;case"str":k.t="s",k.v=k.v!=null?di(k.v):"",h.cellHTML&&(k.h=hT(k.v));break;case"inlineStr":b=T.match(s),k.t="s",b!=null&&(N=bT(b[1]))?(k.v=N.t,h.cellHTML&&(k.h=N.h)):k.v="";break;case"b":k.v=xi(k.v);break;case"d":h.cellDates?k.v=As(k.v,1):(k.v=kn(As(k.v,1)),k.t="n");break;case"e":(!h||h.cellText!==!1)&&(k.w=k.v),k.v=Zz[k.v];break}if(V=Q=0,ae=null,pe&&R.s!==void 0&&(ae=m.CellXf[R.s],ae!=null&&(ae.numFmtId!=null&&(V=ae.numFmtId),h.cellStyles&&ae.fillId!=null&&(Q=ae.fillId))),TH(k,V,Q,h,g,m),h.cellDates&&pe&&k.t=="n"&&Lf(Ct[V])&&(k.t="d",k.v=Jx(k.v)),R.cm&&h.xlmeta){var Le=(h.xlmeta.Cell||[])[+R.cm-1];Le&&Le.type=="XLDAPR"&&(k.D=!0)}if(re){var X=Tn(R.r);u[X.r]||(u[X.r]=[]),u[X.r][X.c]=k}else u[R.r]=k}}}}J.length>0&&(u["!rows"]=J)}}();function I0e(e,t){var i={},s=e.l+t;i.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var r=e.read_shift(1);return e.l=s,r&7&&(i.level=r&7),r&16&&(i.hidden=!0),r&32&&(i.hpt=n/20),i}var L0e=Sh;function F0e(){}function P0e(e,t){var i={},s=e[e.l];return++e.l,i.above=!(s&64),i.left=!(s&128),e.l+=18,i.name=ide(e),i}function O0e(e){var t=so(e);return[t]}function N0e(e){var t=bh(e);return[t]}function _0e(e){var t=so(e),i=e.read_shift(1);return[t,i,"b"]}function B0e(e){var t=bh(e),i=e.read_shift(1);return[t,i,"b"]}function G0e(e){var t=so(e),i=e.read_shift(1);return[t,i,"e"]}function z0e(e){var t=bh(e),i=e.read_shift(1);return[t,i,"e"]}function H0e(e){var t=so(e),i=e.read_shift(4);return[t,i,"s"]}function V0e(e){var t=bh(e),i=e.read_shift(4);return[t,i,"s"]}function W0e(e){var t=so(e),i=Qs(e);return[t,i,"n"]}function kH(e){var t=bh(e),i=Qs(e);return[t,i,"n"]}function U0e(e){var t=so(e),i=vT(e);return[t,i,"n"]}function j0e(e){var t=bh(e),i=vT(e);return[t,i,"n"]}function Y0e(e){var t=so(e),i=mT(e);return[t,i,"is"]}function K0e(e){var t=so(e),i=en(e);return[t,i,"str"]}function $0e(e){var t=bh(e),i=en(e);return[t,i,"str"]}function X0e(e,t,i){var s=e.l+t,n=so(e);n.r=i["!row"];var r=e.read_shift(1),o=[n,r,"b"];if(i.cellFormula){e.l+=2;var a=ib(e,s-e.l,i);o[3]=Ks(a,null,n,i.supbooks,i)}else e.l=s;return o}function Z0e(e,t,i){var s=e.l+t,n=so(e);n.r=i["!row"];var r=e.read_shift(1),o=[n,r,"e"];if(i.cellFormula){e.l+=2;var a=ib(e,s-e.l,i);o[3]=Ks(a,null,n,i.supbooks,i)}else e.l=s;return o}function q0e(e,t,i){var s=e.l+t,n=so(e);n.r=i["!row"];var r=Qs(e),o=[n,r,"n"];if(i.cellFormula){e.l+=2;var a=ib(e,s-e.l,i);o[3]=Ks(a,null,n,i.supbooks,i)}else e.l=s;return o}function Q0e(e,t,i){var s=e.l+t,n=so(e);n.r=i["!row"];var r=en(e),o=[n,r,"str"];if(i.cellFormula){e.l+=2;var a=ib(e,s-e.l,i);o[3]=Ks(a,null,n,i.supbooks,i)}else e.l=s;return o}var J0e=Sh;function eye(e,t){var i=e.l+t,s=Sh(e),n=yT(e),r=en(e),o=en(e),a=en(e);e.l=i;var l={rfx:s,relId:n,loc:r,display:a};return o&&(l.Tooltip=o),l}function tye(){}function iye(e,t,i){var s=e.l+t,n=Kz(e),r=e.read_shift(1),o=[n];if(o[2]=r,i.cellFormula){var a=a0e(e,s-e.l,i);o[1]=a}else e.l=s;return o}function sye(e,t,i){var s=e.l+t,n=Sh(e),r=[n];if(i.cellFormula){var o=c0e(e,s-e.l,i);r[1]=o,e.l=s}else e.l=s;return r}var nye=["left","right","top","bottom","header","footer"];function rye(e){var t={};return nye.forEach(function(i){t[i]=Qs(e)}),t}function oye(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function aye(){}function lye(){}function cye(e,t,i,s,n,r,o){if(!e)return e;var a=t||{};s||(s={"!id":{}});var l=a.dense?[]:{},u,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,g=!1,m,y,C,x,b,w,M,A,T,k=[];a.biff=12,a["!row"]=0;var R=0,F=!1,I=[],N={},G=a.supbooks||n.supbooks||[[]];if(G.sharedf=N,G.arrayf=I,G.SheetNames=n.SheetNames||n.Sheets.map(function(re){return re.name}),!a.supbooks&&(a.supbooks=G,n.Names))for(var V=0;V<n.Names.length;++V)G[0][V+1]=n.Names[V];var Q=[],pe=[],ae=!1;_C[16]={n:"BrtShortReal",f:kH};var se;if(El(e,function(J,z,ee){if(!g)switch(ee){case 148:u=J;break;case 0:m=J,a.sheetRows&&a.sheetRows<=m.r&&(g=!0),A=Hs(x=m.r),a["!row"]=m.r,(J.hidden||J.hpt||J.level!=null)&&(J.hpt&&(J.hpx=um(J.hpt)),pe[J.r]=J);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:J[2]},J[2]){case"n":y.v=J[1];break;case"s":M=Sp[J[1]],y.v=M.t,y.r=M.r;break;case"b":y.v=!!J[1];break;case"e":y.v=J[1],a.cellText!==!1&&(y.w=wh[y.v]);break;case"str":y.t="s",y.v=J[1];break;case"is":y.t="s",y.v=J[1].t;break}if((C=o.CellXf[J[0].iStyleRef])&&TH(y,C.numFmtId,null,a,r,o),b=J[0].c==-1?b+1:J[0].c,a.dense?(l[x]||(l[x]=[]),l[x][b]=y):l[ps(b)+A]=y,a.cellFormula){for(F=!1,R=0;R<I.length;++R){var O=I[R];m.r>=O[0].s.r&&m.r<=O[0].e.r&&b>=O[0].s.c&&b<=O[0].e.c&&(y.F=Ot(O[0]),F=!0)}!F&&J.length>3&&(y.f=J[3])}if(h.s.r>m.r&&(h.s.r=m.r),h.s.c>b&&(h.s.c=b),h.e.r<m.r&&(h.e.r=m.r),h.e.c<b&&(h.e.c=b),a.cellDates&&C&&y.t=="n"&&Lf(Ct[C.numFmtId])){var j=ku(y.v);j&&(y.t="d",y.v=new Date(j.y,j.m-1,j.d,j.H,j.M,j.S,j.u))}se&&(se.type=="XLDAPR"&&(y.D=!0),se=void 0);break;case 1:case 12:if(!a.sheetStubs||f)break;y={t:"z",v:void 0},b=J[0].c==-1?b+1:J[0].c,a.dense?(l[x]||(l[x]=[]),l[x][b]=y):l[ps(b)+A]=y,h.s.r>m.r&&(h.s.r=m.r),h.s.c>b&&(h.s.c=b),h.e.r<m.r&&(h.e.r=m.r),h.e.c<b&&(h.e.c=b),se&&(se.type=="XLDAPR"&&(y.D=!0),se=void 0);break;case 176:k.push(J);break;case 49:se=((a.xlmeta||{}).Cell||[])[J-1];break;case 494:var H=s["!id"][J.relId];for(H?(J.Target=H.Target,J.loc&&(J.Target+="#"+J.loc),J.Rel=H):J.relId==""&&(J.Target="#"+J.loc),x=J.rfx.s.r;x<=J.rfx.e.r;++x)for(b=J.rfx.s.c;b<=J.rfx.e.c;++b)a.dense?(l[x]||(l[x]=[]),l[x][b]||(l[x][b]={t:"z",v:void 0}),l[x][b].l=J):(w=yt({c:b,r:x}),l[w]||(l[w]={t:"z",v:void 0}),l[w].l=J);break;case 426:if(!a.cellFormula)break;I.push(J),T=a.dense?l[x][b]:l[ps(b)+A],T.f=Ks(J[1],h,{r:m.r,c:b},G,a),T.F=Ot(J[0]);break;case 427:if(!a.cellFormula)break;N[yt(J[0].s)]=J[1],T=a.dense?l[x][b]:l[ps(b)+A],T.f=Ks(J[1],h,{r:m.r,c:b},G,a);break;case 60:if(!a.cellStyles)break;for(;J.e>=J.s;)Q[J.e--]={width:J.w/256,hidden:!!(J.flags&1),level:J.level},ae||(ae=!0,ST(J.w/256)),nf(Q[J.e+1]);break;case 161:l["!autofilter"]={ref:Ot(J)};break;case 476:l["!margins"]=J;break;case 147:n.Sheets[i]||(n.Sheets[i]={}),J.name&&(n.Sheets[i].CodeName=J.name),(J.above||J.left)&&(l["!outline"]={above:J.above,left:J.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),J.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!z.T){if(!f||a.WTF)throw new Error("Unexpected record 0x"+ee.toString(16))}}},a),delete a.supbooks,delete a["!row"],!l["!ref"]&&(h.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=Ot(u||h)),a.sheetRows&&l["!ref"]){var le=zi(l["!ref"]);a.sheetRows<=+le.e.r&&(le.e.r=a.sheetRows-1,le.e.r>h.e.r&&(le.e.r=h.e.r),le.e.r<le.s.r&&(le.s.r=le.e.r),le.e.c>h.e.c&&(le.e.c=h.e.c),le.e.c<le.s.c&&(le.s.c=le.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Ot(le))}return k.length>0&&(l["!merges"]=k),Q.length>0&&(l["!cols"]=Q),pe.length>0&&(l["!rows"]=pe),l}function uye(e){var t=[],i=e.match(/^<c:numCache>/),s;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(r){var o=r.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=i?+o[2]:o[2])});var n=_t((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(r){s=r.replace(/<.*?>/g,"")}),[t,n,s]}function hye(e,t,i,s,n,r){var o=r||{"!type":"chart"};if(!e)return r;var a=0,l=0,u="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var g=uye(f);h.s.r=h.s.c=0,h.e.c=a,u=ps(a),g[0].forEach(function(m,y){o[u+Hs(y)]={t:"n",v:m,z:g[1]},l=y}),h.e.r<l&&(h.e.r=l),++a}),a>0&&(o["!ref"]=Ot(h)),o}function dye(e,t,i,s,n){if(!e)return e;s||(s={"!id":{}});var r={"!type":"chart","!drawel":null,"!rel":""},o,a=e.match(RH);return a&&MT(a[0],r,n,i),(o=e.match(/drawing r:id="(.*?)"/))&&(r["!rel"]=o[1]),s["!id"][r["!rel"]]&&(r["!drawel"]=s["!id"][r["!rel"]]),r}function fye(e,t){e.l+=10;var i=en(e);return{name:i}}function gye(e,t,i,s,n){if(!e)return e;s||(s={"!id":{}});var r={"!type":"chart","!drawel":null,"!rel":""},o=!1;return El(e,function(l,u,h){switch(h){case 550:r["!rel"]=l;break;case 651:n.Sheets[i]||(n.Sheets[i]={}),l.name&&(n.Sheets[i].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},t),s["!id"][r["!rel"]]&&(r["!drawel"]=s["!id"][r["!rel"]]),r}var IH=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],pye=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],mye=[],yye=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function YP(e,t){for(var i=0;i!=e.length;++i)for(var s=e[i],n=0;n!=t.length;++n){var r=t[n];if(s[r[0]]==null)s[r[0]]=r[1];else switch(r[2]){case"bool":typeof s[r[0]]=="string"&&(s[r[0]]=xi(s[r[0]]));break;case"int":typeof s[r[0]]=="string"&&(s[r[0]]=parseInt(s[r[0]],10));break}}}function KP(e,t){for(var i=0;i!=t.length;++i){var s=t[i];if(e[s[0]]==null)e[s[0]]=s[1];else switch(s[2]){case"bool":typeof e[s[0]]=="string"&&(e[s[0]]=xi(e[s[0]]));break;case"int":typeof e[s[0]]=="string"&&(e[s[0]]=parseInt(e[s[0]],10));break}}}function LH(e){KP(e.WBProps,IH),KP(e.CalcPr,yye),YP(e.WBView,pye),YP(e.Sheets,mye),zd.date1904=xi(e.WBProps.date1904)}var vye="][*?/\\".split("");function Cye(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var i=!0;return vye.forEach(function(s){if(e.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),i}var xye=/<\w+:workbook/;function bye(e,t){if(!e)throw new Error("Could not find file");var i={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},s=!1,n="xmlns",r={},o=0;if(e.replace(cn,function(l,u){var h=ct(l);switch(ma(h[0])){case"<?xml":break;case"<workbook":l.match(xye)&&(n="xmlns"+l.match(/<(\w+):/)[1]),i.xmlns=h[n];break;case"</workbook>":break;case"<fileVersion":delete h[0],i.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":IH.forEach(function(f){if(h[f[0]]!=null)switch(f[2]){case"bool":i.WBProps[f[0]]=xi(h[f[0]]);break;case"int":i.WBProps[f[0]]=parseInt(h[f[0]],10);break;default:i.WBProps[f[0]]=h[f[0]]}}),h.codeName&&(i.WBProps.CodeName=di(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],i.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=_t(di(h.name)),delete h[0],i.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":s=!0;break;case"</definedNames>":s=!1;break;case"<definedName":r={},r.Name=di(h.name),h.comment&&(r.Comment=h.comment),h.localSheetId&&(r.Sheet=+h.localSheetId),xi(h.hidden||"0")&&(r.Hidden=!0),o=u+l.length;break;case"</definedName>":r.Ref=_t(di(e.slice(o,u))),i.Names.push(r);break;case"<definedName/>":break;case"<calcPr":delete h[0],i.CalcPr=h;break;case"<calcPr/>":delete h[0],i.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":s=!0;break;case"</AlternateContent>":s=!1;break;case"<revisionPtr":break;default:if(!s&&t.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return l}),Ghe.indexOf(i.xmlns)===-1)throw new Error("Unknown Namespace: "+i.xmlns);return LH(i),i}function Sye(e,t){var i={};return i.Hidden=e.read_shift(4),i.iTabID=e.read_shift(4),i.strRelID=nD(e),i.name=en(e),i}function wye(e,t){var i={},s=e.read_shift(4);i.defaultThemeVersion=e.read_shift(4);var n=t>8?en(e):"";return n.length>0&&(i.CodeName=n),i.autoCompressPictures=!!(s&65536),i.backupFile=!!(s&64),i.checkCompatibility=!!(s&4096),i.date1904=!!(s&1),i.filterPrivacy=!!(s&8),i.hidePivotFieldList=!!(s&1024),i.promptedSolutions=!!(s&16),i.publishItems=!!(s&2048),i.refreshAllConnections=!!(s&262144),i.saveExternalLinkValues=!!(s&128),i.showBorderUnselectedTables=!!(s&4),i.showInkAnnotation=!!(s&32),i.showObjects=["all","placeholders","none"][s>>13&3],i.showPivotChartFilter=!!(s&32768),i.updateLinks=["userSet","never","always"][s>>8&3],i}function Mye(e,t){var i={};return e.read_shift(4),i.ArchID=e.read_shift(4),e.l+=t-8,i}function Dye(e,t,i){var s=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),r=sde(e),o=l0e(e,0,i),a=yT(e);e.l=s;var l={Name:r,Ptg:o};return n<268435455&&(l.Sheet=n),a&&(l.Comment=a),l}function Aye(e,t){var i={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},s=[],n=!1;t||(t={}),t.biff=12;var r=[],o=[[]];return o.SheetNames=[],o.XTI=[],_C[16]={n:"BrtFRTArchID$",f:Mye},El(e,function(l,u,h){switch(h){case 156:o.SheetNames.push(l.name),i.Sheets.push(l);break;case 153:i.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Ks(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,r.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([h,l]):o[0]=[h,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:s.push(h),n=!0;break;case 36:s.pop(),n=!1;break;case 37:s.push(h),n=!0;break;case 38:s.pop(),n=!1;break;case 16:break;default:if(!u.T){if(!n||t.WTF&&s[s.length-1]!=37&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},t),LH(i),i.Names=r,i.supbooks=o,i}function Eye(e,t,i){return t.slice(-4)===".bin"?Aye(e,i):bye(e,i)}function Tye(e,t,i,s,n,r,o,a){return t.slice(-4)===".bin"?cye(e,s,i,n,r,o,a):S0e(e,s,i,n,r,o,a)}function Rye(e,t,i,s,n,r,o,a){return t.slice(-4)===".bin"?gye(e,s,i,n,r):dye(e,s,i,n,r)}function kye(e,t,i,s,n,r,o,a){return t.slice(-4)===".bin"?Bpe():Gpe()}function Iye(e,t,i,s,n,r,o,a){return t.slice(-4)===".bin"?Npe():_pe()}function Lye(e,t,i,s){return t.slice(-4)===".bin"?Jge(e,i,s):Kge(e,i,s)}function Fye(e,t,i){return vH(e,i)}function Pye(e,t,i){return t.slice(-4)===".bin"?pge(e,i):fge(e,i)}function Oye(e,t,i){return t.slice(-4)===".bin"?Fpe(e,i):Tpe(e,i)}function Nye(e,t,i){return t.slice(-4)===".bin"?Dpe(e):wpe(e)}function _ye(e,t,i,s){return i.slice(-4)===".bin"?Ape(e,t,i,s):void 0}function Bye(e,t,i){return t.slice(-4)===".bin"?bpe(e,t,i):Spe(e,t,i)}var FH=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,PH=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ho(e,t){var i=e.split(/\s+/),s=[];if(s[0]=i[0],i.length===1)return s;var n=e.match(FH),r,o,a,l;if(n)for(l=0;l!=n.length;++l)r=n[l].match(PH),(o=r[1].indexOf(":"))===-1?s[r[1]]=r[2].slice(1,r[2].length-1):(r[1].slice(0,6)==="xmlns:"?a="xmlns"+r[1].slice(6):a=r[1].slice(o+1),s[a]=r[2].slice(1,r[2].length-1));return s}function Gye(e){var t=e.split(/\s+/),i={};if(t.length===1)return i;var s=e.match(FH),n,r,o,a;if(s)for(a=0;a!=s.length;++a)n=s[a].match(PH),(r=n[1].indexOf(":"))===-1?i[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?o="xmlns"+n[1].slice(6):o=n[1].slice(r+1),i[o]=n[2].slice(1,n[2].length-1));return i}var Mp;function zye(e,t){var i=Mp[e]||_t(e);return i==="General"?eh(t):Zr(i,t)}function Hye(e,t,i,s){var n=s;switch((i[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=xi(s);break;case"i2":case"int":n=parseInt(s,10);break;case"r4":case"float":n=parseFloat(s);break;case"date":case"dateTime.tz":n=As(s);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+i[0])}e[_t(t)]=n}function Vye(e,t,i){if(e.t!=="z"){if(!i||i.cellText!==!1)try{e.t==="e"?e.w=e.w||wh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=rm(e.v):e.w=eh(e.v):e.w=zye(t||"General",e.v)}catch(r){if(i.WTF)throw r}try{var s=Mp[t]||t||"General";if(i.cellNF&&(e.z=s),i.cellDates&&e.t=="n"&&Lf(s)){var n=ku(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(r){if(i.WTF)throw r}}}function Wye(e,t,i){if(i.cellStyles&&t.Interior){var s=t.Interior;s.Pattern&&(s.patternType=Hge[s.Pattern]||s.Pattern)}e[t.ID]=t}function Uye(e,t,i,s,n,r,o,a,l,u){var h="General",f=s.StyleID,g={};u=u||{};var m=[],y=0;for(f===void 0&&a&&(f=a.StyleID),f===void 0&&o&&(f=o.StyleID);r[f]!==void 0&&(r[f].nf&&(h=r[f].nf),r[f].Interior&&m.push(r[f].Interior),!!r[f].Parent);)f=r[f].Parent;switch(i.Type){case"Boolean":s.t="b",s.v=xi(e);break;case"String":s.t="s",s.r=pP(_t(e)),s.v=e.indexOf("<")>-1?_t(t||e).replace(/<.*?>/g,""):s.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),s.v=(As(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),s.v!==s.v?s.v=_t(e):s.v<60&&(s.v=s.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":s.v===void 0&&(s.v=+e),s.t||(s.t="n");break;case"Error":s.t="e",s.v=Zz[e],u.cellText!==!1&&(s.w=e);break;default:e==""&&t==""?s.t="z":(s.t="s",s.v=pP(t||e));break}if(Vye(s,h,u),u.cellFormula!==!1)if(s.Formula){var C=_t(s.Formula);C.charCodeAt(0)==61&&(C=C.slice(1)),s.f=Gd(C,n),delete s.Formula,s.ArrayRange=="RC"?s.F=Gd("RC:RC",n):s.ArrayRange&&(s.F=Gd(s.ArrayRange,n),l.push([zi(s.F),s.F]))}else for(y=0;y<l.length;++y)n.r>=l[y][0].s.r&&n.r<=l[y][0].e.r&&n.c>=l[y][0].s.c&&n.c<=l[y][0].e.c&&(s.F=l[y][1]);u.cellStyles&&(m.forEach(function(x){!g.patternType&&x.patternType&&(g.patternType=x.patternType)}),s.s=g),s.StyleID!==void 0&&(s.ixfe=s.StyleID)}function jye(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function N1(e,t){var i=t||{};Sz();var s=$g(dT(e));(i.type=="binary"||i.type=="array"||i.type=="base64")&&(s=di(s));var n=s.slice(0,1024).toLowerCase(),r=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var o=zs(i);return o.type="string",lm.to_workbook(s,o)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(qe){n.indexOf("<"+qe)>=0&&(r=!0)}),r)return eve(s,i);Mp={"General Number":"General","General Date":Ct[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ct[15],"Short Date":Ct[14],"Long Time":Ct[19],"Medium Time":Ct[18],"Short Time":Ct[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ct[2],Standard:Ct[4],Percent:Ct[10],Scientific:Ct[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var a,l=[],u,h={},f=[],g=i.dense?[]:{},m="",y={},C={},x=ho('<Data ss:Type="String">'),b=0,w=0,M=0,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},T={},k={},R="",F=0,I=[],N={},G={},V=0,Q=[],pe=[],ae={},se=[],le,re=!1,J=[],z=[],ee={},O=0,j=0,H={Sheets:[],WBProps:{date1904:!1}},K={};am.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"");for(var ne="";a=am.exec(s);)switch(a[3]=(ne=a[3]).toLowerCase()){case"data":if(ne=="data"){if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break}if(l[l.length-1][1])break;a[1]==="/"?Uye(s.slice(b,a.index),R,x,l[l.length-1][0]=="comment"?ae:y,{c:w,r:M},T,se[w],C,J,i):(R="",x=ho(a[0]),b=a.index+a[0].length);break;case"cell":if(a[1]==="/")if(pe.length>0&&(y.c=pe),(!i.sheetRows||i.sheetRows>M)&&y.v!==void 0&&(i.dense?(g[M]||(g[M]=[]),g[M][w]=y):g[ps(w)+Hs(M)]=y),y.HRef&&(y.l={Target:_t(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(O=w+(parseInt(y.MergeAcross,10)|0),j=M+(parseInt(y.MergeDown,10)|0),I.push({s:{c:w,r:M},e:{c:O,r:j}})),!i.sheetStubs)y.MergeAcross?w=O+1:++w;else if(y.MergeAcross||y.MergeDown){for(var ge=w;ge<=O;++ge)for(var ce=M;ce<=j;++ce)(ge>w||ce>M)&&(i.dense?(g[ce]||(g[ce]=[]),g[ce][ge]={t:"z"}):g[ps(ge)+Hs(ce)]={t:"z"});w=O+1}else++w;else y=Gye(a[0]),y.Index&&(w=+y.Index-1),w<A.s.c&&(A.s.c=w),w>A.e.c&&(A.e.c=w),a[0].slice(-2)==="/>"&&++w,pe=[];break;case"row":a[1]==="/"||a[0].slice(-2)==="/>"?(M<A.s.r&&(A.s.r=M),M>A.e.r&&(A.e.r=M),a[0].slice(-2)==="/>"&&(C=ho(a[0]),C.Index&&(M=+C.Index-1)),w=0,++M):(C=ho(a[0]),C.Index&&(M=+C.Index-1),ee={},(C.AutoFitHeight=="0"||C.Height)&&(ee.hpx=parseInt(C.Height,10),ee.hpt=yH(ee.hpx),z[M]=ee),C.Hidden=="1"&&(ee.hidden=!0,z[M]=ee));break;case"worksheet":if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"));f.push(m),A.s.r<=A.e.r&&A.s.c<=A.e.c&&(g["!ref"]=Ot(A),i.sheetRows&&i.sheetRows<=A.e.r&&(g["!fullref"]=g["!ref"],A.e.r=i.sheetRows-1,g["!ref"]=Ot(A))),I.length&&(g["!merges"]=I),se.length>0&&(g["!cols"]=se),z.length>0&&(g["!rows"]=z),h[m]=g}else A={s:{r:2e6,c:2e6},e:{r:0,c:0}},M=w=0,l.push([a[3],!1]),u=ho(a[0]),m=_t(u.Name),g=i.dense?[]:{},I=[],J=[],z=[],K={name:m,Hidden:0},H.Sheets.push(K);break;case"table":if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"))}else{if(a[0].slice(-2)=="/>")break;l.push([a[3],!1]),se=[],re=!1}break;case"style":a[1]==="/"?Wye(T,k,i):k=ho(a[0]);break;case"numberformat":k.nf=_t(ho(a[0]).Format||"General"),Mp[k.nf]&&(k.nf=Mp[k.nf]);for(var ue=0;ue!=392&&Ct[ue]!=k.nf;++ue);if(ue==392){for(ue=57;ue!=392;++ue)if(Ct[ue]==null){Wu(k.nf,ue);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(le=ho(a[0]),le.Hidden&&(le.hidden=!0,delete le.Hidden),le.Width&&(le.wpx=parseInt(le.Width,10)),!re&&le.wpx>10){re=!0,Dn=pH;for(var de=0;de<se.length;++de)se[de]&&nf(se[de])}re&&nf(le),se[le.Index-1||se.length]=le;for(var Le=0;Le<+le.Span;++Le)se[se.length]=zs(le);break;case"namedrange":if(a[1]==="/")break;H.Names||(H.Names=[]);var X=ct(a[0]),ze={Name:X.Name,Ref:Gd(X.RefersTo.slice(1),{r:0,c:0})};H.Sheets.length>0&&(ze.Sheet=H.Sheets.length-1),H.Names.push(ze);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(a[0].slice(-2)==="/>")break;a[1]==="/"?R+=s.slice(F,a.index):F=a.index+a[0].length;break;case"interior":if(!i.cellStyles)break;k.Interior=ho(a[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(a[0].slice(-2)==="/>")break;a[1]==="/"?Tde(N,ne,s.slice(V,a.index)):V=a.index+a[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"))}else l.push([a[3],!1]);break;case"comment":if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"));jye(ae),pe.push(ae)}else l.push([a[3],!1]),u=ho(a[0]),ae={a:u.Author};break;case"autofilter":if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"))}else if(a[0].charAt(a[0].length-2)!=="/"){var _e=ho(a[0]);g["!autofilter"]={ref:Gd(_e.Range).replace(/\$/g,"")},l.push([a[3],!0])}break;case"name":break;case"datavalidation":if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"null":break;default:if(l.length==0&&a[3]=="document"||l.length==0&&a[3]=="uof")return JP(s,i);var je=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:je=!1}break;case"componentoptions":switch(a[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:je=!1}break;case"excelworkbook":switch(a[3]){case"date1904":H.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:je=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":break;case"height":break;case"width":break;default:je=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if(a[0].slice(-2)!=="/>")if(a[1]==="/")switch(s.slice(V,a.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else V=a.index+a[0].length;break;case"header":g["!margins"]||wp(g["!margins"]={},"xlml"),isNaN(+ct(a[0]).Margin)||(g["!margins"].header=+ct(a[0]).Margin);break;case"footer":g["!margins"]||wp(g["!margins"]={},"xlml"),isNaN(+ct(a[0]).Margin)||(g["!margins"].footer=+ct(a[0]).Margin);break;case"pagemargins":var Ue=ct(a[0]);g["!margins"]||wp(g["!margins"]={},"xlml"),isNaN(+Ue.Top)||(g["!margins"].top=+Ue.Top),isNaN(+Ue.Left)||(g["!margins"].left=+Ue.Left),isNaN(+Ue.Right)||(g["!margins"].right=+Ue.Right),isNaN(+Ue.Bottom)||(g["!margins"].bottom=+Ue.Bottom);break;case"displayrighttoleft":H.Views||(H.Views=[]),H.Views[0]||(H.Views[0]={}),H.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:je=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:je=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:je=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:je=!1}break;case"querytable":switch(a[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:je=!1}break;case"datavalidation":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:je=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:je=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:je=!1}break;case"smarttags":break;default:je=!1;break}if(je||a[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(a[0].slice(-2)==="/>")break;a[1]==="/"?Hye(G,ne,Q,s.slice(V,a.index)):(Q=a,V=a.index+a[0].length);break}if(i.WTF)throw"Unrecognized tag: "+a[3]+"|"+l.join("|")}var we={};return!i.bookSheets&&!i.bookProps&&(we.Sheets=h),we.SheetNames=f,we.Workbook=H,we.SSF=zs(Ct),we.Props=N,we.Custprops=G,we}function lD(e,t){switch(ET(t=t||{}),t.type||"base64"){case"base64":return N1(cr(e),t);case"binary":case"buffer":case"file":return N1(e,t);case"array":return N1(xh(e),t)}}function Yye(e){var t={},i=e.content;if(i.l=28,t.AnsiUserType=i.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=ode(i),i.length-i.l<=4)return t;var s=i.read_shift(4);if(s==0||s>40||(i.l-=4,t.Reserved1=i.read_shift(0,"lpstr-ansi"),i.length-i.l<=4)||(s=i.read_shift(4),s!==1907505652)||(t.UnicodeClipboardFormat=ade(i),s=i.read_shift(4),s==0||s>40))return t;i.l-=4,t.Reserved2=i.read_shift(0,"lpwstr")}var Kye=[60,1084,2066,2165,2175];function $ye(e,t,i,s,n){var r=s,o=[],a=i.slice(i.l,i.l+r);if(n&&n.enc&&n.enc.insitu&&a.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(a)}o.push(a),i.l+=r;for(var l=Ua(i,i.l),u=cD[l],h=0;u!=null&&Kye.indexOf(l)>-1;)r=Ua(i,i.l+2),h=i.l+4,l==2066?h+=4:(l==2165||l==2175)&&(h+=12),a=i.slice(h,i.l+4+r),o.push(a),i.l+=4+r,u=cD[l=Ua(i,i.l)];var f=rc(o);Ns(f,0);var g=0;f.lens=[];for(var m=0;m<o.length;++m)f.lens.push(g),g+=o[m].length;if(f.length<s)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+s;return t.f(f,f.length,n)}function jo(e,t,i){if(e.t!=="z"&&e.XF){var s=0;try{s=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ct[s])}catch(r){if(t.WTF)throw r}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||wh[e.v]:s===0||s=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=rm(e.v):e.w=eh(e.v):e.w=Zr(s,e.v,{date1904:!!i,dateNF:t&&t.dateNF})}catch(r){if(t.WTF)throw r}if(t.cellDates&&s&&e.t=="n"&&Lf(Ct[s]||String(s))){var n=ku(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function sv(e,t,i){return{v:e,ixfe:t,t:i}}function Xye(e,t){var i={opts:{}},s={},n=t.dense?[]:{},r={},o={},a=null,l=[],u="",h={},f,g="",m,y,C,x,b={},w=[],M,A,T=[],k=[],R={Sheets:[],WBProps:{date1904:!1},Views:[{}]},F={},I=function(vt){return vt<8?Uu[vt]:vt<64&&k[vt-8]||Uu[vt]},N=function(vt,Si,Pn){var pi=Si.XF.data;if(!(!pi||!pi.patternType||!Pn||!Pn.cellStyles)){Si.s={},Si.s.patternType=pi.patternType;var Hi;(Hi=cm(I(pi.icvFore)))&&(Si.s.fgColor={rgb:Hi}),(Hi=cm(I(pi.icvBack)))&&(Si.s.bgColor={rgb:Hi})}},G=function(vt,Si,Pn){if(!(ee>1)&&!(Pn.sheetRows&&vt.r>=Pn.sheetRows)){if(Pn.cellStyles&&Si.XF&&Si.XF.data&&N(vt,Si,Pn),delete Si.ixfe,delete Si.XF,f=vt,g=yt(vt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),vt.r<o.s.r&&(o.s.r=vt.r),vt.c<o.s.c&&(o.s.c=vt.c),vt.r+1>o.e.r&&(o.e.r=vt.r+1),vt.c+1>o.e.c&&(o.e.c=vt.c+1),Pn.cellFormula&&Si.f){for(var pi=0;pi<w.length;++pi)if(!(w[pi][0].s.c>vt.c||w[pi][0].s.r>vt.r)&&!(w[pi][0].e.c<vt.c||w[pi][0].e.r<vt.r)){Si.F=Ot(w[pi][0]),(w[pi][0].s.c!=vt.c||w[pi][0].s.r!=vt.r)&&delete Si.f,Si.f&&(Si.f=""+Ks(w[pi][1],o,vt,J,V));break}}Pn.dense?(n[vt.r]||(n[vt.r]=[]),n[vt.r][vt.c]=Si):n[g]=Si}},V={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(V.password=t.password);var Q,pe=[],ae=[],se=[],le=[],re=!1,J=[];J.SheetNames=V.snames,J.sharedf=V.sharedf,J.arrayf=V.arrayf,J.names=[],J.XTI=[];var z=0,ee=0,O=0,j=[],H=[],K;V.codepage=1200,So(1200);for(var ne=!1;e.l<e.length-1;){var ge=e.l,ce=e.read_shift(2);if(ce===0&&z===10)break;var ue=e.l===e.length?0:e.read_shift(2),de=cD[ce];if(de&&de.f){if(t.bookSheets&&z===133&&ce!==133)break;if(z=ce,de.r===2||de.r==12){var Le=e.read_shift(2);if(ue-=2,!V.enc&&Le!==ce&&((Le&255)<<8|Le>>8)!==ce)throw new Error("rt mismatch: "+Le+"!="+ce);de.r==12&&(e.l+=10,ue-=10)}var X={};if(ce===10?X=de.f(e,ue,V):X=$ye(ce,de,e,ue,V),ee==0&&[9,521,1033,2057].indexOf(z)===-1)continue;switch(ce){case 34:i.opts.Date1904=R.WBProps.date1904=X;break;case 134:i.opts.WriteProtect=!0;break;case 47:if(V.enc||(e.l=0),V.enc=X,!t.password)throw new Error("File is password-protected");if(X.valid==null)throw new Error("Encryption scheme unsupported");if(!X.valid)throw new Error("Password is incorrect");break;case 92:V.lastuser=X;break;case 66:var ze=Number(X);switch(ze){case 21010:ze=1200;break;case 32768:ze=1e4;break;case 32769:ze=1252;break}So(V.codepage=ze),ne=!0;break;case 317:V.rrtabid=X;break;case 25:V.winlocked=X;break;case 439:i.opts.RefreshAll=X;break;case 12:i.opts.CalcCount=X;break;case 16:i.opts.CalcDelta=X;break;case 17:i.opts.CalcIter=X;break;case 13:i.opts.CalcMode=X;break;case 14:i.opts.CalcPrecision=X;break;case 95:i.opts.CalcSaveRecalc=X;break;case 15:V.CalcRefMode=X;break;case 2211:i.opts.FullCalc=X;break;case 129:X.fDialog&&(n["!type"]="dialog"),X.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),X.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:T.push(X);break;case 430:J.push([X]),J[J.length-1].XTI=[];break;case 35:case 547:J[J.length-1].push(X);break;case 24:case 536:K={Name:X.Name,Ref:Ks(X.rgce,o,null,J,V)},X.itab>0&&(K.Sheet=X.itab-1),J.names.push(K),J[0]||(J[0]=[],J[0].XTI=[]),J[J.length-1].push(X),X.Name=="_xlnm._FilterDatabase"&&X.itab>0&&X.rgce&&X.rgce[0]&&X.rgce[0][0]&&X.rgce[0][0][0]=="PtgArea3d"&&(H[X.itab-1]={ref:Ot(X.rgce[0][0][1][2])});break;case 22:V.ExternCount=X;break;case 23:J.length==0&&(J[0]=[],J[0].XTI=[]),J[J.length-1].XTI=J[J.length-1].XTI.concat(X),J.XTI=J.XTI.concat(X);break;case 2196:if(V.biff<8)break;K!=null&&(K.Comment=X[1]);break;case 18:n["!protect"]=X;break;case 19:X!==0&&V.WTF&&console.error("Password verifier: "+X);break;case 133:r[X.pos]=X,V.snames.push(X.name);break;case 10:{if(--ee)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,n["!ref"]=Ot(o),t.sheetRows&&t.sheetRows<=o.e.r){var _e=o.e.r;o.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=Ot(o),o.e.r=_e}o.e.r++,o.e.c++}pe.length>0&&(n["!merges"]=pe),ae.length>0&&(n["!objects"]=ae),se.length>0&&(n["!cols"]=se),le.length>0&&(n["!rows"]=le),R.Sheets.push(F)}u===""?h=n:s[u]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(V.biff===8&&(V.biff={9:2,521:3,1033:4}[ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[X.BIFFVer]||8),V.biffguess=X.BIFFVer==0,X.BIFFVer==0&&X.dt==4096&&(V.biff=5,ne=!0,So(V.codepage=28591)),V.biff==8&&X.BIFFVer==0&&X.dt==16&&(V.biff=2),ee++)break;if(n=t.dense?[]:{},V.biff<8&&!ne&&(ne=!0,So(V.codepage=t.codepage||1252)),V.biff<5||X.BIFFVer==0&&X.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var je={pos:e.l-ue,name:u};r[je.pos]=je,V.snames.push(u)}else u=(r[ge]||{name:""}).name;X.dt==32&&(n["!type"]="chart"),X.dt==64&&(n["!type"]="macro"),pe=[],ae=[],V.arrayf=w=[],se=[],le=[],re=!1,F={Hidden:(r[ge]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[X.r]||[])[X.c]:n[yt({c:X.c,r:X.r})])&&++X.c,M={ixfe:X.ixfe,XF:T[X.ixfe]||{},v:X.val,t:"n"},O>0&&(M.z=j[M.ixfe>>8&63]),jo(M,t,i.opts.Date1904),G({c:X.c,r:X.r},M,t);break;case 5:case 517:M={ixfe:X.ixfe,XF:T[X.ixfe],v:X.val,t:X.t},O>0&&(M.z=j[M.ixfe>>8&63]),jo(M,t,i.opts.Date1904),G({c:X.c,r:X.r},M,t);break;case 638:M={ixfe:X.ixfe,XF:T[X.ixfe],v:X.rknum,t:"n"},O>0&&(M.z=j[M.ixfe>>8&63]),jo(M,t,i.opts.Date1904),G({c:X.c,r:X.r},M,t);break;case 189:for(var Ue=X.c;Ue<=X.C;++Ue){var we=X.rkrec[Ue-X.c][0];M={ixfe:we,XF:T[we],v:X.rkrec[Ue-X.c][1],t:"n"},O>0&&(M.z=j[M.ixfe>>8&63]),jo(M,t,i.opts.Date1904),G({c:Ue,r:X.r},M,t)}break;case 6:case 518:case 1030:{if(X.val=="String"){a=X;break}if(M=sv(X.val,X.cell.ixfe,X.tt),M.XF=T[M.ixfe],t.cellFormula){var qe=X.formula;if(qe&&qe[0]&&qe[0][0]&&qe[0][0][0]=="PtgExp"){var ht=qe[0][0][1][0],rt=qe[0][0][1][1],st=yt({r:ht,c:rt});b[st]?M.f=""+Ks(X.formula,o,X.cell,J,V):M.F=((t.dense?(n[ht]||[])[rt]:n[st])||{}).F}else M.f=""+Ks(X.formula,o,X.cell,J,V)}O>0&&(M.z=j[M.ixfe>>8&63]),jo(M,t,i.opts.Date1904),G(X.cell,M,t),a=X}break;case 7:case 519:if(a)a.val=X,M=sv(X,a.cell.ixfe,"s"),M.XF=T[M.ixfe],t.cellFormula&&(M.f=""+Ks(a.formula,o,a.cell,J,V)),O>0&&(M.z=j[M.ixfe>>8&63]),jo(M,t,i.opts.Date1904),G(a.cell,M,t),a=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(X);var Xt=yt(X[0].s);if(m=t.dense?(n[X[0].s.r]||[])[X[0].s.c]:n[Xt],t.cellFormula&&m){if(!a||!Xt||!m)break;m.f=""+Ks(X[1],o,X[0],J,V),m.F=Ot(X[0])}}break;case 1212:{if(!t.cellFormula)break;if(g){if(!a)break;b[yt(a.cell)]=X[0],m=t.dense?(n[a.cell.r]||[])[a.cell.c]:n[yt(a.cell)],(m||{}).f=""+Ks(X[0],o,f,J,V)}}break;case 253:M=sv(l[X.isst].t,X.ixfe,"s"),l[X.isst].h&&(M.h=l[X.isst].h),M.XF=T[M.ixfe],O>0&&(M.z=j[M.ixfe>>8&63]),jo(M,t,i.opts.Date1904),G({c:X.c,r:X.r},M,t);break;case 513:t.sheetStubs&&(M={ixfe:X.ixfe,XF:T[X.ixfe],t:"z"},O>0&&(M.z=j[M.ixfe>>8&63]),jo(M,t,i.opts.Date1904),G({c:X.c,r:X.r},M,t));break;case 190:if(t.sheetStubs)for(var qt=X.c;qt<=X.C;++qt){var Lt=X.ixfe[qt-X.c];M={ixfe:Lt,XF:T[Lt],t:"z"},O>0&&(M.z=j[M.ixfe>>8&63]),jo(M,t,i.opts.Date1904),G({c:qt,r:X.r},M,t)}break;case 214:case 516:case 4:M=sv(X.val,X.ixfe,"s"),M.XF=T[M.ixfe],O>0&&(M.z=j[M.ixfe>>8&63]),jo(M,t,i.opts.Date1904),G({c:X.c,r:X.r},M,t);break;case 0:case 512:ee===1&&(o=X);break;case 252:l=X;break;case 1054:if(V.biff==4){j[O++]=X[1];for(var cs=0;cs<O+163&&Ct[cs]!=X[1];++cs);cs>=163&&Wu(X[1],O+163)}else Wu(X[1],X[0]);break;case 30:{j[O++]=X;for(var Vs=0;Vs<O+163&&Ct[Vs]!=X;++Vs);Vs>=163&&Wu(X,O+163)}break;case 229:pe=pe.concat(X);break;case 93:ae[X.cmo[0]]=V.lastobj=X;break;case 438:V.lastobj.TxO=X;break;case 127:V.lastobj.ImData=X;break;case 440:for(x=X[0].s.r;x<=X[0].e.r;++x)for(C=X[0].s.c;C<=X[0].e.c;++C)m=t.dense?(n[x]||[])[C]:n[yt({c:C,r:x})],m&&(m.l=X[1]);break;case 2048:for(x=X[0].s.r;x<=X[0].e.r;++x)for(C=X[0].s.c;C<=X[0].e.c;++C)m=t.dense?(n[x]||[])[C]:n[yt({c:C,r:x})],m&&m.l&&(m.l.Tooltip=X[1]);break;case 28:{if(V.biff<=5&&V.biff>=2)break;m=t.dense?(n[X[0].r]||[])[X[0].c]:n[yt(X[0])];var no=ae[X[2]];m||(t.dense?(n[X[0].r]||(n[X[0].r]=[]),m=n[X[0].r][X[0].c]={t:"z"}):m=n[yt(X[0])]={t:"z"},o.e.r=Math.max(o.e.r,X[0].r),o.s.r=Math.min(o.s.r,X[0].r),o.e.c=Math.max(o.e.c,X[0].c),o.s.c=Math.min(o.s.c,X[0].c)),m.c||(m.c=[]),y={a:X[1],t:no.TxO.t},m.c.push(y)}break;case 2173:ype(T[X.ixfe],X.ext);break;case 125:{if(!V.cellStyles)break;for(;X.e>=X.s;)se[X.e--]={width:X.w/256,level:X.level||0,hidden:!!(X.flags&1)},re||(re=!0,ST(X.w/256)),nf(se[X.e+1])}break;case 520:{var pt={};X.level!=null&&(le[X.r]=pt,pt.level=X.level),X.hidden&&(le[X.r]=pt,pt.hidden=!0),X.hpt&&(le[X.r]=pt,pt.hpt=X.hpt,pt.hpx=um(X.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||wp(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ce]]=X;break;case 161:n["!margins"]||wp(n["!margins"]={}),n["!margins"].header=X.header,n["!margins"].footer=X.footer;break;case 574:X.RTL&&(R.Views[0].RTL=!0);break;case 146:k=X;break;case 2198:Q=X;break;case 140:A=X;break;case 442:u?F.CodeName=X||F.name:R.WBProps.CodeName=X||"ThisWorkbook";break}}else de||console.error("Missing Info for XLS Record 0x"+ce.toString(16)),e.l+=ue}return i.SheetNames=la(r).sort(function(li,vt){return Number(li)-Number(vt)}).map(function(li){return r[li].name}),t.bookSheets||(i.Sheets=s),!i.SheetNames.length&&h["!ref"]?(i.SheetNames.push("Sheet1"),i.Sheets&&(i.Sheets.Sheet1=h)):i.Preamble=h,i.Sheets&&H.forEach(function(li,vt){i.Sheets[i.SheetNames[vt]]["!autofilter"]=li}),i.Strings=l,i.SSF=zs(Ct),V.enc&&(i.Encryption=V.enc),Q&&(i.Themes=Q),i.Metadata={},A!==void 0&&(i.Metadata.Country=A),J.names.length>0&&(R.Names=J.names),i.Workbook=R,i}var $P={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Zye(e,t,i){var s=Pt.find(e,"/!DocumentSummaryInformation");if(s&&s.size>0)try{var n=IP(s,fde,$P.DSI);for(var r in n)t[r]=n[r]}catch(u){if(i.WTF)throw u}var o=Pt.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var a=IP(o,gde,$P.SI);for(var l in a)t[l]==null&&(t[l]=a[l])}catch(u){if(i.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(Qz(t.HeadingPairs,t.TitlesOfParts,t,i),delete t.HeadingPairs,delete t.TitlesOfParts)}function OH(e,t){t||(t={}),ET(t),uz(),t.codepage&&rT(t.codepage);var i,s;if(e.FullPaths){if(Pt.find(e,"/encryption"))throw new Error("File is password-protected");i=Pt.find(e,"!CompObj"),s=Pt.find(e,"/Workbook")||Pt.find(e,"/Book")}else{switch(t.type){case"base64":e=vo(cr(e));break;case"binary":e=vo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ns(e,0),s={content:e}}var n,r;if(i&&Yye(i),t.bookProps&&!t.bookSheets)n={};else{var o=kt?"buffer":"array";if(s&&s.content)n=Xye(s.content,t);else if((r=Pt.find(e,"PerfectOffice_MAIN"))&&r.content)n=bp.to_workbook(r.content,(t.type=o,t));else if((r=Pt.find(e,"NativeContent_MAIN"))&&r.content)n=bp.to_workbook(r.content,(t.type=o,t));else throw(r=Pt.find(e,"MN0"))&&r.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Pt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=Ope(e))}var a={};return e.FullPaths&&Zye(e,a,t),n.Props=n.Custprops=a,t.bookFiles&&(n.cfb=e),n}var _C={0:{f:I0e},1:{f:O0e},2:{f:U0e},3:{f:G0e},4:{f:_0e},5:{f:W0e},6:{f:K0e},7:{f:H0e},8:{f:Q0e},9:{f:q0e},10:{f:X0e},11:{f:Z0e},12:{f:N0e},13:{f:j0e},14:{f:z0e},15:{f:B0e},16:{f:kH},17:{f:$0e},18:{f:V0e},19:{f:mT},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Dye},40:{},42:{},43:{f:Xge},44:{f:$ge},45:{f:Zge},46:{f:Qge},47:{f:qge},48:{},49:{f:Jhe},50:{},51:{f:Cpe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:uH},62:{f:Y0e},63:{f:Mpe},64:{f:aye},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:sn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:oye},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:P0e},148:{f:L0e,p:16},151:{f:tye},152:{},153:{f:wye},154:{},155:{},156:{f:Sye},157:{},158:{},159:{T:1,f:gge},160:{T:-1},161:{T:1,f:Sh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:J0e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:vpe},336:{T:-1},337:{f:xpe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:nD},357:{},358:{},359:{},360:{T:1},361:{},362:{f:cH},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:iye},427:{f:sye},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:rye},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:F0e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:eye},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:nD},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Lpe},633:{T:1},634:{T:-1},635:{T:1,f:Ipe},636:{T:-1},637:{f:tde},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:fye},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:lye},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},cD={6:{f:P1},10:{f:ec},12:{f:ss},13:{f:ss},14:{f:ji},15:{f:ji},16:{f:Qs},17:{f:ji},18:{f:ji},19:{f:ss},20:{f:OP},21:{f:OP},23:{f:cH},24:{f:_P},25:{f:ji},26:{},27:{},28:{f:Rfe},29:{},34:{f:ji},35:{f:NP},38:{f:Qs},39:{f:Qs},40:{f:Qs},41:{f:Qs},42:{f:ji},43:{f:ji},47:{f:Fge},49:{f:ufe},51:{f:ss},60:{},61:{f:afe},64:{f:ji},65:{f:cfe},66:{f:ss},77:{},80:{},81:{},82:{},85:{f:ss},89:{},90:{},91:{},92:{f:Jde},93:{f:Ife},94:{},95:{f:ji},96:{},97:{},99:{f:ji},125:{f:uH},128:{f:xfe},129:{f:efe},130:{f:ss},131:{f:ji},132:{f:ji},133:{f:tfe},134:{},140:{f:_fe},141:{f:ss},144:{},146:{f:Gfe},151:{},152:{},153:{},154:{},155:{},156:{f:ss},157:{},158:{},160:{f:Ufe},161:{f:Hfe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:mfe},190:{f:yfe},193:{f:ec},197:{},198:{},199:{},200:{},201:{},202:{f:ji},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ss},220:{},221:{f:ji},222:{},224:{f:Cfe},225:{f:Qde},226:{f:ec},227:{},229:{f:kfe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:ife},253:{f:hfe},255:{f:sfe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:sH},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ji},353:{f:ec},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Sfe},431:{f:ji},432:{},433:{},434:{},437:{},438:{f:Pfe},439:{f:ji},440:{f:Ofe},441:{},442:{f:e0},443:{},444:{f:ss},445:{},446:{},448:{f:ec},449:{f:ofe,r:2},450:{f:ec},512:{f:FP},513:{f:Wfe},515:{f:bfe},516:{f:dfe},517:{f:PP},519:{f:jfe},520:{f:nfe},523:{},545:{f:BP},549:{f:LP},566:{},574:{f:lfe},638:{f:pfe},659:{},1048:{},1054:{f:ffe},1084:{},1212:{f:Afe},2048:{f:Nfe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:ev},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ec},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:zfe,r:12},2173:{f:mpe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ji,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Dfe,r:12},2197:{},2198:{f:upe,r:12},2199:{},2200:{},2201:{},2202:{f:Efe,r:12},2203:{f:ec},2204:{},2205:{},2206:{},2207:{},2211:{f:rfe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ss},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Vfe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Bfe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:FP},1:{},2:{f:Xfe},3:{f:$fe},4:{f:Kfe},5:{f:PP},7:{f:Zfe},8:{},9:{f:ev},11:{},22:{f:ss},30:{f:gfe},31:{},32:{},33:{f:BP},36:{},37:{f:LP},50:{f:qfe},62:{},52:{},67:{},68:{f:ss},69:{},86:{},126:{},127:{f:Yfe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Qfe},223:{},234:{},354:{},421:{},518:{f:P1},521:{f:ev},536:{f:_P},547:{f:NP},561:{},579:{},1030:{f:P1},1033:{f:ev},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function fo(e,t,i,s){var n=t;if(!isNaN(n)){var r=(i||[]).length||0,o=e.next(4);o.write_shift(2,n),o.write_shift(2,r),r>0&&Uz(i)&&e.push(i)}}function XP(e,t){var i=t||{},s=i.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var r=e.match(/<\/table/i),o=n.index,a=r&&r.index||e.length,l=bhe(e.slice(o,a),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,h=0,f=0,g=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<l.length;++o){var C=l[o].trim(),x=C.slice(0,3).toLowerCase();if(x=="<tr"){if(++u,i.sheetRows&&i.sheetRows<=u){--u;break}h=0;continue}if(!(x!="<td"&&x!="<th")){var b=C.split(/<\/t[dh]>/i);for(a=0;a<b.length;++a){var w=b[a].trim();if(w.match(/<t[dh]/i)){for(var M=w,A=0;M.charAt(0)=="<"&&(A=M.indexOf(">"))>-1;)M=M.slice(A+1);for(var T=0;T<y.length;++T){var k=y[T];k.s.c==h&&k.s.r<u&&u<=k.e.r&&(h=k.e.c+1,T=-1)}var R=ct(w.slice(0,w.indexOf(">")));g=R.colspan?+R.colspan:1,((f=+R.rowspan)>1||g>1)&&y.push({s:{r:u,c:h},e:{r:u+(f||1)-1,c:h+g-1}});var F=R.t||R["data-t"]||"";if(!M.length){h+=g;continue}if(M=Iz(M),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>h&&(m.s.c=h),m.e.c<h&&(m.e.c=h),!M.length){h+=g;continue}var I={t:"s",v:M};i.raw||!M.trim().length||F=="s"||(M==="TRUE"?I={t:"b",v:!0}:M==="FALSE"?I={t:"b",v:!1}:isNaN(Eo(M))?isNaN(sf(M).getDate())||(I={t:"d",v:As(M)},i.cellDates||(I={t:"n",v:kn(I.v)}),I.z=i.dateNF||Ct[14]):I={t:"n",v:Eo(M)}),i.dense?(s[u]||(s[u]=[]),s[u][h]=I):s[yt({r:u,c:h})]=I,h+=g}}}}return s["!ref"]=Ot(m),y.length&&(s["!merges"]=y),s}function qye(e,t,i,s){for(var n=e["!merges"]||[],r=[],o=t.s.c;o<=t.e.c;++o){for(var a=0,l=0,u=0;u<n.length;++u)if(!(n[u].s.r>i||n[u].s.c>o)&&!(n[u].e.r<i||n[u].e.c<o)){if(n[u].s.r<i||n[u].s.c<o){a=-1;break}a=n[u].e.r-n[u].s.r+1,l=n[u].e.c-n[u].s.c+1;break}if(!(a<0)){var h=yt({r:i,c:o}),f=s.dense?(e[i]||[])[o]:e[h],g=f&&f.v!=null&&(f.h||hT(f.w||(cl(f),f.w)||""))||"",m={};a>1&&(m.rowspan=a),l>1&&(m.colspan=l),s.editable?g='<span contenteditable="true">'+g+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+f.l.Target+'">'+g+"</a>")),m.id=(s.id||"sjs")+"-"+h,r.push(_he("td",g,m))}}var y="<tr>";return y+r.join("")+"</tr>"}var Qye='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Jye="</body></html>";function eve(e,t){var i=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!i||i.length==0)throw new Error("Invalid HTML: could not find <table>");if(i.length==1)return Gc(XP(i[0],t),t);var s=RT();return i.forEach(function(n,r){kT(s,XP(n,t),"Sheet"+(r+1))}),s}function tve(e,t,i){var s=[];return s.join("")+"<table"+(i&&i.id?' id="'+i.id+'"':"")+">"}function ive(e,t){var i=t||{},s=i.header!=null?i.header:Qye,n=i.footer!=null?i.footer:Jye,r=[s],o=Ff(e["!ref"]);i.dense=Array.isArray(e),r.push(tve(e,o,i));for(var a=o.s.r;a<=o.e.r;++a)r.push(qye(e,o,a,i));return r.push("</table>"+n),r.join("")}function NH(e,t,i){var s=i||{},n=0,r=0;if(s.origin!=null)if(typeof s.origin=="number")n=s.origin;else{var o=typeof s.origin=="string"?Tn(s.origin):s.origin;n=o.r,r=o.c}var a=t.getElementsByTagName("tr"),l=Math.min(s.sheetRows||1e7,a.length),u={s:{r:0,c:0},e:{r:n,c:r}};if(e["!ref"]){var h=Ff(e["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),n==-1&&(u.e.r=n=h.e.r+1)}var f=[],g=0,m=e["!rows"]||(e["!rows"]=[]),y=0,C=0,x=0,b=0,w=0,M=0;for(e["!cols"]||(e["!cols"]=[]);y<a.length&&C<l;++y){var A=a[y];if(ZP(A)){if(s.display)continue;m[C]={hidden:!0}}var T=A.children;for(x=b=0;x<T.length;++x){var k=T[x];if(!(s.display&&ZP(k))){var R=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):Iz(k.innerHTML),F=k.getAttribute("data-z")||k.getAttribute("z");for(g=0;g<f.length;++g){var I=f[g];I.s.c==b+r&&I.s.r<C+n&&C+n<=I.e.r&&(b=I.e.c+1-r,g=-1)}M=+k.getAttribute("colspan")||1,((w=+k.getAttribute("rowspan")||1)>1||M>1)&&f.push({s:{r:C+n,c:b+r},e:{r:C+n+(w||1)-1,c:b+r+(M||1)-1}});var N={t:"s",v:R},G=k.getAttribute("data-t")||k.getAttribute("t")||"";R!=null&&(R.length==0?N.t=G||"z":s.raw||R.trim().length==0||G=="s"||(R==="TRUE"?N={t:"b",v:!0}:R==="FALSE"?N={t:"b",v:!1}:isNaN(Eo(R))?isNaN(sf(R).getDate())||(N={t:"d",v:As(R)},s.cellDates||(N={t:"n",v:kn(N.v)}),N.z=s.dateNF||Ct[14]):N={t:"n",v:Eo(R)})),N.z===void 0&&F!=null&&(N.z=F);var V="",Q=k.getElementsByTagName("A");if(Q&&Q.length)for(var pe=0;pe<Q.length&&!(Q[pe].hasAttribute("href")&&(V=Q[pe].getAttribute("href"),V.charAt(0)!="#"));++pe);V&&V.charAt(0)!="#"&&(N.l={Target:V}),s.dense?(e[C+n]||(e[C+n]=[]),e[C+n][b+r]=N):e[yt({c:b+r,r:C+n})]=N,u.e.c<b+r&&(u.e.c=b+r),b+=M}}++C}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,C-1+n),e["!ref"]=Ot(u),C>=l&&(e["!fullref"]=Ot((u.e.r=a.length-y+C-1+n,u))),e}function _H(e,t){var i=t||{},s=i.dense?[]:{};return NH(s,e,t)}function sve(e,t){return Gc(_H(e,t),t)}function ZP(e){var t="",i=nve(e);return i&&(t=i(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function nve(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function rve(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(s,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),i=_t(t.replace(/<[^>]*>/g,""));return[i]}var qP={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function BH(e,t){var i=t||{},s=dT(e),n=[],r,o,a={name:""},l="",u=0,h,f,g={},m=[],y=i.dense?[]:{},C,x,b={value:""},w="",M=0,A=[],T=-1,k=-1,R={s:{r:1e6,c:1e7},e:{r:0,c:0}},F=0,I={},N=[],G={},V=0,Q=0,pe=[],ae=1,se=1,le=[],re={Names:[]},J={},z=["",""],ee=[],O={},j="",H=0,K=!1,ne=!1,ge=0;for(am.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");C=am.exec(s);)switch(C[3]=C[3].replace(/_.*$/,"")){case"table":case"":C[1]==="/"?(R.e.c>=R.s.c&&R.e.r>=R.s.r?y["!ref"]=Ot(R):y["!ref"]="A1:A1",i.sheetRows>0&&i.sheetRows<=R.e.r&&(y["!fullref"]=y["!ref"],R.e.r=i.sheetRows-1,y["!ref"]=Ot(R)),N.length&&(y["!merges"]=N),pe.length&&(y["!rows"]=pe),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),m.push(h.name),g[h.name]=y,ne=!1):C[0].charAt(C[0].length-2)!=="/"&&(h=ct(C[0],!1),T=k=-1,R.s.r=R.s.c=1e7,R.e.r=R.e.c=0,y=i.dense?[]:{},N=[],pe=[],ne=!0);break;case"table-row-group":C[1]==="/"?--F:++F;break;case"table-row":case"":if(C[1]==="/"){T+=ae,ae=1;break}if(f=ct(C[0],!1),f.?T=f.-1:T==-1&&(T=0),ae=+f["number-rows-repeated"]||1,ae<10)for(ge=0;ge<ae;++ge)F>0&&(pe[T+ge]={level:F});k=-1;break;case"covered-table-cell":C[1]!=="/"&&++k,i.sheetStubs&&(i.dense?(y[T]||(y[T]=[]),y[T][k]={t:"z"}):y[yt({r:T,c:k})]={t:"z"}),w="",A=[];break;case"table-cell":case"":if(C[0].charAt(C[0].length-2)==="/")++k,b=ct(C[0],!1),se=parseInt(b["number-columns-repeated"]||"1",10),x={t:"z",v:null},b.formula&&i.cellFormula!=!1&&(x.f=jP(_t(b.formula))),(b.||b["value-type"])=="string"&&(x.t="s",x.v=_t(b["string-value"]||""),i.dense?(y[T]||(y[T]=[]),y[T][k]=x):y[yt({r:T,c:k})]=x),k+=se-1;else if(C[1]!=="/"){++k,w="",M=0,A=[],se=1;var ce=ae?T+ae-1:T;if(k>R.e.c&&(R.e.c=k),k<R.s.c&&(R.s.c=k),T<R.s.r&&(R.s.r=T),ce>R.e.r&&(R.e.r=ce),b=ct(C[0],!1),ee=[],O={},x={t:b.||b["value-type"],v:null},i.cellFormula)if(b.formula&&(b.formula=_t(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(V=parseInt(b["number-matrix-rows-spanned"],10)||0,Q=parseInt(b["number-matrix-columns-spanned"],10)||0,G={s:{r:T,c:k},e:{r:T+V-1,c:k+Q-1}},x.F=Ot(G),le.push([G,x.F])),b.formula)x.f=jP(b.formula);else for(ge=0;ge<le.length;++ge)T>=le[ge][0].s.r&&T<=le[ge][0].e.r&&k>=le[ge][0].s.c&&k<=le[ge][0].e.c&&(x.F=le[ge][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(V=parseInt(b["number-rows-spanned"],10)||0,Q=parseInt(b["number-columns-spanned"],10)||0,G={s:{r:T,c:k},e:{r:T+V-1,c:k+Q-1}},N.push(G)),b["number-columns-repeated"]&&(se=parseInt(b["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=xi(b["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(b.value);break;case"percentage":x.t="n",x.v=parseFloat(b.value);break;case"currency":x.t="n",x.v=parseFloat(b.value);break;case"date":x.t="d",x.v=As(b["date-value"]),i.cellDates||(x.t="n",x.v=kn(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=vhe(b["time-value"])/86400,i.cellDates&&(x.t="d",x.v=Jx(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(b.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",b["string-value"]!=null&&(w=_t(b["string-value"]),A=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(K=!1,x.t==="s"&&(x.v=w||"",A.length&&(x.R=A),K=M==0),J.Target&&(x.l=J),ee.length>0&&(x.c=ee,ee=[]),w&&i.cellText!==!1&&(x.w=w),K&&(x.t="z",delete x.v),(!K||i.sheetStubs)&&!(i.sheetRows&&i.sheetRows<=T))for(var ue=0;ue<ae;++ue){if(se=parseInt(b["number-columns-repeated"]||"1",10),i.dense)for(y[T+ue]||(y[T+ue]=[]),y[T+ue][k]=ue==0?x:zs(x);--se>0;)y[T+ue][k+se]=zs(x);else for(y[yt({r:T+ue,c:k})]=x;--se>0;)y[yt({r:T+ue,c:k+se})]=zs(x);R.e.c<=k&&(R.e.c=k)}se=parseInt(b["number-columns-repeated"]||"1",10),k+=se-1,se=0,x={},w="",A=[]}J={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(C[1]==="/"){if((r=n.pop())[0]!==C[3])throw"Bad state: "+r}else C[0].charAt(C[0].length-2)!=="/"&&n.push([C[3],!0]);break;case"annotation":if(C[1]==="/"){if((r=n.pop())[0]!==C[3])throw"Bad state: "+r;O.t=w,A.length&&(O.R=A),O.a=j,ee.push(O)}else C[0].charAt(C[0].length-2)!=="/"&&n.push([C[3],!1]);j="",H=0,w="",M=0,A=[];break;case"creator":C[1]==="/"?j=s.slice(H,C.index):H=C.index+C[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(C[1]==="/"){if((r=n.pop())[0]!==C[3])throw"Bad state: "+r}else C[0].charAt(C[0].length-2)!=="/"&&n.push([C[3],!1]);w="",M=0,A=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(C[1]==="/"){if(I[a.name]=l,(r=n.pop())[0]!==C[3])throw"Bad state: "+r}else C[0].charAt(C[0].length-2)!=="/"&&(l="",a=ct(C[0],!1),n.push([C[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":o=ct(C[0],!1),l+=qP[C[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":o=ct(C[0],!1),l+=qP[C[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(C[0].slice(-2)==="/>")break;if(C[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":l+=s.slice(u,C.index);break}else u=C.index+C[0].length;break;case"named-range":o=ct(C[0],!1),z=O1(o["cell-range-address"]);var de={Name:o.name,Ref:z[0]+"!"+z[1]};ne&&(de.Sheet=m.length),re.Names.push(de);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(C[1]==="/"&&(!b||!b["string-value"])){var Le=rve(s.slice(M,C.index));w=(w.length>0?w+`
`:"")+Le[0]}else ct(C[0],!1),M=C.index+C[0].length;break;case"s":break;case"database-range":if(C[1]==="/")break;try{z=O1(ct(C[0])["target-range-address"]),g[z[0]]["!autofilter"]={ref:z[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(C[1]!=="/"){if(J=ct(C[0],!1),!J.href)break;J.Target=_t(J.href),delete J.href,J.Target.charAt(0)=="#"&&J.Target.indexOf(".")>-1?(z=O1(J.Target.slice(1)),J.Target="#"+z[0]+"!"+z[1]):J.Target.match(/^\.\.[\\\/]/)&&(J.Target=J.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(C[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(i.WTF)throw new Error(C)}}var X={Sheets:g,SheetNames:m,Workbook:re};return i.bookSheets&&delete X.Sheets,X}function QP(e,t){t=t||{},Or(e,"META-INF/manifest.xml")&&bde(is(e,"META-INF/manifest.xml"),t);var i=nr(e,"content.xml");if(!i)throw new Error("Missing content.xml in ODS / UOF file");var s=BH(di(i),t);return Or(e,"meta.xml")&&(s.Props=qz(is(e,"meta.xml"))),s}function JP(e,t){return BH(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function DT(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function uD(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):di(xh(e))}function hD(e){var t=e.reduce(function(n,r){return n+r.length},0),i=new Uint8Array(t),s=0;return e.forEach(function(n){i.set(n,s),s+=n.length}),i}function eO(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function ove(e,t){for(var i=(e[t+15]&127)<<7|e[t+14]>>1,s=e[t+14]&1,n=t+13;n>=t;--n)s=s*256+e[n];return(e[t+15]&128?-s:s)*Math.pow(10,i-6176)}function hm(e,t){var i=t?t[0]:0,s=e[i]&127;e:if(e[i++]>=128&&(s|=(e[i]&127)<<7,e[i++]<128||(s|=(e[i]&127)<<14,e[i++]<128)||(s|=(e[i]&127)<<21,e[i++]<128)||(s+=(e[i]&127)*Math.pow(2,28),++i,e[i++]<128)||(s+=(e[i]&127)*Math.pow(2,35),++i,e[i++]<128)||(s+=(e[i]&127)*Math.pow(2,42),++i,e[i++]<128)))break e;return t&&(t[0]=i),s}function ys(e){var t=0,i=e[t]&127;e:if(e[t++]>=128){if(i|=(e[t]&127)<<7,e[t++]<128||(i|=(e[t]&127)<<14,e[t++]<128)||(i|=(e[t]&127)<<21,e[t++]<128))break e;i|=(e[t]&127)<<28}return i}function Js(e){for(var t=[],i=[0];i[0]<e.length;){var s=i[0],n=hm(e,i),r=n&7;n=Math.floor(n/8);var o=0,a;if(n==0)break;switch(r){case 0:{for(var l=i[0];e[i[0]++]>=128;);a=e.slice(l,i[0])}break;case 5:o=4,a=e.slice(i[0],i[0]+o),i[0]+=o;break;case 1:o=8,a=e.slice(i[0],i[0]+o),i[0]+=o;break;case 2:o=hm(e,i),a=e.slice(i[0],i[0]+o),i[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(r," for Field ").concat(n," at offset ").concat(s))}var u={data:a,type:r};t[n]==null?t[n]=[u]:t[n].push(u)}return t}function AT(e,t){return(e==null?void 0:e.map(function(i){return t(i.data)}))||[]}function ave(e){for(var t,i=[],s=[0];s[0]<e.length;){var n=hm(e,s),r=Js(e.slice(s[0],s[0]+n));s[0]+=n;var o={id:ys(r[1][0].data),messages:[]};r[2].forEach(function(a){var l=Js(a.data),u=ys(l[3][0].data);o.messages.push({meta:l,data:e.slice(s[0],s[0]+u)}),s[0]+=u}),(t=r[3])!=null&&t[0]&&(o.merge=ys(r[3][0].data)>>>0>0),i.push(o)}return i}function lve(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var i=[0],s=hm(t,i),n=[];i[0]<t.length;){var r=t[i[0]]&3;if(r==0){var o=t[i[0]++]>>2;if(o<60)++o;else{var a=o-59;o=t[i[0]],a>1&&(o|=t[i[0]+1]<<8),a>2&&(o|=t[i[0]+2]<<16),a>3&&(o|=t[i[0]+3]<<24),o>>>=0,o++,i[0]+=a}n.push(t.slice(i[0],i[0]+o)),i[0]+=o;continue}else{var l=0,u=0;if(r==1?(u=(t[i[0]]>>2&7)+4,l=(t[i[0]++]&224)<<3,l|=t[i[0]++]):(u=(t[i[0]++]>>2)+1,r==2?(l=t[i[0]]|t[i[0]+1]<<8,i[0]+=2):(l=(t[i[0]]|t[i[0]+1]<<8|t[i[0]+2]<<16|t[i[0]+3]<<24)>>>0,i[0]+=4)),n=[hD(n)],l==0)throw new Error("Invalid offset 0");if(l>n[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(n.push(n[0].slice(-l)),u-=l;u>=n[n.length-1].length;)n.push(n[n.length-1]),u-=n[n.length-1].length;n.push(n[0].slice(-l,-l+u))}}var h=hD(n);if(h.length!=s)throw new Error("Unexpected length: ".concat(h.length," != ").concat(s));return h}function cve(e){for(var t=[],i=0;i<e.length;){var s=e[i++],n=e[i]|e[i+1]<<8|e[i+2]<<16;i+=3,t.push(lve(s,e.slice(i,i+n))),i+=n}if(i!==e.length)throw new Error("data is not a valid framed stream!");return hD(t)}function uve(e,t,i,s){var n=DT(e),r=n.getUint32(4,!0),o=(s>1?12:8)+eO(r&(s>1?3470:398))*4,a=-1,l=-1,u=NaN,h=new Date(2001,0,1);r&512&&(a=n.getUint32(o,!0),o+=4),o+=eO(r&(s>1?12288:4096))*4,r&16&&(l=n.getUint32(o,!0),o+=4),r&32&&(u=n.getFloat64(o,!0),o+=8),r&64&&(h.setTime(h.getTime()+n.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:h};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(a>-1)f={t:"s",v:i[a]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function hve(e,t,i){var s=DT(e),n=s.getUint32(8,!0),r=12,o=-1,a=-1,l=NaN,u=NaN,h=new Date(2001,0,1);n&1&&(l=ove(e,r),r+=16),n&2&&(u=s.getFloat64(r,!0),r+=8),n&4&&(h.setTime(h.getTime()+s.getFloat64(r,!0)*1e3),r+=8),n&8&&(a=s.getUint32(r,!0),r+=4),n&16&&(o=s.getUint32(r,!0),r+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[a]};break;case 5:f={t:"d",v:h};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:i[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return f}function dve(e,t,i){switch(e[0]){case 0:case 1:case 2:case 3:return uve(e,t,i,e[0]);case 5:return hve(e,t,i);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function vc(e){var t=Js(e);return hm(t[1][0].data)}function tO(e,t){var i=Js(t.data),s=ys(i[1][0].data),n=i[3],r=[];return(n||[]).forEach(function(o){var a=Js(o.data),l=ys(a[1][0].data)>>>0;switch(s){case 1:r[l]=uD(a[3][0].data);break;case 8:{var u=e[vc(a[9][0].data)][0],h=Js(u.data),f=e[vc(h[1][0].data)][0],g=ys(f.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var m=Js(f.data);r[l]=m[3].map(function(y){return uD(y.data)}).join("")}break}}),r}function fve(e,t){var i,s,n,r,o,a,l,u,h,f,g,m,y,C,x=Js(e),b=ys(x[1][0].data)>>>0,w=ys(x[2][0].data)>>>0,M=((s=(i=x[8])==null?void 0:i[0])==null?void 0:s.data)&&ys(x[8][0].data)>0||!1,A,T;if((r=(n=x[7])==null?void 0:n[0])!=null&&r.data&&t!=0)A=(a=(o=x[7])==null?void 0:o[0])==null?void 0:a.data,T=(u=(l=x[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(h=x[4])==null?void 0:h[0])!=null&&f.data&&t!=1)A=(m=(g=x[4])==null?void 0:g[0])==null?void 0:m.data,T=(C=(y=x[3])==null?void 0:y[0])==null?void 0:C.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var k=M?4:1,R=DT(A),F=[],I=0;I<A.length/2;++I){var N=R.getUint16(I*2,!0);N<65535&&F.push([I,N])}if(F.length!=w)throw"Expected ".concat(w," cells, found ").concat(F.length);var G=[];for(I=0;I<F.length-1;++I)G[F[I][0]]=T.subarray(F[I][1]*k,F[I+1][1]*k);return F.length>=1&&(G[F[F.length-1][0]]=T.subarray(F[F.length-1][1]*k)),{R:b,cells:G}}function gve(e,t){var i,s=Js(t.data),n=(i=s==null?void 0:s[7])!=null&&i[0]?ys(s[7][0].data)>>>0>0?1:0:-1,r=AT(s[5],function(o){return fve(o,n)});return{nrows:ys(s[4][0].data)>>>0,data:r.reduce(function(o,a){return o[a.R]||(o[a.R]=[]),a.cells.forEach(function(l,u){if(o[a.R][u])throw new Error("Duplicate cell r=".concat(a.R," c=").concat(u));o[a.R][u]=l}),o},[])}}function pve(e,t,i){var s,n=Js(t.data),r={s:{r:0,c:0},e:{r:0,c:0}};if(r.e.r=(ys(n[6][0].data)>>>0)-1,r.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(r.e.c=(ys(n[7][0].data)>>>0)-1,r.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));i["!ref"]=Ot(r);var o=Js(n[4][0].data),a=tO(e,e[vc(o[4][0].data)][0]),l=(s=o[17])!=null&&s[0]?tO(e,e[vc(o[17][0].data)][0]):[],u=Js(o[3][0].data),h=0;u[1].forEach(function(f){var g=Js(f.data),m=e[vc(g[2][0].data)][0],y=ys(m.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var C=gve(e,m);C.data.forEach(function(x,b){x.forEach(function(w,M){var A=yt({r:h+b,c:M}),T=dve(w,a,l);T&&(i[A]=T)})}),h+=C.nrows})}function mve(e,t){var i=Js(t.data),s={"!ref":"A1"},n=e[vc(i[2][0].data)],r=ys(n[0].meta[1][0].data);if(r!=6001)throw new Error("6000 unexpected reference to ".concat(r));return pve(e,n[0],s),s}function yve(e,t){var i,s=Js(t.data),n={name:(i=s[1])!=null&&i[0]?uD(s[1][0].data):"",sheets:[]},r=AT(s[2],vc);return r.forEach(function(o){e[o].forEach(function(a){var l=ys(a.meta[1][0].data);l==6e3&&n.sheets.push(mve(e,a))})}),n}function vve(e,t){var i=RT(),s=Js(t.data),n=AT(s[1],vc);if(n.forEach(function(r){e[r].forEach(function(o){var a=ys(o.meta[1][0].data);if(a==2){var l=yve(e,o);l.sheets.forEach(function(u,h){kT(i,u,h==0?l.name:l.name+"_"+h,!0)})}})}),i.SheetNames.length==0)throw new Error("Empty NUMBERS file");return i}function _1(e){var t,i,s,n,r={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=cve(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var h;try{h=ave(u)}catch(f){return console.log("## "+(f.message||f))}h.forEach(function(f){r[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var a=((n=(s=(i=(t=r==null?void 0:r[1])==null?void 0:t[0])==null?void 0:i.meta)==null?void 0:s[1])==null?void 0:n[0].data)&&ys(r[1][0].meta[1][0].data)==1&&r[1][0];if(a||o.forEach(function(l){r[l].forEach(function(u){var h=ys(u.meta[1][0].data)>>>0;if(h==1)if(!a)a=u;else throw new Error("Document has multiple roots")})}),!a)throw new Error("Cannot find Document root");return vve(r,a)}function Cve(e){return function(i){for(var s=0;s!=e.length;++s){var n=e[s];i[n[0]]===void 0&&(i[n[0]]=n[1]),n[2]==="n"&&(i[n[0]]=Number(i[n[0]]))}}}function ET(e){Cve([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function xve(e){return Md.WS.indexOf(e)>-1?"sheet":e==Md.CS?"chart":e==Md.DS?"dialog":e==Md.MS?"macro":e&&e.length?e:"sheet"}function bve(e,t){if(!e)return 0;try{e=t.map(function(s){return s.id||(s.id=s.strRelID),[s.name,e["!id"][s.id].Target,xve(e["!id"][s.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Sve(e,t,i,s,n,r,o,a,l,u,h,f){try{r[s]=Cp(nr(e,i,!0),t);var g=is(e,t),m;switch(a){case"sheet":m=Tye(g,t,n,l,r[s],u,h,f);break;case"chart":if(m=Rye(g,t,n,l,r[s],u,h,f),!m||!m["!drawel"])break;var y=Zg(m["!drawel"].Target,t),C=rD(y),x=Epe(nr(e,y,!0),Cp(nr(e,C,!0),y)),b=Zg(x,y),w=rD(b);m=hye(nr(e,b,!0),b,l,Cp(nr(e,w,!0),b),u,m);break;case"macro":m=kye(g,t,n,l,r[s],u,h,f);break;case"dialog":m=Iye(g,t,n,l,r[s],u,h,f);break;default:throw new Error("Unrecognized sheet type "+a)}o[s]=m;var M=[];r&&r[s]&&la(r[s]).forEach(function(A){var T="";if(r[s][A].Type==Md.CMNT){T=Zg(r[s][A].Target,t);var k=Oye(is(e,T,!0),T,l);if(!k||!k.length)return;zP(m,k,!1)}r[s][A].Type==Md.TCMNT&&(T=Zg(r[s][A].Target,t),M=M.concat(Rpe(is(e,T,!0),l)))}),M&&M.length&&zP(m,M,!0,l.people||[])}catch(A){if(l.WTF)throw A}}function kr(e){return e.charAt(0)=="/"?e.slice(1):e}function wve(e,t){if(Sz(),t=t||{},ET(t),Or(e,"META-INF/manifest.xml")||Or(e,"objectdata.xml"))return QP(e,t);if(Or(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof _1<"u"){if(e.FileIndex)return _1(e);var i=Pt.utils.cfb_new();return fP(e).forEach(function(pe){Mhe(i,pe,whe(e,pe))}),_1(i)}throw new Error("Unsupported NUMBERS file")}if(!Or(e,"[Content_Types].xml"))throw Or(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Or(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var s=fP(e),n=Cde(nr(e,"[Content_Types].xml")),r=!1,o,a;if(n.workbooks.length===0&&(a="xl/workbook.xml",is(e,a,!0)&&n.workbooks.push(a)),n.workbooks.length===0){if(a="xl/workbook.bin",!is(e,a,!0))throw new Error("Could not find workbook");n.workbooks.push(a),r=!0}n.workbooks[0].slice(-3)=="bin"&&(r=!0);var l={},u={};if(!t.bookSheets&&!t.bookProps){if(Sp=[],n.sst)try{Sp=Pye(is(e,kr(n.sst)),n.sst,t)}catch(pe){if(t.WTF)throw pe}t.cellStyles&&n.themes.length&&(l=Fye(nr(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(u=Lye(is(e,kr(n.style)),n.style,l,t))}n.links.map(function(pe){try{var ae=Cp(nr(e,rD(kr(pe))),pe);return _ye(is(e,kr(pe)),ae,pe,t)}catch{}});var h=Eye(is(e,kr(n.workbooks[0])),n.workbooks[0],t),f={},g="";n.coreprops.length&&(g=is(e,kr(n.coreprops[0]),!0),g&&(f=qz(g)),n.extprops.length!==0&&(g=is(e,kr(n.extprops[0]),!0),g&&Mde(g,f,t)));var m={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(g=nr(e,kr(n.custprops[0]),!0),g&&(m=Ade(g,t)));var y={};if((t.bookSheets||t.bookProps)&&(h.Sheets?o=h.Sheets.map(function(ae){return ae.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(y.Props=f,y.Custprops=m),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var C={};t.bookDeps&&n.calcchain&&(C=Nye(is(e,kr(n.calcchain)),n.calcchain));var x=0,b={},w,M;{var A=h.Sheets;f.Worksheets=A.length,f.SheetNames=[];for(var T=0;T!=A.length;++T)f.SheetNames[T]=A[T].name}var k=r?"bin":"xml",R=n.workbooks[0].lastIndexOf("/"),F=(n.workbooks[0].slice(0,R+1)+"_rels/"+n.workbooks[0].slice(R+1)+".rels").replace(/^\//,"");Or(e,F)||(F="xl/_rels/workbook."+k+".rels");var I=Cp(nr(e,F,!0),F.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=Bye(is(e,kr(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=kpe(is(e,kr(n.people[0])),t)),I&&(I=bve(I,h.Sheets));var N=is(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=f.Worksheets;++x){var G="sheet";if(I&&I[x]?(w="xl/"+I[x][1].replace(/[\/]?xl\//,""),Or(e,w)||(w=I[x][1]),Or(e,w)||(w=F.replace(/_rels\/.*$/,"")+I[x][1]),G=I[x][2]):(w="xl/worksheets/sheet"+(x+1-N)+"."+k,w=w.replace(/sheet0\./,"sheet.")),M=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(f.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var V=!1,Q=0;Q!=t.sheets.length;++Q)typeof t.sheets[Q]=="number"&&t.sheets[Q]==x&&(V=1),typeof t.sheets[Q]=="string"&&t.sheets[Q].toLowerCase()==f.SheetNames[x].toLowerCase()&&(V=1);if(!V)continue e}}Sve(e,w,M,f.SheetNames[x],x,b,o,G,t,h,l,u)}return y={Directory:n,Workbook:h,Props:f,Custprops:m,Deps:C,Sheets:o,SheetNames:f.SheetNames,Strings:Sp,Styles:u,Themes:l,SSF:zs(Ct)},t&&t.bookFiles&&(e.files?(y.keys=s,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(pe,ae){pe=pe.replace(/^Root Entry[\/]/,""),y.keys.push(pe),y.files[pe]=e.FileIndex[ae]}))),t&&t.bookVBA&&(n.vba.length>0?y.vbaraw=is(e,kr(n.vba[0]),!0):n.defaults&&n.defaults.bin===Ppe&&(y.vbaraw=is(e,"xl/vbaProject.bin",!0))),y}function Mve(e,t){var i=t||{},s="Workbook",n=Pt.find(e,s);try{if(s="/!DataSpaces/Version",n=Pt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(mge(n.content),s="/!DataSpaces/DataSpaceMap",n=Pt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);var r=vge(n.content);if(r.length!==1||r[0].comps.length!==1||r[0].comps[0].t!==0||r[0].name!=="StrongEncryptionDataSpace"||r[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=Pt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);var o=Cge(n.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=Pt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);bge(n.content)}catch{}if(s="/EncryptionInfo",n=Pt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);var a=Sge(n.content);if(s="/EncryptedPackage",n=Pt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(a[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(a[1],n.content,i.password||"",i);if(a[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(a[1],n.content,i.password||"",i);throw new Error("File is password-protected")}function TT(e,t){var i="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":i=cr(e.slice(0,12));break;case"binary":i=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[i.charCodeAt(0),i.charCodeAt(1),i.charCodeAt(2),i.charCodeAt(3),i.charCodeAt(4),i.charCodeAt(5),i.charCodeAt(6),i.charCodeAt(7)]}function Dve(e,t){return Pt.find(e,"EncryptedPackage")?Mve(e,t):OH(e,t)}function Ave(e,t){var i,s=e,n=t||{};return n.type||(n.type=kt&&Buffer.isBuffer(e)?"buffer":"base64"),i=Tz(s,n),wve(i,n)}function GH(e,t){var i=0;e:for(;i<e.length;)switch(e.charCodeAt(i)){case 10:case 13:case 32:++i;break;case 60:return lD(e.slice(i),t);default:break e}return lm.to_workbook(e,t)}function Eve(e,t){var i="",s=TT(e,t);switch(t.type){case"base64":i=cr(e);break;case"binary":i=e;break;case"buffer":i=e.toString("binary");break;case"array":i=th(e);break;default:throw new Error("Unrecognized type "+t.type)}return s[0]==239&&s[1]==187&&s[2]==191&&(i=di(i)),t.type="binary",GH(i,t)}function Tve(e,t){var i=e;return t.type=="base64"&&(i=cr(i)),i=iD.utils.decode(1200,i.slice(2),"str"),t.type="binary",GH(i,t)}function Rve(e){return e.match(/[^\x00-\x7F]/)?qg(e):e}function B1(e,t,i,s){return s?(i.type="string",lm.to_workbook(e,i)):lm.to_workbook(t,i)}function dD(e,t){uz();var i=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return dD(new Uint8Array(e),(i=zs(i),i.type="array",i));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!i.type&&(i.type=typeof Deno<"u"?"buffer":"array");var s=e,n=[0,0,0,0],r=!1;if(i.cellStyles&&(i.cellNF=!0,i.sheetStubs=!0),zd={},i.dateNF&&(zd.dateNF=i.dateNF),i.type||(i.type=kt&&Buffer.isBuffer(e)?"buffer":"base64"),i.type=="file"&&(i.type=kt?"buffer":"binary",s=mhe(e),typeof Uint8Array<"u"&&!kt&&(i.type="array")),i.type=="string"&&(r=!0,i.type="binary",i.codepage=65001,s=Rve(e)),i.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),a=new Uint8Array(o);if(a.foo="bar",!a.foo)return i=zs(i),i.type="array",dD(oT(s),i)}switch((n=TT(s,i))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return Dve(Pt.read(s,i),i);break;case 9:if(n[1]<=8)return OH(s,i);break;case 60:return lD(s,i);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return sge(s,i);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return tge.to_workbook(s,i);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?Ave(s,i):B1(e,s,i,r);case 239:return n[3]===60?lD(s,i):B1(e,s,i,r);case 255:if(n[1]===254)return Tve(s,i);if(n[1]===0&&n[2]===2&&n[3]===0)return bp.to_workbook(s,i);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return bp.to_workbook(s,i);break;case 3:case 131:case 139:case 140:return GP.to_workbook(s,i);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return Pge.to_workbook(s,i);break;case 10:case 13:case 32:return Eve(s,i);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Jfe.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?GP.to_workbook(s,i):B1(e,s,i,r)}function kve(e,t,i,s,n,r,o,a){var l=Hs(i),u=a.defval,h=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),f=!0,g=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:i,enumerable:!1})}catch{g.__rowNum__=i}else g.__rowNum__=i;if(!o||e[i])for(var m=t.s.c;m<=t.e.c;++m){var y=o?e[i][m]:e[s[m]+l];if(y===void 0||y.t===void 0){if(u===void 0)continue;r[m]!=null&&(g[r[m]]=u);continue}var C=y.v;switch(y.t){case"z":if(C==null)break;continue;case"e":C=C==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(r[m]!=null){if(C==null)if(y.t=="e"&&C===null)g[r[m]]=null;else if(u!==void 0)g[r[m]]=u;else if(h&&C===null)g[r[m]]=null;else continue;else g[r[m]]=h&&(y.t!=="n"||y.t==="n"&&a.rawNumbers!==!1)?C:cl(y,C,a);C!=null&&(f=!1)}}return{row:g,isempty:f}}function fD(e,t){if(e==null||e["!ref"]==null)return[];var i={t:"n",v:0},s=0,n=1,r=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},h=u.range!=null?u.range:e["!ref"];switch(u.header===1?s=1:u.header==="A"?s=2:Array.isArray(u.header)?s=3:u.header==null&&(s=0),typeof h){case"string":l=zi(h);break;case"number":l=zi(e["!ref"]),l.s.r=h;break;default:l=h}s>0&&(n=0);var f=Hs(l.s.r),g=[],m=[],y=0,C=0,x=Array.isArray(e),b=l.s.r,w=0,M={};x&&!e[b]&&(e[b]=[]);var A=u.skipHidden&&e["!cols"]||[],T=u.skipHidden&&e["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(A[w]||{}).hidden)switch(g[w]=ps(w),i=x?e[b][w]:e[g[w]+f],s){case 1:r[w]=w-l.s.c;break;case 2:r[w]=g[w];break;case 3:r[w]=u.header[w-l.s.c];break;default:if(i==null&&(i={w:"__EMPTY",t:"s"}),a=o=cl(i,null,u),C=M[o]||0,!C)M[o]=1;else{do a=o+"_"+C++;while(M[a]);M[o]=C,M[a]=1}r[w]=a}for(b=l.s.r+n;b<=l.e.r;++b)if(!(T[b]||{}).hidden){var k=kve(e,l,b,g,s,r,x,u);(k.isempty===!1||(s===1?u.blankrows!==!1:u.blankrows))&&(m[y++]=k.row)}return m.length=y,m}var iO=/"/g;function Ive(e,t,i,s,n,r,o,a){for(var l=!0,u=[],h="",f=Hs(i),g=t.s.c;g<=t.e.c;++g)if(s[g]){var m=a.dense?(e[i]||[])[g]:e[s[g]+f];if(m==null)h="";else if(m.v!=null){l=!1,h=""+(a.rawNumbers&&m.t=="n"?m.v:cl(m,null,a));for(var y=0,C=0;y!==h.length;++y)if((C=h.charCodeAt(y))===n||C===r||C===34||a.forceQuotes){h='"'+h.replace(iO,'""')+'"';break}h=="ID"&&(h='"ID"')}else m.f!=null&&!m.F?(l=!1,h="="+m.f,h.indexOf(",")>=0&&(h='"'+h.replace(iO,'""')+'"')):h="";u.push(h)}return a.blankrows===!1&&l?null:u.join(o)}function zH(e,t){var i=[],s=t??{};if(e==null||e["!ref"]==null)return"";var n=zi(e["!ref"]),r=s.FS!==void 0?s.FS:",",o=r.charCodeAt(0),a=s.RS!==void 0?s.RS:`
`,l=a.charCodeAt(0),u=new RegExp((r=="|"?"\\|":r)+"+$"),h="",f=[];s.dense=Array.isArray(e);for(var g=s.skipHidden&&e["!cols"]||[],m=s.skipHidden&&e["!rows"]||[],y=n.s.c;y<=n.e.c;++y)(g[y]||{}).hidden||(f[y]=ps(y));for(var C=0,x=n.s.r;x<=n.e.r;++x)(m[x]||{}).hidden||(h=Ive(e,n,x,f,o,l,r,s),h!=null&&(s.strip&&(h=h.replace(u,"")),(h||s.blankrows!==!1)&&i.push((C++?a:"")+h)));return delete s.dense,i.join("")}function Lve(e,t){t||(t={}),t.FS="	",t.RS=`
`;var i=zH(e,t);return i}function Fve(e){var t="",i,s="";if(e==null||e["!ref"]==null)return[];var n=zi(e["!ref"]),r="",o=[],a,l=[],u=Array.isArray(e);for(a=n.s.c;a<=n.e.c;++a)o[a]=ps(a);for(var h=n.s.r;h<=n.e.r;++h)for(r=Hs(h),a=n.s.c;a<=n.e.c;++a)if(t=o[a]+r,i=u?(e[h]||[])[a]:e[t],s="",i!==void 0){if(i.F!=null){if(t=i.F,!i.f)continue;s=i.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(i.f!=null)s=i.f;else{if(i.t=="z")continue;if(i.t=="n"&&i.v!=null)s=""+i.v;else if(i.t=="b")s=i.v?"TRUE":"FALSE";else if(i.w!==void 0)s="'"+i.w;else{if(i.v===void 0)continue;i.t=="s"?s="'"+i.v:s=""+i.v}}l[l.length]=t+"="+s}return l}function HH(e,t,i){var s=i||{},n=+!s.skipHeader,r=e||{},o=0,a=0;if(r&&s.origin!=null)if(typeof s.origin=="number")o=s.origin;else{var l=typeof s.origin=="string"?Tn(s.origin):s.origin;o=l.r,a=l.c}var u,h={s:{c:0,r:0},e:{c:a,r:o+t.length-1+n}};if(r["!ref"]){var f=zi(r["!ref"]);h.e.c=Math.max(h.e.c,f.e.c),h.e.r=Math.max(h.e.r,f.e.r),o==-1&&(o=f.e.r+1,h.e.r=o+t.length-1+n)}else o==-1&&(o=0,h.e.r=t.length-1+n);var g=s.header||[],m=0;t.forEach(function(C,x){la(C).forEach(function(b){(m=g.indexOf(b))==-1&&(g[m=g.length]=b);var w=C[b],M="z",A="",T=yt({c:a+m,r:o+x+n});u=dm(r,T),w&&typeof w=="object"&&!(w instanceof Date)?r[T]=w:(typeof w=="number"?M="n":typeof w=="boolean"?M="b":typeof w=="string"?M="s":w instanceof Date?(M="d",s.cellDates||(M="n",w=kn(w)),A=s.dateNF||Ct[14]):w===null&&s.nullError&&(M="e",w=0),u?(u.t=M,u.v=w,delete u.w,delete u.R,A&&(u.z=A)):r[T]=u={t:M,v:w},A&&(u.z=A))})}),h.e.c=Math.max(h.e.c,a+g.length-1);var y=Hs(o);if(n)for(m=0;m<g.length;++m)r[ps(m+a)+y]={t:"s",v:g[m]};return r["!ref"]=Ot(h),r}function Pve(e,t){return HH(null,e,t)}function dm(e,t,i){if(typeof t=="string"){if(Array.isArray(e)){var s=Tn(t);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?dm(e,yt(t)):dm(e,yt({r:t,c:i||0}))}function Ove(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var i=e.SheetNames.indexOf(t);if(i>-1)return i;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function RT(){return{SheetNames:[],Sheets:{}}}function kT(e,t,i,s){var n=1;if(!i)for(;n<=65535&&e.SheetNames.indexOf(i="Sheet"+n)!=-1;++n,i=void 0);if(!i||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(i)>=0){var r=i.match(/(^.*?)(\d+)$/);n=r&&+r[2]||0;var o=r&&r[1]||i;for(++n;n<=65535&&e.SheetNames.indexOf(i=o+n)!=-1;++n);}if(Cye(i),e.SheetNames.indexOf(i)>=0)throw new Error("Worksheet with name |"+i+"| already exists!");return e.SheetNames.push(i),e.Sheets[i]=t,i}function Nve(e,t,i){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=Ove(e,t);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),i){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+i)}e.Workbook.Sheets[s].Hidden=i}function _ve(e,t){return e.z=t,e}function VH(e,t,i){return t?(e.l={Target:t},i&&(e.l.Tooltip=i)):delete e.l,e}function Bve(e,t,i){return VH(e,"#"+t,i)}function Gve(e,t,i){e.c||(e.c=[]),e.c.push({t,a:i||"SheetJS"})}function zve(e,t,i,s){for(var n=typeof t!="string"?t:zi(t),r=typeof t=="string"?t:Ot(t),o=n.s.r;o<=n.e.r;++o)for(var a=n.s.c;a<=n.e.c;++a){var l=dm(e,o,a);l.t="n",l.F=r,delete l.v,o==n.s.r&&a==n.s.c&&(l.f=i,s&&(l.D=!0))}return e}var Hve={encode_col:ps,encode_row:Hs,encode_cell:yt,encode_range:Ot,decode_col:pT,decode_row:gT,split_cell:Qhe,decode_cell:Tn,decode_range:Ff,format_cell:cl,sheet_add_aoa:Yz,sheet_add_json:HH,sheet_add_dom:NH,aoa_to_sheet:Pf,json_to_sheet:Pve,table_to_sheet:_H,table_to_book:sve,sheet_to_csv:zH,sheet_to_txt:Lve,sheet_to_json:fD,sheet_to_html:ive,sheet_to_formulae:Fve,sheet_to_row_object_array:fD,sheet_get_cell:dm,book_new:RT,book_append_sheet:kT,book_set_sheet_visibility:Nve,cell_set_number_format:_ve,cell_set_hyperlink:VH,cell_set_internal_link:Bve,cell_add_comment:Gve,sheet_set_array_formula:zve,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function Vve({size:e=4,thickness:t=2}){return Ke.jsx("div",{className:`inline-block bg-blue-700 animate-spin rounded-full border-solid border-current border-r-transparent align-[-0.125em] 
                h-${e} w-${e} border-${t}`,role:"status",children:Ke.jsx("svg",{className:"mr-3 size-5 animate-spin ...",viewBox:"0 0 24 24"})})}const Wve=()=>{const e=sh(),[t,i]=B.useState(null),[s,n]=B.useState(!1),r=l=>{var h;const u=(h=l.target.files)==null?void 0:h[0];if(u){if(!u.name.endsWith(".xls")&&!u.name.endsWith(".xlsx")){alert("Please upload a valid Excel file (.xls or .xlsx)");return}i(u)}},o=()=>{if(!t){alert("No file selected! Please choose an Excel file first.");return}n(!0);const l=new FileReader;l.readAsBinaryString(t),l.onload=u=>{var g;if(!((g=u.target)!=null&&g.result)){n(!1),alert("Error reading the file. Please try again.");return}const h=u.target.result,f=dD(h,{type:"binary"});f.SheetNames.forEach(m=>{const y=f.Sheets[m],C=Hve.sheet_to_json(y,{header:1});if(m==="Planning"||m==="Calculations"){if(C.length>1){const x=C[0],b=C.slice(1);let w={};b.forEach(M=>{let A={},T=`${M[0]}_${M[1]}_${M[2]}`;x.forEach((k,R)=>{R===0&&k==="Seq No."?A.Seq=M[R]||null:A[k]=M[R]||null}),T&&(w[T]=A)}),e(q2({sheetName:m,data:w}))}}else if(C.length>1){const x=C[0],w=C.slice(1).map(M=>{let A={};return x.forEach((T,k)=>{k==0&&T=="Seq No."?A.Seq=M[k]||null:A[T]=M[k]||null}),A});e(q2({sheetName:m,data:w}))}}),n(!1),alert("File processed successfully!"),a()},l.onerror=()=>{n(!1),alert("Error reading the file. Please try again.")}};function a(){e(az(!1))}return Ke.jsxs("div",{className:" w-100 h-100 r-0 fixed z-10 right-1 top-14 max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700",children:[Ke.jsx("div",{className:"absolute right-3 top-3 cursor-pointer",onClick:a,children:Ke.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:Ke.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})})}),Ke.jsx("h5",{className:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Upload Excel"}),Ke.jsx("input",{className:`block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 \r
                        file:rounded-lg file:border-0 file:text-xm file:font-medium cursor-pointer \r
                        file:bg-stone-600 file:text-white hover:file:bg-stone-700 mb-2`,type:"file",accept:".xls,.xlsx",onChange:r}),Ke.jsx(nl,{onClick:()=>o(),disabled:!t||s,children:s?Ke.jsx(Vve,{size:4,thickness:2}):"Process File"})]})},Uve="/assets/gsynergy_logo-D8156hUH.svg";function jve(){const e=sh(),t=rf(s=>s.excel.open),i=()=>{e(az(!0))};return Ke.jsxs(Ke.Fragment,{children:[Ke.jsxs("header",{className:"bg-white",children:[Ke.jsx("link",{rel:"icon",type:"image/svg+xml",href:""}),Ke.jsx("img",{src:Uve,alt:"GSynergy Logo",height:"40px"}),Ke.jsx("text",{children:"Data Viewer"}),Ke.jsxs("section",{className:"header_rightsection",children:[Ke.jsx(nl,{color:`bg-stone-200 ${AC} hover:bg-stone-400 transition `,onClick:i,children:"Upload file"}),Ke.jsx(nl,{color:`bg-blue-200  ${AC} hover:bg-blue-400 transition`,children:"login"})]})]}),t&&Ke.jsx(Wve,{})]})}const Yve=({onNavClick:e})=>{const[t,i]=B.useState(Z2[0].id);return Ke.jsx("nav",{className:"",children:Z2.map(s=>Ke.jsxs("div",{className:`${s.id==t?"font-bold text-stone-600":"text-stone-500"} transition flex justify-left gap-5 mb-3 `,onClick:()=>{i(s.id),e(s.component)},children:[Ke.jsx("img",{src:s.image,alt:s.alt,width:23,height:5}),Ke.jsx("span",{children:s.name})]},s.id))})};function Kve(){const[e,t]=B.useState(Ke.jsx(e4,{}));function i(s){t(Ke.jsx(s,{}))}return Ke.jsxs("section",{className:"mainSection",children:[Ke.jsx(Yve,{onNavClick:i}),Ke.jsxs("main",{children:[e," "]})]})}function $ve(){return Ke.jsxs(Ke.Fragment,{children:[Ke.jsx(jve,{}),Ke.jsx(Kve,{})]})}i5.createRoot(document.getElementById("root")).render(Ke.jsx(B.StrictMode,{children:Ke.jsx(y5,{store:Gue,children:Ke.jsx($ve,{})})}));
